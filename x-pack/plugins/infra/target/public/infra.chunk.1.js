/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window["infra_bundle_jsonpfunction"]=window["infra_bundle_jsonpfunction"]||[]).push([[1],{102:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var tslib_1=__webpack_require__(70);var useEffectOnce_1=tslib_1.__importDefault(__webpack_require__(123));var useMount=function(fn){useEffectOnce_1.default((function(){fn()}))};exports.default=useMount},109:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LogPositionState}));__webpack_require__.d(__webpack_exports__,"b",(function(){return WithLogPositionUrlState}));__webpack_require__.d(__webpack_exports__,"c",(function(){return replaceLogPositionInQueryString}));var external_kbnSharedDeps_React_=__webpack_require__(1);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var constate_cjs=__webpack_require__(83);var constate_cjs_default=__webpack_require__.n(constate_cjs);var useSetState=__webpack_require__(221);var useSetState_default=__webpack_require__.n(useSetState);var useInterval=__webpack_require__(135);var useInterval_default=__webpack_require__.n(useInterval);var datemath=__webpack_require__(24);var use_kibana_timefilter_time=__webpack_require__(111);const DESIRED_BUFFER_PAGES=2;const useVisibleMidpoint=(middleKey,targetPosition)=>{const[store,update]=Object(external_kbnSharedDeps_React_["useState"])({middleKey:middleKey,targetPosition:targetPosition,currentValue:middleKey||targetPosition});Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(middleKey!==store.middleKey){update({targetPosition:targetPosition,middleKey:middleKey,currentValue:middleKey})}else if(targetPosition!==store.targetPosition){update({targetPosition:targetPosition,middleKey:middleKey,currentValue:targetPosition})}},[middleKey,targetPosition]);return store.currentValue};const TIME_DEFAULTS={from:"now-1d",to:"now"};const STREAMING_INTERVAL=5e3;const useLogPositionState=()=>{const[getTime,setTime]=Object(use_kibana_timefilter_time["a"])(TIME_DEFAULTS);const{from:start,to:end}=getTime();const DEFAULT_DATE_RANGE={startDateExpression:start,endDateExpression:end};const[isInitialized,setInitialized]=Object(external_kbnSharedDeps_React_["useState"])(false);const initialize=Object(external_kbnSharedDeps_React_["useCallback"])(()=>{setInitialized(true)},[setInitialized]);const[targetPosition,jumpToTargetPosition]=Object(external_kbnSharedDeps_React_["useState"])(null);const[isStreaming,setIsStreaming]=Object(external_kbnSharedDeps_React_["useState"])(false);const[visiblePositions,reportVisiblePositions]=Object(external_kbnSharedDeps_React_["useState"])({endKey:null,middleKey:null,startKey:null,pagesBeforeStart:Infinity,pagesAfterEnd:Infinity});const[dateRange,setDateRange]=useSetState_default()({...DEFAULT_DATE_RANGE,startTimestamp:Object(datemath["a"])(DEFAULT_DATE_RANGE.startDateExpression),endTimestamp:Object(datemath["a"])(DEFAULT_DATE_RANGE.endDateExpression,"up"),timestampsLastUpdate:Date.now(),lastCompleteDateRangeExpressionUpdate:Date.now()});Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(isInitialized){if(TIME_DEFAULTS.from!==dateRange.startDateExpression||TIME_DEFAULTS.to!==dateRange.endDateExpression){setTime({from:dateRange.startDateExpression,to:dateRange.endDateExpression})}}},[isInitialized,dateRange.startDateExpression,dateRange.endDateExpression,setTime]);const{startKey:startKey,middleKey:middleKey,endKey:endKey,pagesBeforeStart:pagesBeforeStart,pagesAfterEnd:pagesAfterEnd}=visiblePositions;const visibleMidpoint=useVisibleMidpoint(middleKey,targetPosition);const visibleTimeInterval=Object(external_kbnSharedDeps_React_["useMemo"])(()=>startKey&&endKey?{start:startKey.time,end:endKey.time}:null,[startKey,endKey]);const updateDateRange=Object(external_kbnSharedDeps_React_["useCallback"])(newDateRange=>{if(!("startDateExpression"in newDateRange)&&!("endDateExpression"in newDateRange)){return}const nextStartDateExpression=newDateRange.startDateExpression||dateRange.startDateExpression;const nextEndDateExpression=newDateRange.endDateExpression||dateRange.endDateExpression;if(!Object(datemath["c"])(nextStartDateExpression)||!Object(datemath["c"])(nextEndDateExpression)){return}const nextStartTimestamp=Object(datemath["a"])(nextStartDateExpression);const nextEndTimestamp=Object(datemath["a"])(nextEndDateExpression,"up");if(targetPosition&&(nextStartTimestamp>targetPosition.time||nextEndTimestamp<targetPosition.time)){jumpToTargetPosition(null)}setDateRange(prevState=>({...newDateRange,startTimestamp:nextStartTimestamp,endTimestamp:nextEndTimestamp,timestampsLastUpdate:Date.now(),lastCompleteDateRangeExpressionUpdate:"startDateExpression"in newDateRange&&"endDateExpression"in newDateRange?Date.now():prevState.lastCompleteDateRangeExpressionUpdate}))},[setDateRange,dateRange,targetPosition]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(dateRange.endDateExpression!=="now"){return}if(visiblePositions.pagesAfterEnd<=DESIRED_BUFFER_PAGES){setDateRange({endTimestamp:Object(datemath["a"])(dateRange.endDateExpression,"up"),timestampsLastUpdate:Date.now()})}},[dateRange.endDateExpression,visiblePositions,setDateRange]);const startLiveStreaming=Object(external_kbnSharedDeps_React_["useCallback"])(()=>{setIsStreaming(true);jumpToTargetPosition(null);updateDateRange({startDateExpression:"now-1d",endDateExpression:"now"})},[updateDateRange]);const stopLiveStreaming=Object(external_kbnSharedDeps_React_["useCallback"])(()=>{setIsStreaming(false)},[]);useInterval_default()(()=>updateDateRange({startDateExpression:"now-1d",endDateExpression:"now"}),isStreaming?STREAMING_INTERVAL:null);const state={isInitialized:isInitialized,targetPosition:targetPosition,isStreaming:isStreaming,firstVisiblePosition:startKey,pagesBeforeStart:pagesBeforeStart,pagesAfterEnd:pagesAfterEnd,visibleMidpoint:visibleMidpoint,visibleMidpointTime:visibleMidpoint?visibleMidpoint.time:null,visibleTimeInterval:visibleTimeInterval,...dateRange};const callbacks={initialize:initialize,jumpToTargetPosition:jumpToTargetPosition,jumpToTargetPositionTime:Object(external_kbnSharedDeps_React_["useCallback"])(time=>jumpToTargetPosition({tiebreaker:0,time:time}),[jumpToTargetPosition]),reportVisiblePositions:reportVisiblePositions,startLiveStreaming:startLiveStreaming,stopLiveStreaming:stopLiveStreaming,updateDateRange:updateDateRange};return{...state,...callbacks}};const LogPositionState=constate_cjs_default()(useLogPositionState);var common_time=__webpack_require__(211);var url_state=__webpack_require__(110);const ONE_HOUR=36e5;const WithLogPositionUrlState=()=>{const{visibleMidpoint:visibleMidpoint,isStreaming:isStreaming,jumpToTargetPosition:jumpToTargetPosition,startLiveStreaming:startLiveStreaming,stopLiveStreaming:stopLiveStreaming,startDateExpression:startDateExpression,endDateExpression:endDateExpression,updateDateRange:updateDateRange,initialize:initialize}=Object(external_kbnSharedDeps_React_["useContext"])(LogPositionState.Context);const urlState=Object(external_kbnSharedDeps_React_["useMemo"])(()=>({position:visibleMidpoint?Object(common_time["c"])(visibleMidpoint):null,streamLive:isStreaming,start:startDateExpression,end:endDateExpression}),[visibleMidpoint,isStreaming,startDateExpression,endDateExpression]);return external_kbnSharedDeps_React_default.a.createElement(url_state["a"],{urlState:urlState,urlStateKey:"logPosition",mapToUrlState:mapToUrlState,onChange:newUrlState=>{if(!newUrlState){return}if(newUrlState.start||newUrlState.end){updateDateRange({startDateExpression:newUrlState.start,endDateExpression:newUrlState.end})}if(newUrlState.position){jumpToTargetPosition(newUrlState.position)}if(newUrlState.streamLive){startLiveStreaming()}else if(typeof newUrlState.streamLive!=="undefined"&&!newUrlState.streamLive){stopLiveStreaming()}},onInitialize:initialUrlState=>{if(initialUrlState){const initialPosition=initialUrlState.position;let initialStartDateExpression=initialUrlState.start;let initialEndDateExpression=initialUrlState.end;if(!initialPosition){initialStartDateExpression=initialStartDateExpression||"now-1d";initialEndDateExpression=initialEndDateExpression||"now"}else{const initialStartTimestamp=initialStartDateExpression?Object(datemath["a"])(initialStartDateExpression):undefined;const initialEndTimestamp=initialEndDateExpression?Object(datemath["a"])(initialEndDateExpression,"up"):undefined;if(!initialStartTimestamp||initialStartTimestamp>initialPosition.time){initialStartDateExpression=new Date(initialPosition.time-ONE_HOUR).toISOString()}if(!initialEndTimestamp||initialEndTimestamp<initialPosition.time){initialEndDateExpression=new Date(initialPosition.time+ONE_HOUR).toISOString()}jumpToTargetPosition(initialPosition)}if(initialStartDateExpression||initialEndDateExpression){updateDateRange({startDateExpression:initialStartDateExpression,endDateExpression:initialEndDateExpression})}if(initialUrlState.streamLive){startLiveStreaming()}}initialize()}})};const mapToUrlState=value=>value?{position:mapToPositionUrlState(value.position),streamLive:mapToStreamLiveUrlState(value.streamLive),start:mapToDate(value.start),end:mapToDate(value.end)}:undefined;const mapToPositionUrlState=value=>value&&typeof value.time==="number"&&typeof value.tiebreaker==="number"?Object(common_time["c"])(value):undefined;const mapToStreamLiveUrlState=value=>typeof value==="boolean"?value:false;const mapToDate=value=>Object(datemath["c"])(value)?value:undefined;const replaceLogPositionInQueryString=time=>Number.isNaN(time)?value=>value:Object(url_state["d"])("logPosition",{position:{time:time,tiebreaker:0},end:new Date(time+ONE_HOUR).toISOString(),start:new Date(time-ONE_HOUR).toISOString(),streamLive:false})},110:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return UrlStateContainer}));__webpack_require__.d(__webpack_exports__,"c",(function(){return getQueryStringFromLocation}));__webpack_require__.d(__webpack_exports__,"b",(function(){return getParamFromQueryString}));__webpack_require__.d(__webpack_exports__,"d",(function(){return replaceStateKeyInQueryString}));var query_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(34);var query_string__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(query_string__WEBPACK_IMPORTED_MODULE_0__);var lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(21);var lodash__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1);var react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);var react_router_dom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(67);var react_router_dom__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react_router_dom__WEBPACK_IMPORTED_MODULE_3__);var rison_node__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(23);var rison_node__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(rison_node__WEBPACK_IMPORTED_MODULE_4__);var _src_plugins_kibana_utils_public__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(33);var _src_plugins_kibana_utils_public__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_src_plugins_kibana_utils_public__WEBPACK_IMPORTED_MODULE_5__);function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class UrlStateContainerLifecycle extends react__WEBPACK_IMPORTED_MODULE_2___default.a.Component{constructor(...args){super(...args);_defineProperty(this,"replaceStateInLocation",Object(lodash__WEBPACK_IMPORTED_MODULE_1__["throttle"])(urlState=>{const{history:history,location:location,urlStateKey:urlStateKey}=this.props;const newLocation=replaceQueryStringInLocation(location,replaceStateKeyInQueryString(urlStateKey,urlState)(getQueryStringFromLocation(location)));if(newLocation!==location){history.replace(newLocation)}},1e3));_defineProperty(this,"handleInitialize",location=>{const{onInitialize:onInitialize,mapToUrlState:mapToUrlState,urlStateKey:urlStateKey,urlState:urlState}=this.props;if(!onInitialize||!mapToUrlState){return}const newUrlStateString=getParamFromQueryString(getQueryStringFromLocation(location),urlStateKey);const newUrlState=mapToUrlState(decodeRisonUrlState(newUrlStateString));if(!newUrlState&&this.props.populateWithInitialState){this.replaceStateInLocation(urlState);onInitialize(urlState)}else{onInitialize(newUrlState)}});_defineProperty(this,"handleLocationChange",(prevLocation,newLocation)=>{const{onChange:onChange,mapToUrlState:mapToUrlState,urlStateKey:urlStateKey}=this.props;if(!onChange||!mapToUrlState){return}const previousUrlStateString=getParamFromQueryString(getQueryStringFromLocation(prevLocation),urlStateKey);const newUrlStateString=getParamFromQueryString(getQueryStringFromLocation(newLocation),urlStateKey);if(previousUrlStateString!==newUrlStateString){const previousUrlState=mapToUrlState(decodeRisonUrlState(previousUrlStateString));const newUrlState=mapToUrlState(decodeRisonUrlState(newUrlStateString));if(typeof newUrlState!=="undefined"){onChange(newUrlState,previousUrlState)}}})}render(){return null}componentDidUpdate({location:prevLocation,urlState:prevUrlState}){const{history:history,location:location,urlState:urlState}=this.props;if(urlState!==prevUrlState){this.replaceStateInLocation(urlState)}if(history.action==="POP"&&location!==prevLocation){this.handleLocationChange(prevLocation,location)}}componentDidMount(){const{location:location}=this.props;this.handleInitialize(location)}}const UrlStateContainer=props=>react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["Route"],null,({history:history,location:location})=>react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(UrlStateContainerLifecycle,_extends({history:history,location:location},props)));const decodeRisonUrlState=value=>{try{return value?Object(rison_node__WEBPACK_IMPORTED_MODULE_4__["decode"])(value):undefined}catch(error){if(error instanceof Error&&error.message.startsWith("rison decoder error")){return{}}throw error}};const encodeRisonUrlState=state=>Object(rison_node__WEBPACK_IMPORTED_MODULE_4__["encode"])(state);const getQueryStringFromLocation=location=>location.search.substring(1);const getParamFromQueryString=(queryString,key)=>{const parsedQueryString=Object(query_string__WEBPACK_IMPORTED_MODULE_0__["parse"])(queryString,{sort:false});const queryParam=parsedQueryString[key];return Array.isArray(queryParam)?queryParam[0]:queryParam};const replaceStateKeyInQueryString=(stateKey,urlState)=>queryString=>{const previousQueryValues=Object(query_string__WEBPACK_IMPORTED_MODULE_0__["parse"])(queryString,{sort:false});const newValue=typeof urlState==="undefined"?previousQueryValues:{...previousQueryValues,[stateKey]:encodeRisonUrlState(urlState)};return Object(query_string__WEBPACK_IMPORTED_MODULE_0__["stringify"])(_src_plugins_kibana_utils_public__WEBPACK_IMPORTED_MODULE_5__["url"].encodeQuery(newValue),{sort:false,encode:false})};const replaceQueryStringInLocation=(location,queryString)=>{if(queryString===getQueryStringFromLocation(location)){return location}else{return{...location,search:`?${queryString}`}}}},111:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useKibanaTimefilterTime}));__webpack_require__.d(__webpack_exports__,"b",(function(){return useSyncKibanaTimeFilterTime}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var react_use_lib_useUpdateEffect__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(181);var react_use_lib_useUpdateEffect__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_use_lib_useUpdateEffect__WEBPACK_IMPORTED_MODULE_1__);var react_use_lib_useMount__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(102);var react_use_lib_useMount__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_use_lib_useMount__WEBPACK_IMPORTED_MODULE_2__);var _use_kibana__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(28);const useKibanaTimefilterTime=({from:fromDefault,to:toDefault})=>{const{services:services}=Object(_use_kibana__WEBPACK_IMPORTED_MODULE_3__["b"])();const getTime=Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(()=>{const timefilterService=services.data.query.timefilter.timefilter;return timefilterService.isTimeTouched()?timefilterService.getTime():{from:fromDefault,to:toDefault}},[services.data.query.timefilter.timefilter,fromDefault,toDefault]);return[getTime,services.data.query.timefilter.timefilter.setTime]};const useSyncKibanaTimeFilterTime=(defaults,currentTimeRange,setTimeRange)=>{const{services:services}=Object(_use_kibana__WEBPACK_IMPORTED_MODULE_3__["b"])();const[getTime,setTime]=useKibanaTimefilterTime(defaults);react_use_lib_useMount__WEBPACK_IMPORTED_MODULE_2___default()(()=>{if(defaults.from!==currentTimeRange.from||defaults.to!==currentTimeRange.to){setTime({from:currentTimeRange.from,to:currentTimeRange.to})}});react_use_lib_useUpdateEffect__WEBPACK_IMPORTED_MODULE_1___default()(()=>{setTime({from:currentTimeRange.from,to:currentTimeRange.to})},[currentTimeRange.from,currentTimeRange.to,setTime]);Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(()=>{const sub=services.data.query.timefilter.timefilter.getTimeUpdate$().subscribe(()=>{if(setTimeRange){const timeRange=getTime();setTimeRange(timeRange)}});return()=>sub.unsubscribe()},[getTime,setTimeRange,services.data.query.timefilter.timefilter])}},117:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return useObservable}));__webpack_require__.d(__webpack_exports__,"c",(function(){return useObservableState}));__webpack_require__.d(__webpack_exports__,"e",(function(){return useSubscription}));__webpack_require__.d(__webpack_exports__,"d",(function(){return useOperator}));__webpack_require__.d(__webpack_exports__,"a",(function(){return tapUnsubscribe}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(74);var rxjs__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(rxjs__WEBPACK_IMPORTED_MODULE_1__);var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(72);var rxjs_operators__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__);const useLatest=value=>{const valueRef=Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(value);valueRef.current=value;return valueRef};const useObservable=(createObservableOnce,inputValues)=>{const[inputValues$]=Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(()=>new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"](inputValues));const[output$]=Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(()=>createObservableOnce(inputValues$));Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(()=>{inputValues$.next(inputValues)},inputValues);return output$};const useObservableState=(state$,initialState)=>{const[latestValue,setLatestValue]=Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(initialState);const[latestError,setLatestError]=Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])();useSubscription(state$,{next:setLatestValue,error:setLatestError});return{latestValue:latestValue,latestError:latestError}};const useSubscription=(input$,{next:next,error:error,complete:complete,unsubscribe:unsubscribe})=>{const latestSubscription=Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])();const latestNext=useLatest(next);const latestError=useLatest(error);const latestComplete=useLatest(complete);const latestUnsubscribe=useLatest(unsubscribe);Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(()=>{const fixedUnsubscribe=latestUnsubscribe.current;const subscription=input$.subscribe({next:value=>{var _latestNext$current;return(_latestNext$current=latestNext.current)===null||_latestNext$current===void 0?void 0:_latestNext$current.call(latestNext,value)},error:value=>{var _latestError$current;return(_latestError$current=latestError.current)===null||_latestError$current===void 0?void 0:_latestError$current.call(latestError,value)},complete:()=>{var _latestComplete$curre;return(_latestComplete$curre=latestComplete.current)===null||_latestComplete$curre===void 0?void 0:_latestComplete$curre.call(latestComplete)}});latestSubscription.current=subscription;return()=>{subscription.unsubscribe();fixedUnsubscribe===null||fixedUnsubscribe===void 0?void 0:fixedUnsubscribe()}},[input$,latestNext,latestError,latestComplete,latestUnsubscribe]);return latestSubscription.current};const useOperator=(input$,operator)=>{const latestOperator=useLatest(operator);return useObservable(inputs$=>inputs$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["switchMap"])(([currentInput$])=>latestOperator.current(currentInput$))),[input$])};const tapUnsubscribe=onUnsubscribe=>source$=>new rxjs__WEBPACK_IMPORTED_MODULE_1__["Observable"](subscriber=>{const subscription=source$.subscribe({next:value=>subscriber.next(value),error:error=>subscriber.error(error),complete:()=>subscriber.complete()});return()=>{onUnsubscribe();subscription.unsubscribe()}})},118:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useKibanaUiSetting}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3);var _src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_1__);function useKibanaUiSetting(key,defaultValue){const[uiSetting,setUiSetting]=Object(_src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_1__["useUiSetting$"])(key);const uiSettingValue=Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(()=>uiSetting?uiSetting:defaultValue,[uiSetting,defaultValue]);return[uiSettingValue,setUiSetting]}},119:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AutoSizer}));var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(21);var lodash__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);var react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);var resize_observer_polyfill__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(388);var resize_observer_polyfill__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(resize_observer_polyfill__WEBPACK_IMPORTED_MODULE_2__);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class AutoSizer extends react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent{constructor(props){super(props);_defineProperty(this,"element",null);_defineProperty(this,"resizeObserver",null);_defineProperty(this,"windowWidth",-1);_defineProperty(this,"windowHeight",-1);_defineProperty(this,"state",{boundsMeasurement:{height:void 0,width:void 0},contentMeasurement:{height:void 0,width:void 0}});_defineProperty(this,"measure",entry=>{if(!this.element){return}const{content:content=true,bounds:bounds=false}=this.props;const{boundsMeasurement:previousBoundsMeasurement,contentMeasurement:previousContentMeasurement}=this.state;const boundsRect=bounds?this.element.getBoundingClientRect():null;const boundsMeasurement=boundsRect?{height:boundsRect.height,width:boundsRect.width}:previousBoundsMeasurement;if(this.props.detectAnyWindowResize&&boundsMeasurement){if(boundsMeasurement.width&&this.windowWidth!==-1&&this.windowWidth>window.innerWidth){const gap=this.windowWidth-window.innerWidth;boundsMeasurement.width=boundsMeasurement.width-gap}if(boundsMeasurement.height&&this.windowHeight!==-1&&this.windowHeight>window.innerHeight){const gap=this.windowHeight-window.innerHeight;boundsMeasurement.height=boundsMeasurement.height-gap}}this.windowWidth=window.innerWidth;this.windowHeight=window.innerHeight;const contentRect=content&&entry?entry.contentRect:null;const contentMeasurement=contentRect&&entry?{height:entry.contentRect.height,width:entry.contentRect.width}:previousContentMeasurement;if(Object(lodash__WEBPACK_IMPORTED_MODULE_0__["isEqual"])(boundsMeasurement,previousBoundsMeasurement)&&Object(lodash__WEBPACK_IMPORTED_MODULE_0__["isEqual"])(contentMeasurement,previousContentMeasurement)){return}requestAnimationFrame(()=>{if(!this.resizeObserver){return}this.setState({boundsMeasurement:boundsMeasurement,contentMeasurement:contentMeasurement});if(this.props.onResize){this.props.onResize({bounds:boundsMeasurement,content:contentMeasurement})}})});_defineProperty(this,"updateMeasurement",()=>requestAnimationFrame(()=>{const{detectAnyWindowResize:detectAnyWindowResize}=this.props;if(!detectAnyWindowResize)return;switch(detectAnyWindowResize){case"height":if(this.windowHeight!==window.innerHeight){this.measure(null)}break;case"width":if(this.windowWidth!==window.innerWidth){this.measure(null)}break;default:this.measure(null)}}));_defineProperty(this,"storeRef",element=>{if(this.element&&this.resizeObserver){this.resizeObserver.unobserve(this.element)}if(element&&this.resizeObserver){this.resizeObserver.observe(element)}this.element=element});if(this.props.detectAnyWindowResize){window.addEventListener("resize",this.updateMeasurement)}this.resizeObserver=new resize_observer_polyfill__WEBPACK_IMPORTED_MODULE_2___default.a(entries=>{entries.forEach(entry=>{if(entry.target===this.element){this.measure(entry)}})})}componentWillUnmount(){if(this.resizeObserver){this.resizeObserver.disconnect();this.resizeObserver=null}if(this.props.detectAnyWindowResize){window.removeEventListener("resize",this.updateMeasurement)}}render(){const{children:children}=this.props;const{boundsMeasurement:boundsMeasurement,contentMeasurement:contentMeasurement}=this.state;return children({bounds:boundsMeasurement,content:contentMeasurement,measureRef:this.storeRef})}}},123:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(1);var useEffectOnce=function(effect){react_1.useEffect(effect,[])};exports.default=useEffectOnce},133:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return logEntryContextRT}));__webpack_require__.d(__webpack_exports__,"e",(function(){return logEntryFieldRT}));__webpack_require__.d(__webpack_exports__,"f",(function(){return logEntryRT}));__webpack_require__.d(__webpack_exports__,"d",(function(){return logEntryCursorRT}));__webpack_require__.d(__webpack_exports__,"b",(function(){return logEntryBeforeCursorRT}));__webpack_require__.d(__webpack_exports__,"a",(function(){return logEntryAfterCursorRT}));var lib=__webpack_require__(0);var typed_json=__webpack_require__(156);var runtime_types=__webpack_require__(13);const logEntryCursorRT=lib["type"]({time:lib["number"],tiebreaker:lib["number"]});const logEntryBeforeCursorRT=lib["type"]({before:lib["union"]([logEntryCursorRT,lib["literal"]("last")])});const logEntryAfterCursorRT=lib["type"]({after:lib["union"]([logEntryCursorRT,lib["literal"]("first")])});const logEntryAroundCursorRT=lib["type"]({center:logEntryCursorRT});const getLogEntryCursorFromHit=hit=>Object(runtime_types["b"])(logEntryCursorRT)({time:hit.sort[0],tiebreaker:hit.sort[1]});const logMessageConstantPartRT=lib["type"]({constant:lib["string"]});const logMessageFieldPartRT=lib["type"]({field:lib["string"],value:typed_json["a"],highlights:lib["array"](lib["string"])});const logMessagePartRT=lib["union"]([logMessageConstantPartRT,logMessageFieldPartRT]);const logTimestampColumnRT=lib["type"]({columnId:lib["string"],timestamp:lib["number"]});const logFieldColumnRT=lib["type"]({columnId:lib["string"],field:lib["string"],value:typed_json["a"],highlights:lib["array"](lib["string"])});const logMessageColumnRT=lib["type"]({columnId:lib["string"],message:lib["array"](logMessagePartRT)});const logColumnRT=lib["union"]([logTimestampColumnRT,logFieldColumnRT,logMessageColumnRT]);const logEntryContextRT=lib["union"]([lib["type"]({}),lib["type"]({"container.id":lib["string"]}),lib["type"]({"host.name":lib["string"],"log.file.path":lib["string"]})]);const logEntryFieldRT=lib["type"]({field:lib["string"],value:typed_json["a"]});const logEntryRT=lib["type"]({id:lib["string"],index:lib["string"],cursor:logEntryCursorRT,columns:lib["array"](logColumnRT),context:logEntryContextRT})},135:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(1);var useInterval=function(callback,delay){var savedCallback=react_1.useRef((function(){}));react_1.useEffect((function(){savedCallback.current=callback}));react_1.useEffect((function(){if(delay!==null){var interval_1=setInterval((function(){return savedCallback.current()}),delay||0);return function(){return clearInterval(interval_1)}}return undefined}),[delay])};exports.default=useInterval},136:function(module,exports,__webpack_require__){(function(global,factory){true?factory(exports):undefined})(this,(function(exports){"use strict";function ascending(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function bisector(compare){if(compare.length===1)compare=ascendingComparator(compare);return{left:function(a,x,lo,hi){if(lo==null)lo=0;if(hi==null)hi=a.length;while(lo<hi){var mid=lo+hi>>>1;if(compare(a[mid],x)<0)lo=mid+1;else hi=mid}return lo},right:function(a,x,lo,hi){if(lo==null)lo=0;if(hi==null)hi=a.length;while(lo<hi){var mid=lo+hi>>>1;if(compare(a[mid],x)>0)hi=mid;else lo=mid+1}return lo}}}function ascendingComparator(f){return function(d,x){return ascending(f(d),x)}}var ascendingBisect=bisector(ascending);var bisectRight=ascendingBisect.right;var bisectLeft=ascendingBisect.left;function pairs(array,f){if(f==null)f=pair;var i=0,n=array.length-1,p=array[0],pairs=new Array(n<0?0:n);while(i<n)pairs[i]=f(p,p=array[++i]);return pairs}function pair(a,b){return[a,b]}function cross(values0,values1,reduce){var n0=values0.length,n1=values1.length,values=new Array(n0*n1),i0,i1,i,value0;if(reduce==null)reduce=pair;for(i0=i=0;i0<n0;++i0){for(value0=values0[i0],i1=0;i1<n1;++i1,++i){values[i]=reduce(value0,values1[i1])}}return values}function descending(a,b){return b<a?-1:b>a?1:b>=a?0:NaN}function number(x){return x===null?NaN:+x}function variance(values,valueof){var n=values.length,m=0,i=-1,mean=0,value,delta,sum=0;if(valueof==null){while(++i<n){if(!isNaN(value=number(values[i]))){delta=value-mean;mean+=delta/++m;sum+=delta*(value-mean)}}}else{while(++i<n){if(!isNaN(value=number(valueof(values[i],i,values)))){delta=value-mean;mean+=delta/++m;sum+=delta*(value-mean)}}}if(m>1)return sum/(m-1)}function deviation(array,f){var v=variance(array,f);return v?Math.sqrt(v):v}function extent(values,valueof){var n=values.length,i=-1,value,min,max;if(valueof==null){while(++i<n){if((value=values[i])!=null&&value>=value){min=max=value;while(++i<n){if((value=values[i])!=null){if(min>value)min=value;if(max<value)max=value}}}}}else{while(++i<n){if((value=valueof(values[i],i,values))!=null&&value>=value){min=max=value;while(++i<n){if((value=valueof(values[i],i,values))!=null){if(min>value)min=value;if(max<value)max=value}}}}}return[min,max]}var array=Array.prototype;var slice=array.slice;var map=array.map;function constant(x){return function(){return x}}function identity(x){return x}function range(start,stop,step){start=+start,stop=+stop,step=(n=arguments.length)<2?(stop=start,start=0,1):n<3?1:+step;var i=-1,n=Math.max(0,Math.ceil((stop-start)/step))|0,range=new Array(n);while(++i<n){range[i]=start+i*step}return range}var e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function ticks(start,stop,count){var reverse,i=-1,n,ticks,step;stop=+stop,start=+start,count=+count;if(start===stop&&count>0)return[start];if(reverse=stop<start)n=start,start=stop,stop=n;if((step=tickIncrement(start,stop,count))===0||!isFinite(step))return[];if(step>0){start=Math.ceil(start/step);stop=Math.floor(stop/step);ticks=new Array(n=Math.ceil(stop-start+1));while(++i<n)ticks[i]=(start+i)*step}else{start=Math.floor(start*step);stop=Math.ceil(stop*step);ticks=new Array(n=Math.ceil(start-stop+1));while(++i<n)ticks[i]=(start-i)/step}if(reverse)ticks.reverse();return ticks}function tickIncrement(start,stop,count){var step=(stop-start)/Math.max(0,count),power=Math.floor(Math.log(step)/Math.LN10),error=step/Math.pow(10,power);return power>=0?(error>=e10?10:error>=e5?5:error>=e2?2:1)*Math.pow(10,power):-Math.pow(10,-power)/(error>=e10?10:error>=e5?5:error>=e2?2:1)}function tickStep(start,stop,count){var step0=Math.abs(stop-start)/Math.max(0,count),step1=Math.pow(10,Math.floor(Math.log(step0)/Math.LN10)),error=step0/step1;if(error>=e10)step1*=10;else if(error>=e5)step1*=5;else if(error>=e2)step1*=2;return stop<start?-step1:step1}function sturges(values){return Math.ceil(Math.log(values.length)/Math.LN2)+1}function histogram(){var value=identity,domain=extent,threshold=sturges;function histogram(data){var i,n=data.length,x,values=new Array(n);for(i=0;i<n;++i){values[i]=value(data[i],i,data)}var xz=domain(values),x0=xz[0],x1=xz[1],tz=threshold(values,x0,x1);if(!Array.isArray(tz)){tz=tickStep(x0,x1,tz);tz=range(Math.ceil(x0/tz)*tz,x1,tz)}var m=tz.length;while(tz[0]<=x0)tz.shift(),--m;while(tz[m-1]>x1)tz.pop(),--m;var bins=new Array(m+1),bin;for(i=0;i<=m;++i){bin=bins[i]=[];bin.x0=i>0?tz[i-1]:x0;bin.x1=i<m?tz[i]:x1}for(i=0;i<n;++i){x=values[i];if(x0<=x&&x<=x1){bins[bisectRight(tz,x,0,m)].push(data[i])}}return bins}histogram.value=function(_){return arguments.length?(value=typeof _==="function"?_:constant(_),histogram):value};histogram.domain=function(_){return arguments.length?(domain=typeof _==="function"?_:constant([_[0],_[1]]),histogram):domain};histogram.thresholds=function(_){return arguments.length?(threshold=typeof _==="function"?_:Array.isArray(_)?constant(slice.call(_)):constant(_),histogram):threshold};return histogram}function quantile(values,p,valueof){if(valueof==null)valueof=number;if(!(n=values.length))return;if((p=+p)<=0||n<2)return+valueof(values[0],0,values);if(p>=1)return+valueof(values[n-1],n-1,values);var n,i=(n-1)*p,i0=Math.floor(i),value0=+valueof(values[i0],i0,values),value1=+valueof(values[i0+1],i0+1,values);return value0+(value1-value0)*(i-i0)}function freedmanDiaconis(values,min,max){values=map.call(values,number).sort(ascending);return Math.ceil((max-min)/(2*(quantile(values,.75)-quantile(values,.25))*Math.pow(values.length,-1/3)))}function scott(values,min,max){return Math.ceil((max-min)/(3.5*deviation(values)*Math.pow(values.length,-1/3)))}function max(values,valueof){var n=values.length,i=-1,value,max;if(valueof==null){while(++i<n){if((value=values[i])!=null&&value>=value){max=value;while(++i<n){if((value=values[i])!=null&&value>max){max=value}}}}}else{while(++i<n){if((value=valueof(values[i],i,values))!=null&&value>=value){max=value;while(++i<n){if((value=valueof(values[i],i,values))!=null&&value>max){max=value}}}}}return max}function mean(values,valueof){var n=values.length,m=n,i=-1,value,sum=0;if(valueof==null){while(++i<n){if(!isNaN(value=number(values[i])))sum+=value;else--m}}else{while(++i<n){if(!isNaN(value=number(valueof(values[i],i,values))))sum+=value;else--m}}if(m)return sum/m}function median(values,valueof){var n=values.length,i=-1,value,numbers=[];if(valueof==null){while(++i<n){if(!isNaN(value=number(values[i]))){numbers.push(value)}}}else{while(++i<n){if(!isNaN(value=number(valueof(values[i],i,values)))){numbers.push(value)}}}return quantile(numbers.sort(ascending),.5)}function merge(arrays){var n=arrays.length,m,i=-1,j=0,merged,array;while(++i<n)j+=arrays[i].length;merged=new Array(j);while(--n>=0){array=arrays[n];m=array.length;while(--m>=0){merged[--j]=array[m]}}return merged}function min(values,valueof){var n=values.length,i=-1,value,min;if(valueof==null){while(++i<n){if((value=values[i])!=null&&value>=value){min=value;while(++i<n){if((value=values[i])!=null&&min>value){min=value}}}}}else{while(++i<n){if((value=valueof(values[i],i,values))!=null&&value>=value){min=value;while(++i<n){if((value=valueof(values[i],i,values))!=null&&min>value){min=value}}}}}return min}function permute(array,indexes){var i=indexes.length,permutes=new Array(i);while(i--)permutes[i]=array[indexes[i]];return permutes}function scan(values,compare){if(!(n=values.length))return;var n,i=0,j=0,xi,xj=values[j];if(compare==null)compare=ascending;while(++i<n){if(compare(xi=values[i],xj)<0||compare(xj,xj)!==0){xj=xi,j=i}}if(compare(xj,xj)===0)return j}function shuffle(array,i0,i1){var m=(i1==null?array.length:i1)-(i0=i0==null?0:+i0),t,i;while(m){i=Math.random()*m--|0;t=array[m+i0];array[m+i0]=array[i+i0];array[i+i0]=t}return array}function sum(values,valueof){var n=values.length,i=-1,value,sum=0;if(valueof==null){while(++i<n){if(value=+values[i])sum+=value}}else{while(++i<n){if(value=+valueof(values[i],i,values))sum+=value}}return sum}function transpose(matrix){if(!(n=matrix.length))return[];for(var i=-1,m=min(matrix,length),transpose=new Array(m);++i<m;){for(var j=-1,n,row=transpose[i]=new Array(n);++j<n;){row[j]=matrix[j][i]}}return transpose}function length(d){return d.length}function zip(){return transpose(arguments)}exports.bisect=bisectRight;exports.bisectRight=bisectRight;exports.bisectLeft=bisectLeft;exports.ascending=ascending;exports.bisector=bisector;exports.cross=cross;exports.descending=descending;exports.deviation=deviation;exports.extent=extent;exports.histogram=histogram;exports.thresholdFreedmanDiaconis=freedmanDiaconis;exports.thresholdScott=scott;exports.thresholdSturges=sturges;exports.max=max;exports.mean=mean;exports.median=median;exports.merge=merge;exports.min=min;exports.pairs=pairs;exports.permute=permute;exports.quantile=quantile;exports.range=range;exports.scan=scan;exports.shuffle=shuffle;exports.sum=sum;exports.ticks=ticks;exports.tickIncrement=tickIncrement;exports.tickStep=tickStep;exports.transpose=transpose;exports.variance=variance;exports.zip=zip;Object.defineProperty(exports,"__esModule",{value:true})}))},138:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return InfraLoadingPanel}));var _elastic_eui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8);var _elastic_eui__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);var react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);var _src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11);var _src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_2__);class InfraLoadingPanel extends react__WEBPACK_IMPORTED_MODULE_1__["PureComponent"]{render(){const{height:height,text:text,width:width}=this.props;return react__WEBPACK_IMPORTED_MODULE_1__["createElement"](InfraLoadingStaticPanel,{style:{height:height,width:width}},react__WEBPACK_IMPORTED_MODULE_1__["createElement"](InfraLoadingStaticContentPanel,null,react__WEBPACK_IMPORTED_MODULE_1__["createElement"](_elastic_eui__WEBPACK_IMPORTED_MODULE_0__["EuiPanel"],null,react__WEBPACK_IMPORTED_MODULE_1__["createElement"](_elastic_eui__WEBPACK_IMPORTED_MODULE_0__["EuiLoadingChart"],{size:"m"}),react__WEBPACK_IMPORTED_MODULE_1__["createElement"](_elastic_eui__WEBPACK_IMPORTED_MODULE_0__["EuiText"],null,react__WEBPACK_IMPORTED_MODULE_1__["createElement"]("p",null,text)))))}}const InfraLoadingStaticPanel=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_2__["euiStyled"].div`
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  justify-content: center;
`;const InfraLoadingStaticContentPanel=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_2__["euiStyled"].div`
  flex: 0 0 auto;
  align-self: center;
  text-align: center;
`},156:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return jsonArrayRT}));__webpack_require__.d(__webpack_exports__,"b",(function(){return jsonObjectRT}));var io_ts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var io_ts__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(io_ts__WEBPACK_IMPORTED_MODULE_0__);var _src_plugins_kibana_utils_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(71);var _src_plugins_kibana_utils_common__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_src_plugins_kibana_utils_common__WEBPACK_IMPORTED_MODULE_1__);const jsonScalarRT=io_ts__WEBPACK_IMPORTED_MODULE_0__["union"]([io_ts__WEBPACK_IMPORTED_MODULE_0__["null"],io_ts__WEBPACK_IMPORTED_MODULE_0__["boolean"],io_ts__WEBPACK_IMPORTED_MODULE_0__["number"],io_ts__WEBPACK_IMPORTED_MODULE_0__["string"]]);const jsonValueRT=io_ts__WEBPACK_IMPORTED_MODULE_0__["recursion"]("JsonValue",()=>io_ts__WEBPACK_IMPORTED_MODULE_0__["union"]([jsonScalarRT,jsonArrayRT,jsonObjectRT]));const jsonArrayRT=io_ts__WEBPACK_IMPORTED_MODULE_0__["recursion"]("JsonArray",()=>io_ts__WEBPACK_IMPORTED_MODULE_0__["array"](jsonValueRT));const jsonObjectRT=io_ts__WEBPACK_IMPORTED_MODULE_0__["recursion"]("JsonObject",()=>io_ts__WEBPACK_IMPORTED_MODULE_0__["record"](io_ts__WEBPACK_IMPORTED_MODULE_0__["string"],jsonValueRT))},157:function(module,__webpack_exports__,__webpack_require__){"use strict";var _flatten_data_search_response__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(195);__webpack_require__.d(__webpack_exports__,"flattenDataSearchResponseDescriptor",(function(){return _flatten_data_search_response__WEBPACK_IMPORTED_MODULE_0__["a"]}));var _normalize_data_search_responses__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(253);__webpack_require__.d(__webpack_exports__,"normalizeDataSearchResponses",(function(){return _normalize_data_search_responses__WEBPACK_IMPORTED_MODULE_1__["a"]}));var _types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(254);var _types__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_types__WEBPACK_IMPORTED_MODULE_2__);if(__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_2__,"useDataSearch"))__webpack_require__.d(__webpack_exports__,"useDataSearch",(function(){return _types__WEBPACK_IMPORTED_MODULE_2__["useDataSearch"]}));if(__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_2__,"useDataSearchResponseState"))__webpack_require__.d(__webpack_exports__,"useDataSearchResponseState",(function(){return _types__WEBPACK_IMPORTED_MODULE_2__["useDataSearchResponseState"]}));if(__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_2__,"useLatestPartialDataSearchResponse"))__webpack_require__.d(__webpack_exports__,"useLatestPartialDataSearchResponse",(function(){return _types__WEBPACK_IMPORTED_MODULE_2__["useLatestPartialDataSearchResponse"]}));var _use_data_search_request__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(255);__webpack_require__.d(__webpack_exports__,"useDataSearch",(function(){return _use_data_search_request__WEBPACK_IMPORTED_MODULE_3__["a"]}));var _use_data_search_response_state__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(196);__webpack_require__.d(__webpack_exports__,"useDataSearchResponseState",(function(){return _use_data_search_response_state__WEBPACK_IMPORTED_MODULE_4__["a"]}));var _use_latest_partial_data_search_response__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(256);__webpack_require__.d(__webpack_exports__,"useLatestPartialDataSearchResponse",(function(){return _use_latest_partial_data_search_response__WEBPACK_IMPORTED_MODULE_5__["a"]}))},158:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return monospaceTextStyle}));__webpack_require__.d(__webpack_exports__,"b",(function(){return hoveredContentStyle}));__webpack_require__.d(__webpack_exports__,"a",(function(){return highlightedContentStyle}));__webpack_require__.d(__webpack_exports__,"c",(function(){return longWrappedContentStyle}));__webpack_require__.d(__webpack_exports__,"e",(function(){return preWrappedContentStyle}));__webpack_require__.d(__webpack_exports__,"f",(function(){return unwrappedContentStyle}));__webpack_require__.d(__webpack_exports__,"g",(function(){return useMeasuredCharacterDimensions}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11);var _src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__);const monospaceTextStyle=scale=>_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__["css"]`
  font-family: ${props=>props.theme.eui.euiCodeFontFamily};
  font-size: ${props=>{switch(scale){case"large":return props.theme.eui.euiFontSizeM;case"medium":return props.theme.eui.euiFontSizeS;case"small":return props.theme.eui.euiFontSizeXS;default:return props.theme.eui.euiFontSize}}};
  line-height: ${props=>props.theme.eui.euiLineHeight};
`;const hoveredContentStyle=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__["css"]`
  background-color: ${props=>props.theme.eui.euiFocusBackgroundColor};
`;const highlightedContentStyle=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__["css"]`
  background-color: ${props=>props.theme.eui.euiColorHighlight};
`;const longWrappedContentStyle=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__["css"]`
  overflow: visible;
  white-space: pre-wrap;
  word-break: break-all;
`;const preWrappedContentStyle=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__["css"]`
  overflow: hidden;
  white-space: pre;
`;const unwrappedContentStyle=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__["css"]`
  overflow: hidden;
  white-space: nowrap;
`;const useMeasuredCharacterDimensions=scale=>{const[dimensions,setDimensions]=Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])({height:0,width:0});const measureElement=Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(element=>{if(!element){return}const boundingBox=element.getBoundingClientRect();setDimensions({height:boundingBox.height,width:boundingBox.width})},[]);const CharacterDimensionsProbe=Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(()=>()=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(MonospaceCharacterDimensionsProbe,{scale:scale,ref:measureElement},"X"),[measureElement,scale]);return{CharacterDimensionsProbe:CharacterDimensionsProbe,dimensions:dimensions}};const MonospaceCharacterDimensionsProbe=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__["euiStyled"].div.attrs(()=>({"aria-hidden":true}))`
  visibility: hidden;
  position: absolute;
  height: auto;
  width: auto;
  padding: 0;
  margin: 0;

  ${props=>monospaceTextStyle(props.scale)};
`},159:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LogEntryContextMenu}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__);var _elastic_eui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8);var _elastic_eui__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__);var _src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(11);var _src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_3__);var _log_entry_column__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(98);const DEFAULT_MENU_LABEL=_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("xpack.infra.logEntryItemView.logEntryActionsMenuToolTip",{defaultMessage:"View actions for line"});const LogEntryContextMenu=({"aria-label":ariaLabel,isOpen:isOpen,onOpen:onOpen,onClose:onClose,items:items})=>{const closeMenuAndCall=Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(()=>callback=>e=>{onClose();callback(e)},[onClose]);const button=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ButtonWrapper,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiButton"],{size:"s",fill:true,"aria-label":ariaLabel||DEFAULT_MENU_LABEL,onClick:isOpen?onClose:onOpen,minWidth:"auto"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiIcon"],{type:"boxesHorizontal"})));const wrappedItems=Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(()=>items.map((item,i)=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiContextMenuItem"],{key:i,onClick:closeMenuAndCall(item.onClick),href:item.href},item.label)),[items,closeMenuAndCall]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(LogEntryContextMenuContent,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AbsoluteWrapper,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiPopover"],{panelPaddingSize:"none",closePopover:onClose,isOpen:isOpen,button:button,ownFocus:true},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiContextMenuPanel"],{items:wrappedItems}))))};const LogEntryContextMenuContent=Object(_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_3__["euiStyled"])(_log_entry_column__WEBPACK_IMPORTED_MODULE_4__["b"])`
  overflow: hidden;
  user-select: none;
`;const AbsoluteWrapper=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_3__["euiStyled"].div`
  position: absolute;
`;const ButtonWrapper=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_3__["euiStyled"].div`
  transform: translate(-6px, -6px);
`},160:function(module,__webpack_exports__,__webpack_require__){"use strict";var _no_indices__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(161);var _no_data__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(198);__webpack_require__.d(__webpack_exports__,"a",(function(){return _no_data__WEBPACK_IMPORTED_MODULE_1__["a"]}))},161:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return NoIndices}));var _elastic_eui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8);var _elastic_eui__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);var react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);var _src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11);var _src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_2__);function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}const NoIndices=({actions:actions,message:message,title:title,...rest})=>react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(CenteredEmptyPrompt,_extends({title:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h2",null,title),body:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p",null,message),actions:actions},rest));const CenteredEmptyPrompt=Object(_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_2__["euiStyled"])(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__["EuiEmptyPrompt"])`
  align-self: center;
`},171:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return log_entry_column["a"]}));__webpack_require__.d(__webpack_exports__,"h",(function(){return log_entry_column["c"]}));__webpack_require__.d(__webpack_exports__,"c",(function(){return LogEntryFieldColumn}));__webpack_require__.d(__webpack_exports__,"d",(function(){return LogEntryMessageColumn}));__webpack_require__.d(__webpack_exports__,"e",(function(){return LogEntryRowWrapper}));__webpack_require__.d(__webpack_exports__,"f",(function(){return LogEntryTimestampColumn}));__webpack_require__.d(__webpack_exports__,"g",(function(){return scrollable_log_text_stream_view_ScrollableLogTextStreamView}));__webpack_require__.d(__webpack_exports__,"b",(function(){return log_entry_context_menu["a"]}));var log_entry_column=__webpack_require__(98);var external_kbnSharedDeps_React_=__webpack_require__(1);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var common_=__webpack_require__(11);var log_entry=__webpack_require__(174);var field_value=__webpack_require__(213);var text_styles=__webpack_require__(158);const LogEntryFieldColumn=({columnValue:columnValue,highlights:[firstHighlight],isActiveHighlight:isActiveHighlight,wrapMode:wrapMode,render:render})=>{if(Object(log_entry["e"])(columnValue)){return external_kbnSharedDeps_React_default.a.createElement(FieldColumnContent,{wrapMode:wrapMode},external_kbnSharedDeps_React_default.a.createElement(field_value["a"],{highlightTerms:Object(log_entry["g"])(firstHighlight)?firstHighlight.highlights:[],isActiveHighlight:isActiveHighlight,value:columnValue.value,render:render}))}else{return null}};const FieldColumnContent=Object(common_["euiStyled"])(log_entry_column["b"])`
  text-overflow: ellipsis;

  ${props=>props.wrapMode==="long"?text_styles["c"]:props.wrapMode==="pre-wrapped"?text_styles["e"]:text_styles["f"]};
`;const LogEntryMessageColumn=Object(external_kbnSharedDeps_React_["memo"])(({columnValue:columnValue,highlights:highlights,isActiveHighlight:isActiveHighlight,wrapMode:wrapMode,render:render})=>{const message=Object(external_kbnSharedDeps_React_["useMemo"])(()=>Object(log_entry["j"])(columnValue)?formatMessageSegments(columnValue.message,highlights,isActiveHighlight):null,[columnValue,highlights,isActiveHighlight]);const messageAsString=Object(external_kbnSharedDeps_React_["useMemo"])(()=>Object(log_entry["j"])(columnValue)?renderMessageSegments(columnValue.message):"",[columnValue]);return external_kbnSharedDeps_React_default.a.createElement(MessageColumnContent,{wrapMode:wrapMode},render?render(messageAsString):message)});const MessageColumnContent=Object(common_["euiStyled"])(log_entry_column["b"])`
  text-overflow: ellipsis;
  ${props=>props.wrapMode==="long"?text_styles["c"]:props.wrapMode==="pre-wrapped"?text_styles["e"]:text_styles["f"]};
`;const formatMessageSegments=(messageSegments,highlights,isActiveHighlight)=>messageSegments.map((messageSegment,index)=>{if(Object(log_entry["f"])(messageSegment)){const[firstHighlight=[]]=highlights.map(highlight=>{if(Object(log_entry["i"])(highlight)){const segment=highlight.message[index];if(Object(log_entry["h"])(segment)){return segment.highlights}}return[]});return external_kbnSharedDeps_React_default.a.createElement(field_value["a"],{highlightTerms:firstHighlight,isActiveHighlight:isActiveHighlight,key:`MessageSegment-${index}`,value:messageSegment.value})}else if(Object(log_entry["d"])(messageSegment)){return messageSegment.constant}return"failed to format message"});const renderMessageSegments=messageSegments=>messageSegments.map(messageSegment=>{if(Object(log_entry["d"])(messageSegment)){return messageSegment.constant}if(Object(log_entry["f"])(messageSegment)){return messageSegment.value.toString()}}).join(" ");var external_kbnSharedDeps_KbnI18n_=__webpack_require__(2);var external_kbnSharedDeps_Lodash_=__webpack_require__(21);var public_=__webpack_require__(68);var formatted_time=__webpack_require__(257);const LogEntryTimestampColumn=Object(external_kbnSharedDeps_React_["memo"])(({format:format="time",time:time,render:render})=>{const formattedTime=Object(formatted_time["a"])(time,{format:format});return external_kbnSharedDeps_React_default.a.createElement(TimestampColumnContent,null,render?render(time):formattedTime)});const TimestampColumnContent=Object(common_["euiStyled"])(log_entry_column["b"])`
  color: ${props=>props.theme.eui.euiColorDarkShade};
  overflow: hidden;
  text-overflow: clip;
  white-space: pre;
`;var log_entry_context_menu=__webpack_require__(159);var log_column_render_configuration=__webpack_require__(197);function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}const MENU_LABEL=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.logEntryItemView.logEntryActionsMenuToolTip",{defaultMessage:"View actions for line"});const LOG_DETAILS_LABEL=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.logs.logEntryActionsDetailsButton",{defaultMessage:"View details"});const LOG_VIEW_IN_CONTEXT_LABEL=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.lobs.logEntryActionsViewInContextButton",{defaultMessage:"View in context"});const LogEntryRow=Object(external_kbnSharedDeps_React_["memo"])(({boundingBoxRef:boundingBoxRef,columnConfigurations:columnConfigurations,columnWidths:columnWidths,highlights:highlights,isActiveHighlight:isActiveHighlight,isHighlighted:isHighlighted,logEntry:logEntry,openFlyoutWithItem:openFlyoutWithItem,openViewLogInContext:openViewLogInContext,scale:scale,wrap:wrap})=>{const trackMetric=Object(public_["useUiTracker"])({app:"infra_logs"});const[isHovered,setIsHovered]=Object(external_kbnSharedDeps_React_["useState"])(false);const[isMenuOpen,setIsMenuOpen]=Object(external_kbnSharedDeps_React_["useState"])(false);const openMenu=Object(external_kbnSharedDeps_React_["useCallback"])(()=>setIsMenuOpen(true),[]);const closeMenu=Object(external_kbnSharedDeps_React_["useCallback"])(()=>setIsMenuOpen(false),[]);const setItemIsHovered=Object(external_kbnSharedDeps_React_["useCallback"])(()=>setIsHovered(true),[]);const setItemIsNotHovered=Object(external_kbnSharedDeps_React_["useCallback"])(()=>setIsHovered(false),[]);const openFlyout=Object(external_kbnSharedDeps_React_["useCallback"])(()=>openFlyoutWithItem===null||openFlyoutWithItem===void 0?void 0:openFlyoutWithItem(logEntry.id),[openFlyoutWithItem,logEntry.id]);const handleOpenViewLogInContext=Object(external_kbnSharedDeps_React_["useCallback"])(()=>{openViewLogInContext===null||openViewLogInContext===void 0?void 0:openViewLogInContext(logEntry);trackMetric({metric:"view_in_context__stream"})},[openViewLogInContext,logEntry,trackMetric]);const hasContext=Object(external_kbnSharedDeps_React_["useMemo"])(()=>!Object(external_kbnSharedDeps_Lodash_["isEmpty"])(logEntry.context),[logEntry]);const hasActionFlyoutWithItem=openFlyoutWithItem!==undefined;const hasActionViewLogInContext=hasContext&&openViewLogInContext!==undefined;const hasActionsMenu=hasActionFlyoutWithItem||hasActionViewLogInContext;const menuItems=Object(external_kbnSharedDeps_React_["useMemo"])(()=>{const items=[];if(hasActionFlyoutWithItem){items.push({label:LOG_DETAILS_LABEL,onClick:openFlyout})}if(hasActionViewLogInContext){items.push({label:LOG_VIEW_IN_CONTEXT_LABEL,onClick:handleOpenViewLogInContext})}return items},[hasActionFlyoutWithItem,hasActionViewLogInContext,openFlyout,handleOpenViewLogInContext]);const logEntryColumnsById=Object(external_kbnSharedDeps_React_["useMemo"])(()=>logEntry.columns.reduce((columnsById,column)=>({...columnsById,[column.columnId]:column}),{}),[logEntry.columns]);const highlightsByColumnId=Object(external_kbnSharedDeps_React_["useMemo"])(()=>highlights.reduce((columnsById,highlight)=>highlight.columns.reduce((innerColumnsById,column)=>({...innerColumnsById,[column.columnId]:[...innerColumnsById[column.columnId]||[],column]}),columnsById),{}),[highlights]);return external_kbnSharedDeps_React_default.a.createElement(LogEntryRowWrapper,{"data-test-subj":"streamEntry logTextStreamEntry",ref:boundingBoxRef,onMouseEnter:setItemIsHovered,onMouseLeave:setItemIsNotHovered,isHighlighted:isHighlighted,scale:scale},columnConfigurations.map(columnConfiguration=>{if(Object(log_column_render_configuration["d"])(columnConfiguration)){const column=logEntryColumnsById[columnConfiguration.timestampColumn.id];const columnWidth=columnWidths[columnConfiguration.timestampColumn.id];return external_kbnSharedDeps_React_default.a.createElement(log_entry_column["a"],_extends({"data-test-subj":"logColumn timestampLogColumn",key:columnConfiguration.timestampColumn.id},columnWidth),Object(log_entry["k"])(column)?external_kbnSharedDeps_React_default.a.createElement(LogEntryTimestampColumn,{time:column.timestamp,render:columnConfiguration.timestampColumn.render}):null)}else if(Object(log_column_render_configuration["c"])(columnConfiguration)){const column=logEntryColumnsById[columnConfiguration.messageColumn.id];const columnWidth=columnWidths[columnConfiguration.messageColumn.id];return external_kbnSharedDeps_React_default.a.createElement(log_entry_column["a"],_extends({"data-test-subj":"logColumn messageLogColumn",key:columnConfiguration.messageColumn.id},columnWidth),column?external_kbnSharedDeps_React_default.a.createElement(LogEntryMessageColumn,{columnValue:column,highlights:highlightsByColumnId[column.columnId]||[],isActiveHighlight:isActiveHighlight,wrapMode:wrap?"long":"pre-wrapped",render:columnConfiguration.messageColumn.render}):null)}else if(Object(log_column_render_configuration["b"])(columnConfiguration)){const column=logEntryColumnsById[columnConfiguration.fieldColumn.id];const columnWidth=columnWidths[columnConfiguration.fieldColumn.id];return external_kbnSharedDeps_React_default.a.createElement(log_entry_column["a"],_extends({"data-test-subj":`logColumn fieldLogColumn fieldLogColumn:${columnConfiguration.fieldColumn.field}`,key:columnConfiguration.fieldColumn.id},columnWidth),column?external_kbnSharedDeps_React_default.a.createElement(LogEntryFieldColumn,{columnValue:column,highlights:highlightsByColumnId[column.columnId]||[],isActiveHighlight:isActiveHighlight,wrapMode:wrap?"long":"pre-wrapped",render:columnConfiguration.fieldColumn.render}):null)}}),hasActionsMenu?external_kbnSharedDeps_React_default.a.createElement(log_entry_column["a"],_extends({key:"logColumn iconLogColumn iconLogColumn:details"},columnWidths[log_entry_column["c"]]),isHovered||isMenuOpen?external_kbnSharedDeps_React_default.a.createElement(log_entry_context_menu["a"],{"aria-label":MENU_LABEL,isOpen:isMenuOpen,onOpen:openMenu,onClose:closeMenu,items:menuItems}):null):null)});const LogEntryRowWrapper=common_["euiStyled"].div.attrs(()=>({role:"row"}))`
  align-items: stretch;
  color: ${props=>props.theme.eui.euiTextColor};
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  justify-content: flex-start;
  overflow: hidden;

  ${props=>Object(text_styles["d"])(props.scale)};
  ${props=>props.isHighlighted?text_styles["a"]:""}

  &:hover {
    ${text_styles["b"]}
  }
`;var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(12);var external_kbnSharedDeps_Moment_=__webpack_require__(50);var external_kbnSharedDeps_Moment_default=__webpack_require__.n(external_kbnSharedDeps_Moment_);function callWithoutRepeats(func,isArgsEqual=external_kbnSharedDeps_Lodash_["isEqual"]){let previousArgs;let previousResult;return(...args)=>{if(!isArgsEqual(args,previousArgs)){previousArgs=args;previousResult=func(...args)}return previousResult}}var auto_sizer=__webpack_require__(119);var empty_states=__webpack_require__(160);var loading=__webpack_require__(138);var d3_array=__webpack_require__(136);var common_time=__webpack_require__(211);function getStreamItemTimeKey(item){switch(item.kind){case"logEntry":return item.logEntry.cursor}}function getStreamItemId(item){switch(item.kind){case"logEntry":return`${item.logEntry.cursor.time}:${item.logEntry.cursor.tiebreaker}:${item.logEntry.id}`}}function parseStreamItemId(id){const idFragments=id.split(":");return{gid:idFragments.slice(2).join(":"),tiebreaker:parseInt(idFragments[1],10),time:parseInt(idFragments[0],10)}}const streamItemTimeBisector=Object(d3_array["bisector"])(Object(common_time["a"])(getStreamItemTimeKey));const getStreamItemBeforeTimeKey=(streamItems,key)=>streamItems[Math.min(streamItemTimeBisector.left(streamItems,key),streamItems.length-1)];var column_headers=__webpack_require__(258);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(8);const LogTextSeparator=({children:children})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},children),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],null)));var datemath=__webpack_require__(24);function loading_item_view_extends(){loading_item_view_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return loading_item_view_extends.apply(this,arguments)}const TIMESTAMP_FORMAT={hour12:false,month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};class loading_item_view_LogTextStreamLoadingItemView extends external_kbnSharedDeps_React_["PureComponent"]{render(){const{position:position,timestamp:timestamp,startDateExpression:startDateExpression,endDateExpression:endDateExpression,className:className,hasMore:hasMore,isLoading:isLoading,isStreaming:isStreaming,onExtendRange:onExtendRange,onStreamStart:onStreamStart}=this.props;const shouldShowCta=!hasMore&&!isStreaming;const extra=external_kbnSharedDeps_React_["createElement"](LoadingItemViewExtra,{justifyContent:"center",alignItems:"center",gutterSize:"m"},isLoading||isStreaming?external_kbnSharedDeps_React_["createElement"](ProgressSpinner,{kind:isStreaming?"streaming":"loading"}):shouldShowCta?external_kbnSharedDeps_React_["createElement"](ProgressCta,{position:position,onStreamStart:onStreamStart,onExtendRange:onExtendRange,startDateExpression:startDateExpression,endDateExpression:endDateExpression}):null);return external_kbnSharedDeps_React_["createElement"](ProgressEntryWrapper,{className:className,position:position},position==="start"?extra:null,external_kbnSharedDeps_React_["createElement"](ProgressMessage,{timestamp:timestamp,position:position,isStreaming:isStreaming}),position==="end"?extra:null)}}const LoadingItemViewExtra=Object(common_["euiStyled"])(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"])`
  height: 40px;
`;const ProgressEntryWrapper=common_["euiStyled"].div`
  padding-left: ${props=>props.theme.eui.euiSizeS};
  padding-top: ${props=>props.position==="start"?props.theme.eui.euiSizeL:props.theme.eui.euiSizeM};
  padding-bottom: ${props=>props.position==="end"?props.theme.eui.euiSizeL:props.theme.eui.euiSizeM};
`;const ProgressMessage=({timestamp:timestamp,position:position,isStreaming:isStreaming})=>{const formattedTimestamp=isStreaming&&position==="end"?external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_KbnI18nReact_["FormattedRelative"],{units:"second",value:timestamp,updateInterval:1}):external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_KbnI18nReact_["FormattedTime"],loading_item_view_extends({value:timestamp},TIMESTAMP_FORMAT));const message=position==="start"?external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.infra.logs.showingEntriesFromTimestamp",defaultMessage:"Showing entries from {timestamp}",values:{timestamp:formattedTimestamp}}):isStreaming?external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.infra.logs.lastUpdate",defaultMessage:"Last update {timestamp}",values:{timestamp:formattedTimestamp}}):external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.infra.logs.showingEntriesUntilTimestamp",defaultMessage:"Showing entries until {timestamp}",values:{timestamp:formattedTimestamp}});return external_kbnSharedDeps_React_["createElement"](LogTextSeparator,null,external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xxs"},message))};const ProgressSpinner=({kind:kind})=>external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"l"})),external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},kind==="streaming"?external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.infra.logs.streamingNewEntriesText",defaultMessage:"Streaming new entries"}):external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.infra.logs.loadingNewEntriesText",defaultMessage:"Loading new entries"}))));const ProgressCta=({position:position,startDateExpression:startDateExpression,endDateExpression:endDateExpression,onExtendRange:onExtendRange,onStreamStart:onStreamStart})=>{const rangeEdge=position==="start"?startDateExpression:endDateExpression;if(rangeEdge==="now"&&position==="end"){return external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_ElasticEui_["EuiButton"],{onClick:onStreamStart,size:"s"},external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.infra.logs.streamLive",defaultMessage:"Stream live"}))}const iconType=position==="start"?"arrowUp":"arrowDown";const extendedRange=position==="start"?Object(datemath["b"])(startDateExpression,"before",endDateExpression):Object(datemath["b"])(endDateExpression,"after",startDateExpression);if(!extendedRange||!("diffUnit"in extendedRange)){return null}return external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_ElasticEui_["EuiButton"],{onClick:()=>{if(typeof onExtendRange==="function"){onExtendRange(extendedRange.value)}},iconType:iconType,size:"s"},external_kbnSharedDeps_React_["createElement"](ProgressExtendMessage,{amount:extendedRange.diffAmount,unit:extendedRange.diffUnit}))};const ProgressExtendMessage=({amount:amount,unit:unit})=>{switch(unit){case"ms":return external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.infra.logs.extendTimeframeByMillisecondsButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {millisecond} other {milliseconds}}",values:{amount:amount}});case"s":return external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.infra.logs.extendTimeframeBySecondsButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {second} other {seconds}}",values:{amount:amount}});case"m":return external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.infra.logs.extendTimeframeByMinutesButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {minute} other {minutes}}",values:{amount:amount}});case"h":return external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.infra.logs.extendTimeframeByHoursButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {hour} other {hours}}",values:{amount:amount}});case"d":return external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.infra.logs.extendTimeframeByDaysButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {day} other {days}}",values:{amount:amount}});case"w":return external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.infra.logs.extendTimeframeByWeeksButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {week} other {weeks}}",values:{amount:amount}});case"M":return external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.infra.logs.extendTimeframeByMonthsButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {month} other {months}}",values:{amount:amount}});case"y":return external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.infra.logs.extendTimeframeByYearsButton",defaultMessage:"Extend time frame by {amount, number} {amount, plural, one {year} other {years}}",values:{amount:amount}});default:throw new TypeError("Unhandled unit: "+unit)}};class jump_to_tail_LogTextStreamJumpToTail extends external_kbnSharedDeps_React_["PureComponent"]{render(){const{onClickJump:onClickJump,width:width}=this.props;return external_kbnSharedDeps_React_["createElement"](JumpToTailWrapper,{width:width},external_kbnSharedDeps_React_["createElement"](MessageWrapper,null,external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_ElasticEui_["EuiText"],{color:"subdued"},external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.infra.logs.streamingNewEntriesText",defaultMessage:"Streaming new entries"}))),external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{size:"xs",onClick:onClickJump,iconType:"arrowDown"},external_kbnSharedDeps_React_["createElement"](external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.infra.logs.jumpToTailText",defaultMessage:"Jump to most recent entries"})))}}const JumpToTailWrapper=common_["euiStyled"].div`
  align-items: center;
  display: flex;
  min-height: ${props=>props.theme.eui.euiSizeXXL};
  width: ${props=>props.width}px;
  position: fixed;
  bottom: 0;
  background-color: ${props=>props.theme.eui.euiColorEmptyShade};
`;const MessageWrapper=common_["euiStyled"].div`
  padding: 8px 16px;
`;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class measurable_item_view_MeasurableItemView extends external_kbnSharedDeps_React_["PureComponent"]{constructor(...args){super(...args);_defineProperty(this,"childRef",external_kbnSharedDeps_React_["createRef"]());_defineProperty(this,"getOffsetRect",()=>{const currentElement=this.childRef.current;if(currentElement===null){return null}return{height:currentElement.offsetHeight,left:currentElement.offsetLeft,top:currentElement.offsetTop,width:currentElement.offsetWidth}})}componentDidMount(){this.props.register(this.props.registrationKey,this)}componentWillUnmount(){this.props.register(this.props.registrationKey,null)}componentDidUpdate(prevProps){if(prevProps.registrationKey!==this.props.registrationKey){this.props.register(prevProps.registrationKey,null);this.props.register(this.props.registrationKey,this)}}render(){return this.props.children(this.childRef)}}var vertical_scroll_panel=__webpack_require__(259);var datetime=__webpack_require__(199);const LogDateRow=({timestamp:timestamp})=>{const formattedDate=Object(datetime["a"])(timestamp);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xxs"},external_kbnSharedDeps_React_default.a.createElement("h2",{style:{paddingLeft:8}},formattedDate))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],null)))};function scrollable_log_text_stream_view_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class scrollable_log_text_stream_view_ScrollableLogTextStreamView extends external_kbnSharedDeps_React_default.a.PureComponent{static getDerivedStateFromProps(nextProps,prevState){const hasNewTarget=nextProps.target&&nextProps.target!==prevState.target;const hasItems=nextProps.items.length>0;const nextItems=hasItems&&prevState.isScrollLocked?prevState.items:nextProps.items;if(nextProps.isStreaming&&hasItems){return{target:nextProps.target,targetId:getStreamItemId(nextProps.items[nextProps.items.length-1]),items:nextItems}}else if(hasNewTarget&&hasItems){return{target:nextProps.target,targetId:getStreamItemId(getStreamItemBeforeTimeKey(nextProps.items,nextProps.target)),items:nextItems}}else if(!hasItems){return{target:null,targetId:null,items:[]}}else if(hasItems&&(nextItems.length!==prevState.items.length||nextItems[0]!==prevState.items[0])){return{...prevState,items:nextItems}}return null}constructor(props){super(props);scrollable_log_text_stream_view_defineProperty(this,"handleOpenFlyout",id=>{var _this$props$onOpenLog,_this$props;(_this$props$onOpenLog=(_this$props=this.props).onOpenLogEntryFlyout)===null||_this$props$onOpenLog===void 0?void 0:_this$props$onOpenLog.call(_this$props,id)});scrollable_log_text_stream_view_defineProperty(this,"handleOpenViewLogInContext",entry=>{const{setContextEntry:setContextEntry}=this.props;if(setContextEntry){setContextEntry(entry)}});scrollable_log_text_stream_view_defineProperty(this,"handleReload",()=>{const{reloadItems:reloadItems}=this.props;if(reloadItems){reloadItems()}});scrollable_log_text_stream_view_defineProperty(this,"handleVisibleChildrenChange",callWithoutRepeats(({topChild:topChild,middleChild:middleChild,bottomChild:bottomChild,pagesAbove:pagesAbove,pagesBelow:pagesBelow,fromScroll:fromScroll})=>{if(fromScroll&&this.props.isStreaming){this.setState({isScrollLocked:pagesBelow!==0})}this.props.reportVisibleInterval({endKey:parseStreamItemId(bottomChild),middleKey:parseStreamItemId(middleChild),pagesAfterEnd:pagesBelow,pagesBeforeStart:pagesAbove,startKey:parseStreamItemId(topChild),fromScroll:fromScroll})}));scrollable_log_text_stream_view_defineProperty(this,"handleJumpToTail",()=>{const{items:items}=this.props;const lastItemTarget=getStreamItemId(items[items.length-1]);this.setState({targetId:lastItemTarget,isScrollLocked:false})});this.state={target:null,targetId:null,items:props.items,isScrollLocked:false}}render(){var _this$props$hideScrol;const{columnConfigurations:columnConfigurations,currentHighlightKey:currentHighlightKey,hasMoreAfterEnd:hasMoreAfterEnd,hasMoreBeforeStart:hasMoreBeforeStart,highlightedItem:highlightedItem,isLoadingMore:isLoadingMore,isReloading:isReloading,isStreaming:isStreaming,scale:scale,wrap:wrap,startDateExpression:startDateExpression,endDateExpression:endDateExpression,lastLoadedTime:lastLoadedTime,updateDateRange:updateDateRange,startLiveStreaming:startLiveStreaming,onOpenLogEntryFlyout:onOpenLogEntryFlyout,setContextEntry:setContextEntry}=this.props;const hideScrollbar=(_this$props$hideScrol=this.props.hideScrollbar)!==null&&_this$props$hideScrol!==void 0?_this$props$hideScrol:true;const{targetId:targetId,items:items,isScrollLocked:isScrollLocked}=this.state;const hasItems=items.length>0;const hasFlyoutAction=!!onOpenLogEntryFlyout;const hasContextAction=!!setContextEntry;return external_kbnSharedDeps_React_default.a.createElement(ScrollableLogTextStreamViewWrapper,null,isReloading&&(!isStreaming||!hasItems)?external_kbnSharedDeps_React_default.a.createElement(loading["a"],{width:"100%",height:"100%",text:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.infra.logs.scrollableLogTextStreamView.loadingEntriesLabel",defaultMessage:"Loading entries"})}):!hasItems?external_kbnSharedDeps_React_default.a.createElement(empty_states["a"],{titleText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.logs.emptyView.noLogMessageTitle",{defaultMessage:"There are no log messages to display."}),bodyText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.logs.emptyView.noLogMessageDescription",{defaultMessage:"Try adjusting your filter."}),refetchText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.logs.emptyView.checkForNewDataButtonLabel",{defaultMessage:"Check for new data"}),onRefetch:this.handleReload,testString:"logsNoDataPrompt"}):external_kbnSharedDeps_React_default.a.createElement(WithColumnWidths,{columnConfigurations:columnConfigurations,scale:scale},({columnWidths:columnWidths,CharacterDimensionsProbe:CharacterDimensionsProbe})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(CharacterDimensionsProbe,null),external_kbnSharedDeps_React_default.a.createElement(column_headers["b"],{columnConfigurations:columnConfigurations,columnWidths:columnWidths}),external_kbnSharedDeps_React_default.a.createElement(auto_sizer["a"],{bounds:true,content:true,detectAnyWindowResize:"height"},({measureRef:measureRef,bounds:{height:height=0},content:{width:width=0}})=>external_kbnSharedDeps_React_default.a.createElement(ScrollPanelSizeProbe,{ref:measureRef},external_kbnSharedDeps_React_default.a.createElement(vertical_scroll_panel["b"],{height:height,width:width,onVisibleChildrenChange:this.handleVisibleChildrenChange,target:targetId,hideScrollbar:hideScrollbar,"data-test-subj":"logStream",isLocked:isScrollLocked,entriesCount:items.length},registerChild=>items.length>0?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(loading_item_view_LogTextStreamLoadingItemView,{position:"start",isLoading:isLoadingMore,hasMore:hasMoreBeforeStart,timestamp:items[0].logEntry.cursor.time,isStreaming:false,startDateExpression:startDateExpression,endDateExpression:endDateExpression,onExtendRange:newDateExpression=>updateDateRange({startDateExpression:newDateExpression})}),items.map((item,idx)=>{const currentTimestamp=item.logEntry.cursor.time;let showDate=false;if(idx>0){const prevTimestamp=items[idx-1].logEntry.cursor.time;showDate=!external_kbnSharedDeps_Moment_default()(currentTimestamp).isSame(prevTimestamp,"day")}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],{key:getStreamItemId(item)},showDate&&external_kbnSharedDeps_React_default.a.createElement(LogDateRow,{timestamp:currentTimestamp}),external_kbnSharedDeps_React_default.a.createElement(measurable_item_view_MeasurableItemView,{register:registerChild,registrationKey:getStreamItemId(item)},itemMeasureRef=>external_kbnSharedDeps_React_default.a.createElement(LogEntryRow,{columnConfigurations:columnConfigurations,columnWidths:columnWidths,openFlyoutWithItem:hasFlyoutAction?this.handleOpenFlyout:undefined,openViewLogInContext:hasContextAction?this.handleOpenViewLogInContext:undefined,boundingBoxRef:itemMeasureRef,logEntry:item.logEntry,highlights:item.highlights,isActiveHighlight:!!currentHighlightKey&&currentHighlightKey.gid===item.logEntry.id,scale:scale,wrap:wrap,isHighlighted:highlightedItem?item.logEntry.id===highlightedItem:false})))}),external_kbnSharedDeps_React_default.a.createElement(loading_item_view_LogTextStreamLoadingItemView,{position:"end",isLoading:isStreaming||isLoadingMore,hasMore:hasMoreAfterEnd,isStreaming:isStreaming,timestamp:isStreaming&&lastLoadedTime?lastLoadedTime.valueOf():items[items.length-1].logEntry.cursor.time,startDateExpression:startDateExpression,endDateExpression:endDateExpression,onExtendRange:newDateExpression=>updateDateRange({endDateExpression:newDateExpression}),onStreamStart:()=>startLiveStreaming()}),isScrollLocked&&external_kbnSharedDeps_React_default.a.createElement(jump_to_tail_LogTextStreamJumpToTail,{width:width,onClickJump:this.handleJumpToTail})):null))))))}}const WithColumnWidths=({children:children,columnConfigurations:columnConfigurations,scale:scale})=>{const childParams=Object(log_entry_column["d"])({columnConfigurations:columnConfigurations,scale:scale});return children(childParams)};const ScrollableLogTextStreamViewWrapper=common_["euiStyled"].div`
  overflow: hidden;
  display: flex;
  flex: 1 1 0%;
  flex-direction: column;
  align-items: stretch;
`;const ScrollPanelSizeProbe=common_["euiStyled"].div`
  overflow: hidden;
  flex: 1 1 0%;
`},174:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return getUniqueLogEntryKey}));__webpack_require__.d(__webpack_exports__,"b",(function(){return getLogEntryIndexBeforeTime}));__webpack_require__.d(__webpack_exports__,"a",(function(){return getLogEntryIndexAtTime}));__webpack_require__.d(__webpack_exports__,"k",(function(){return isTimestampColumn}));__webpack_require__.d(__webpack_exports__,"j",(function(){return isMessageColumn}));__webpack_require__.d(__webpack_exports__,"e",(function(){return isFieldColumn}));__webpack_require__.d(__webpack_exports__,"d",(function(){return isConstantSegment}));__webpack_require__.d(__webpack_exports__,"f",(function(){return isFieldSegment}));__webpack_require__.d(__webpack_exports__,"i",(function(){return isHighlightMessageColumn}));__webpack_require__.d(__webpack_exports__,"g",(function(){return isHighlightFieldColumn}));__webpack_require__.d(__webpack_exports__,"h",(function(){return isHighlightFieldSegment}));var d3_array=__webpack_require__(136);var time=__webpack_require__(211);const getLogEntryKey=entry=>entry.cursor;const getUniqueLogEntryKey=entry=>({...entry.cursor,gid:entry.id});const logEntryTimeBisector=Object(d3_array["bisector"])(Object(time["a"])(getLogEntryKey));const getLogEntryIndexBeforeTime=logEntryTimeBisector.left;const getLogEntryIndexAfterTime=logEntryTimeBisector.right;const getLogEntryIndexAtTime=Object(time["b"])(getLogEntryKey);const getLogEntryAtTime=(entries,time)=>{const entryIndex=getLogEntryIndexAtTime(entries,time);return entryIndex!==null?entries[entryIndex]:null};const isTimestampColumn=column=>column!=null&&"timestamp"in column;const isMessageColumn=column=>column!=null&&"message"in column;const isFieldColumn=column=>column!=null&&"field"in column;const isConstantSegment=segment=>"constant"in segment;const isFieldSegment=segment=>"field"in segment&&"value"in segment;const isHighlightMessageColumn=column=>column!=null&&"message"in column;const isHighlightFieldColumn=column=>column!=null&&"field"in column;const isHighlightFieldSegment=segment=>segment&&"field"in segment&&"highlights"in segment},181:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(1);var useFirstMountState_1=__webpack_require__(182);var useUpdateEffect=function(effect,deps){var isFirstMount=useFirstMountState_1.useFirstMountState();react_1.useEffect((function(){if(!isFirstMount){return effect()}}),deps)};exports.default=useUpdateEffect},182:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.useFirstMountState=void 0;var react_1=__webpack_require__(1);function useFirstMountState(){var isFirst=react_1.useRef(true);if(isFirst.current){isFirst.current=false;return true}return isFirst.current}exports.useFirstMountState=useFirstMountState},194:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(1);function usePrevious(state){var ref=react_1.useRef();react_1.useEffect((function(){ref.current=state}));return ref.current}exports.default=usePrevious},195:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return flattenDataSearchResponseDescriptor}));var rxjs_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(72);var rxjs_operators__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__);const flattenDataSearchResponseDescriptor=({abortController:abortController,options:options,request:request,response$:response$})=>response$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["map"])(response=>({abortController:abortController,options:options,request:request,response:response})))},196:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useDataSearchResponseState}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _use_observable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(117);const useDataSearchResponseState=response$=>{var _latestValue$response,_latestValue$response2;const{latestValue:latestValue}=Object(_use_observable__WEBPACK_IMPORTED_MODULE_1__["c"])(response$,undefined);const cancelRequest=Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(()=>{latestValue===null||latestValue===void 0?void 0:latestValue.abortController.abort()},[latestValue]);return{cancelRequest:cancelRequest,isRequestRunning:(_latestValue$response=latestValue===null||latestValue===void 0?void 0:latestValue.response.isRunning)!==null&&_latestValue$response!==void 0?_latestValue$response:false,isResponsePartial:(_latestValue$response2=latestValue===null||latestValue===void 0?void 0:latestValue.response.isPartial)!==null&&_latestValue$response2!==void 0?_latestValue$response2:false,latestResponseData:latestValue===null||latestValue===void 0?void 0:latestValue.response.data,latestResponseErrors:latestValue===null||latestValue===void 0?void 0:latestValue.response.errors,loaded:latestValue===null||latestValue===void 0?void 0:latestValue.response.loaded,total:latestValue===null||latestValue===void 0?void 0:latestValue.response.total}}},197:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return isTimestampColumnRenderConfiguration}));__webpack_require__.d(__webpack_exports__,"c",(function(){return isMessageColumnRenderConfiguration}));__webpack_require__.d(__webpack_exports__,"b",(function(){return isFieldColumnRenderConfiguration}));__webpack_require__.d(__webpack_exports__,"a",(function(){return columnWidthToCSS}));function isTimestampColumnRenderConfiguration(column){return"timestampColumn"in column}function isMessageColumnRenderConfiguration(column){return"messageColumn"in column}function isFieldColumnRenderConfiguration(column){return"fieldColumn"in column}function columnWidthToCSS(width){return typeof width==="number"?`${width}px`:width}},198:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return NoData}));var _elastic_eui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8);var _elastic_eui__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);var react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);var _src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11);var _src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_2__);const NoData=({titleText:titleText,bodyText:bodyText,refetchText:refetchText,onRefetch:onRefetch,testString:testString})=>react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(CenteredEmptyPrompt,{title:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h2",null,titleText),titleSize:"m",body:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p",null,bodyText),actions:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__["EuiButton"],{iconType:"refresh",color:"primary",fill:true,onClick:onRefetch},refetchText),"data-test-subj":testString});const CenteredEmptyPrompt=Object(_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_2__["euiStyled"])(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__["EuiEmptyPrompt"])`
  align-self: center;
`},199:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return localizedDate}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__);function localizedDate(dateTime,locale=_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].getLocale()){const formatter=new Intl.DateTimeFormat(locale,{year:"numeric",month:"short",day:"numeric"});return formatter.format(dateTime)}},209:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return useLogStream}));__webpack_require__.d(__webpack_exports__,"a",(function(){return LogStreamProvider}));__webpack_require__.d(__webpack_exports__,"c",(function(){return useLogStreamContext}));var external_kbnSharedDeps_React_=__webpack_require__(1);var constate_cjs=__webpack_require__(83);var constate_cjs_default=__webpack_require__.n(constate_cjs);var usePrevious=__webpack_require__(194);var usePrevious_default=__webpack_require__.n(usePrevious);var useSetState=__webpack_require__(221);var useSetState_default=__webpack_require__.n(useSetState);var public_=__webpack_require__(31);var use_observable=__webpack_require__(117);var external_kbnSharedDeps_RxjsOperators_=__webpack_require__(72);var runtime_types=__webpack_require__(13);var lib=__webpack_require__(0);var log_sources=__webpack_require__(9);var log_entry=__webpack_require__(133);var typed_json=__webpack_require__(156);var errors=__webpack_require__(252);const LOG_ENTRIES_SEARCH_STRATEGY="infra-log-entries";const logEntriesBaseSearchRequestParamsRT=lib["intersection"]([lib["type"]({sourceId:lib["string"],startTimestamp:lib["number"],endTimestamp:lib["number"],size:lib["number"]}),lib["partial"]({query:typed_json["b"],columns:lib["array"](log_sources["e"]),highlightPhrase:lib["string"]})]);const logEntriesBeforeSearchRequestParamsRT=lib["intersection"]([logEntriesBaseSearchRequestParamsRT,log_entry["b"]]);const logEntriesAfterSearchRequestParamsRT=lib["intersection"]([logEntriesBaseSearchRequestParamsRT,log_entry["a"]]);const logEntriesSearchRequestParamsRT=lib["union"]([logEntriesBaseSearchRequestParamsRT,logEntriesBeforeSearchRequestParamsRT,logEntriesAfterSearchRequestParamsRT]);const logEntriesSearchResponsePayloadRT=lib["intersection"]([lib["type"]({data:lib["intersection"]([lib["type"]({entries:lib["array"](log_entry["f"]),topCursor:lib["union"]([log_entry["d"],lib["null"]]),bottomCursor:lib["union"]([log_entry["d"],lib["null"]])}),lib["partial"]({hasMoreBefore:lib["boolean"],hasMoreAfter:lib["boolean"]})])}),lib["partial"]({errors:lib["array"](errors["a"])})]);var data_search=__webpack_require__(157);const useLogEntriesAfterRequest=({columnOverrides:columnOverrides,endTimestamp:endTimestamp,highlightPhrase:highlightPhrase,query:query,sourceId:sourceId,startTimestamp:startTimestamp})=>{const{search:fetchLogEntriesAfter,requests$:logEntriesAfterSearchRequests$}=Object(data_search["useDataSearch"])({getRequest:Object(external_kbnSharedDeps_React_["useCallback"])((cursor,params)=>{var _params$extendTo;return!!sourceId?{request:{params:logEntriesSearchRequestParamsRT.encode({after:cursor,columns:columnOverrides,endTimestamp:(_params$extendTo=params===null||params===void 0?void 0:params.extendTo)!==null&&_params$extendTo!==void 0?_params$extendTo:endTimestamp,highlightPhrase:highlightPhrase,query:query,size:params.size,sourceId:sourceId,startTimestamp:startTimestamp})},options:{strategy:LOG_ENTRIES_SEARCH_STRATEGY}}:null},[columnOverrides,endTimestamp,highlightPhrase,query,sourceId,startTimestamp]),parseResponses:parseLogEntriesAfterSearchResponses});return{fetchLogEntriesAfter:fetchLogEntriesAfter,logEntriesAfterSearchRequests$:logEntriesAfterSearchRequests$}};const useLogEntriesAfterResponse=logEntriesAfterSearchRequests$=>{const logEntriesAfterSearchResponse$=Object(use_observable["d"])(logEntriesAfterSearchRequests$,flattenLogEntriesAfterSearchResponse);const{cancelRequest:cancelRequest,isRequestRunning:isRequestRunning,isResponsePartial:isResponsePartial,loaded:loaded,total:total}=Object(data_search["useDataSearchResponseState"])(logEntriesAfterSearchResponse$);return{cancelRequest:cancelRequest,isRequestRunning:isRequestRunning,isResponsePartial:isResponsePartial,loaded:loaded,logEntriesAfterSearchRequests$:logEntriesAfterSearchRequests$,logEntriesAfterSearchResponse$:logEntriesAfterSearchResponse$,total:total}};const useFetchLogEntriesAfter=({columnOverrides:columnOverrides,endTimestamp:endTimestamp,highlightPhrase:highlightPhrase,query:query,sourceId:sourceId,startTimestamp:startTimestamp})=>{const{fetchLogEntriesAfter:fetchLogEntriesAfter,logEntriesAfterSearchRequests$:logEntriesAfterSearchRequests$}=useLogEntriesAfterRequest({columnOverrides:columnOverrides,endTimestamp:endTimestamp,highlightPhrase:highlightPhrase,query:query,sourceId:sourceId,startTimestamp:startTimestamp});const{cancelRequest:cancelRequest,isRequestRunning:isRequestRunning,isResponsePartial:isResponsePartial,loaded:loaded,logEntriesAfterSearchResponse$:logEntriesAfterSearchResponse$,total:total}=useLogEntriesAfterResponse(logEntriesAfterSearchRequests$);return{cancelRequest:cancelRequest,fetchLogEntriesAfter:fetchLogEntriesAfter,isRequestRunning:isRequestRunning,isResponsePartial:isResponsePartial,loaded:loaded,logEntriesAfterSearchResponse$:logEntriesAfterSearchResponse$,total:total}};const parseLogEntriesAfterSearchResponses=Object(data_search["normalizeDataSearchResponses"])(null,Object(runtime_types["b"])(logEntriesSearchResponsePayloadRT));const flattenLogEntriesAfterSearchResponse=Object(external_kbnSharedDeps_RxjsOperators_["exhaustMap"])(data_search["flattenDataSearchResponseDescriptor"]);var external_kbnSharedDeps_Rxjs_=__webpack_require__(74);const useLogEntriesBeforeRequest=({columnOverrides:columnOverrides,endTimestamp:endTimestamp,highlightPhrase:highlightPhrase,query:query,sourceId:sourceId,startTimestamp:startTimestamp})=>{const{search:fetchLogEntriesBefore,requests$:logEntriesBeforeSearchRequests$}=Object(data_search["useDataSearch"])({getRequest:Object(external_kbnSharedDeps_React_["useCallback"])((cursor,params)=>{var _params$extendTo;return!!sourceId?{request:{params:logEntriesSearchRequestParamsRT.encode({before:cursor,columns:columnOverrides,endTimestamp:endTimestamp,highlightPhrase:highlightPhrase,query:query,size:params.size,sourceId:sourceId,startTimestamp:(_params$extendTo=params.extendTo)!==null&&_params$extendTo!==void 0?_params$extendTo:startTimestamp})},options:{strategy:LOG_ENTRIES_SEARCH_STRATEGY}}:null},[columnOverrides,endTimestamp,highlightPhrase,query,sourceId,startTimestamp]),parseResponses:parseLogEntriesBeforeSearchResponses});return{fetchLogEntriesBefore:fetchLogEntriesBefore,logEntriesBeforeSearchRequests$:logEntriesBeforeSearchRequests$}};const useLogEntriesBeforeResponse=logEntriesBeforeSearchRequests$=>{const logEntriesBeforeSearchResponse$=Object(use_observable["d"])(logEntriesBeforeSearchRequests$,flattenLogEntriesBeforeSearchResponse);const{cancelRequest:cancelRequest,isRequestRunning:isRequestRunning,isResponsePartial:isResponsePartial,loaded:loaded,total:total}=Object(data_search["useDataSearchResponseState"])(logEntriesBeforeSearchResponse$);return{cancelRequest:cancelRequest,isRequestRunning:isRequestRunning,isResponsePartial:isResponsePartial,loaded:loaded,logEntriesBeforeSearchRequests$:logEntriesBeforeSearchRequests$,logEntriesBeforeSearchResponse$:logEntriesBeforeSearchResponse$,total:total}};const useFetchLogEntriesBefore=({columnOverrides:columnOverrides,endTimestamp:endTimestamp,highlightPhrase:highlightPhrase,query:query,sourceId:sourceId,startTimestamp:startTimestamp})=>{const{fetchLogEntriesBefore:fetchLogEntriesBefore,logEntriesBeforeSearchRequests$:logEntriesBeforeSearchRequests$}=useLogEntriesBeforeRequest({columnOverrides:columnOverrides,endTimestamp:endTimestamp,highlightPhrase:highlightPhrase,query:query,sourceId:sourceId,startTimestamp:startTimestamp});const{cancelRequest:cancelRequest,isRequestRunning:isRequestRunning,isResponsePartial:isResponsePartial,loaded:loaded,logEntriesBeforeSearchResponse$:logEntriesBeforeSearchResponse$,total:total}=useLogEntriesBeforeResponse(logEntriesBeforeSearchRequests$);return{cancelRequest:cancelRequest,fetchLogEntriesBefore:fetchLogEntriesBefore,isRequestRunning:isRequestRunning,isResponsePartial:isResponsePartial,loaded:loaded,logEntriesBeforeSearchResponse$:logEntriesBeforeSearchResponse$,total:total}};const parseLogEntriesBeforeSearchResponses=Object(data_search["normalizeDataSearchResponses"])(null,Object(runtime_types["b"])(logEntriesSearchResponsePayloadRT));const flattenLogEntriesBeforeSearchResponse=Object(external_kbnSharedDeps_RxjsOperators_["exhaustMap"])(data_search["flattenDataSearchResponseDescriptor"]);const useFetchLogEntriesAround=({columnOverrides:columnOverrides,endTimestamp:endTimestamp,highlightPhrase:highlightPhrase,query:query,sourceId:sourceId,startTimestamp:startTimestamp})=>{var _latestCombinedRespon,_latestCombinedRespon2;const{fetchLogEntriesBefore:fetchLogEntriesBefore}=useLogEntriesBeforeRequest({columnOverrides:columnOverrides,endTimestamp:endTimestamp,highlightPhrase:highlightPhrase,query:query,sourceId:sourceId,startTimestamp:startTimestamp});const{fetchLogEntriesAfter:fetchLogEntriesAfter}=useLogEntriesAfterRequest({columnOverrides:columnOverrides,endTimestamp:endTimestamp,highlightPhrase:highlightPhrase,query:query,sourceId:sourceId,startTimestamp:startTimestamp});const logEntriesAroundSearchRequests$=Object(use_observable["b"])(()=>new external_kbnSharedDeps_Rxjs_["ReplaySubject"],[]);const fetchLogEntriesAround=Object(external_kbnSharedDeps_React_["useCallback"])((cursor,size)=>{const logEntriesBeforeSearchRequest=fetchLogEntriesBefore(cursor,{size:Math.floor(size/2)});if(logEntriesBeforeSearchRequest==null){return}const logEntriesAfterSearchRequest$=Object(data_search["flattenDataSearchResponseDescriptor"])(logEntriesBeforeSearchRequest).pipe(Object(external_kbnSharedDeps_RxjsOperators_["last"])(),Object(external_kbnSharedDeps_RxjsOperators_["map"])(lastBeforeSearchResponse=>{var _lastBeforeSearchResp,_lastBeforeSearchResp2;const cursorAfter=(_lastBeforeSearchResp=(_lastBeforeSearchResp2=lastBeforeSearchResponse.response.data)===null||_lastBeforeSearchResp2===void 0?void 0:_lastBeforeSearchResp2.bottomCursor)!==null&&_lastBeforeSearchResp!==void 0?_lastBeforeSearchResp:{time:cursor.time-1,tiebreaker:0};const logEntriesAfterSearchRequest=fetchLogEntriesAfter(cursorAfter,{size:Math.ceil(size/2)});if(logEntriesAfterSearchRequest==null){throw new Error("Failed to create request: no request args given")}return logEntriesAfterSearchRequest}));logEntriesAroundSearchRequests$.next([logEntriesBeforeSearchRequest,logEntriesAfterSearchRequest$])},[fetchLogEntriesAfter,fetchLogEntriesBefore,logEntriesAroundSearchRequests$]);const logEntriesAroundSearchResponses$=Object(use_observable["b"])(inputs$=>inputs$.pipe(Object(external_kbnSharedDeps_RxjsOperators_["switchMap"])(([currentSearchRequests$])=>currentSearchRequests$.pipe(Object(external_kbnSharedDeps_RxjsOperators_["switchMap"])(([beforeRequest,afterRequest$])=>{const beforeResponse$=Object(data_search["flattenDataSearchResponseDescriptor"])(beforeRequest);const afterResponse$=afterRequest$.pipe(Object(external_kbnSharedDeps_RxjsOperators_["switchMap"])(data_search["flattenDataSearchResponseDescriptor"]),Object(external_kbnSharedDeps_RxjsOperators_["startWith"])(undefined));return Object(external_kbnSharedDeps_Rxjs_["combineLatest"])([beforeResponse$,afterResponse$])}),Object(external_kbnSharedDeps_RxjsOperators_["map"])(([beforeResponse,afterResponse])=>{var _ref,_ref2,_beforeResponse$respo,_beforeResponse$respo2,_afterResponse$respon,_afterResponse$respon2,_beforeResponse$respo3,_afterResponse$respon3,_beforeResponse$respo4,_afterResponse$respon4,_beforeResponse$respo5,_afterResponse$respon5;const loadedBefore=beforeResponse.response.loaded;const loadedAfter=afterResponse===null||afterResponse===void 0?void 0:afterResponse.response.loaded;const totalBefore=beforeResponse.response.total;const totalAfter=afterResponse===null||afterResponse===void 0?void 0:afterResponse.response.total;return{before:beforeResponse,after:afterResponse,combined:{isRunning:(_ref=beforeResponse.response.isRunning||(afterResponse===null||afterResponse===void 0?void 0:afterResponse.response.isRunning))!==null&&_ref!==void 0?_ref:false,isPartial:(_ref2=beforeResponse.response.isPartial||(afterResponse===null||afterResponse===void 0?void 0:afterResponse.response.isPartial))!==null&&_ref2!==void 0?_ref2:false,loaded:loadedBefore!=null||loadedAfter!=null?(loadedBefore!==null&&loadedBefore!==void 0?loadedBefore:0)+(loadedAfter!==null&&loadedAfter!==void 0?loadedAfter:0):undefined,total:totalBefore!=null||totalAfter!=null?(totalBefore!==null&&totalBefore!==void 0?totalBefore:0)+(totalAfter!==null&&totalAfter!==void 0?totalAfter:0):undefined,entries:[...(_beforeResponse$respo=(_beforeResponse$respo2=beforeResponse.response.data)===null||_beforeResponse$respo2===void 0?void 0:_beforeResponse$respo2.entries)!==null&&_beforeResponse$respo!==void 0?_beforeResponse$respo:[],...(_afterResponse$respon=afterResponse===null||afterResponse===void 0?void 0:(_afterResponse$respon2=afterResponse.response.data)===null||_afterResponse$respon2===void 0?void 0:_afterResponse$respon2.entries)!==null&&_afterResponse$respon!==void 0?_afterResponse$respon:[]],errors:[...(_beforeResponse$respo3=beforeResponse.response.errors)!==null&&_beforeResponse$respo3!==void 0?_beforeResponse$respo3:[],...(_afterResponse$respon3=afterResponse===null||afterResponse===void 0?void 0:afterResponse.response.errors)!==null&&_afterResponse$respon3!==void 0?_afterResponse$respon3:[]],hasMoreBefore:(_beforeResponse$respo4=beforeResponse.response.data)===null||_beforeResponse$respo4===void 0?void 0:_beforeResponse$respo4.hasMoreBefore,hasMoreAfter:afterResponse===null||afterResponse===void 0?void 0:(_afterResponse$respon4=afterResponse.response.data)===null||_afterResponse$respon4===void 0?void 0:_afterResponse$respon4.hasMoreAfter,topCursor:(_beforeResponse$respo5=beforeResponse.response.data)===null||_beforeResponse$respo5===void 0?void 0:_beforeResponse$respo5.topCursor,bottomCursor:afterResponse===null||afterResponse===void 0?void 0:(_afterResponse$respon5=afterResponse.response.data)===null||_afterResponse$respon5===void 0?void 0:_afterResponse$respon5.bottomCursor}}})))),[logEntriesAroundSearchRequests$]);const{latestValue:{before:latestBeforeResponse,after:latestAfterResponse,combined:latestCombinedResponse}}=Object(use_observable["c"])(logEntriesAroundSearchResponses$,initialCombinedResponse);const cancelRequest=Object(external_kbnSharedDeps_React_["useCallback"])(()=>{latestBeforeResponse===null||latestBeforeResponse===void 0?void 0:latestBeforeResponse.abortController.abort();latestAfterResponse===null||latestAfterResponse===void 0?void 0:latestAfterResponse.abortController.abort()},[latestBeforeResponse,latestAfterResponse]);return{cancelRequest:cancelRequest,fetchLogEntriesAround:fetchLogEntriesAround,isRequestRunning:(_latestCombinedRespon=latestCombinedResponse===null||latestCombinedResponse===void 0?void 0:latestCombinedResponse.isRunning)!==null&&_latestCombinedRespon!==void 0?_latestCombinedRespon:false,isResponsePartial:(_latestCombinedRespon2=latestCombinedResponse===null||latestCombinedResponse===void 0?void 0:latestCombinedResponse.isPartial)!==null&&_latestCombinedRespon2!==void 0?_latestCombinedRespon2:false,loaded:latestCombinedResponse===null||latestCombinedResponse===void 0?void 0:latestCombinedResponse.loaded,logEntriesAroundSearchResponses$:logEntriesAroundSearchResponses$,total:latestCombinedResponse===null||latestCombinedResponse===void 0?void 0:latestCombinedResponse.total}};const initialCombinedResponse={before:undefined,after:undefined,combined:undefined};const INITIAL_STATE={entries:[],topCursor:null,bottomCursor:null,hasMoreBefore:true,hasMoreAfter:true};const LOG_ENTRIES_CHUNK_SIZE=200;function useLogStream({sourceId:sourceId,startTimestamp:startTimestamp,endTimestamp:endTimestamp,query:query,center:center,columns:columns}){const[state,setState]=useSetState_default()(INITIAL_STATE);const[resetOnSuccess,setResetOnSuccess]=Object(external_kbnSharedDeps_React_["useState"])(false);const prevStartTimestamp=usePrevious_default()(startTimestamp);const prevEndTimestamp=usePrevious_default()(endTimestamp);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(prevStartTimestamp&&prevStartTimestamp>startTimestamp){setState({hasMoreBefore:true})}},[prevStartTimestamp,startTimestamp,setState]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(prevEndTimestamp&&prevEndTimestamp<endTimestamp){setState({hasMoreAfter:true})}},[prevEndTimestamp,endTimestamp,setState]);const parsedQuery=Object(external_kbnSharedDeps_React_["useMemo"])(()=>{if(!query){return undefined}else if(typeof query==="string"){return public_["esKuery"].toElasticsearchQuery(public_["esKuery"].fromKueryExpression(query))}else if("language"in query){return getEsQueryFromQueryObject(query)}else{return query}},[query]);const commonFetchArguments=Object(external_kbnSharedDeps_React_["useMemo"])(()=>({sourceId:sourceId,startTimestamp:startTimestamp,endTimestamp:endTimestamp,query:parsedQuery,columnOverrides:columns}),[columns,endTimestamp,parsedQuery,sourceId,startTimestamp]);const{fetchLogEntriesAround:fetchLogEntriesAround,isRequestRunning:isLogEntriesAroundRequestRunning,logEntriesAroundSearchResponses$:logEntriesAroundSearchResponses$}=useFetchLogEntriesAround(commonFetchArguments);Object(use_observable["e"])(logEntriesAroundSearchResponses$,{next:({before:before,after:after,combined:combined})=>{if((before.response.data!=null||(after===null||after===void 0?void 0:after.response.data)!=null)&&!combined.isPartial){setState(_prevState=>{var _combined$hasMoreAfte,_combined$hasMoreAfte2;const prevState=resetOnSuccess?INITIAL_STATE:_prevState;return{...resetOnSuccess?INITIAL_STATE:prevState,entries:combined.entries,hasMoreAfter:(_combined$hasMoreAfte=combined.hasMoreAfter)!==null&&_combined$hasMoreAfte!==void 0?_combined$hasMoreAfte:prevState.hasMoreAfter,hasMoreBefore:(_combined$hasMoreAfte2=combined.hasMoreAfter)!==null&&_combined$hasMoreAfte2!==void 0?_combined$hasMoreAfte2:prevState.hasMoreAfter,bottomCursor:combined.bottomCursor,topCursor:combined.topCursor,lastLoadedTime:new Date}});if(resetOnSuccess){setResetOnSuccess(false)}}}});const{fetchLogEntriesBefore:fetchLogEntriesBefore,isRequestRunning:isLogEntriesBeforeRequestRunning,logEntriesBeforeSearchResponse$:logEntriesBeforeSearchResponse$}=useFetchLogEntriesBefore(commonFetchArguments);Object(use_observable["e"])(logEntriesBeforeSearchResponse$,{next:({response:{data:data,isPartial:isPartial}})=>{if(data!=null&&!isPartial){setState(_prevState=>{var _data$hasMoreBefore,_data$topCursor,_prevState$bottomCurs;const prevState=resetOnSuccess?INITIAL_STATE:_prevState;return{...resetOnSuccess?INITIAL_STATE:prevState,entries:[...data.entries,...prevState.entries],hasMoreBefore:(_data$hasMoreBefore=data.hasMoreBefore)!==null&&_data$hasMoreBefore!==void 0?_data$hasMoreBefore:prevState.hasMoreBefore,topCursor:(_data$topCursor=data.topCursor)!==null&&_data$topCursor!==void 0?_data$topCursor:prevState.topCursor,bottomCursor:(_prevState$bottomCurs=prevState.bottomCursor)!==null&&_prevState$bottomCurs!==void 0?_prevState$bottomCurs:data.bottomCursor,lastLoadedTime:new Date}});if(resetOnSuccess){setResetOnSuccess(false)}}}});const fetchPreviousEntries=Object(external_kbnSharedDeps_React_["useCallback"])(params=>{if(state.topCursor===null){throw new Error("useLogStream: Cannot fetch previous entries. No cursor is set.\nEnsure you have called `fetchEntries` at least once.")}if(!state.hasMoreBefore&&!(params!==null&&params!==void 0&&params.force)){return}fetchLogEntriesBefore(state.topCursor,{size:LOG_ENTRIES_CHUNK_SIZE,extendTo:params===null||params===void 0?void 0:params.extendTo})},[fetchLogEntriesBefore,state.topCursor,state.hasMoreBefore]);const{fetchLogEntriesAfter:fetchLogEntriesAfter,isRequestRunning:isLogEntriesAfterRequestRunning,logEntriesAfterSearchResponse$:logEntriesAfterSearchResponse$}=useFetchLogEntriesAfter(commonFetchArguments);Object(use_observable["e"])(logEntriesAfterSearchResponse$,{next:({response:{data:data,isPartial:isPartial}})=>{if(data!=null&&!isPartial){setState(_prevState=>{var _data$hasMoreAfter,_prevState$topCursor,_data$bottomCursor;const prevState=resetOnSuccess?INITIAL_STATE:_prevState;return{...resetOnSuccess?INITIAL_STATE:prevState,entries:[...prevState.entries,...data.entries],hasMoreAfter:(_data$hasMoreAfter=data.hasMoreAfter)!==null&&_data$hasMoreAfter!==void 0?_data$hasMoreAfter:prevState.hasMoreAfter,topCursor:(_prevState$topCursor=prevState.topCursor)!==null&&_prevState$topCursor!==void 0?_prevState$topCursor:data.topCursor,bottomCursor:(_data$bottomCursor=data.bottomCursor)!==null&&_data$bottomCursor!==void 0?_data$bottomCursor:prevState.bottomCursor,lastLoadedTime:new Date}});if(resetOnSuccess){setResetOnSuccess(false)}}}});const fetchNextEntries=Object(external_kbnSharedDeps_React_["useCallback"])(params=>{if(state.bottomCursor===null){throw new Error("useLogStream: Cannot fetch next entries. No cursor is set.\nEnsure you have called `fetchEntries` at least once.")}if(!state.hasMoreAfter&&!(params!==null&&params!==void 0&&params.force)){return}fetchLogEntriesAfter(state.bottomCursor,{size:LOG_ENTRIES_CHUNK_SIZE,extendTo:params===null||params===void 0?void 0:params.extendTo})},[fetchLogEntriesAfter,state.bottomCursor,state.hasMoreAfter]);const fetchEntries=Object(external_kbnSharedDeps_React_["useCallback"])(()=>{setState(INITIAL_STATE);if(center){fetchLogEntriesAround(center,LOG_ENTRIES_CHUNK_SIZE)}else{fetchLogEntriesBefore("last",{size:LOG_ENTRIES_CHUNK_SIZE})}},[center,fetchLogEntriesAround,fetchLogEntriesBefore,setState]);const fetchNewestEntries=Object(external_kbnSharedDeps_React_["useCallback"])(()=>{setResetOnSuccess(true);fetchLogEntriesBefore("last",{size:LOG_ENTRIES_CHUNK_SIZE})},[fetchLogEntriesBefore]);const isReloading=Object(external_kbnSharedDeps_React_["useMemo"])(()=>isLogEntriesAroundRequestRunning||state.bottomCursor==null&&state.topCursor==null&&isLogEntriesBeforeRequestRunning,[isLogEntriesAroundRequestRunning,isLogEntriesBeforeRequestRunning,state.bottomCursor,state.topCursor]);const isLoadingMore=Object(external_kbnSharedDeps_React_["useMemo"])(()=>isLogEntriesBeforeRequestRunning||isLogEntriesAfterRequestRunning,[isLogEntriesAfterRequestRunning,isLogEntriesBeforeRequestRunning]);return{...state,fetchEntries:fetchEntries,fetchNextEntries:fetchNextEntries,fetchPreviousEntries:fetchPreviousEntries,fetchNewestEntries:fetchNewestEntries,isLoadingMore:isLoadingMore,isReloading:isReloading}}function getEsQueryFromQueryObject(query){switch(query.language){case"kuery":return public_["esKuery"].toElasticsearchQuery(public_["esKuery"].fromKueryExpression(query.query));case"lucene":return public_["esQuery"].luceneStringToDsl(query.query)}}const[LogStreamProvider,useLogStreamContext]=constate_cjs_default()(useLogStream)},211:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return pickTimeKey}));__webpack_require__.d(__webpack_exports__,"a",(function(){return compareToTimeKey}));__webpack_require__.d(__webpack_exports__,"b",(function(){return getIndexAtTimeKey}));let TimeUnit;(function(TimeUnit){TimeUnit[TimeUnit["Millisecond"]=1]="Millisecond";TimeUnit[TimeUnit["Second"]=1e3]="Second";TimeUnit[TimeUnit["Minute"]=6e4]="Minute";TimeUnit[TimeUnit["Hour"]=36e5]="Hour";TimeUnit[TimeUnit["Day"]=864e5]="Day";TimeUnit[TimeUnit["Month"]=2592e6]="Month";TimeUnit[TimeUnit["Year"]=31104e6]="Year"})(TimeUnit||(TimeUnit={}));const timeUnitLabels={[TimeUnit.Millisecond]:"ms",[TimeUnit.Second]:"s",[TimeUnit.Minute]:"m",[TimeUnit.Hour]:"h",[TimeUnit.Day]:"d",[TimeUnit.Month]:"M",[TimeUnit.Year]:"y"};const elasticSearchTimeUnits={[TimeUnit.Second]:"s",[TimeUnit.Minute]:"m",[TimeUnit.Hour]:"h",[TimeUnit.Day]:"d",[TimeUnit.Month]:"M",[TimeUnit.Year]:"y"};const getElasticSearchTimeUnit=scale=>elasticSearchTimeUnits[scale];const getMillisOfScale=scale=>scale.unit*scale.value;const getLabelOfScale=scale=>`${scale.value}${timeUnitLabels[scale.unit]}`;const decomposeIntoUnits=(time,units)=>units.reduce((result,unitMillis)=>{const offset=result.reduce((accumulatedOffset,timeScale)=>accumulatedOffset+getMillisOfScale(timeScale),0);const value=Math.floor((time-offset)/unitMillis);if(value>0){return[...result,{unit:unitMillis,value:value}]}else{return result}},[]);var d3_array=__webpack_require__(136);var external_kbnSharedDeps_Lodash_=__webpack_require__(21);const isTimeKey=value=>value&&typeof value==="object"&&typeof value.time==="number"&&typeof value.tiebreaker==="number";const pickTimeKey=value=>Object(external_kbnSharedDeps_Lodash_["pick"])(value,["time","tiebreaker"]);function compareTimeKeys(firstKey,secondKey,compareValues=d3_array["ascending"]){const timeComparison=compareValues(firstKey.time,secondKey.time);if(timeComparison===0){const tiebreakerComparison=compareValues(firstKey.tiebreaker,secondKey.tiebreaker);if(tiebreakerComparison===0&&typeof firstKey.gid!=="undefined"&&typeof secondKey.gid!=="undefined"){return compareValues(firstKey.gid,secondKey.gid)}return tiebreakerComparison}return timeComparison}const compareToTimeKey=(keyAccessor,compareValues)=>(value,key)=>compareTimeKeys(keyAccessor(value),key,compareValues);const getIndexAtTimeKey=(keyAccessor,compareValues)=>{const comparator=compareToTimeKey(keyAccessor,compareValues);const collectionBisector=Object(d3_array["bisector"])(comparator);return(collection,key)=>{const index=collectionBisector.left(collection,key);if(index>=collection.length){return null}if(comparator(collection[index],key)!==0){return null}return index}};const timeKeyIsBetween=(min,max,operand)=>compareTimeKeys(min,operand)<=0&&compareTimeKeys(max,operand)>=0;const getPreviousTimeKey=timeKey=>({...timeKey,time:timeKey.time,tiebreaker:timeKey.tiebreaker-1});const getNextTimeKey=timeKey=>({...timeKey,time:timeKey.time,tiebreaker:timeKey.tiebreaker+1});var time_range=__webpack_require__(35)},213:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FieldValue}));var json_stable_stringify=__webpack_require__(384);var json_stable_stringify_default=__webpack_require__.n(json_stable_stringify);var external_kbnSharedDeps_React_=__webpack_require__(1);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var common_=__webpack_require__(11);var external_kbnSharedDeps_Lodash_=__webpack_require__(21);var lib=__webpack_require__(114);const asPropReader=reader=>typeof reader==="function"?reader:(props,defaultValue)=>Object(external_kbnSharedDeps_Lodash_["get"])(props,reader,defaultValue);const switchProp=Object.assign((propName,options)=>props=>{const propValue=asPropReader(propName)(props,switchProp.default);if(typeof propValue==="undefined"){return}return options instanceof Map?options.get(propValue):Object(external_kbnSharedDeps_Lodash_["get"])(options,propValue)},{default:Symbol("default")});const ifProp=(propName,pass,fail)=>props=>asPropReader(propName)(props)?pass:fail;const tintOrShade=(textColor,color,tintFraction,shadeFraction)=>{if(Object(lib["parseToHsl"])(textColor).lightness>.5){return Object(lib["shade"])(1-shadeFraction,color)}else{return Object(lib["tint"])(1-tintFraction,color)}};const getContrast=(color1,color2)=>{const luminance1=Object(lib["getLuminance"])(color1);const luminance2=Object(lib["getLuminance"])(color2);return parseFloat((luminance1>luminance2?(luminance1+.05)/(luminance2+.05):(luminance2+.05)/(luminance1+.05)).toFixed(2))};const chooseLightOrDarkColor=(backgroundColor,lightColor,darkColor)=>{if(getContrast(backgroundColor,lightColor)>getContrast(backgroundColor,darkColor)){return lightColor}else{return darkColor}};const transparentize=(amount,color)=>{if(color==="transparent"){return color}const parsedColor=Object(lib["parseToRgb"])(color);const alpha="alpha"in parsedColor&&typeof parsedColor.alpha==="number"?parsedColor.alpha:1;const colorWithAlpha={...parsedColor,alpha:clampValue((alpha*100-amount*100)/100,0,1)};return Object(lib["rgba"])(colorWithAlpha)};const clampValue=(value,minValue,maxValue)=>Math.max(minValue,Math.min(maxValue,value));const ActiveHighlightMarker=common_["euiStyled"].mark`
  color: ${props=>chooseLightOrDarkColor(props.theme.eui.euiColorAccent,props.theme.eui.euiColorEmptyShade,props.theme.eui.euiColorDarkestShade)};
  background-color: ${props=>props.theme.eui.euiColorAccent};
  outline: 1px solid ${props=>props.theme.eui.euiColorAccent};
  };
`;const HighlightMarker=common_["euiStyled"].mark`
  color: ${props=>chooseLightOrDarkColor(tintOrShade(props.theme.eui.euiTextColor,props.theme.eui.euiColorAccent,.7,.5),props.theme.eui.euiColorEmptyShade,props.theme.eui.euiColorDarkestShade)};
  background-color: ${props=>tintOrShade(props.theme.eui.euiTextColor,props.theme.eui.euiColorAccent,.7,.5)};
  outline: 1px solid ${props=>tintOrShade(props.theme.eui.euiTextColor,props.theme.eui.euiColorAccent,.7,.5)};
  };
`;const highlightFieldValue=(value,highlightTerms,HighlightComponent)=>highlightTerms.reduce((fragments,highlightTerm,index)=>{const lastFragment=fragments[fragments.length-1];if(typeof lastFragment!=="string"){return fragments}const highlightTermPosition=lastFragment.indexOf(highlightTerm);if(highlightTermPosition>-1){return[...fragments.slice(0,fragments.length-1),lastFragment.slice(0,highlightTermPosition),external_kbnSharedDeps_React_default.a.createElement(HighlightComponent,{key:`highlight-${highlightTerm}-${index}`},highlightTerm),lastFragment.slice(highlightTermPosition+highlightTerm.length)]}else{return fragments}},[value]);const FieldValue=external_kbnSharedDeps_React_default.a.memo(({highlightTerms:highlightTerms,isActiveHighlight:isActiveHighlight,value:value,render:render})=>{if(render){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,render(value.length===1?value[0]:value))}if(value.length===1){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,highlightFieldValue(formatValue(value[0]),highlightTerms,isActiveHighlight?ActiveHighlightMarker:HighlightMarker))}else if(value.length>1){return external_kbnSharedDeps_React_default.a.createElement("ul",{"data-test-subj":"LogEntryFieldValues"},value.map((entry,i)=>external_kbnSharedDeps_React_default.a.createElement(CommaSeparatedLi,{key:`LogEntryFieldValue-${i}`,"data-test-subj":`LogEntryFieldValue-${i}`},highlightFieldValue(formatValue(entry),highlightTerms,isActiveHighlight?ActiveHighlightMarker:HighlightMarker))))}return null});const formatValue=value=>{if(typeof value==="string"){return value}return json_stable_stringify_default()(value)};const CommaSeparatedLi=common_["euiStyled"].li`
  display: inline;
  &:not(:last-child) {
    margin-right: 1ex;
    &::after {
      content: ',';
    }
  }
`},221:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var react_1=__webpack_require__(1);var useSetState=function(initialState){if(initialState===void 0){initialState={}}var _a=react_1.useState(initialState),state=_a[0],set=_a[1];var setState=react_1.useCallback((function(patch){set((function(prevState){return Object.assign({},prevState,patch instanceof Function?patch(prevState):patch)}))}),[set]);return[state,setState]};exports.default=useSetState},251:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"LogStream",(function(){return LogStream}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(21);var lodash__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);var _src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11);var _src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_2__);var _src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3);var _src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_3__);var _containers_logs_log_source__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(87);var _containers_logs_log_stream__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(209);var _logging_log_text_stream__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(171);const PAGE_THRESHOLD=2;const LogStream=({sourceId:sourceId="default",startTimestamp:startTimestamp,endTimestamp:endTimestamp,query:query,center:center,highlight:highlight,height:height="400px",columns:columns})=>{var _services$http;const customColumns=Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(()=>columns?convertLogColumnDefinitionToLogSourceColumnDefinition(columns):undefined,[columns]);const{services:services}=Object(_src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_3__["useKibana"])();if(!(services!==null&&services!==void 0&&(_services$http=services.http)!==null&&_services$http!==void 0&&_services$http.fetch)){throw new Error(`<LogStream /> cannot access kibana core services.\n\nEnsure the component is mounted within kibana-react's <KibanaContextProvider> hierarchy.\nRead more at https://github.com/elastic/kibana/blob/master/src/plugins/kibana_react/README.md"\n`)}const{sourceConfiguration:sourceConfiguration,loadSourceConfiguration:loadSourceConfiguration,isLoadingSourceConfiguration:isLoadingSourceConfiguration}=Object(_containers_logs_log_source__WEBPACK_IMPORTED_MODULE_4__["b"])({sourceId:sourceId,fetch:services.http.fetch});const{entries:entries,fetchEntries:fetchEntries,fetchNextEntries:fetchNextEntries,fetchPreviousEntries:fetchPreviousEntries,hasMoreAfter:hasMoreAfter,hasMoreBefore:hasMoreBefore,isLoadingMore:isLoadingMore,isReloading:isReloading}=Object(_containers_logs_log_stream__WEBPACK_IMPORTED_MODULE_5__["b"])({sourceId:sourceId,startTimestamp:startTimestamp,endTimestamp:endTimestamp,query:query,center:center,columns:customColumns});const columnConfigurations=Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(()=>sourceConfiguration?customColumns!==null&&customColumns!==void 0?customColumns:sourceConfiguration.configuration.logColumns:[],[sourceConfiguration,customColumns]);const streamItems=Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(()=>entries.map(entry=>({kind:"logEntry",logEntry:entry,highlights:[]})),[entries]);const parsedHeight=typeof height==="number"?`${height}px`:height;Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(()=>{loadSourceConfiguration()},[loadSourceConfiguration]);Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(()=>{fetchEntries()},[fetchEntries]);const handlePagination=Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])(({fromScroll:fromScroll,pagesBeforeStart:pagesBeforeStart,pagesAfterEnd:pagesAfterEnd})=>{if(!fromScroll){return}if(isLoadingMore){return}if(pagesBeforeStart<PAGE_THRESHOLD){fetchPreviousEntries()}else if(pagesAfterEnd<PAGE_THRESHOLD){fetchNextEntries()}},[isLoadingMore,fetchPreviousEntries,fetchNextEntries]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(LogStreamContent,{height:parsedHeight},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_logging_log_text_stream__WEBPACK_IMPORTED_MODULE_6__["g"],{target:center?center:entries.length?entries[entries.length-1].cursor:null,columnConfigurations:columnConfigurations,items:streamItems,scale:"medium",wrap:true,isReloading:isLoadingSourceConfiguration||isReloading,isLoadingMore:isLoadingMore,hasMoreBeforeStart:hasMoreBefore,hasMoreAfterEnd:hasMoreAfter,isStreaming:false,jumpToTarget:lodash__WEBPACK_IMPORTED_MODULE_1__["noop"],reportVisibleInterval:handlePagination,reloadItems:fetchEntries,highlightedItem:highlight!==null&&highlight!==void 0?highlight:null,currentHighlightKey:null,startDateExpression:"",endDateExpression:"",updateDateRange:lodash__WEBPACK_IMPORTED_MODULE_1__["noop"],startLiveStreaming:lodash__WEBPACK_IMPORTED_MODULE_1__["noop"],hideScrollbar:false}))};const LogStreamContent=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_2__["euiStyled"].div`
  display: flex;
  background-color: ${props=>props.theme.eui.euiColorEmptyShade};
  height: ${props=>props.height};
`;function convertLogColumnDefinitionToLogSourceColumnDefinition(columns){return columns.map(column=>{switch(column.type){case"timestamp":{const{width:width,header:header,render:render}=column;return{timestampColumn:{id:"___#timestamp",width:width,header:header,render:render}}}case"message":{const{width:width,header:header,render:render}=column;return{messageColumn:{id:"___#message",width:width,header:header,render:render}}}case"field":{const{width:width,header:header,render:render}=column;return{fieldColumn:{id:`___#${column.field}`,field:column.field,width:width,header:header,render:render}}}}})}__webpack_exports__["default"]=LogStream},252:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return searchStrategyErrorRT}));var io_ts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var io_ts__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(io_ts__WEBPACK_IMPORTED_MODULE_0__);const abortedRequestSearchStrategyErrorRT=io_ts__WEBPACK_IMPORTED_MODULE_0__["type"]({type:io_ts__WEBPACK_IMPORTED_MODULE_0__["literal"]("aborted")});const genericSearchStrategyErrorRT=io_ts__WEBPACK_IMPORTED_MODULE_0__["type"]({type:io_ts__WEBPACK_IMPORTED_MODULE_0__["literal"]("generic"),message:io_ts__WEBPACK_IMPORTED_MODULE_0__["string"]});const shardFailureSearchStrategyErrorRT=io_ts__WEBPACK_IMPORTED_MODULE_0__["type"]({type:io_ts__WEBPACK_IMPORTED_MODULE_0__["literal"]("shardFailure"),shardInfo:io_ts__WEBPACK_IMPORTED_MODULE_0__["type"]({shard:io_ts__WEBPACK_IMPORTED_MODULE_0__["number"],index:io_ts__WEBPACK_IMPORTED_MODULE_0__["string"],node:io_ts__WEBPACK_IMPORTED_MODULE_0__["string"]}),message:io_ts__WEBPACK_IMPORTED_MODULE_0__["string"]});const searchStrategyErrorRT=io_ts__WEBPACK_IMPORTED_MODULE_0__["union"]([abortedRequestSearchStrategyErrorRT,genericSearchStrategyErrorRT,shardFailureSearchStrategyErrorRT])},253:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return normalizeDataSearchResponses}));var rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(74);var rxjs__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(rxjs__WEBPACK_IMPORTED_MODULE_0__);var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(72);var rxjs_operators__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__);var _src_plugins_kibana_utils_public__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(33);var _src_plugins_kibana_utils_public__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_src_plugins_kibana_utils_public__WEBPACK_IMPORTED_MODULE_2__);const normalizeDataSearchResponses=(initialResponse,parseRawResponse)=>response$=>response$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(response=>{var _response$isPartial,_response$isRunning;const{data:data,errors:errors=[]}=parseRawResponse(response.rawResponse);return{data:data,errors:errors,isPartial:(_response$isPartial=response.isPartial)!==null&&_response$isPartial!==void 0?_response$isPartial:false,isRunning:(_response$isRunning=response.isRunning)!==null&&_response$isRunning!==void 0?_response$isRunning:false,loaded:response.loaded,total:response.total}}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["startWith"])({data:initialResponse,errors:[],isPartial:true,isRunning:true,loaded:0,total:undefined}),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["catchError"])(error=>{var _error$message;return Object(rxjs__WEBPACK_IMPORTED_MODULE_0__["of"])({data:initialResponse,errors:[error instanceof _src_plugins_kibana_utils_public__WEBPACK_IMPORTED_MODULE_2__["AbortError"]?{type:"aborted"}:{type:"generic",message:`${(_error$message=error.message)!==null&&_error$message!==void 0?_error$message:error}`}],isPartial:true,isRunning:false,loaded:0,total:undefined})}))},254:function(module,exports){},255:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useDataSearch}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(74);var rxjs__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(rxjs__WEBPACK_IMPORTED_MODULE_1__);var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(72);var rxjs_operators__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__);var _hooks_use_kibana__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(28);var _use_observable__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(117);const useDataSearch=({getRequest:getRequest,parseResponses:parseResponses})=>{const{services:services}=Object(_hooks_use_kibana__WEBPACK_IMPORTED_MODULE_3__["b"])();const requests$=Object(_use_observable__WEBPACK_IMPORTED_MODULE_4__["b"])(()=>new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"](1),[]);const search=Object(react__WEBPACK_IMPORTED_MODULE_0__["useCallback"])((...args)=>{const requestArgs=getRequest(...args);if(requestArgs==null){return}const abortController=new AbortController;let isAbortable=true;const newRequestDescriptor={...requestArgs,abortController:abortController,response$:services.data.search.search(requestArgs.request,{abortSignal:abortController.signal,...requestArgs.options}).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["tap"])({error:()=>{isAbortable=false},complete:()=>{isAbortable=false}}),Object(_use_observable__WEBPACK_IMPORTED_MODULE_4__["a"])(()=>{if(isAbortable){abortController.abort()}}),parseResponses,Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["share"])())};requests$.next(newRequestDescriptor);return newRequestDescriptor},[getRequest,services.data.search,parseResponses,requests$]);return{requests$:requests$,search:search}}},256:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useLatestPartialDataSearchResponse}));var rxjs_operators__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(72);var rxjs_operators__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__);var _use_observable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(117);var _flatten_data_search_response__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(195);var _use_data_search_response_state__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(196);const useLatestPartialDataSearchResponse=requests$=>{const latestResponse$=Object(_use_observable__WEBPACK_IMPORTED_MODULE_1__["d"])(requests$,flattenLatestDataSearchResponse);const{cancelRequest:cancelRequest,isRequestRunning:isRequestRunning,isResponsePartial:isResponsePartial,latestResponseData:latestResponseData,latestResponseErrors:latestResponseErrors,loaded:loaded,total:total}=Object(_use_data_search_response_state__WEBPACK_IMPORTED_MODULE_3__["a"])(latestResponse$);return{cancelRequest:cancelRequest,isRequestRunning:isRequestRunning,isResponsePartial:isResponsePartial,latestResponseData:latestResponseData,latestResponseErrors:latestResponseErrors,loaded:loaded,total:total}};const flattenLatestDataSearchResponse=Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["switchMap"])(_flatten_data_search_response__WEBPACK_IMPORTED_MODULE_2__["a"])},257:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useFormattedTime}));var moment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(50);var moment__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);var react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);var _utils_use_kibana_ui_setting__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(118);const getFormattedTime=(time,userFormat,fallbackFormat="Y-MM-DD HH:mm:ss.SSS")=>userFormat?moment__WEBPACK_IMPORTED_MODULE_0___default()(time).format(userFormat):moment__WEBPACK_IMPORTED_MODULE_0___default()(time).format(fallbackFormat);const useFormattedTime=(time,{format:format="dateTime",fallbackFormat:fallbackFormat}={})=>{const scaledTuples=Object(_utils_use_kibana_ui_setting__WEBPACK_IMPORTED_MODULE_2__["a"])("dateFormat:scaled")[0]||[["",undefined]];const formatMap={dateTime:Object(_utils_use_kibana_ui_setting__WEBPACK_IMPORTED_MODULE_2__["a"])("dateFormat")[0],time:scaledTuples.find(([key])=>key==="")[1]};const dateFormat=formatMap[format];const formattedTime=Object(react__WEBPACK_IMPORTED_MODULE_1__["useMemo"])(()=>getFormattedTime(time,dateFormat,fallbackFormat),[time,dateFormat,fallbackFormat]);return formattedTime}},258:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return LogColumnHeaders}));__webpack_require__.d(__webpack_exports__,"a",(function(){return LogColumnHeader}));__webpack_require__.d(__webpack_exports__,"c",(function(){return LogColumnHeadersWrapper}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);var react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);var polished__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(114);var polished__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(polished__WEBPACK_IMPORTED_MODULE_2__);var _src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(11);var _src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_3__);var _log_entry_column__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(98);var _vertical_scroll_panel__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(259);var _containers_logs_log_position__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(109);var _common_formatters_datetime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(199);var _utils_log_column_render_configuration__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(197);function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}const LogColumnHeaders=({columnConfigurations:columnConfigurations,columnWidths:columnWidths})=>{const{firstVisiblePosition:firstVisiblePosition}=Object(react__WEBPACK_IMPORTED_MODULE_1__["useContext"])(_containers_logs_log_position__WEBPACK_IMPORTED_MODULE_6__["a"].Context);return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(LogColumnHeadersWrapper,null,columnConfigurations.map(columnConfiguration=>{if(Object(_utils_log_column_render_configuration__WEBPACK_IMPORTED_MODULE_8__["d"])(columnConfiguration)){let columnHeader;if(columnConfiguration.timestampColumn.header===false){columnHeader=null}else if(typeof columnConfiguration.timestampColumn.header==="string"){columnHeader=columnConfiguration.timestampColumn.header}else{columnHeader=firstVisiblePosition?Object(_common_formatters_datetime__WEBPACK_IMPORTED_MODULE_7__["a"])(firstVisiblePosition.time):_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.infra.logs.stream.timestampColumnTitle",{defaultMessage:"Timestamp"})}return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(LogColumnHeader,{key:columnConfiguration.timestampColumn.id,columnWidth:columnWidths[columnConfiguration.timestampColumn.id],"data-test-subj":"logColumnHeader timestampLogColumnHeader"},columnHeader)}else if(Object(_utils_log_column_render_configuration__WEBPACK_IMPORTED_MODULE_8__["c"])(columnConfiguration)){let columnHeader;if(columnConfiguration.messageColumn.header===false){columnHeader=null}else if(typeof columnConfiguration.messageColumn.header==="string"){columnHeader=columnConfiguration.messageColumn.header}else{columnHeader=_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.infra.logs.stream.messageColumnTitle",{defaultMessage:"Message"})}return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(LogColumnHeader,{columnWidth:columnWidths[columnConfiguration.messageColumn.id],"data-test-subj":"logColumnHeader messageLogColumnHeader",key:columnConfiguration.messageColumn.id},columnHeader)}else if(Object(_utils_log_column_render_configuration__WEBPACK_IMPORTED_MODULE_8__["b"])(columnConfiguration)){let columnHeader;if(columnConfiguration.fieldColumn.header===false){columnHeader=null}else if(typeof columnConfiguration.fieldColumn.header==="string"){columnHeader=columnConfiguration.fieldColumn.header}else{columnHeader=columnConfiguration.fieldColumn.field}return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(LogColumnHeader,{columnWidth:columnWidths[columnConfiguration.fieldColumn.id],"data-test-subj":"logColumnHeader fieldLogColumnHeader",key:columnConfiguration.fieldColumn.id},columnHeader)}}))};const LogColumnHeader=({children:children,columnWidth:columnWidth,"data-test-subj":dataTestSubj})=>react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(LogColumnHeaderWrapper,_extends({"data-test-subj":dataTestSubj},columnWidth),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(LogColumnHeaderContent,null,children));const LogColumnHeadersWrapper=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_3__["euiStyled"].div.attrs(props=>{var _props$role;return{role:(_props$role=props.role)!==null&&_props$role!==void 0?_props$role:"row"}})`
  align-items: stretch;
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  justify-content: flex-start;
  overflow: hidden;
  padding-right: ${_vertical_scroll_panel__WEBPACK_IMPORTED_MODULE_5__["a"]}px;
  border-bottom: ${props=>props.theme.eui.euiBorderThin};
  box-shadow: 0 2px 2px -1px ${props=>Object(polished__WEBPACK_IMPORTED_MODULE_2__["transparentize"])(.3,props.theme.eui.euiColorLightShade)};
  position: relative;
  z-index: 1;
`;const LogColumnHeaderWrapper=Object(_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_3__["euiStyled"])(_log_entry_column__WEBPACK_IMPORTED_MODULE_4__["a"]).attrs(props=>{var _props$role2;return{role:(_props$role2=props.role)!==null&&_props$role2!==void 0?_props$role2:"columnheader"}})`
  align-items: center;
  display: flex;
  flex-direction: row;
  height: 32px;
  overflow: hidden;
`;const LogColumnHeaderContent=Object(_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_3__["euiStyled"])(_log_entry_column__WEBPACK_IMPORTED_MODULE_4__["b"])`
  color: ${props=>props.theme.eui.euiTitleColor};
  font-size: ${props=>props.theme.eui.euiFontSizeS};
  font-weight: ${props=>props.theme.eui.euiFontWeightSemiBold};
  line-height: ${props=>props.theme.eui.euiLineHeight};
  text-overflow: clip;
  white-space: pre;
`},259:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ASSUMED_SCROLLBAR_WIDTH}));__webpack_require__.d(__webpack_exports__,"b",(function(){return VerticalScrollPanel}));var d3_array__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(136);var d3_array__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(d3_array__WEBPACK_IMPORTED_MODULE_0__);var lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(21);var lodash__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__);var react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1);var react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);var _src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(11);var _src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_3__);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const SCROLL_THROTTLE_INTERVAL=250;const ASSUMED_SCROLLBAR_WIDTH=20;class VerticalScrollPanel extends react__WEBPACK_IMPORTED_MODULE_2__["PureComponent"]{constructor(...args){super(...args);_defineProperty(this,"scrollRef",react__WEBPACK_IMPORTED_MODULE_2__["createRef"]());_defineProperty(this,"childRefs",new Map);_defineProperty(this,"childDimensions",new Map);_defineProperty(this,"nextScrollEventFromCenterTarget",false);_defineProperty(this,"handleScroll",Object(lodash__WEBPACK_IMPORTED_MODULE_1__["throttle"])(()=>{this.reportVisibleChildren(!this.nextScrollEventFromCenterTarget);this.nextScrollEventFromCenterTarget=false},SCROLL_THROTTLE_INTERVAL));_defineProperty(this,"registerChild",(key,element)=>{if(element===null){this.childRefs.delete(key)}else{this.childRefs.set(key,element)}});_defineProperty(this,"updateChildDimensions",()=>{this.childDimensions=new Map(Object(lodash__WEBPACK_IMPORTED_MODULE_1__["sortBy"])(Array.from(this.childRefs.entries()).reduce((accumulatedDimensions,[key,child])=>{const currentOffsetRect=child.getOffsetRect();if(currentOffsetRect!==null){accumulatedDimensions.push([key,currentOffsetRect])}return accumulatedDimensions},[]),"1.top"))});_defineProperty(this,"getVisibleChildren",()=>{if(this.scrollRef.current===null||this.childDimensions.size<=0){return}const{childDimensions:childDimensions,props:{height:scrollViewHeight},scrollRef:{current:{scrollTop:scrollTop}}}=this;return getVisibleChildren(Array.from(childDimensions.entries()),scrollViewHeight,scrollTop)});_defineProperty(this,"getScrollPosition",()=>{if(this.scrollRef.current===null){return}const{props:{height:scrollViewHeight},scrollRef:{current:{scrollHeight:scrollHeight,scrollTop:scrollTop}}}=this;return{pagesAbove:scrollTop/scrollViewHeight,pagesBelow:(scrollHeight-scrollTop-scrollViewHeight)/scrollViewHeight}});_defineProperty(this,"reportVisibleChildren",(fromScroll=false)=>{const{onVisibleChildrenChange:onVisibleChildrenChange}=this.props;const visibleChildren=this.getVisibleChildren();const scrollPosition=this.getScrollPosition();if(!visibleChildren||!scrollPosition||typeof onVisibleChildrenChange!=="function"){return}onVisibleChildrenChange({bottomChild:visibleChildren.bottomChild,middleChild:visibleChildren.middleChild,topChild:visibleChildren.topChild,fromScroll:fromScroll,...scrollPosition})});_defineProperty(this,"centerTarget",(target,offset)=>{const{props:{height:scrollViewHeight},childDimensions:childDimensions,scrollRef:scrollRef}=this;if(scrollRef.current===null||!target||childDimensions.size<=0){return false}const targetDimensions=childDimensions.get(target);if(targetDimensions){const targetOffset=typeof offset==="undefined"?targetDimensions.height/2:offset;this.nextScrollEventFromCenterTarget=true;const currentScrollTop=scrollRef.current.scrollTop;const newScrollTop=targetDimensions.top+targetOffset-scrollViewHeight/2;scrollRef.current.scrollTop=newScrollTop;return currentScrollTop!==newScrollTop}return false});_defineProperty(this,"handleUpdatedChildren",(target,offset)=>{this.updateChildDimensions();let centerTargetWillReportChildren=false;if(!!target){centerTargetWillReportChildren=this.centerTarget(target,offset)}if(!centerTargetWillReportChildren){this.reportVisibleChildren()}})}componentDidMount(){this.handleUpdatedChildren(this.props.target,undefined)}getSnapshotBeforeUpdate(prevProps){if(prevProps.height===0&&this.props.height>0||prevProps.target!==this.props.target&&this.props.target){return{scrollOffset:undefined,scrollTarget:this.props.target}}else if(this.props.height>0){const visibleChildren=this.getVisibleChildren();if(visibleChildren){return{scrollOffset:visibleChildren.middleChildOffset,scrollTarget:visibleChildren.middleChild}}}return{scrollOffset:undefined,scrollTarget:undefined}}componentDidUpdate(prevProps,prevState,snapshot){if(prevProps.height!==this.props.height||prevProps.target!==this.props.target||prevProps.entriesCount!==this.props.entriesCount){this.handleUpdatedChildren(snapshot.scrollTarget,snapshot.scrollOffset)}if(prevProps.isLocked&&!this.props.isLocked&&this.scrollRef.current){this.scrollRef.current.scrollTop=this.scrollRef.current.scrollHeight}}componentWillUnmount(){this.childRefs.clear()}render(){const{children:children,height:height,width:width,hideScrollbar:hideScrollbar,"data-test-subj":dataTestSubj}=this.props;const scrollbarOffset=hideScrollbar?ASSUMED_SCROLLBAR_WIDTH:0;return react__WEBPACK_IMPORTED_MODULE_2__["createElement"](ScrollPanelWrapper,{"data-test-subj":dataTestSubj,style:{height:height,width:width+scrollbarOffset},scrollbarOffset:scrollbarOffset,onScroll:this.handleScroll,ref:this.scrollRef},typeof children==="function"?children(this.registerChild):null)}}_defineProperty(VerticalScrollPanel,"defaultProps",{hideScrollbar:false});const ScrollPanelWrapper=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_3__["euiStyled"].div`
  overflow-x: hidden;
  overflow-y: scroll;
  position: relative;
  padding-right: ${props=>props.scrollbarOffset||0}px;

  & * {
    overflow-anchor: none;
  }
`;const getVisibleChildren=(childDimensions,scrollViewHeight,scrollTop)=>{const middleChildIndex=Math.min(getChildIndexBefore(childDimensions,scrollTop+scrollViewHeight/2),childDimensions.length-1);const topChildIndex=Math.min(getChildIndexBefore(childDimensions,scrollTop,0,middleChildIndex),childDimensions.length-1);const bottomChildIndex=Math.min(getChildIndexBefore(childDimensions,scrollTop+scrollViewHeight,middleChildIndex),childDimensions.length-1);return{bottomChild:childDimensions[bottomChildIndex][0],bottomChildOffset:childDimensions[bottomChildIndex][1].top-scrollTop-scrollViewHeight,middleChild:childDimensions[middleChildIndex][0],middleChildOffset:scrollTop+scrollViewHeight/2-childDimensions[middleChildIndex][1].top,topChild:childDimensions[topChildIndex][0],topChildOffset:childDimensions[topChildIndex][1].top-scrollTop}};const getChildIndexBefore=Object(d3_array__WEBPACK_IMPORTED_MODULE_0__["bisector"])(([key,rect])=>rect.top+rect.height).left},384:function(module,exports,__webpack_require__){var json=typeof JSON!=="undefined"?JSON:__webpack_require__(385);module.exports=function(obj,opts){if(!opts)opts={};if(typeof opts==="function")opts={cmp:opts};var space=opts.space||"";if(typeof space==="number")space=Array(space+1).join(" ");var cycles=typeof opts.cycles==="boolean"?opts.cycles:false;var replacer=opts.replacer||function(key,value){return value};var cmp=opts.cmp&&function(f){return function(node){return function(a,b){var aobj={key:a,value:node[a]};var bobj={key:b,value:node[b]};return f(aobj,bobj)}}}(opts.cmp);var seen=[];return function stringify(parent,key,node,level){var indent=space?"\n"+new Array(level+1).join(space):"";var colonSeparator=space?": ":":";if(node&&node.toJSON&&typeof node.toJSON==="function"){node=node.toJSON()}node=replacer.call(parent,key,node);if(node===undefined){return}if(typeof node!=="object"||node===null){return json.stringify(node)}if(isArray(node)){var out=[];for(var i=0;i<node.length;i++){var item=stringify(node,i,node[i],level+1)||json.stringify(null);out.push(indent+space+item)}return"["+out.join(",")+indent+"]"}else{if(seen.indexOf(node)!==-1){if(cycles)return json.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}else seen.push(node);var keys=objectKeys(node).sort(cmp&&cmp(node));var out=[];for(var i=0;i<keys.length;i++){var key=keys[i];var value=stringify(node,key,node[key],level+1);if(!value)continue;var keyValue=json.stringify(key)+colonSeparator+value;out.push(indent+space+keyValue)}seen.splice(seen.indexOf(node),1);return"{"+out.join(",")+indent+"}"}}({"":obj},"",obj,0)};var isArray=Array.isArray||function(x){return{}.toString.call(x)==="[object Array]"};var objectKeys=Object.keys||function(obj){var has=Object.prototype.hasOwnProperty||function(){return true};var keys=[];for(var key in obj){if(has.call(obj,key))keys.push(key)}return keys}},385:function(module,exports,__webpack_require__){exports.parse=__webpack_require__(386);exports.stringify=__webpack_require__(387)},386:function(module,exports){var at,ch,escapee={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},text,error=function(m){throw{name:"SyntaxError",message:m,at:at,text:text}},next=function(c){if(c&&c!==ch){error("Expected '"+c+"' instead of '"+ch+"'")}ch=text.charAt(at);at+=1;return ch},number=function(){var number,string="";if(ch==="-"){string="-";next("-")}while(ch>="0"&&ch<="9"){string+=ch;next()}if(ch==="."){string+=".";while(next()&&ch>="0"&&ch<="9"){string+=ch}}if(ch==="e"||ch==="E"){string+=ch;next();if(ch==="-"||ch==="+"){string+=ch;next()}while(ch>="0"&&ch<="9"){string+=ch;next()}}number=+string;if(!isFinite(number)){error("Bad number")}else{return number}},string=function(){var hex,i,string="",uffff;if(ch==='"'){while(next()){if(ch==='"'){next();return string}else if(ch==="\\"){next();if(ch==="u"){uffff=0;for(i=0;i<4;i+=1){hex=parseInt(next(),16);if(!isFinite(hex)){break}uffff=uffff*16+hex}string+=String.fromCharCode(uffff)}else if(typeof escapee[ch]==="string"){string+=escapee[ch]}else{break}}else{string+=ch}}}error("Bad string")},white=function(){while(ch&&ch<=" "){next()}},word=function(){switch(ch){case"t":next("t");next("r");next("u");next("e");return true;case"f":next("f");next("a");next("l");next("s");next("e");return false;case"n":next("n");next("u");next("l");next("l");return null}error("Unexpected '"+ch+"'")},value,array=function(){var array=[];if(ch==="["){next("[");white();if(ch==="]"){next("]");return array}while(ch){array.push(value());white();if(ch==="]"){next("]");return array}next(",");white()}}error("Bad array")},object=function(){var key,object={};if(ch==="{"){next("{");white();if(ch==="}"){next("}");return object}while(ch){key=string();white();next(":");if(Object.hasOwnProperty.call(object,key)){error('Duplicate key "'+key+'"')}object[key]=value();white();if(ch==="}"){next("}");return object}next(",");white()}}error("Bad object")};value=function(){white();switch(ch){case"{":return object();case"[":return array();case'"':return string();case"-":return number();default:return ch>="0"&&ch<="9"?number():word()}};module.exports=function(source,reviver){var result;text=source;at=0;ch=" ";result=value();white();if(ch){error("Syntax error")}return typeof reviver==="function"?function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}({"":result},""):result}},387:function(module,exports){var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,(function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value)return"null";gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}module.exports=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else if(typeof space==="string"){indent=space}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}},388:function(module,exports,__webpack_require__){(function(global){(function(global,factory){true?module.exports=factory():undefined})(this,(function(){"use strict";var MapShim=function(){if(typeof Map!=="undefined"){return Map}function getIndex(arr,key){var result=-1;arr.some((function(entry,index){if(entry[0]===key){result=index;return true}return false}));return result}return function(){function class_1(){this.__entries__=[]}Object.defineProperty(class_1.prototype,"size",{get:function(){return this.__entries__.length},enumerable:true,configurable:true});class_1.prototype.get=function(key){var index=getIndex(this.__entries__,key);var entry=this.__entries__[index];return entry&&entry[1]};class_1.prototype.set=function(key,value){var index=getIndex(this.__entries__,key);if(~index){this.__entries__[index][1]=value}else{this.__entries__.push([key,value])}};class_1.prototype.delete=function(key){var entries=this.__entries__;var index=getIndex(entries,key);if(~index){entries.splice(index,1)}};class_1.prototype.has=function(key){return!!~getIndex(this.__entries__,key)};class_1.prototype.clear=function(){this.__entries__.splice(0)};class_1.prototype.forEach=function(callback,ctx){if(ctx===void 0){ctx=null}for(var _i=0,_a=this.__entries__;_i<_a.length;_i++){var entry=_a[_i];callback.call(ctx,entry[1],entry[0])}};return class_1}()}();var isBrowser=typeof window!=="undefined"&&typeof document!=="undefined"&&window.document===document;var global$1=function(){if(typeof global!=="undefined"&&global.Math===Math){return global}if(typeof self!=="undefined"&&self.Math===Math){return self}if(typeof window!=="undefined"&&window.Math===Math){return window}return Function("return this")()}();var requestAnimationFrame$1=function(){if(typeof requestAnimationFrame==="function"){return requestAnimationFrame.bind(global$1)}return function(callback){return setTimeout((function(){return callback(Date.now())}),1e3/60)}}();var trailingTimeout=2;function throttle(callback,delay){var leadingCall=false,trailingCall=false,lastCallTime=0;function resolvePending(){if(leadingCall){leadingCall=false;callback()}if(trailingCall){proxy()}}function timeoutCallback(){requestAnimationFrame$1(resolvePending)}function proxy(){var timeStamp=Date.now();if(leadingCall){if(timeStamp-lastCallTime<trailingTimeout){return}trailingCall=true}else{leadingCall=true;trailingCall=false;setTimeout(timeoutCallback,delay)}lastCallTime=timeStamp}return proxy}var REFRESH_DELAY=20;var transitionKeys=["top","right","bottom","left","width","height","size","weight"];var mutationObserverSupported=typeof MutationObserver!=="undefined";var ResizeObserverController=function(){function ResizeObserverController(){this.connected_=false;this.mutationEventsAdded_=false;this.mutationsObserver_=null;this.observers_=[];this.onTransitionEnd_=this.onTransitionEnd_.bind(this);this.refresh=throttle(this.refresh.bind(this),REFRESH_DELAY)}ResizeObserverController.prototype.addObserver=function(observer){if(!~this.observers_.indexOf(observer)){this.observers_.push(observer)}if(!this.connected_){this.connect_()}};ResizeObserverController.prototype.removeObserver=function(observer){var observers=this.observers_;var index=observers.indexOf(observer);if(~index){observers.splice(index,1)}if(!observers.length&&this.connected_){this.disconnect_()}};ResizeObserverController.prototype.refresh=function(){var changesDetected=this.updateObservers_();if(changesDetected){this.refresh()}};ResizeObserverController.prototype.updateObservers_=function(){var activeObservers=this.observers_.filter((function(observer){return observer.gatherActive(),observer.hasActive()}));activeObservers.forEach((function(observer){return observer.broadcastActive()}));return activeObservers.length>0};ResizeObserverController.prototype.connect_=function(){if(!isBrowser||this.connected_){return}document.addEventListener("transitionend",this.onTransitionEnd_);window.addEventListener("resize",this.refresh);if(mutationObserverSupported){this.mutationsObserver_=new MutationObserver(this.refresh);this.mutationsObserver_.observe(document,{attributes:true,childList:true,characterData:true,subtree:true})}else{document.addEventListener("DOMSubtreeModified",this.refresh);this.mutationEventsAdded_=true}this.connected_=true};ResizeObserverController.prototype.disconnect_=function(){if(!isBrowser||!this.connected_){return}document.removeEventListener("transitionend",this.onTransitionEnd_);window.removeEventListener("resize",this.refresh);if(this.mutationsObserver_){this.mutationsObserver_.disconnect()}if(this.mutationEventsAdded_){document.removeEventListener("DOMSubtreeModified",this.refresh)}this.mutationsObserver_=null;this.mutationEventsAdded_=false;this.connected_=false};ResizeObserverController.prototype.onTransitionEnd_=function(_a){var _b=_a.propertyName,propertyName=_b===void 0?"":_b;var isReflowProperty=transitionKeys.some((function(key){return!!~propertyName.indexOf(key)}));if(isReflowProperty){this.refresh()}};ResizeObserverController.getInstance=function(){if(!this.instance_){this.instance_=new ResizeObserverController}return this.instance_};ResizeObserverController.instance_=null;return ResizeObserverController}();var defineConfigurable=function(target,props){for(var _i=0,_a=Object.keys(props);_i<_a.length;_i++){var key=_a[_i];Object.defineProperty(target,key,{value:props[key],enumerable:false,writable:false,configurable:true})}return target};var getWindowOf=function(target){var ownerGlobal=target&&target.ownerDocument&&target.ownerDocument.defaultView;return ownerGlobal||global$1};var emptyRect=createRectInit(0,0,0,0);function toFloat(value){return parseFloat(value)||0}function getBordersSize(styles){var positions=[];for(var _i=1;_i<arguments.length;_i++){positions[_i-1]=arguments[_i]}return positions.reduce((function(size,position){var value=styles["border-"+position+"-width"];return size+toFloat(value)}),0)}function getPaddings(styles){var positions=["top","right","bottom","left"];var paddings={};for(var _i=0,positions_1=positions;_i<positions_1.length;_i++){var position=positions_1[_i];var value=styles["padding-"+position];paddings[position]=toFloat(value)}return paddings}function getSVGContentRect(target){var bbox=target.getBBox();return createRectInit(0,0,bbox.width,bbox.height)}function getHTMLElementContentRect(target){var clientWidth=target.clientWidth,clientHeight=target.clientHeight;if(!clientWidth&&!clientHeight){return emptyRect}var styles=getWindowOf(target).getComputedStyle(target);var paddings=getPaddings(styles);var horizPad=paddings.left+paddings.right;var vertPad=paddings.top+paddings.bottom;var width=toFloat(styles.width),height=toFloat(styles.height);if(styles.boxSizing==="border-box"){if(Math.round(width+horizPad)!==clientWidth){width-=getBordersSize(styles,"left","right")+horizPad}if(Math.round(height+vertPad)!==clientHeight){height-=getBordersSize(styles,"top","bottom")+vertPad}}if(!isDocumentElement(target)){var vertScrollbar=Math.round(width+horizPad)-clientWidth;var horizScrollbar=Math.round(height+vertPad)-clientHeight;if(Math.abs(vertScrollbar)!==1){width-=vertScrollbar}if(Math.abs(horizScrollbar)!==1){height-=horizScrollbar}}return createRectInit(paddings.left,paddings.top,width,height)}var isSVGGraphicsElement=function(){if(typeof SVGGraphicsElement!=="undefined"){return function(target){return target instanceof getWindowOf(target).SVGGraphicsElement}}return function(target){return target instanceof getWindowOf(target).SVGElement&&typeof target.getBBox==="function"}}();function isDocumentElement(target){return target===getWindowOf(target).document.documentElement}function getContentRect(target){if(!isBrowser){return emptyRect}if(isSVGGraphicsElement(target)){return getSVGContentRect(target)}return getHTMLElementContentRect(target)}function createReadOnlyRect(_a){var x=_a.x,y=_a.y,width=_a.width,height=_a.height;var Constr=typeof DOMRectReadOnly!=="undefined"?DOMRectReadOnly:Object;var rect=Object.create(Constr.prototype);defineConfigurable(rect,{x:x,y:y,width:width,height:height,top:y,right:x+width,bottom:height+y,left:x});return rect}function createRectInit(x,y,width,height){return{x:x,y:y,width:width,height:height}}var ResizeObservation=function(){function ResizeObservation(target){this.broadcastWidth=0;this.broadcastHeight=0;this.contentRect_=createRectInit(0,0,0,0);this.target=target}ResizeObservation.prototype.isActive=function(){var rect=getContentRect(this.target);this.contentRect_=rect;return rect.width!==this.broadcastWidth||rect.height!==this.broadcastHeight};ResizeObservation.prototype.broadcastRect=function(){var rect=this.contentRect_;this.broadcastWidth=rect.width;this.broadcastHeight=rect.height;return rect};return ResizeObservation}();var ResizeObserverEntry=function(){function ResizeObserverEntry(target,rectInit){var contentRect=createReadOnlyRect(rectInit);defineConfigurable(this,{target:target,contentRect:contentRect})}return ResizeObserverEntry}();var ResizeObserverSPI=function(){function ResizeObserverSPI(callback,controller,callbackCtx){this.activeObservations_=[];this.observations_=new MapShim;if(typeof callback!=="function"){throw new TypeError("The callback provided as parameter 1 is not a function.")}this.callback_=callback;this.controller_=controller;this.callbackCtx_=callbackCtx}ResizeObserverSPI.prototype.observe=function(target){if(!arguments.length){throw new TypeError("1 argument required, but only 0 present.")}if(typeof Element==="undefined"||!(Element instanceof Object)){return}if(!(target instanceof getWindowOf(target).Element)){throw new TypeError('parameter 1 is not of type "Element".')}var observations=this.observations_;if(observations.has(target)){return}observations.set(target,new ResizeObservation(target));this.controller_.addObserver(this);this.controller_.refresh()};ResizeObserverSPI.prototype.unobserve=function(target){if(!arguments.length){throw new TypeError("1 argument required, but only 0 present.")}if(typeof Element==="undefined"||!(Element instanceof Object)){return}if(!(target instanceof getWindowOf(target).Element)){throw new TypeError('parameter 1 is not of type "Element".')}var observations=this.observations_;if(!observations.has(target)){return}observations.delete(target);if(!observations.size){this.controller_.removeObserver(this)}};ResizeObserverSPI.prototype.disconnect=function(){this.clearActive();this.observations_.clear();this.controller_.removeObserver(this)};ResizeObserverSPI.prototype.gatherActive=function(){var _this=this;this.clearActive();this.observations_.forEach((function(observation){if(observation.isActive()){_this.activeObservations_.push(observation)}}))};ResizeObserverSPI.prototype.broadcastActive=function(){if(!this.hasActive()){return}var ctx=this.callbackCtx_;var entries=this.activeObservations_.map((function(observation){return new ResizeObserverEntry(observation.target,observation.broadcastRect())}));this.callback_.call(ctx,entries,ctx);this.clearActive()};ResizeObserverSPI.prototype.clearActive=function(){this.activeObservations_.splice(0)};ResizeObserverSPI.prototype.hasActive=function(){return this.activeObservations_.length>0};return ResizeObserverSPI}();var observers=typeof WeakMap!=="undefined"?new WeakMap:new MapShim;var ResizeObserver=function(){function ResizeObserver(callback){if(!(this instanceof ResizeObserver)){throw new TypeError("Cannot call a class as a function.")}if(!arguments.length){throw new TypeError("1 argument required, but only 0 present.")}var controller=ResizeObserverController.getInstance();var observer=new ResizeObserverSPI(callback,controller,this);observers.set(this,observer)}return ResizeObserver}();["observe","unobserve","disconnect"].forEach((function(method){ResizeObserver.prototype[method]=function(){var _a;return(_a=observers.get(this))[method].apply(_a,arguments)}}));var index=function(){if(typeof global$1.ResizeObserver!=="undefined"){return global$1.ResizeObserver}return ResizeObserver}();return index}))}).call(this,__webpack_require__(51))},87:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return useLogSource}));__webpack_require__.d(__webpack_exports__,"a",(function(){return LogSourceProvider}));__webpack_require__.d(__webpack_exports__,"c",(function(){return useLogSourceContext}));var constate_cjs=__webpack_require__(83);var constate_cjs_default=__webpack_require__.n(constate_cjs);var external_kbnSharedDeps_React_=__webpack_require__(1);var useMountedState=__webpack_require__(125);var useMountedState_default=__webpack_require__.n(useMountedState);var log_sources=__webpack_require__(9);var use_tracked_promise=__webpack_require__(85);var fetch_log_source_configuration=__webpack_require__(37);var fetch_log_source_status=__webpack_require__(38);var runtime_types=__webpack_require__(13);const callPatchLogSourceConfigurationAPI=async(sourceId,patchedProperties,fetch)=>{const response=await fetch(Object(log_sources["a"])(sourceId),{method:"PATCH",body:JSON.stringify(log_sources["f"].encode({data:patchedProperties}))});return Object(runtime_types["b"])(log_sources["g"])(response)};const useLogSource=({sourceId:sourceId,fetch:fetch})=>{const getIsMounted=useMountedState_default()();const[sourceConfiguration,setSourceConfiguration]=Object(external_kbnSharedDeps_React_["useState"])(undefined);const[sourceStatus,setSourceStatus]=Object(external_kbnSharedDeps_React_["useState"])(undefined);const[loadSourceConfigurationRequest,loadSourceConfiguration]=Object(use_tracked_promise["b"])({cancelPreviousOn:"resolution",createPromise:async()=>await Object(fetch_log_source_configuration["a"])(sourceId,fetch),onResolve:({data:data})=>{if(!getIsMounted()){return}setSourceConfiguration(data)}},[sourceId,fetch]);const[updateSourceConfigurationRequest,updateSourceConfiguration]=Object(use_tracked_promise["b"])({cancelPreviousOn:"resolution",createPromise:async patchedProperties=>await callPatchLogSourceConfigurationAPI(sourceId,patchedProperties,fetch),onResolve:({data:data})=>{if(!getIsMounted()){return}setSourceConfiguration(data);loadSourceStatus()}},[sourceId,fetch]);const[loadSourceStatusRequest,loadSourceStatus]=Object(use_tracked_promise["b"])({cancelPreviousOn:"resolution",createPromise:async()=>await Object(fetch_log_source_status["a"])(sourceId,fetch),onResolve:({data:data})=>{if(!getIsMounted()){return}setSourceStatus(data)}},[sourceId,fetch]);const derivedIndexPattern=Object(external_kbnSharedDeps_React_["useMemo"])(()=>{var _sourceStatus$logInde,_sourceConfiguration$;return{fields:(_sourceStatus$logInde=sourceStatus===null||sourceStatus===void 0?void 0:sourceStatus.logIndexFields)!==null&&_sourceStatus$logInde!==void 0?_sourceStatus$logInde:[],title:(_sourceConfiguration$=sourceConfiguration===null||sourceConfiguration===void 0?void 0:sourceConfiguration.configuration.logAlias)!==null&&_sourceConfiguration$!==void 0?_sourceConfiguration$:"unknown"}},[sourceConfiguration,sourceStatus]);const isLoadingSourceConfiguration=Object(external_kbnSharedDeps_React_["useMemo"])(()=>loadSourceConfigurationRequest.state==="pending",[loadSourceConfigurationRequest.state]);const isUpdatingSourceConfiguration=Object(external_kbnSharedDeps_React_["useMemo"])(()=>updateSourceConfigurationRequest.state==="pending",[updateSourceConfigurationRequest.state]);const isLoadingSourceStatus=Object(external_kbnSharedDeps_React_["useMemo"])(()=>loadSourceStatusRequest.state==="pending",[loadSourceStatusRequest.state]);const isLoading=Object(external_kbnSharedDeps_React_["useMemo"])(()=>isLoadingSourceConfiguration||isLoadingSourceStatus||isUpdatingSourceConfiguration,[isLoadingSourceConfiguration,isLoadingSourceStatus,isUpdatingSourceConfiguration]);const isUninitialized=Object(external_kbnSharedDeps_React_["useMemo"])(()=>loadSourceConfigurationRequest.state==="uninitialized"||loadSourceStatusRequest.state==="uninitialized",[loadSourceConfigurationRequest.state,loadSourceStatusRequest.state]);const hasFailedLoadingSource=Object(external_kbnSharedDeps_React_["useMemo"])(()=>loadSourceConfigurationRequest.state==="rejected",[loadSourceConfigurationRequest.state]);const hasFailedLoadingSourceStatus=Object(external_kbnSharedDeps_React_["useMemo"])(()=>loadSourceStatusRequest.state==="rejected",[loadSourceStatusRequest.state]);const loadSourceFailureMessage=Object(external_kbnSharedDeps_React_["useMemo"])(()=>loadSourceConfigurationRequest.state==="rejected"?`${loadSourceConfigurationRequest.value}`:undefined,[loadSourceConfigurationRequest]);const loadSource=Object(external_kbnSharedDeps_React_["useCallback"])(()=>Promise.all([loadSourceConfiguration(),loadSourceStatus()]),[loadSourceConfiguration,loadSourceStatus]);const initialize=Object(external_kbnSharedDeps_React_["useCallback"])(async()=>{if(!isUninitialized){return}return await loadSource()},[isUninitialized,loadSource]);return{derivedIndexPattern:derivedIndexPattern,hasFailedLoadingSource:hasFailedLoadingSource,hasFailedLoadingSourceStatus:hasFailedLoadingSourceStatus,initialize:initialize,isLoading:isLoading,isLoadingSourceConfiguration:isLoadingSourceConfiguration,isLoadingSourceStatus:isLoadingSourceStatus,isUninitialized:isUninitialized,loadSource:loadSource,loadSourceFailureMessage:loadSourceFailureMessage,loadSourceConfiguration:loadSourceConfiguration,loadSourceStatus:loadSourceStatus,sourceConfiguration:sourceConfiguration,sourceId:sourceId,sourceStatus:sourceStatus,updateSourceConfiguration:updateSourceConfiguration}};const[LogSourceProvider,useLogSourceContext]=constate_cjs_default()(useLogSource)},98:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return LogEntryColumn}));__webpack_require__.d(__webpack_exports__,"b",(function(){return LogEntryColumnContent}));__webpack_require__.d(__webpack_exports__,"c",(function(){return iconColumnId}));__webpack_require__.d(__webpack_exports__,"d",(function(){return useColumnWidths}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11);var _src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__);var _utils_log_column_render_configuration__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(197);var _formatted_time__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(257);var _text_styles__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(158);const DATE_COLUMN_SLACK_FACTOR=1.1;const FIELD_COLUMN_MIN_WIDTH_CHARACTERS=10;const DETAIL_FLYOUT_ICON_MIN_WIDTH=32;const COLUMN_PADDING=8;const LogEntryColumn=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__["euiStyled"].div.attrs(()=>({role:"cell"}))`
  align-items: stretch;
  display: flex;
  flex-basis: ${props=>props.baseWidth||"0%"};
  flex-direction: row;
  flex-grow: ${props=>props.growWeight||0};
  flex-shrink: ${props=>props.shrinkWeight||0};
  overflow: hidden;
`;const LogEntryColumnContent=_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__["euiStyled"].div.attrs({"data-test-subj":"LogEntryColumnContent"})`
  flex: 1 0 0%;
  padding: 2px ${COLUMN_PADDING}px;
`;const iconColumnId=Symbol("iconColumnId");const getColumnWidths=(columns,characterWidth,formattedDateWidth)=>columns.reduce((columnWidths,column)=>{if(Object(_utils_log_column_render_configuration__WEBPACK_IMPORTED_MODULE_2__["d"])(column)){const customWidth=column.timestampColumn.width?Object(_utils_log_column_render_configuration__WEBPACK_IMPORTED_MODULE_2__["a"])(column.timestampColumn.width):undefined;return{...columnWidths,[column.timestampColumn.id]:{growWeight:0,shrinkWeight:0,baseWidth:customWidth!==null&&customWidth!==void 0?customWidth:`${Math.ceil(characterWidth*formattedDateWidth*DATE_COLUMN_SLACK_FACTOR)+2*COLUMN_PADDING}px`}}}else if(Object(_utils_log_column_render_configuration__WEBPACK_IMPORTED_MODULE_2__["c"])(column)){const customWidth=column.messageColumn.width?Object(_utils_log_column_render_configuration__WEBPACK_IMPORTED_MODULE_2__["a"])(column.messageColumn.width):undefined;return{...columnWidths,[column.messageColumn.id]:{growWeight:5,shrinkWeight:0,baseWidth:customWidth!==null&&customWidth!==void 0?customWidth:"0%"}}}else{const customWidth=column.fieldColumn.width?Object(_utils_log_column_render_configuration__WEBPACK_IMPORTED_MODULE_2__["a"])(column.fieldColumn.width):undefined;return{...columnWidths,[column.fieldColumn.id]:{growWeight:customWidth?0:1,shrinkWeight:0,baseWidth:customWidth!==null&&customWidth!==void 0?customWidth:`${Math.ceil(characterWidth*FIELD_COLUMN_MIN_WIDTH_CHARACTERS)+2*COLUMN_PADDING}px`}}}},{[iconColumnId]:{growWeight:0,shrinkWeight:0,baseWidth:`${DETAIL_FLYOUT_ICON_MIN_WIDTH+2*COLUMN_PADDING}px`}});const useColumnWidths=({columnConfigurations:columnConfigurations,scale:scale,timeFormat:timeFormat="time"})=>{const{CharacterDimensionsProbe:CharacterDimensionsProbe,dimensions:dimensions}=Object(_text_styles__WEBPACK_IMPORTED_MODULE_4__["g"])(scale);const referenceTime=Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(()=>Date.now(),[]);const formattedCurrentDate=Object(_formatted_time__WEBPACK_IMPORTED_MODULE_3__["a"])(referenceTime,{format:timeFormat});const columnWidths=Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(()=>getColumnWidths(columnConfigurations,dimensions.width,formattedCurrentDate.length),[columnConfigurations,dimensions.width,formattedCurrentDate]);return Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(()=>({columnWidths:columnWidths,CharacterDimensionsProbe:CharacterDimensionsProbe}),[columnWidths,CharacterDimensionsProbe])}}}]);