(window["discover_bundle_jsonpfunction"]=window["discover_bundle_jsonpfunction"]||[]).push([[2],Array(70).concat([function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(71);case"v7light":return __webpack_require__(73);case"v8dark":return __webpack_require__(75);case"v8light":return __webpack_require__(77)}},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(72);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscHistogram__header--partial {\n  font-weight: 400;\n  min-width: 192px; }\n\n.cxtSizePicker {\n  text-align: center;\n  width: 80px; }\n  .cxtSizePicker::-webkit-outer-spin-button, .cxtSizePicker::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n            appearance: none;\n    margin: 0; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(74);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscHistogram__header--partial {\n  font-weight: 400;\n  min-width: 192px; }\n\n.cxtSizePicker {\n  text-align: center;\n  width: 80px; }\n  .cxtSizePicker::-webkit-outer-spin-button, .cxtSizePicker::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n            appearance: none;\n    margin: 0; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(76);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscHistogram__header--partial {\n  font-weight: 400;\n  min-width: 192px; }\n\n.cxtSizePicker {\n  text-align: center;\n  width: 80px; }\n  .cxtSizePicker::-webkit-outer-spin-button, .cxtSizePicker::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n            appearance: none;\n    margin: 0; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(78);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscHistogram__header--partial {\n  font-weight: 400;\n  min-width: 192px; }\n\n.cxtSizePicker {\n  text-align: center;\n  width: 80px; }\n  .cxtSizePicker::-webkit-outer-spin-button, .cxtSizePicker::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n            appearance: none;\n    margin: 0; }\n",""]);module.exports=exports},,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return addColumn}));__webpack_require__.d(__webpack_exports__,"d",(function(){return removeColumn}));__webpack_require__.d(__webpack_exports__,"c",(function(){return moveColumn}));__webpack_require__.d(__webpack_exports__,"b",(function(){return getStateColumnActions}));var _helpers_popularize_field__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(67);var _common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(62);function buildColumns(columns,useNewFieldsApi=false){if(columns.length>1&&columns.indexOf("_source")!==-1){return columns.filter(col=>col!=="_source")}else if(columns.length!==0){return columns}return useNewFieldsApi?[]:["_source"]}function addColumn(columns,columnName,useNewFieldsApi){if(columns.includes(columnName)){return columns}return buildColumns([...columns,columnName],useNewFieldsApi)}function removeColumn(columns,columnName,useNewFieldsApi){if(!columns.includes(columnName)){return columns}return buildColumns(columns.filter(col=>col!==columnName),useNewFieldsApi)}function moveColumn(columns,columnName,newIndex){if(newIndex<0||newIndex>=columns.length||!columns.includes(columnName)){return columns}const modifiedColumns=[...columns];modifiedColumns.splice(modifiedColumns.indexOf(columnName),1);modifiedColumns.splice(newIndex,0,columnName);return modifiedColumns}function getStateColumnActions({capabilities:capabilities,config:config,indexPattern:indexPattern,indexPatterns:indexPatterns,useNewFieldsApi:useNewFieldsApi,setAppState:setAppState,state:state}){function onAddColumn(columnName){var _state$sort;if(capabilities.discover.save){Object(_helpers_popularize_field__WEBPACK_IMPORTED_MODULE_0__["a"])(indexPattern,columnName,indexPatterns)}const columns=addColumn(state.columns||[],columnName,useNewFieldsApi);const defaultOrder=config.get(_common__WEBPACK_IMPORTED_MODULE_1__["k"]);const sort=columnName==="_score"&&!((_state$sort=state.sort)!==null&&_state$sort!==void 0&&_state$sort.length)?[["_score",defaultOrder]]:state.sort;setAppState({columns:columns,sort:sort})}function onRemoveColumn(columnName){if(capabilities.discover.save){Object(_helpers_popularize_field__WEBPACK_IMPORTED_MODULE_0__["a"])(indexPattern,columnName,indexPatterns)}const columns=removeColumn(state.columns||[],columnName,useNewFieldsApi);const sort=state.sort&&state.sort.length?state.sort.filter(subArr=>subArr[0]!==columnName):[];setAppState({columns:columns,sort:sort})}function onMoveColumn(columnName,newIndex){const columns=moveColumn(state.columns||[],columnName,newIndex);setAppState({columns:columns})}function onSetColumns(columns){const actualColumns=indexPattern.timeFieldName&&indexPattern.timeFieldName===columns[0]?columns.slice(1):columns;setAppState({columns:actualColumns})}return{onAddColumn:onAddColumn,onRemoveColumn:onRemoveColumn,onMoveColumn:onMoveColumn,onSetColumns:onSetColumns}}},,,,function(module,exports,__webpack_require__){(function(root,factory){if(true){module.exports=factory()}else{}})(typeof self!=="undefined"?self:this,(function(){var rison={};rison.uri_ok={"~":true,"!":true,"*":true,"(":true,")":true,"-":true,_:true,".":true,",":true,":":true,"@":true,$:true,"'":true,"/":true};(function(){var l=[];for(var hi=0;hi<16;hi++){for(var lo=0;lo<16;lo++){if(hi+lo===0)continue;var c=String.fromCharCode(hi*16+lo);if(!/\w|[-_./~]/.test(c))l.push("\\u00"+hi.toString(16)+lo.toString(16))}}rison.not_idchar=l.join("")})();rison.not_idchar=" '!:(),*@$";rison.not_idstart="-0123456789";(function(){var idrx="[^"+rison.not_idstart+rison.not_idchar+"][^"+rison.not_idchar+"]*";rison.id_ok=new RegExp("^"+idrx+"$");rison.next_id=new RegExp(idrx,"g")})();rison.quote=function(x){if(/^[-A-Za-z0-9~!*()_.',:@$/]*$/.test(x))return x;return encodeURIComponent(x).replace(/%2C/g,",").replace(/%3A/g,":").replace(/%40/g,"@").replace(/%24/g,"$").replace(/%2F/g,"/").replace(/%20/g,"+")};(function(){var sq={"'":true,"!":true},enc=function(v){if(v&&typeof v.toJSON==="function")v=v.toJSON();var fn=s[typeof v];if(fn)return fn(v)},s={array:function(x){var a=["!("],b,i,l=x.length,v;for(i=0;i<l;i+=1){v=enc(x[i]);if(typeof v=="string"){if(b){a[a.length]=","}a[a.length]=v;b=true}}a[a.length]=")";return a.join("")},boolean:function(x){if(x)return"!t";return"!f"},null:function(){return"!n"},number:function(x){if(!isFinite(x))return"!n";return String(x).replace(/\+/,"")},object:function(x){if(x){if(x instanceof Array){return s.array(x)}if(typeof x.__prototype__==="object"&&typeof x.__prototype__.encode_rison!=="undefined")return x.encode_rison();var a=["("],b,i,v,ki,ks=[];for(i in x)ks[ks.length]=i;ks.sort();for(ki=0;ki<ks.length;ki++){i=ks[ki];v=enc(x[i]);if(typeof v=="string"){if(b){a[a.length]=","}a.push(s.string(i),":",v);b=true}}a[a.length]=")";return a.join("")}return"!n"},string:function(x){if(x==="")return"''";if(rison.id_ok.test(x))return x;x=x.replace(/(['!])/g,(function(a,b){if(sq[b])return"!"+b;return b}));return"'"+x+"'"},undefined:function(){return}};rison.encode=function(v){return enc(v)};rison.encode_object=function(v){if(typeof v!="object"||v===null||v instanceof Array)throw new Error("rison.encode_object expects an object argument");var r=s[typeof v](v);return r.substring(1,r.length-1)};rison.encode_array=function(v){if(!(v instanceof Array))throw new Error("rison.encode_array expects an array argument");var r=s[typeof v](v);return r.substring(2,r.length-1)};rison.encode_uri=function(v){return rison.quote(s[typeof v](v))}})();rison.decode=function(r){var errcb=function(e){throw Error("rison decoder error: "+e)};if(typeof r!=="string")return errcb("decode input must be a string");var p=new rison.parser(errcb);return p.parse(r)};rison.decode_object=function(r){return rison.decode("("+r+")")};rison.decode_array=function(r){return rison.decode("!("+r+")")};rison.parser=function(errcb){this.errorHandler=errcb};rison.parser.WHITESPACE="";rison.parser.prototype.setOptions=function(options){if(options["errorHandler"])this.errorHandler=options.errorHandler};rison.parser.prototype.parse=function(str){this.string=str;this.index=0;this.message=null;var value=this.readValue();if(!this.message&&this.next())value=this.error("unable to parse string as rison: '"+rison.encode(str)+"'");if(this.message&&this.errorHandler)this.errorHandler(this.message,this.index);return value};rison.parser.prototype.error=function(message){if(typeof console!=="undefined")console.log("rison parser error: ",message);this.message=message;return undefined};rison.parser.prototype.readValue=function(){var c=this.next();var fn=c&&this.table[c];if(fn)return fn.apply(this);var s=this.string;var i=this.index-1;rison.next_id.lastIndex=i;var m=rison.next_id.exec(s);if(m.length>0){var id=m[0];this.index=i+id.length;return id}if(c)return this.error("invalid character: '"+c+"'");return this.error("empty expression")};rison.parser.parse_array=function(parser){var ar=[];var c;while((c=parser.next())!==")"){if(!c)return parser.error("unmatched '!('");if(ar.length){if(c!==",")parser.error("missing ','")}else if(c===","){return parser.error("extra ','")}else--parser.index;var n=parser.readValue();if(typeof n=="undefined")return undefined;ar.push(n)}return ar};rison.parser.bangs={t:true,f:false,n:null,"(":rison.parser.parse_array};rison.parser.prototype.table={"!":function(){var s=this.string;var c=s.charAt(this.index++);if(!c)return this.error('"!" at end of input');var x=rison.parser.bangs[c];if(typeof x=="function"){return x.call(null,this)}else if(typeof x=="undefined"){return this.error('unknown literal: "!'+c+'"')}return x},"(":function(){var o={};var c;var count=0;while((c=this.next())!==")"){if(count){if(c!==",")this.error("missing ','")}else if(c===","){return this.error("extra ','")}else--this.index;var k=this.readValue();if(typeof k==="undefined")return undefined;if(this.next()!==":")return this.error("missing ':'");var v=this.readValue();if(typeof v==="undefined")return undefined;o[k]=v;count++}return o},"'":function(){var s=this.string;var i=this.index;var start=i;var segments=[];var c;while((c=s.charAt(i++))!=="'"){if(!c)return this.error('unmatched "\'"');if(c==="!"){if(start<i-1)segments.push(s.slice(start,i-1));c=s.charAt(i++);if("!'".indexOf(c)>=0){segments.push(c)}else{return this.error('invalid string escape: "!'+c+'"')}start=i}}if(start<i-1)segments.push(s.slice(start,i-1));this.index=i;return segments.length===1?segments[0]:segments.join("")},"-":function(){var s=this.string;var i=this.index;var start=i-1;var state="int";var permittedSigns="-";var transitions={"int+.":"frac","int+e":"exp","frac+e":"exp"};do{var c=s.charAt(i++);if(!c)break;if("0"<=c&&c<="9")continue;if(permittedSigns.indexOf(c)>=0){permittedSigns="";continue}state=transitions[state+"+"+c.toLowerCase()];if(state==="exp")permittedSigns="-"}while(state);this.index=--i;s=s.slice(start,i);if(s==="-")return this.error("invalid number");return Number(s)}};(function(table){for(var i=0;i<=9;i++)table[String(i)]=table["-"]})(rison.parser.prototype.table);rison.parser.prototype.next=function(){var c;var s=this.string;var i=this.index;do{if(i===s.length)return undefined;c=s.charAt(i++)}while(rison.parser.WHITESPACE.indexOf(c)>=0);this.index=i;return c};return rison}))},,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";const strictUriEncode=__webpack_require__(104);const decodeComponent=__webpack_require__(105);const splitOnFirst=__webpack_require__(106);const isNullOrUndefined=value=>value===null||value===undefined;function encoderForArrayFormat(options){switch(options.arrayFormat){case"index":return key=>(result,value)=>{const index=result.length;if(value===undefined||options.skipNull&&value===null||options.skipEmptyString&&value===""){return result}if(value===null){return[...result,[encode(key,options),"[",index,"]"].join("")]}return[...result,[encode(key,options),"[",encode(index,options),"]=",encode(value,options)].join("")]};case"bracket":return key=>(result,value)=>{if(value===undefined||options.skipNull&&value===null||options.skipEmptyString&&value===""){return result}if(value===null){return[...result,[encode(key,options),"[]"].join("")]}return[...result,[encode(key,options),"[]=",encode(value,options)].join("")]};case"comma":case"separator":return key=>(result,value)=>{if(value===null||value===undefined||value.length===0){return result}if(result.length===0){return[[encode(key,options),"=",encode(value,options)].join("")]}return[[result,encode(value,options)].join(options.arrayFormatSeparator)]};default:return key=>(result,value)=>{if(value===undefined||options.skipNull&&value===null||options.skipEmptyString&&value===""){return result}if(value===null){return[...result,encode(key,options)]}return[...result,[encode(key,options),"=",encode(value,options)].join("")]}}}function parserForArrayFormat(options){let result;switch(options.arrayFormat){case"index":return(key,value,accumulator)=>{result=/\[(\d*)\]$/.exec(key);key=key.replace(/\[\d*\]$/,"");if(!result){accumulator[key]=value;return}if(accumulator[key]===undefined){accumulator[key]={}}accumulator[key][result[1]]=value};case"bracket":return(key,value,accumulator)=>{result=/(\[\])$/.exec(key);key=key.replace(/\[\]$/,"");if(!result){accumulator[key]=value;return}if(accumulator[key]===undefined){accumulator[key]=[value];return}accumulator[key]=[].concat(accumulator[key],value)};case"comma":case"separator":return(key,value,accumulator)=>{const isArray=typeof value==="string"&&value.split("").indexOf(options.arrayFormatSeparator)>-1;const newValue=isArray?value.split(options.arrayFormatSeparator).map(item=>decode(item,options)):value===null?value:decode(value,options);accumulator[key]=newValue};default:return(key,value,accumulator)=>{if(accumulator[key]===undefined){accumulator[key]=value;return}accumulator[key]=[].concat(accumulator[key],value)}}}function validateArrayFormatSeparator(value){if(typeof value!=="string"||value.length!==1){throw new TypeError("arrayFormatSeparator must be single character string")}}function encode(value,options){if(options.encode){return options.strict?strictUriEncode(value):encodeURIComponent(value)}return value}function decode(value,options){if(options.decode){return decodeComponent(value)}return value}function keysSorter(input){if(Array.isArray(input)){return input.sort()}if(typeof input==="object"){return keysSorter(Object.keys(input)).sort((a,b)=>Number(a)-Number(b)).map(key=>input[key])}return input}function removeHash(input){const hashStart=input.indexOf("#");if(hashStart!==-1){input=input.slice(0,hashStart)}return input}function getHash(url){let hash="";const hashStart=url.indexOf("#");if(hashStart!==-1){hash=url.slice(hashStart)}return hash}function extract(input){input=removeHash(input);const queryStart=input.indexOf("?");if(queryStart===-1){return""}return input.slice(queryStart+1)}function parseValue(value,options){if(options.parseNumbers&&!Number.isNaN(Number(value))&&(typeof value==="string"&&value.trim()!=="")){value=Number(value)}else if(options.parseBooleans&&value!==null&&(value.toLowerCase()==="true"||value.toLowerCase()==="false")){value=value.toLowerCase()==="true"}return value}function parse(input,options){options=Object.assign({decode:true,sort:true,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:false,parseBooleans:false},options);validateArrayFormatSeparator(options.arrayFormatSeparator);const formatter=parserForArrayFormat(options);const ret=Object.create(null);if(typeof input!=="string"){return ret}input=input.trim().replace(/^[?#&]/,"");if(!input){return ret}for(const param of input.split("&")){let[key,value]=splitOnFirst(options.decode?param.replace(/\+/g," "):param,"=");value=value===undefined?null:["comma","separator"].includes(options.arrayFormat)?value:decode(value,options);formatter(decode(key,options),value,ret)}for(const key of Object.keys(ret)){const value=ret[key];if(typeof value==="object"&&value!==null){for(const k of Object.keys(value)){value[k]=parseValue(value[k],options)}}else{ret[key]=parseValue(value,options)}}if(options.sort===false){return ret}return(options.sort===true?Object.keys(ret).sort():Object.keys(ret).sort(options.sort)).reduce((result,key)=>{const value=ret[key];if(Boolean(value)&&typeof value==="object"&&!Array.isArray(value)){result[key]=keysSorter(value)}else{result[key]=value}return result},Object.create(null))}exports.extract=extract;exports.parse=parse;exports.stringify=(object,options)=>{if(!object){return""}options=Object.assign({encode:true,strict:true,arrayFormat:"none",arrayFormatSeparator:","},options);validateArrayFormatSeparator(options.arrayFormatSeparator);const shouldFilter=key=>options.skipNull&&isNullOrUndefined(object[key])||options.skipEmptyString&&object[key]==="";const formatter=encoderForArrayFormat(options);const objectCopy={};for(const key of Object.keys(object)){if(!shouldFilter(key)){objectCopy[key]=object[key]}}const keys=Object.keys(objectCopy);if(options.sort!==false){keys.sort(options.sort)}return keys.map(key=>{const value=object[key];if(value===undefined){return""}if(value===null){return encode(key,options)}if(Array.isArray(value)){return value.reduce(formatter(key),[]).join("&")}return encode(key,options)+"="+encode(value,options)}).filter(x=>x.length>0).join("&")};exports.parseUrl=(input,options)=>{options=Object.assign({decode:true},options);const[url,hash]=splitOnFirst(input,"#");return Object.assign({url:url.split("?")[0]||"",query:parse(extract(input),options)},options&&options.parseFragmentIdentifier&&hash?{fragmentIdentifier:decode(hash,options)}:{})};exports.stringifyUrl=(input,options)=>{options=Object.assign({encode:true,strict:true},options);const url=removeHash(input.url).split("?")[0]||"";const queryFromUrl=exports.extract(input.url);const parsedQueryFromUrl=exports.parse(queryFromUrl,{sort:false});const query=Object.assign(parsedQueryFromUrl,input.query);let queryString=exports.stringify(query,options);if(queryString){queryString=`?${queryString}`}let hash=getHash(input.url);if(input.fragmentIdentifier){hash=`#${encode(input.fragmentIdentifier,options)}`}return`${url}${queryString}${hash}`}},function(module,exports,__webpack_require__){"use strict";module.exports=str=>encodeURIComponent(str).replace(/[!'()*]/g,x=>`%${x.charCodeAt(0).toString(16).toUpperCase()}`)},function(module,exports,__webpack_require__){"use strict";var token="%[a-f0-9]{2}";var singleMatcher=new RegExp(token,"gi");var multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(components,split){try{return decodeURIComponent(components.join(""))}catch(err){}if(components.length===1){return components}split=split||1;var left=components.slice(0,split);var right=components.slice(split);return Array.prototype.concat.call([],decodeComponents(left),decodeComponents(right))}function decode(input){try{return decodeURIComponent(input)}catch(err){var tokens=input.match(singleMatcher);for(var i=1;i<tokens.length;i++){input=decodeComponents(tokens,i).join("");tokens=input.match(singleMatcher)}return input}}function customDecodeURIComponent(input){var replaceMap={"%FE%FF":"��","%FF%FE":"��"};var match=multiMatcher.exec(input);while(match){try{replaceMap[match[0]]=decodeURIComponent(match[0])}catch(err){var result=decode(match[0]);if(result!==match[0]){replaceMap[match[0]]=result}}match=multiMatcher.exec(input)}replaceMap["%C2"]="�";var entries=Object.keys(replaceMap);for(var i=0;i<entries.length;i++){var key=entries[i];input=input.replace(new RegExp(key,"g"),replaceMap[key])}return input}module.exports=function(encodedURI){if(typeof encodedURI!=="string"){throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof encodedURI+"`")}try{encodedURI=encodedURI.replace(/\+/g," ");return decodeURIComponent(encodedURI)}catch(err){return customDecodeURIComponent(encodedURI)}}},function(module,exports,__webpack_require__){"use strict";module.exports=(string,separator)=>{if(!(typeof string==="string"&&typeof separator==="string")){throw new TypeError("Expected the arguments to be of type `string`")}if(separator===""){return[string]}const separatorIndex=string.indexOf(separator);if(separatorIndex===-1){return[string]}return[string.slice(0,separatorIndex),string.slice(separatorIndex+separator.length)]}},,,,,,,,,,function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(117);case"v7light":return __webpack_require__(119);case"v8dark":return __webpack_require__(121);case"v8light":return __webpack_require__(123)}},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(118);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscDiscoverGrid {\n  width: 100%;\n  max-width: 100%;\n  height: 100%;\n  overflow: hidden; }\n  .dscDiscoverGrid .euiDataGrid__controls {\n    border: none;\n    border-bottom: 1px solid #343741; }\n  .dscDiscoverGrid .euiDataGridRowCell.euiDataGridRowCell--firstColumn {\n    border-left: none; }\n  .dscDiscoverGrid .euiDataGridRowCell.euiDataGridRowCell--lastColumn {\n    border-right: none; }\n  .dscDiscoverGrid .euiDataGridRowCell:first-of-type,\n  .dscDiscoverGrid .euiDataGrid--headerShade.euiDataGrid--bordersAll .euiDataGridHeaderCell:first-of-type {\n    border-left: none;\n    border-right: none; }\n  .dscDiscoverGrid .euiDataGridRowCell:last-of-type,\n  .dscDiscoverGrid .euiDataGridHeaderCell:last-of-type {\n    border-right: none; }\n\n.dscDiscoverGrid__footer {\n  background-color: #343741;\n  padding: 8px 16px;\n  margin-top: 4px;\n  text-align: center; }\n\n.dscTable__flyoutHeader {\n  white-space: nowrap; }\n\n.euiDataGridHeader .euiDataGridHeaderCell__content {\n  max-width: 100%;\n  overflow: hidden !important;\n  text-overflow: ellipsis !important;\n  white-space: nowrap !important;\n  word-wrap: normal !important;\n  overflow: hidden;\n  white-space: nowrap;\n  flex-grow: 1; }\n\n.euiDataGridHeader .euiDataGridHeaderCell__popover {\n  flex-grow: 0;\n  flex-basis: auto;\n  width: auto;\n  padding-left: 4px; }\n\n.euiDataGridRowCell--numeric {\n  text-align: right; }\n\n.euiDataGrid__noResults {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  flex: 1 0 100%;\n  text-align: center;\n  height: 100%;\n  width: 100%; }\n\n.dscFormatSource {\n  max-width: 100%;\n  overflow: hidden !important;\n  text-overflow: ellipsis !important;\n  white-space: nowrap !important;\n  word-wrap: normal !important; }\n\n.dscDiscoverGrid__descriptionListDescription {\n  word-break: normal !important; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(120);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscDiscoverGrid {\n  width: 100%;\n  max-width: 100%;\n  height: 100%;\n  overflow: hidden; }\n  .dscDiscoverGrid .euiDataGrid__controls {\n    border: none;\n    border-bottom: 1px solid #D3DAE6; }\n  .dscDiscoverGrid .euiDataGridRowCell.euiDataGridRowCell--firstColumn {\n    border-left: none; }\n  .dscDiscoverGrid .euiDataGridRowCell.euiDataGridRowCell--lastColumn {\n    border-right: none; }\n  .dscDiscoverGrid .euiDataGridRowCell:first-of-type,\n  .dscDiscoverGrid .euiDataGrid--headerShade.euiDataGrid--bordersAll .euiDataGridHeaderCell:first-of-type {\n    border-left: none;\n    border-right: none; }\n  .dscDiscoverGrid .euiDataGridRowCell:last-of-type,\n  .dscDiscoverGrid .euiDataGridHeaderCell:last-of-type {\n    border-right: none; }\n\n.dscDiscoverGrid__footer {\n  background-color: #D3DAE6;\n  padding: 8px 16px;\n  margin-top: 4px;\n  text-align: center; }\n\n.dscTable__flyoutHeader {\n  white-space: nowrap; }\n\n.euiDataGridHeader .euiDataGridHeaderCell__content {\n  max-width: 100%;\n  overflow: hidden !important;\n  text-overflow: ellipsis !important;\n  white-space: nowrap !important;\n  word-wrap: normal !important;\n  overflow: hidden;\n  white-space: nowrap;\n  flex-grow: 1; }\n\n.euiDataGridHeader .euiDataGridHeaderCell__popover {\n  flex-grow: 0;\n  flex-basis: auto;\n  width: auto;\n  padding-left: 4px; }\n\n.euiDataGridRowCell--numeric {\n  text-align: right; }\n\n.euiDataGrid__noResults {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  flex: 1 0 100%;\n  text-align: center;\n  height: 100%;\n  width: 100%; }\n\n.dscFormatSource {\n  max-width: 100%;\n  overflow: hidden !important;\n  text-overflow: ellipsis !important;\n  white-space: nowrap !important;\n  word-wrap: normal !important; }\n\n.dscDiscoverGrid__descriptionListDescription {\n  word-break: normal !important; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(122);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscDiscoverGrid {\n  width: 100%;\n  max-width: 100%;\n  height: 100%;\n  overflow: hidden; }\n  .dscDiscoverGrid .euiDataGrid__controls {\n    border: none;\n    border-bottom: 1px solid #343741; }\n  .dscDiscoverGrid .euiDataGridRowCell.euiDataGridRowCell--firstColumn {\n    border-left: none; }\n  .dscDiscoverGrid .euiDataGridRowCell.euiDataGridRowCell--lastColumn {\n    border-right: none; }\n  .dscDiscoverGrid .euiDataGridRowCell:first-of-type,\n  .dscDiscoverGrid .euiDataGrid--headerShade.euiDataGrid--bordersAll .euiDataGridHeaderCell:first-of-type {\n    border-left: none;\n    border-right: none; }\n  .dscDiscoverGrid .euiDataGridRowCell:last-of-type,\n  .dscDiscoverGrid .euiDataGridHeaderCell:last-of-type {\n    border-right: none; }\n\n.dscDiscoverGrid__footer {\n  background-color: #343741;\n  padding: 8px 16px;\n  margin-top: 4px;\n  text-align: center; }\n\n.dscTable__flyoutHeader {\n  white-space: nowrap; }\n\n.euiDataGridHeader .euiDataGridHeaderCell__content {\n  max-width: 100%;\n  overflow: hidden !important;\n  text-overflow: ellipsis !important;\n  white-space: nowrap !important;\n  word-wrap: normal !important;\n  overflow: hidden;\n  white-space: nowrap;\n  flex-grow: 1; }\n\n.euiDataGridHeader .euiDataGridHeaderCell__popover {\n  flex-grow: 0;\n  flex-basis: auto;\n  width: auto;\n  padding-left: 4px; }\n\n.euiDataGridRowCell--numeric {\n  text-align: right; }\n\n.euiDataGrid__noResults {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  flex: 1 0 100%;\n  text-align: center;\n  height: 100%;\n  width: 100%; }\n\n.dscFormatSource {\n  max-width: 100%;\n  overflow: hidden !important;\n  text-overflow: ellipsis !important;\n  white-space: nowrap !important;\n  word-wrap: normal !important; }\n\n.dscDiscoverGrid__descriptionListDescription {\n  word-break: normal !important; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(124);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscDiscoverGrid {\n  width: 100%;\n  max-width: 100%;\n  height: 100%;\n  overflow: hidden; }\n  .dscDiscoverGrid .euiDataGrid__controls {\n    border: none;\n    border-bottom: 1px solid #D3DAE6; }\n  .dscDiscoverGrid .euiDataGridRowCell.euiDataGridRowCell--firstColumn {\n    border-left: none; }\n  .dscDiscoverGrid .euiDataGridRowCell.euiDataGridRowCell--lastColumn {\n    border-right: none; }\n  .dscDiscoverGrid .euiDataGridRowCell:first-of-type,\n  .dscDiscoverGrid .euiDataGrid--headerShade.euiDataGrid--bordersAll .euiDataGridHeaderCell:first-of-type {\n    border-left: none;\n    border-right: none; }\n  .dscDiscoverGrid .euiDataGridRowCell:last-of-type,\n  .dscDiscoverGrid .euiDataGridHeaderCell:last-of-type {\n    border-right: none; }\n\n.dscDiscoverGrid__footer {\n  background-color: #D3DAE6;\n  padding: 8px 16px;\n  margin-top: 4px;\n  text-align: center; }\n\n.dscTable__flyoutHeader {\n  white-space: nowrap; }\n\n.euiDataGridHeader .euiDataGridHeaderCell__content {\n  max-width: 100%;\n  overflow: hidden !important;\n  text-overflow: ellipsis !important;\n  white-space: nowrap !important;\n  word-wrap: normal !important;\n  overflow: hidden;\n  white-space: nowrap;\n  flex-grow: 1; }\n\n.euiDataGridHeader .euiDataGridHeaderCell__popover {\n  flex-grow: 0;\n  flex-basis: auto;\n  width: auto;\n  padding-left: 4px; }\n\n.euiDataGridRowCell--numeric {\n  text-align: right; }\n\n.euiDataGrid__noResults {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  flex: 1 0 100%;\n  text-align: center;\n  height: 100%;\n  width: 100%; }\n\n.dscFormatSource {\n  max-width: 100%;\n  overflow: hidden !important;\n  text-overflow: ellipsis !important;\n  white-space: nowrap !important;\n  word-wrap: normal !important; }\n\n.dscDiscoverGrid__descriptionListDescription {\n  word-break: normal !important; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(126);case"v7light":return __webpack_require__(128);case"v8dark":return __webpack_require__(130);case"v8light":return __webpack_require__(132)}},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(127);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,'/* stylelint-disable-next-line length-zero-no-unit -- need consistent unit to sum them */\n/* stylelint-disable-next-line length-zero-no-unit -- need consistent unit to sum them */\ndiscover-app {\n  flex-grow: 1; }\n\n.dscPage {\n  flex-direction: column;\n  overflow: hidden;\n  padding: 0; }\n  @media only screen and (min-width: 768px) and (max-width: 991px) {\n    .dscPage {\n      height: calc(100vh - 98px); }\n      .kbnBody--chromeHidden .dscPage {\n        height: calc(100vh - 0px); }\n      .kbnBody--hasHeaderBanner .dscPage {\n        height: calc(100vh - 130px); }\n      .kbnBody--chromeHidden.kbnBody--hasHeaderBanner .dscPage {\n        height: calc(100vh - 32px); } }\n  @media only screen and (min-width: 992px) and (max-width: 1199px) {\n    .dscPage {\n      height: calc(100vh - 98px); }\n      .kbnBody--chromeHidden .dscPage {\n        height: calc(100vh - 0px); }\n      .kbnBody--hasHeaderBanner .dscPage {\n        height: calc(100vh - 130px); }\n      .kbnBody--chromeHidden.kbnBody--hasHeaderBanner .dscPage {\n        height: calc(100vh - 32px); } }\n  @media only screen and (min-width: 1200px) {\n    .dscPage {\n      height: calc(100vh - 98px); }\n      .kbnBody--chromeHidden .dscPage {\n        height: calc(100vh - 0px); }\n      .kbnBody--hasHeaderBanner .dscPage {\n        height: calc(100vh - 130px); }\n      .kbnBody--chromeHidden.kbnBody--hasHeaderBanner .dscPage {\n        height: calc(100vh - 32px); } }\n  .dscPage .dscPageBody {\n    overflow: hidden; }\n\n.dscPageBody__inner {\n  overflow: hidden;\n  height: 100%; }\n\n.dscPageBody__contents {\n  overflow: hidden;\n  padding-top: 2px; }\n\n.dscPageContent__wrapper {\n  padding: 0 16px 16px 0;\n  overflow: hidden; }\n  @media only screen and (max-width: 574px) {\n    .dscPageContent__wrapper {\n      padding: 0 16px 16px; } }\n  @media only screen and (min-width: 575px) and (max-width: 767px) {\n    .dscPageContent__wrapper {\n      padding: 0 16px 16px; } }\n\n.dscPageContent {\n  border: 1px solid #343741; }\n\n.dscPageContent,\n.dscPageContent__inner {\n  height: 100%; }\n\n.dscPageContent--centered {\n  height: auto; }\n\n.dscResultCount {\n  padding: 8px;\n  min-height: 48px; }\n  @media only screen and (max-width: 574px) {\n    .dscResultCount .dscResultCount__toggle {\n      align-items: flex-end; }\n    .dscResultCount .dscResuntCount__title,\n    .dscResultCount .dscResultCount__actions {\n      margin-bottom: 0 !important; } }\n  @media only screen and (min-width: 575px) and (max-width: 767px) {\n    .dscResultCount .dscResultCount__toggle {\n      align-items: flex-end; }\n    .dscResultCount .dscResuntCount__title,\n    .dscResultCount .dscResultCount__actions {\n      margin-bottom: 0 !important; } }\n\n.dscTimechart {\n  display: block;\n  position: relative; }\n  .dscTimechart .series > rect {\n    fill-opacity: .5;\n    stroke-width: 1; }\n\n.dscHistogram {\n  display: flex;\n  height: 200px;\n  padding: 8px; }\n\n.dscHistogramGrid {\n  display: flex;\n  height: 128px;\n  padding: 8px 8px 0 8px; }\n\n.dscTable .kbnDocTable__row {\n  font-family: "Roboto Mono", Consolas, Menlo, Courier, monospace;\n  font-size: 12px; }\n\n.dscTable__footer {\n  background-color: #343741;\n  padding: 4px 8px;\n  text-align: center; }\n',""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(129);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,'/* stylelint-disable-next-line length-zero-no-unit -- need consistent unit to sum them */\n/* stylelint-disable-next-line length-zero-no-unit -- need consistent unit to sum them */\ndiscover-app {\n  flex-grow: 1; }\n\n.dscPage {\n  flex-direction: column;\n  overflow: hidden;\n  padding: 0; }\n  @media only screen and (min-width: 768px) and (max-width: 991px) {\n    .dscPage {\n      height: calc(100vh - 98px); }\n      .kbnBody--chromeHidden .dscPage {\n        height: calc(100vh - 0px); }\n      .kbnBody--hasHeaderBanner .dscPage {\n        height: calc(100vh - 130px); }\n      .kbnBody--chromeHidden.kbnBody--hasHeaderBanner .dscPage {\n        height: calc(100vh - 32px); } }\n  @media only screen and (min-width: 992px) and (max-width: 1199px) {\n    .dscPage {\n      height: calc(100vh - 98px); }\n      .kbnBody--chromeHidden .dscPage {\n        height: calc(100vh - 0px); }\n      .kbnBody--hasHeaderBanner .dscPage {\n        height: calc(100vh - 130px); }\n      .kbnBody--chromeHidden.kbnBody--hasHeaderBanner .dscPage {\n        height: calc(100vh - 32px); } }\n  @media only screen and (min-width: 1200px) {\n    .dscPage {\n      height: calc(100vh - 98px); }\n      .kbnBody--chromeHidden .dscPage {\n        height: calc(100vh - 0px); }\n      .kbnBody--hasHeaderBanner .dscPage {\n        height: calc(100vh - 130px); }\n      .kbnBody--chromeHidden.kbnBody--hasHeaderBanner .dscPage {\n        height: calc(100vh - 32px); } }\n  .dscPage .dscPageBody {\n    overflow: hidden; }\n\n.dscPageBody__inner {\n  overflow: hidden;\n  height: 100%; }\n\n.dscPageBody__contents {\n  overflow: hidden;\n  padding-top: 2px; }\n\n.dscPageContent__wrapper {\n  padding: 0 16px 16px 0;\n  overflow: hidden; }\n  @media only screen and (max-width: 574px) {\n    .dscPageContent__wrapper {\n      padding: 0 16px 16px; } }\n  @media only screen and (min-width: 575px) and (max-width: 767px) {\n    .dscPageContent__wrapper {\n      padding: 0 16px 16px; } }\n\n.dscPageContent {\n  border: 1px solid #D3DAE6; }\n\n.dscPageContent,\n.dscPageContent__inner {\n  height: 100%; }\n\n.dscPageContent--centered {\n  height: auto; }\n\n.dscResultCount {\n  padding: 8px;\n  min-height: 48px; }\n  @media only screen and (max-width: 574px) {\n    .dscResultCount .dscResultCount__toggle {\n      align-items: flex-end; }\n    .dscResultCount .dscResuntCount__title,\n    .dscResultCount .dscResultCount__actions {\n      margin-bottom: 0 !important; } }\n  @media only screen and (min-width: 575px) and (max-width: 767px) {\n    .dscResultCount .dscResultCount__toggle {\n      align-items: flex-end; }\n    .dscResultCount .dscResuntCount__title,\n    .dscResultCount .dscResultCount__actions {\n      margin-bottom: 0 !important; } }\n\n.dscTimechart {\n  display: block;\n  position: relative; }\n  .dscTimechart .series > rect {\n    fill-opacity: .5;\n    stroke-width: 1; }\n\n.dscHistogram {\n  display: flex;\n  height: 200px;\n  padding: 8px; }\n\n.dscHistogramGrid {\n  display: flex;\n  height: 128px;\n  padding: 8px 8px 0 8px; }\n\n.dscTable .kbnDocTable__row {\n  font-family: "Roboto Mono", Consolas, Menlo, Courier, monospace;\n  font-size: 12px; }\n\n.dscTable__footer {\n  background-color: #D3DAE6;\n  padding: 4px 8px;\n  text-align: center; }\n',""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(131);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,'/* stylelint-disable-next-line length-zero-no-unit -- need consistent unit to sum them */\n/* stylelint-disable-next-line length-zero-no-unit -- need consistent unit to sum them */\ndiscover-app {\n  flex-grow: 1; }\n\n.dscPage {\n  flex-direction: column;\n  overflow: hidden;\n  padding: 0; }\n  @media only screen and (min-width: 768px) and (max-width: 991px) {\n    .dscPage {\n      height: calc(100vh - 96px); }\n      .kbnBody--chromeHidden .dscPage {\n        height: calc(100vh - 0px); }\n      .kbnBody--hasHeaderBanner .dscPage {\n        height: calc(100vh - 128px); }\n      .kbnBody--chromeHidden.kbnBody--hasHeaderBanner .dscPage {\n        height: calc(100vh - 32px); } }\n  @media only screen and (min-width: 992px) and (max-width: 1199px) {\n    .dscPage {\n      height: calc(100vh - 96px); }\n      .kbnBody--chromeHidden .dscPage {\n        height: calc(100vh - 0px); }\n      .kbnBody--hasHeaderBanner .dscPage {\n        height: calc(100vh - 128px); }\n      .kbnBody--chromeHidden.kbnBody--hasHeaderBanner .dscPage {\n        height: calc(100vh - 32px); } }\n  @media only screen and (min-width: 1200px) {\n    .dscPage {\n      height: calc(100vh - 96px); }\n      .kbnBody--chromeHidden .dscPage {\n        height: calc(100vh - 0px); }\n      .kbnBody--hasHeaderBanner .dscPage {\n        height: calc(100vh - 128px); }\n      .kbnBody--chromeHidden.kbnBody--hasHeaderBanner .dscPage {\n        height: calc(100vh - 32px); } }\n  .dscPage .dscPageBody {\n    overflow: hidden; }\n\n.dscPageBody__inner {\n  overflow: hidden;\n  height: 100%; }\n\n.dscPageBody__contents {\n  overflow: hidden;\n  padding-top: 2px; }\n\n.dscPageContent__wrapper {\n  padding: 0 16px 16px 0;\n  overflow: hidden; }\n  @media only screen and (max-width: 574px) {\n    .dscPageContent__wrapper {\n      padding: 0 16px 16px; } }\n  @media only screen and (min-width: 575px) and (max-width: 767px) {\n    .dscPageContent__wrapper {\n      padding: 0 16px 16px; } }\n\n.dscPageContent {\n  border: 1px solid #343741; }\n\n.dscPageContent,\n.dscPageContent__inner {\n  height: 100%; }\n\n.dscPageContent--centered {\n  height: auto; }\n\n.dscResultCount {\n  padding: 8px;\n  min-height: 48px; }\n  @media only screen and (max-width: 574px) {\n    .dscResultCount .dscResultCount__toggle {\n      align-items: flex-end; }\n    .dscResultCount .dscResuntCount__title,\n    .dscResultCount .dscResultCount__actions {\n      margin-bottom: 0 !important; } }\n  @media only screen and (min-width: 575px) and (max-width: 767px) {\n    .dscResultCount .dscResultCount__toggle {\n      align-items: flex-end; }\n    .dscResultCount .dscResuntCount__title,\n    .dscResultCount .dscResultCount__actions {\n      margin-bottom: 0 !important; } }\n\n.dscTimechart {\n  display: block;\n  position: relative; }\n  .dscTimechart .series > rect {\n    fill-opacity: .5;\n    stroke-width: 1; }\n\n.dscHistogram {\n  display: flex;\n  height: 200px;\n  padding: 8px; }\n\n.dscHistogramGrid {\n  display: flex;\n  height: 128px;\n  padding: 8px 8px 0 8px; }\n\n.dscTable .kbnDocTable__row {\n  font-family: "Roboto Mono", Consolas, Menlo, Courier, monospace;\n  font-size: 12px; }\n\n.dscTable__footer {\n  background-color: #343741;\n  padding: 4px 8px;\n  text-align: center; }\n',""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(133);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,'/* stylelint-disable-next-line length-zero-no-unit -- need consistent unit to sum them */\n/* stylelint-disable-next-line length-zero-no-unit -- need consistent unit to sum them */\ndiscover-app {\n  flex-grow: 1; }\n\n.dscPage {\n  flex-direction: column;\n  overflow: hidden;\n  padding: 0; }\n  @media only screen and (min-width: 768px) and (max-width: 991px) {\n    .dscPage {\n      height: calc(100vh - 96px); }\n      .kbnBody--chromeHidden .dscPage {\n        height: calc(100vh - 0px); }\n      .kbnBody--hasHeaderBanner .dscPage {\n        height: calc(100vh - 128px); }\n      .kbnBody--chromeHidden.kbnBody--hasHeaderBanner .dscPage {\n        height: calc(100vh - 32px); } }\n  @media only screen and (min-width: 992px) and (max-width: 1199px) {\n    .dscPage {\n      height: calc(100vh - 96px); }\n      .kbnBody--chromeHidden .dscPage {\n        height: calc(100vh - 0px); }\n      .kbnBody--hasHeaderBanner .dscPage {\n        height: calc(100vh - 128px); }\n      .kbnBody--chromeHidden.kbnBody--hasHeaderBanner .dscPage {\n        height: calc(100vh - 32px); } }\n  @media only screen and (min-width: 1200px) {\n    .dscPage {\n      height: calc(100vh - 96px); }\n      .kbnBody--chromeHidden .dscPage {\n        height: calc(100vh - 0px); }\n      .kbnBody--hasHeaderBanner .dscPage {\n        height: calc(100vh - 128px); }\n      .kbnBody--chromeHidden.kbnBody--hasHeaderBanner .dscPage {\n        height: calc(100vh - 32px); } }\n  .dscPage .dscPageBody {\n    overflow: hidden; }\n\n.dscPageBody__inner {\n  overflow: hidden;\n  height: 100%; }\n\n.dscPageBody__contents {\n  overflow: hidden;\n  padding-top: 2px; }\n\n.dscPageContent__wrapper {\n  padding: 0 16px 16px 0;\n  overflow: hidden; }\n  @media only screen and (max-width: 574px) {\n    .dscPageContent__wrapper {\n      padding: 0 16px 16px; } }\n  @media only screen and (min-width: 575px) and (max-width: 767px) {\n    .dscPageContent__wrapper {\n      padding: 0 16px 16px; } }\n\n.dscPageContent {\n  border: 1px solid #D3DAE6; }\n\n.dscPageContent,\n.dscPageContent__inner {\n  height: 100%; }\n\n.dscPageContent--centered {\n  height: auto; }\n\n.dscResultCount {\n  padding: 8px;\n  min-height: 48px; }\n  @media only screen and (max-width: 574px) {\n    .dscResultCount .dscResultCount__toggle {\n      align-items: flex-end; }\n    .dscResultCount .dscResuntCount__title,\n    .dscResultCount .dscResultCount__actions {\n      margin-bottom: 0 !important; } }\n  @media only screen and (min-width: 575px) and (max-width: 767px) {\n    .dscResultCount .dscResultCount__toggle {\n      align-items: flex-end; }\n    .dscResultCount .dscResuntCount__title,\n    .dscResultCount .dscResultCount__actions {\n      margin-bottom: 0 !important; } }\n\n.dscTimechart {\n  display: block;\n  position: relative; }\n  .dscTimechart .series > rect {\n    fill-opacity: .5;\n    stroke-width: 1; }\n\n.dscHistogram {\n  display: flex;\n  height: 200px;\n  padding: 8px; }\n\n.dscHistogramGrid {\n  display: flex;\n  height: 128px;\n  padding: 8px 8px 0 8px; }\n\n.dscTable .kbnDocTable__row {\n  font-family: "Roboto Mono", Consolas, Menlo, Courier, monospace;\n  font-size: 12px; }\n\n.dscTable__footer {\n  background-color: #D3DAE6;\n  padding: 4px 8px;\n  text-align: center; }\n',""]);module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(135);case"v7light":return __webpack_require__(137);case"v8dark":return __webpack_require__(139);case"v8light":return __webpack_require__(141)}},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(136);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscHitsCounter {\n  flex-grow: 0; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(138);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscHitsCounter {\n  flex-grow: 0; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(140);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscHitsCounter {\n  flex-grow: 0; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(142);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscHitsCounter {\n  flex-grow: 0; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(144);case"v7light":return __webpack_require__(146);case"v8dark":return __webpack_require__(148);case"v8light":return __webpack_require__(150)}},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(145);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscTimeIntervalSelect {\n  align-items: center; }\n\n.dscTimeChartHeader {\n  flex-grow: 0; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(147);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscTimeIntervalSelect {\n  align-items: center; }\n\n.dscTimeChartHeader {\n  flex-grow: 0; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(149);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscTimeIntervalSelect {\n  align-items: center; }\n\n.dscTimeChartHeader {\n  flex-grow: 0; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(151);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscTimeIntervalSelect {\n  align-items: center; }\n\n.dscTimeChartHeader {\n  flex-grow: 0; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(153);case"v7light":return __webpack_require__(155);case"v8dark":return __webpack_require__(157);case"v8light":return __webpack_require__(159)}},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(154);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscNoResults {\n  padding: 16px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(156);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscNoResults {\n  padding: 16px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(158);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscNoResults {\n  padding: 16px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(160);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscNoResults {\n  padding: 16px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(162);case"v7light":return __webpack_require__(164);case"v8dark":return __webpack_require__(166);case"v8light":return __webpack_require__(168)}},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(163);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscLoading {\n  text-align: center;\n  padding: 24px 0; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(165);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscLoading {\n  text-align: center;\n  padding: 24px 0; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(167);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscLoading {\n  text-align: center;\n  padding: 24px 0; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(169);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscLoading {\n  text-align: center;\n  padding: 24px 0; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(171);case"v7light":return __webpack_require__(173);case"v8dark":return __webpack_require__(175);case"v8light":return __webpack_require__(177)}},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(172);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscSidebar {\n  margin: 0;\n  flex-grow: 1;\n  padding-left: 16px;\n  width: 304px;\n  height: 100%; }\n  @media only screen and (max-width: 574px) {\n    .dscSidebar {\n      width: 100%;\n      padding: 16px 16px 0 16px;\n      background-color: #1a1b20; } }\n  @media only screen and (min-width: 575px) and (max-width: 767px) {\n    .dscSidebar {\n      width: 100%;\n      padding: 16px 16px 0 16px;\n      background-color: #1a1b20; } }\n\n.dscSidebar__group {\n  height: 100%; }\n\n.dscSidebar__mobile {\n  width: 100%;\n  padding: 16px 16px 0; }\n  .dscSidebar__mobile .dscSidebar__mobileBadge {\n    margin-left: 8px;\n    vertical-align: text-bottom; }\n\n.dscSidebar__flyoutHeader {\n  align-items: center; }\n\n.dscFieldList {\n  padding: 0 4px 4px; }\n\n.dscFieldListHeader {\n  padding: 8px 8px 0 8px;\n  background-color: #343741; }\n\n.dscFieldList--popular {\n  padding-bottom: 8px;\n  background-color: #343741; }\n\n.dscSidebarItem:hover .dscSidebarItem__action, .dscSidebarItem:focus-within .dscSidebarItem__action, .dscSidebarItem[class*='-isActive'] .dscSidebarItem__action {\n  opacity: 1; }\n\n/**\n * 1. Only visually hide the action, so that it's still accessible to screen readers.\n * 2. When tabbed to, this element needs to be visible for keyboard accessibility.\n */\n.dscSidebarItem__action {\n  opacity: 0;\n  /* 1 */ }\n  .dscSidebarItem__action.dscSidebarItem__mobile {\n    opacity: 1; }\n  .dscSidebarItem__action:focus {\n    opacity: 1;\n    /* 2 */ }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(174);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscSidebar {\n  margin: 0;\n  flex-grow: 1;\n  padding-left: 16px;\n  width: 304px;\n  height: 100%; }\n  @media only screen and (max-width: 574px) {\n    .dscSidebar {\n      width: 100%;\n      padding: 16px 16px 0 16px;\n      background-color: #fafbfd; } }\n  @media only screen and (min-width: 575px) and (max-width: 767px) {\n    .dscSidebar {\n      width: 100%;\n      padding: 16px 16px 0 16px;\n      background-color: #fafbfd; } }\n\n.dscSidebar__group {\n  height: 100%; }\n\n.dscSidebar__mobile {\n  width: 100%;\n  padding: 16px 16px 0; }\n  .dscSidebar__mobile .dscSidebar__mobileBadge {\n    margin-left: 8px;\n    vertical-align: text-bottom; }\n\n.dscSidebar__flyoutHeader {\n  align-items: center; }\n\n.dscFieldList {\n  padding: 0 4px 4px; }\n\n.dscFieldListHeader {\n  padding: 8px 8px 0 8px;\n  background-color: #e6f0f8; }\n\n.dscFieldList--popular {\n  padding-bottom: 8px;\n  background-color: #e6f0f8; }\n\n.dscSidebarItem:hover .dscSidebarItem__action, .dscSidebarItem:focus-within .dscSidebarItem__action, .dscSidebarItem[class*='-isActive'] .dscSidebarItem__action {\n  opacity: 1; }\n\n/**\n * 1. Only visually hide the action, so that it's still accessible to screen readers.\n * 2. When tabbed to, this element needs to be visible for keyboard accessibility.\n */\n.dscSidebarItem__action {\n  opacity: 0;\n  /* 1 */ }\n  .dscSidebarItem__action.dscSidebarItem__mobile {\n    opacity: 1; }\n  .dscSidebarItem__action:focus {\n    opacity: 1;\n    /* 2 */ }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(176);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscSidebar {\n  margin: 0;\n  flex-grow: 1;\n  padding-left: 16px;\n  width: 304px;\n  height: 100%; }\n  @media only screen and (max-width: 574px) {\n    .dscSidebar {\n      width: 100%;\n      padding: 16px 16px 0 16px;\n      background-color: #1a1b20; } }\n  @media only screen and (min-width: 575px) and (max-width: 767px) {\n    .dscSidebar {\n      width: 100%;\n      padding: 16px 16px 0 16px;\n      background-color: #1a1b20; } }\n\n.dscSidebar__group {\n  height: 100%; }\n\n.dscSidebar__mobile {\n  width: 100%;\n  padding: 16px 16px 0; }\n  .dscSidebar__mobile .dscSidebar__mobileBadge {\n    margin-left: 8px;\n    vertical-align: text-bottom; }\n\n.dscSidebar__flyoutHeader {\n  align-items: center; }\n\n.dscFieldList {\n  padding: 0 4px 4px; }\n\n.dscFieldListHeader {\n  padding: 8px 8px 0 8px;\n  background-color: #343741; }\n\n.dscFieldList--popular {\n  padding-bottom: 8px;\n  background-color: #343741; }\n\n.dscSidebarItem:hover .dscSidebarItem__action, .dscSidebarItem:focus-within .dscSidebarItem__action, .dscSidebarItem[class*='-isActive'] .dscSidebarItem__action {\n  opacity: 1; }\n\n/**\n * 1. Only visually hide the action, so that it's still accessible to screen readers.\n * 2. When tabbed to, this element needs to be visible for keyboard accessibility.\n */\n.dscSidebarItem__action {\n  opacity: 0;\n  /* 1 */ }\n  .dscSidebarItem__action.dscSidebarItem__mobile {\n    opacity: 1; }\n  .dscSidebarItem__action:focus {\n    opacity: 1;\n    /* 2 */ }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(178);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscSidebar {\n  margin: 0;\n  flex-grow: 1;\n  padding-left: 16px;\n  width: 304px;\n  height: 100%; }\n  @media only screen and (max-width: 574px) {\n    .dscSidebar {\n      width: 100%;\n      padding: 16px 16px 0 16px;\n      background-color: #fafbfd; } }\n  @media only screen and (min-width: 575px) and (max-width: 767px) {\n    .dscSidebar {\n      width: 100%;\n      padding: 16px 16px 0 16px;\n      background-color: #fafbfd; } }\n\n.dscSidebar__group {\n  height: 100%; }\n\n.dscSidebar__mobile {\n  width: 100%;\n  padding: 16px 16px 0; }\n  .dscSidebar__mobile .dscSidebar__mobileBadge {\n    margin-left: 8px;\n    vertical-align: text-bottom; }\n\n.dscSidebar__flyoutHeader {\n  align-items: center; }\n\n.dscFieldList {\n  padding: 0 4px 4px; }\n\n.dscFieldListHeader {\n  padding: 8px 8px 0 8px;\n  background-color: #e6f1fa; }\n\n.dscFieldList--popular {\n  padding-bottom: 8px;\n  background-color: #e6f1fa; }\n\n.dscSidebarItem:hover .dscSidebarItem__action, .dscSidebarItem:focus-within .dscSidebarItem__action, .dscSidebarItem[class*='-isActive'] .dscSidebarItem__action {\n  opacity: 1; }\n\n/**\n * 1. Only visually hide the action, so that it's still accessible to screen readers.\n * 2. When tabbed to, this element needs to be visible for keyboard accessibility.\n */\n.dscSidebarItem__action {\n  opacity: 0;\n  /* 1 */ }\n  .dscSidebarItem__action.dscSidebarItem__mobile {\n    opacity: 1; }\n  .dscSidebarItem__action:focus {\n    opacity: 1;\n    /* 2 */ }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(180);case"v7light":return __webpack_require__(182);case"v8dark":return __webpack_require__(184);case"v8light":return __webpack_require__(186)}},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(181);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscSidebarItem__fieldPopoverPanel {\n  min-width: 260px;\n  max-width: 300px; }\n\n.dscSidebarItem--multi .kbnFieldButton__button {\n  padding-left: 0; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(183);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscSidebarItem__fieldPopoverPanel {\n  min-width: 260px;\n  max-width: 300px; }\n\n.dscSidebarItem--multi .kbnFieldButton__button {\n  padding-left: 0; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(185);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscSidebarItem__fieldPopoverPanel {\n  min-width: 260px;\n  max-width: 300px; }\n\n.dscSidebarItem--multi .kbnFieldButton__button {\n  padding-left: 0; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(187);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscSidebarItem__fieldPopoverPanel {\n  min-width: 260px;\n  max-width: 300px; }\n\n.dscSidebarItem--multi .kbnFieldButton__button {\n  padding-left: 0; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(189);case"v7light":return __webpack_require__(191);case"v8dark":return __webpack_require__(193);case"v8light":return __webpack_require__(195)}},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(190);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscFieldDetails__barContainer {\n  min-width: 0; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(192);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscFieldDetails__barContainer {\n  min-width: 0; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(194);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscFieldDetails__barContainer {\n  min-width: 0; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(196);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscFieldDetails__barContainer {\n  min-width: 0; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(198);case"v7light":return __webpack_require__(200);case"v8dark":return __webpack_require__(202);case"v8light":return __webpack_require__(204)}},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(199);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscFieldDetails {\n  color: #DFE5EF;\n  margin-bottom: 8px; }\n\n.dscFieldDetails__visualizeBtn {\n  font-size: 12px;\n  font-size: 0.75rem;\n  line-height: 1.5;\n  height: 24px !important;\n  min-width: 64px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(201);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscFieldDetails {\n  color: #343741;\n  margin-bottom: 8px; }\n\n.dscFieldDetails__visualizeBtn {\n  font-size: 12px;\n  font-size: 0.75rem;\n  line-height: 1.5;\n  height: 24px !important;\n  min-width: 64px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(203);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscFieldDetails {\n  color: #DFE5EF;\n  margin-bottom: 8px; }\n\n.dscFieldDetails__visualizeBtn {\n  font-size: 12px;\n  font-size: 0.85714rem;\n  line-height: 1.14286rem;\n  height: 24px !important;\n  min-width: 64px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(205);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscFieldDetails {\n  color: #343741;\n  margin-bottom: 8px; }\n\n.dscFieldDetails__visualizeBtn {\n  font-size: 12px;\n  font-size: 0.85714rem;\n  line-height: 1.14286rem;\n  height: 24px !important;\n  min-width: 64px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(207);case"v7light":return __webpack_require__(209);case"v8dark":return __webpack_require__(211);case"v8light":return __webpack_require__(213)}},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(208);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscFieldSearch__formWrapper {\n  padding: 12px; }\n\n.dscFieldSearch__filterWrapper {\n  width: 100%; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(210);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscFieldSearch__formWrapper {\n  padding: 12px; }\n\n.dscFieldSearch__filterWrapper {\n  width: 100%; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(212);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscFieldSearch__formWrapper {\n  padding: 12px; }\n\n.dscFieldSearch__filterWrapper {\n  width: 100%; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(214);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscFieldSearch__formWrapper {\n  padding: 12px; }\n\n.dscFieldSearch__filterWrapper {\n  width: 100%; }\n",""]);module.exports=exports},,,,,,,,,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"getInnerAngularModule",(function(){return getInnerAngularModule}));__webpack_require__.d(__webpack_exports__,"getInnerAngularModuleEmbeddable",(function(){return getInnerAngularModuleEmbeddable}));__webpack_require__.d(__webpack_exports__,"initializeInnerAngularModule",(function(){return initializeInnerAngularModule}));var application=__webpack_require__(70);var external_kbnSharedDeps_Angular_=__webpack_require__(9);var external_kbnSharedDeps_Angular_default=__webpack_require__.n(external_kbnSharedDeps_Angular_);var angular_sanitize=__webpack_require__(83);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(2);var external_kbnSharedDeps_KbnI18nAngular_=__webpack_require__(55);var public_=__webpack_require__(5);var doc_table=__webpack_require__(64);var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(1);const sortDirectionToIcon={desc:"fa fa-sort-down",asc:"fa fa-sort-up","":"fa fa-sort"};function TableHeaderColumn({colLeftIdx:colLeftIdx,colRightIdx:colRightIdx,displayName:displayName,isRemoveable:isRemoveable,isSortable:isSortable,name:name,onChangeSortOrder:onChangeSortOrder,onMoveColumn:onMoveColumn,onRemoveColumn:onRemoveColumn,sortOrder:sortOrder}){const[,sortDirection=""]=sortOrder.find(sortPair=>name===sortPair[0])||[];const currentSortWithoutColumn=sortOrder.filter(pair=>pair[0]!==name);const currentColumnSort=sortOrder.find(pair=>pair[0]===name);const currentColumnSortDirection=currentColumnSort&&currentColumnSort[1]||"";const btnSortIcon=sortDirectionToIcon[sortDirection];const btnSortClassName=sortDirection!==""?btnSortIcon:`kbnDocTableHeader__sortChange ${btnSortIcon}`;const handleChangeSortOrder=()=>{if(!onChangeSortOrder)return;if(currentColumnSort===undefined){onChangeSortOrder([...currentSortWithoutColumn,[name,"asc"]])}else if(currentColumnSortDirection==="asc"){onChangeSortOrder([...currentSortWithoutColumn,[name,"desc"]])}else if(currentColumnSortDirection==="desc"&&currentSortWithoutColumn.length===0){onChangeSortOrder([[name,"asc"]])}else{onChangeSortOrder(currentSortWithoutColumn)}};const getSortButtonAriaLabel=()=>{const sortAscendingMessage=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.docTable.tableHeader.sortByColumnAscendingAriaLabel",{defaultMessage:"Sort {columnName} ascending",values:{columnName:name}});const sortDescendingMessage=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.docTable.tableHeader.sortByColumnDescendingAriaLabel",{defaultMessage:"Sort {columnName} descending",values:{columnName:name}});const stopSortingMessage=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.docTable.tableHeader.sortByColumnUnsortedAriaLabel",{defaultMessage:"Stop sorting on {columnName}",values:{columnName:name}});if(currentColumnSort===undefined){return sortAscendingMessage}else if(sortDirection==="asc"){return sortDescendingMessage}else if(sortDirection==="desc"&&currentSortWithoutColumn.length===0){return sortAscendingMessage}else{return stopSortingMessage}};const buttons=[{active:isSortable&&typeof onChangeSortOrder==="function",ariaLabel:getSortButtonAriaLabel(),className:btnSortClassName,onClick:handleChangeSortOrder,testSubject:`docTableHeaderFieldSort_${name}`,tooltip:getSortButtonAriaLabel()},{active:isRemoveable&&typeof onRemoveColumn==="function",ariaLabel:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.docTable.tableHeader.removeColumnButtonAriaLabel",{defaultMessage:"Remove {columnName} column",values:{columnName:name}}),className:"fa fa-remove kbnDocTableHeader__move",onClick:()=>onRemoveColumn&&onRemoveColumn(name),testSubject:`docTableRemoveHeader-${name}`,tooltip:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.docTable.tableHeader.removeColumnButtonTooltip",{defaultMessage:"Remove Column"})},{active:colLeftIdx>=0&&typeof onMoveColumn==="function",ariaLabel:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.docTable.tableHeader.moveColumnLeftButtonAriaLabel",{defaultMessage:"Move {columnName} column to the left",values:{columnName:name}}),className:"fa fa-angle-double-left kbnDocTableHeader__move",onClick:()=>onMoveColumn&&onMoveColumn(name,colLeftIdx),testSubject:`docTableMoveLeftHeader-${name}`,tooltip:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.docTable.tableHeader.moveColumnLeftButtonTooltip",{defaultMessage:"Move column to the left"})},{active:colRightIdx>=0&&typeof onMoveColumn==="function",ariaLabel:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.docTable.tableHeader.moveColumnRightButtonAriaLabel",{defaultMessage:"Move {columnName} column to the right",values:{columnName:name}}),className:"fa fa-angle-double-right kbnDocTableHeader__move",onClick:()=>onMoveColumn&&onMoveColumn(name,colRightIdx),testSubject:`docTableMoveRightHeader-${name}`,tooltip:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.docTable.tableHeader.moveColumnRightButtonTooltip",{defaultMessage:"Move column to the right"})}];return external_kbnSharedDeps_React_default.a.createElement("th",{"data-test-subj":"docTableHeaderField"},external_kbnSharedDeps_React_default.a.createElement("span",{"data-test-subj":`docTableHeader-${name}`},displayName,buttons.filter(button=>button.active).map((button,idx)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{id:`docTableHeader-${name}-tt`,content:button.tooltip,key:`button-${idx}`},external_kbnSharedDeps_React_default.a.createElement("button",{"aria-label":button.ariaLabel,className:button.className,"data-test-subj":button.testSubject,onClick:button.onClick})))))}function getTimeColumn(timeFieldName){return{name:timeFieldName,displayName:"Time",isSortable:true,isRemoveable:false,colLeftIdx:-1,colRightIdx:-1}}function getDisplayedColumns(columns,indexPattern,hideTimeField,isShortDots){if(!Array.isArray(columns)||typeof indexPattern!=="object"||!indexPattern.getFieldByName){return[]}const columnProps=columns.length===0?[{name:"__document__",displayName:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.docTable.tableHeader.documentHeader",{defaultMessage:"Document"}),isSortable:false,isRemoveable:false,colLeftIdx:-1,colRightIdx:-1}]:columns.map((column,idx)=>{var _field$displayName;const field=indexPattern.getFieldByName(column);return{name:column,displayName:(_field$displayName=field===null||field===void 0?void 0:field.displayName)!==null&&_field$displayName!==void 0?_field$displayName:column,isSortable:!!(field&&field.sortable),isRemoveable:column!=="_source"||columns.length>1,colLeftIdx:idx-1<0?-1:idx-1,colRightIdx:idx+1>=columns.length?-1:idx+1}});return!hideTimeField&&indexPattern.timeFieldName?[getTimeColumn(indexPattern.timeFieldName),...columnProps]:columnProps}var get_default_sort=__webpack_require__(79);function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function TableHeader({columns:columns,defaultSortOrder:defaultSortOrder,hideTimeColumn:hideTimeColumn,indexPattern:indexPattern,isShortDots:isShortDots,onChangeSortOrder:onChangeSortOrder,onMoveColumn:onMoveColumn,onRemoveColumn:onRemoveColumn,sortOrder:sortOrder}){const displayedColumns=getDisplayedColumns(columns,indexPattern,hideTimeColumn,isShortDots);return external_kbnSharedDeps_React_default.a.createElement("tr",{"data-test-subj":"docTableHeader",className:"kbnDocTableHeader"},external_kbnSharedDeps_React_default.a.createElement("th",{style:{width:"24px"}}),displayedColumns.map(col=>external_kbnSharedDeps_React_default.a.createElement(TableHeaderColumn,_extends({key:col.name},col,{sortOrder:sortOrder.length?sortOrder:Object(get_default_sort["a"])(indexPattern,defaultSortOrder),onMoveColumn:onMoveColumn,onRemoveColumn:onRemoveColumn,onChangeSortOrder:onChangeSortOrder}))))}var kibana_services=__webpack_require__(3);var common=__webpack_require__(62);var data_public_=__webpack_require__(4);function createTableHeaderDirective(reactDirective){const{uiSettings:config}=Object(kibana_services["h"])();return reactDirective(TableHeader,[["columns",{watchDepth:"collection"}],["hideTimeColumn",{watchDepth:"value"}],["indexPattern",{watchDepth:"reference"}],["isShortDots",{watchDepth:"value"}],["onChangeSortOrder",{watchDepth:"reference"}],["onMoveColumn",{watchDepth:"reference"}],["onRemoveColumn",{watchDepth:"reference"}],["sortOrder",{watchDepth:"collection"}]],{restrict:"A"},{hideTimeColumn:config.get(common["e"],false),isShortDots:config.get(data_public_["UI_SETTINGS"].SHORT_DOTS_ENABLE),defaultSortOrder:config.get(common["k"],"desc")})}var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(6);function ToolBarPagerText({startItem:startItem,endItem:endItem,totalItems:totalItems}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["I18nProvider"],null,external_kbnSharedDeps_React_default.a.createElement("div",{className:"kuiToolBarText","data-test-subj":"toolBarPagerText"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.docTable.pagerControl.pagesCountLabel",defaultMessage:"{startItem}–{endItem} of {totalItems}",values:{startItem:startItem,endItem:endItem,totalItems:totalItems}})))}function ToolBarPagerButtons(props){return external_kbnSharedDeps_React_default.a.createElement("div",{className:"kuiButtonGroup"},external_kbnSharedDeps_React_default.a.createElement("button",{className:"kuiButton kuiButton--basic kuiButton--icon",onClick:()=>props.onPagePrevious(),disabled:!props.hasPreviousPage,"data-test-subj":"btnPrevPage","aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.docTable.pager.toolbarPagerButtons.previousButtonAriaLabel",{defaultMessage:"Previous page in table"})},external_kbnSharedDeps_React_default.a.createElement("span",{className:"kuiButton__icon kuiIcon fa-chevron-left"})),external_kbnSharedDeps_React_default.a.createElement("button",{className:"kuiButton kuiButton--basic kuiButton--icon",onClick:()=>props.onPageNext(),disabled:!props.hasNextPage,"data-test-subj":"btnNextPage","aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.docTable.pager.toolbarPagerButtons.nextButtonAriaLabel",{defaultMessage:"Next page in table"})},external_kbnSharedDeps_React_default.a.createElement("span",{className:"kuiButton__icon kuiIcon fa-chevron-right"})))}function createToolBarPagerTextDirective(reactDirective){return reactDirective(ToolBarPagerText)}function createToolBarPagerButtonsDirective(reactDirective){return reactDirective(ToolBarPagerButtons)}var context_query=__webpack_require__(89);function ContextErrorMessage({status:status,reason:reason}){if(status!==context_query["b"].FAILED){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["I18nProvider"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.context.failedToLoadAnchorDocumentDescription",defaultMessage:"Failed to load the anchor document"}),color:"danger",iconType:"alert","data-test-subj":"contextErrorMessageTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{"data-test-subj":"contextErrorMessageBody"},reason===context_query["a"].UNKNOWN&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.context.reloadPageDescription.reloadOrVisitTextMessage",defaultMessage:"Please reload or go back to the document list to select a valid anchor document."}))))}var external_kbnSharedDeps_ReactDom_=__webpack_require__(22);var external_kbnSharedDeps_ReactDom_default=__webpack_require__.n(external_kbnSharedDeps_ReactDom_);async function injectAngularElement(domNode,template,renderProps,injector){const rootScope=injector.get("$rootScope");const $compile=injector.get("$compile");const newScope=Object.assign(rootScope.$new(),{renderProps:renderProps});const $target=external_kbnSharedDeps_Angular_default.a.element(domNode);const $element=external_kbnSharedDeps_Angular_default.a.element(template);newScope.$apply(()=>{const linkFn=$compile($element);$target.empty().append($element);linkFn(newScope)});return newScope}function getRenderFn(domNode,props){const directive={template:`<doc-table\n                columns="renderProps.columns"\n                data-description="{{renderProps.searchDescription}}"\n                data-shared-item\n                data-test-subj="discoverDocTable"\n                data-title="{{renderProps.searchTitle}}"\n                filter="renderProps.onFilter"\n                hits="renderProps.rows"\n                index-pattern="renderProps.indexPattern"\n                infinite-scroll="true"\n                minimum-visible-rows="renderProps.minimumVisibleRows"\n                on-add-column="renderProps.onAddColumn"\n                on-change-sort-order="renderProps.onSort"\n                on-move-column="renderProps.onMoveColumn"\n                on-remove-column="renderProps.onRemoveColumn"\n                render-complete\n                use-new-fields-api="renderProps.useNewFieldsApi"\n                sorting="renderProps.sort"></doc_table>`};return async()=>{try{const injector=await Object(kibana_services["h"])().getEmbeddableInjector();return await injectAngularElement(domNode,directive.template,props,injector)}catch(e){Object(external_kbnSharedDeps_ReactDom_["render"])(external_kbnSharedDeps_React_default.a.createElement("div",null,"error"),domNode)}}}function DocTableLegacy(renderProps){const ref=Object(external_kbnSharedDeps_React_["useRef"])(null);const scope=Object(external_kbnSharedDeps_React_["useRef"])();Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(ref&&ref.current&&!scope.current){const fn=getRenderFn(ref.current,renderProps);fn().then(newScope=>{scope.current=newScope})}else if(scope&&scope.current){scope.current.renderProps=renderProps;scope.current.$apply()}},[renderProps]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>()=>{if(scope.current){scope.current.$destroy()}},[]);return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement("div",{ref:ref}),renderProps.rows.length===renderProps.sampleSize?external_kbnSharedDeps_React_default.a.createElement("div",{className:"dscTable__footer","data-test-subj":"discoverDocTableFooter",tabIndex:-1,id:"discoverBottomMarker"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.howToSeeOtherMatchingDocumentsDescription",defaultMessage:"These are the first {sampleSize} documents matching your search, refine your search to see others.",values:{sampleSize:renderProps.sampleSize}}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{onClick:renderProps.onBackToTop},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.backToTopLinkText",defaultMessage:"Back to top."}))):external_kbnSharedDeps_React_default.a.createElement("span",{tabIndex:-1,id:"discoverBottomMarker"},"​"))}var constants=__webpack_require__(68);var action_bar=__webpack_require__(91);const PREDECESSOR_TYPE="predecessors";const SUCCESSOR_TYPE="successors";function isLoading(status){return status!==constants["b"].LOADED&&status!==constants["b"].FAILED}function ContextAppLegacy(renderProps){const status=renderProps.status;const isLoaded=status===constants["b"].LOADED;const isFailed=status===constants["b"].FAILED;const actionBarProps=type=>{const{defaultStepSize:defaultStepSize,successorCount:successorCount,predecessorCount:predecessorCount,predecessorAvailable:predecessorAvailable,successorAvailable:successorAvailable,predecessorStatus:predecessorStatus,successorStatus:successorStatus,onChangePredecessorCount:onChangePredecessorCount,onChangeSuccessorCount:onChangeSuccessorCount}=renderProps;const isPredecessorType=type===PREDECESSOR_TYPE;return{defaultStepSize:defaultStepSize,docCount:isPredecessorType?predecessorCount:successorCount,docCountAvailable:isPredecessorType?predecessorAvailable:successorAvailable,onChangeCount:isPredecessorType?onChangePredecessorCount:onChangeSuccessorCount,isLoading:isPredecessorType?isLoading(predecessorStatus):isLoading(successorStatus),type:type,isDisabled:!isLoaded}};const docTableProps=()=>{const{hits:hits,filter:filter,sorting:sorting,columns:columns,indexPattern:indexPattern,minimumVisibleRows:minimumVisibleRows,useNewFieldsApi:useNewFieldsApi}=renderProps;return{columns:columns,indexPattern:indexPattern,minimumVisibleRows:minimumVisibleRows,rows:hits,onFilter:filter,sort:sorting.map(el=>[el]),useNewFieldsApi:useNewFieldsApi}};const TopNavMenu=renderProps.topNavMenu;const getNavBarProps=()=>({appName:"context",showSearchBar:true,showQueryBar:false,showFilterBar:true,showSaveQuery:false,showDatePicker:false,indexPatterns:[renderProps.indexPattern],useDefaultBehaviors:true});const loadingFeedback=()=>{if(status===constants["b"].UNINITIALIZED||status===constants["b"].LOADING){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{textAlign:"center","data-test-subj":"contextApp_loadingIndicator"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.context.loadingDescription",defaultMessage:"Loading..."}))}return null};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["I18nProvider"],null,isFailed?external_kbnSharedDeps_React_default.a.createElement(ContextErrorMessage,{status:status,reason:renderProps.reason}):external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(TopNavMenu,getNavBarProps()),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],{paddingSize:"s",className:"dscCxtAppContent"},external_kbnSharedDeps_React_default.a.createElement(action_bar["a"],actionBarProps(PREDECESSOR_TYPE)),loadingFeedback(),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"xs"}),isLoaded?external_kbnSharedDeps_React_default.a.createElement("div",{className:"discover-table"},external_kbnSharedDeps_React_default.a.createElement(DocTableLegacy,docTableProps())):null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"xs"}),external_kbnSharedDeps_React_default.a.createElement(action_bar["a"],actionBarProps(SUCCESSOR_TYPE))))))}function createContextAppLegacy(reactDirective){return reactDirective(ContextAppLegacy,[["filter",{watchDepth:"reference"}],["hits",{watchDepth:"reference"}],["indexPattern",{watchDepth:"reference"}],["sorting",{watchDepth:"reference"}],["columns",{watchDepth:"collection"}],["minimumVisibleRows",{watchDepth:"reference"}],["status",{watchDepth:"reference"}],["reason",{watchDepth:"reference"}],["defaultStepSize",{watchDepth:"reference"}],["predecessorCount",{watchDepth:"reference"}],["predecessorAvailable",{watchDepth:"reference"}],["predecessorStatus",{watchDepth:"reference"}],["onChangePredecessorCount",{watchDepth:"reference"}],["successorCount",{watchDepth:"reference"}],["successorAvailable",{watchDepth:"reference"}],["successorStatus",{watchDepth:"reference"}],["onChangeSuccessorCount",{watchDepth:"reference"}],["useNewFieldsApi",{watchDepth:"reference"}],["topNavMenu",{watchDepth:"reference"}]])}var external_kbnSharedDeps_Lodash_=__webpack_require__(20);var external_kbnSharedDeps_Lodash_default=__webpack_require__.n(external_kbnSharedDeps_Lodash_);var external_kbnSharedDeps_Jquery_=__webpack_require__(51);var external_kbnSharedDeps_Jquery_default=__webpack_require__.n(external_kbnSharedDeps_Jquery_);var table_row_open='<td ng-click="toggleRow()" data-test-subj="docTableExpandToggleColumn" class="kbnDocTableCell__toggleDetails">\n  <button\n    class="euiButtonIcon euiButtonIcon--text"\n    aria-expanded="{{!!open}}"\n    aria-label="{{ ::\'discover.docTable.tableRow.toggleRowDetailsButtonAriaLabel\' | i18n: {defaultMessage: \'Toggle row details\'} }}"\n  >\n    <icon ng-if="open" type="\'arrowDown\'" size="\'s\'"></icon>\n    <icon ng-if="!open" type="\'arrowRight\'" size="\'s\'"></icon>\n  </button>\n</td>\n';var table_row_details='<td colspan="{{ (columns.length || 1) + 2 }}">\n  <div class="euiFlexGroup euiFlexGroup--gutterLarge euiFlexGroup--directionRow euiFlexGroup--justifyContentSpaceBetween">\n    <div class="euiFlexItem euiFlexItem--flexGrowZero euiText euiText--small">\n      <div class="euiFlexGroup euiFlexGroup--gutterSmall euiFlexGroup--directionRow">\n        <div class="euiFlexItem euiFlexItem--flexGrowZero">\n          <icon type="\'folderOpen\'" size="\'m\'"></icon>\n        </div>\n        <div class="euiFlexItem euiFlexItem--flexGrowZero">\n          <h4\n            data-test-subj="docTableRowDetailsTitle"\n            class="euiTitle euiTitle--xsmall"\n            i18n-id="discover.docTable.tableRow.detailHeading"\n            i18n-default-message="Expanded document"\n          ></h4>\n        </div>\n      </div>\n    </div>\n    <div class="euiFlexItem euiFlexItem--flexGrowZero euiText euiText--small">\n      <div class="euiFlexGroup euiFlexGroup--gutterLarge euiFlexGroup--directionRow">\n        <div class="euiFlexItem euiFlexItem--flexGrowZero euiText euiText--small">\n          <a\n            class="euiLink"\n            data-test-subj="docTableRowAction"\n            ng-href="{{ getContextAppHref() }}"\n            ng-if="indexPattern.isTimeBased()"\n            i18n-id="discover.docTable.tableRow.viewSurroundingDocumentsLinkText"\n            i18n-default-message="View surrounding documents"\n          ></a>\n        </div>\n        <div class="euiFlexItem euiFlexItem--flexGrowZero euiText euiText--small">\n          <a\n            class="euiLink"\n            data-test-subj="docTableRowAction"\n            ng-href="{{ getSingleDocHref() }}"\n            i18n-id="discover.docTable.tableRow.viewSingleDocumentLinkText"\n            i18n-default-message="View single document"\n          ></a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div data-test-subj="docViewer">\n    <doc-viewer\n      columns="columns"\n      filter="filter"\n      hit="hit"\n      index-pattern="indexPattern"\n      on-add-column="onAddColumn"\n      on-remove-column="onRemoveColumn"\n    ></doc-viewer>\n  </div>\n\n</td>\n';var table_row_cell='<%\nvar attributes = \'\';\nif (timefield) {\n  attributes=\'class="eui-textNoWrap" width="1%"\';\n} else if (sourcefield) {\n  attributes=\'class="eui-textBreakAll eui-textBreakWord"\';\n} else {\n  attributes=\'class="kbnDocTableCell__dataField eui-textBreakAll eui-textBreakWord"\';\n}\n%>\n<td <%= attributes %> data-test-subj="docTableField">\n  <%= formatted %>\n  <span class="kbnDocTableCell__filter">\n    <% if (filterable) { %>\n      <button\n        ng-click="inlineFilter($event, \'+\')"\n        class="kbnDocTableRowFilterButton"\n        data-column="<%- column %>"\n        tooltip-append-to-body="1"\n        data-test-subj="docTableCellFilter"\n        tooltip="{{ ::\'discover.docTable.tableRow.filterForValueButtonTooltip\' | i18n: {defaultMessage: \'Filter for value\'} }}"\n        tooltip-placement="bottom"\n        aria-label="{{ ::\'discover.docTable.tableRow.filterForValueButtonAriaLabel\' | i18n: {defaultMessage: \'Filter for value\'} }}"\n      ><icon type="\'plusInCircle\'" size="\'s\'" color="\'primary\'"></icon></button>\n      <button\n        ng-click="inlineFilter($event, \'-\')"\n        class="kbnDocTableRowFilterButton"\n        data-column="<%- column %>"\n        data-test-subj="docTableCellFilterNegate"\n        tooltip="{{ ::\'discover.docTable.tableRow.filterOutValueButtonTooltip\' | i18n: {defaultMessage: \'Filter out value\'} }}"\n        aria-label="{{ ::\'discover.docTable.tableRow.filterOutValueButtonAriaLabel\' | i18n: {defaultMessage: \'Filter out value\'} }}"\n        tooltip-append-to-body="1"\n        tooltip-placement="bottom"\n      ><icon type="\'minusInCircle\'" size="\'s\'" color="\'primary\'"></icon></button>\n    <% } %>\n  </span>\n</td>\n';var truncate_by_height='<div class="truncate-by-height">\n  <%= body %>\n</div>';var query_string=__webpack_require__(103);var rison=__webpack_require__(85);var rison_default=__webpack_require__.n(rison);var common_=__webpack_require__(56);function getContextUrl(documentId,indexPatternId,columns,filterManager,addBasePath){const globalFilters=filterManager.getGlobalFilters();const appFilters=filterManager.getAppFilters();const hash=Object(query_string["stringify"])(common_["url"].encodeQuery({_g:rison_default.a.encode({filters:globalFilters||[]}),_a:rison_default.a.encode({columns:columns,filters:(appFilters||[]).map(data_public_["esFilters"].disableFilter)})}),{encode:false,sort:false});return addBasePath(`/app/discover#/context/${encodeURIComponent(indexPatternId)}/${encodeURIComponent(documentId)}?${hash}`)}var helpers=__webpack_require__(66);const TAGS_WITH_WS=/>\s+</g;function noWhiteSpace(html){return html.replace(TAGS_WITH_WS,"><")}const MIN_LINE_LENGTH=20;function createTableRowDirective($compile){const cellTemplate=Object(external_kbnSharedDeps_Lodash_["template"])(noWhiteSpace(table_row_cell));const truncateByHeightTemplate=Object(external_kbnSharedDeps_Lodash_["template"])(noWhiteSpace(truncate_by_height));return{restrict:"A",scope:{columns:"=",filter:"=",indexPattern:"=",row:"=kbnTableRow",onAddColumn:"=?",onRemoveColumn:"=?",useNewFieldsApi:"<"},link:($scope,$el)=>{$el.after('<tr data-test-subj="docTableDetailsRow" class="kbnDocTableDetails__row">');$el.empty();let $detailsScope;let $toggleScope;$scope.toggleRow=()=>{const $detailsTr=$el.next();$scope.open=!$scope.open;$detailsTr.toggle($scope.open);if(!$scope.open){$detailsScope.$destroy();return}else{$detailsScope=$scope.$new()}$detailsTr.html(table_row_details);$detailsScope.row=$scope.row;$detailsScope.hit=$scope.row;$detailsScope.uriEncodedId=encodeURIComponent($detailsScope.hit._id);$compile($detailsTr)($detailsScope)};$scope.$watchMulti(["indexPattern.timeFieldName","row.highlight","[]columns"],()=>{createSummaryRow($scope.row)});$scope.inlineFilter=function inlineFilter($event,type){const column=external_kbnSharedDeps_Jquery_default()($event.currentTarget).data().column;const field=$scope.indexPattern.fields.getByName(column);$scope.filter(field,$scope.flattenedRow[column],type)};$scope.getContextAppHref=()=>getContextUrl($scope.row._id,$scope.indexPattern.id,$scope.columns,Object(kibana_services["h"])().filterManager,Object(kibana_services["h"])().addBasePath);$scope.getSingleDocHref=()=>Object(kibana_services["h"])().addBasePath(`/app/discover#/doc/${$scope.indexPattern.id}/${$scope.row._index}?id=${encodeURIComponent($scope.row._id)}`);function createSummaryRow(row){const indexPattern=$scope.indexPattern;$scope.flattenedRow=indexPattern.flattenHit(row);const newHtmls=[table_row_open];const mapping=indexPattern.fields.getByName;const hideTimeColumn=Object(kibana_services["h"])().uiSettings.get(common["e"],false);if(indexPattern.timeFieldName&&!hideTimeColumn){newHtmls.push(cellTemplate({timefield:true,formatted:_displayField(row,indexPattern.timeFieldName),filterable:mapping(indexPattern.timeFieldName).filterable&&$scope.filter,column:indexPattern.timeFieldName}))}if($scope.columns.length===0&&$scope.useNewFieldsApi){const formatted=Object(helpers["b"])(row,indexPattern);newHtmls.push(cellTemplate({timefield:false,sourcefield:true,formatted:formatted,filterable:false,column:"__document__"}))}else{$scope.columns.forEach((function(column){const isFilterable=mapping(column)&&mapping(column).filterable&&$scope.filter;if($scope.useNewFieldsApi&&!mapping(column)&&!row.fields[column]){const innerColumns=Object.fromEntries(Object.entries(row.fields).filter(([key])=>key.indexOf(`${column}.`)===0));newHtmls.push(cellTemplate({timefield:false,sourcefield:true,formatted:Object(helpers["c"])(row,innerColumns,indexPattern),filterable:false,column:column}))}else{newHtmls.push(cellTemplate({timefield:false,sourcefield:column==="_source",formatted:_displayField(row,column,true),filterable:isFilterable,column:column}))}}))}let $cells=$el.children();newHtmls.forEach((function(html,i){const $cell=$cells.eq(i);if($cell.data("discover:html")===html)return;const reuse=Object(external_kbnSharedDeps_Lodash_["find"])($cells.slice(i+1),(function(cell){return external_kbnSharedDeps_Jquery_default.a.data(cell,"discover:html")===html}));const $target=reuse?external_kbnSharedDeps_Jquery_default()(reuse).detach():external_kbnSharedDeps_Jquery_default()(html);$target.data("discover:html",html);const $before=$cells.eq(i-1);if($before.length){$before.after($target)}else{$el.append($target)}$cells=$el.children();if(!reuse){$toggleScope=$scope.$new();$compile($target)($toggleScope)}}));if($scope.open){$detailsScope.row=row}$cells.filter(":gt("+(newHtmls.length-1)+")").remove();Object(public_["dispatchRenderComplete"])($el[0])}function _displayField(row,fieldName,truncate=false){const indexPattern=$scope.indexPattern;const text=indexPattern.formatField(row,fieldName);if(truncate&&text.length>MIN_LINE_LENGTH){return truncateByHeightTemplate({body:text})}return text}}}}function clamp(val,min,max){return Math.min(Math.max(min,val),max)}class Pager{constructor(totalItems,pageSize,startingPage){this.currentPage=startingPage;this.totalItems=totalItems;this.pageSize=pageSize;this.startIndex=0;this.updateMeta()}get pageCount(){return Math.ceil(this.totalItems/this.pageSize)}get hasNextPage(){return this.currentPage<this.totalPages}get hasPreviousPage(){return this.currentPage>1}nextPage(){this.currentPage+=1;this.updateMeta()}previousPage(){this.currentPage-=1;this.updateMeta()}setTotalItems(count){this.totalItems=count;this.updateMeta()}setPageSize(count){this.pageSize=count;this.updateMeta()}updateMeta(){this.totalPages=Math.ceil(this.totalItems/this.pageSize);this.currentPage=clamp(this.currentPage,1,this.totalPages);this.startItem=(this.currentPage-1)*this.pageSize+1;this.startItem=clamp(this.startItem,0,this.totalItems);this.endItem=this.startItem-1+this.pageSize;this.endItem=clamp(this.endItem,0,this.totalItems);this.startIndex=this.startItem-1}}function createPagerFactory(){return{create(...args){return new Pager(...args)}}}function createInfiniteScrollDirective(){return{restrict:"E",scope:{more:"="},link:($scope,$element)=>{let checkTimer;const scrollDiv=$element.parents(".dscTable");const scrollDivMobile=external_kbnSharedDeps_Jquery_default()(window);function onScroll(){if(!$scope.more)return;const isMobileView=document.getElementsByClassName("dscSidebar__mobile").length>0;const usedScrollDiv=isMobileView?scrollDivMobile:scrollDiv;const scrollTop=usedScrollDiv.scrollTop();const winHeight=Number(usedScrollDiv.height());const winBottom=Number(winHeight)+Number(scrollTop);const elTop=$element.get(0).offsetTop||0;const remaining=elTop-winBottom;if(remaining<=winHeight){$scope[$scope.$$phase?"$eval":"$apply"]((function(){$scope.more()}))}}function scheduleCheck(){if(checkTimer)return;checkTimer=setTimeout((function(){checkTimer=null;onScroll()}),50)}scrollDiv.on("scroll",scheduleCheck);window.addEventListener("scroll",scheduleCheck);$scope.$on("$destroy",(function(){clearTimeout(checkTimer);scrollDiv.off("scroll",scheduleCheck);window.removeEventListener("scroll",scheduleCheck)}));scheduleCheck()}}}var doc_viewer=__webpack_require__(86);var discover_grid=__webpack_require__(116);const kibanaJSON="kibana-json";const gridStyle={border:"all",fontSize:"s",cellPadding:"s",rowHover:"none"};const pageSizeArr=[25,50,100];const defaultPageSize=25;const toolbarVisibility={showColumnSelector:{allowHide:false,allowReorder:true},showStyleSelector:false};var data_common_=__webpack_require__(57);function getSchemaByKbnType(kbnType){switch(kbnType){case data_common_["KBN_FIELD_TYPES"].IP:case data_common_["KBN_FIELD_TYPES"].GEO_SHAPE:case data_common_["KBN_FIELD_TYPES"].NUMBER:return"numeric";case data_common_["KBN_FIELD_TYPES"].BOOLEAN:return"boolean";case data_common_["KBN_FIELD_TYPES"].STRING:return"string";case data_common_["KBN_FIELD_TYPES"].DATE:return"datetime";default:return kibanaJSON}}function getSchemaDetectors(){return[{type:kibanaJSON,detector(){return 0},sortTextAsc:"",sortTextDesc:"",icon:"",color:""}]}function getPopoverContents(){return{[kibanaJSON]:({children:children})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],{isCopyable:true,language:"json",paddingSize:"none",transparentBackground:true},children)}}var doc_viewer_doc_viewer=__webpack_require__(82);function DiscoverGridFlyout({hit:hit,indexPattern:indexPattern,columns:columns,onFilter:onFilter,onClose:onClose,onRemoveColumn:onRemoveColumn,onAddColumn:onAddColumn,services:services}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPortal"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyout"],{onClose:onClose,size:"m","data-test-subj":"docTableDetailsFlyout"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutHeader"],{hasBorder:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s",className:"dscTable__flyoutHeader","data-test-subj":"docTableRowDetailsTitle"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.grid.tableRow.detailHeading",{defaultMessage:"Expanded document"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{responsive:false,gutterSize:"m",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.grid.tableRow.viewText",{defaultMessage:"View:"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{size:"xs",iconType:"document",href:services.addBasePath(`#/doc/${indexPattern.id}/${hit._index}?id=${encodeURIComponent(hit._id)}`),"data-test-subj":"docTableRowAction"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.grid.tableRow.viewSingleDocumentLinkTextSimple",{defaultMessage:"Single document"}))),indexPattern.isTimeBased()&&indexPattern.id&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{size:"xs",iconType:"documents",href:getContextUrl(hit._id,indexPattern.id,columns,services.filterManager,services.addBasePath),"data-test-subj":"docTableRowAction"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.grid.tableRow.viewSurroundingDocumentsLinkTextSimple",{defaultMessage:"Surrounding documents"}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],null,external_kbnSharedDeps_React_default.a.createElement(doc_viewer_doc_viewer["a"],{hit:hit,columns:columns,indexPattern:indexPattern,filter:(mapping,value,mode)=>{onFilter(mapping,value,mode);onClose()},onRemoveColumn:columnName=>{onRemoveColumn(columnName);onClose()},onAddColumn:columnName=>{onAddColumn(columnName);onClose()}}))))}const defaultContext={};const DiscoverGridContext=external_kbnSharedDeps_React_default.a.createContext(defaultContext);var external_kbnSharedDeps_Theme_euiLightVars_=__webpack_require__(52);var external_kbnSharedDeps_Theme_euiLightVars_default=__webpack_require__.n(external_kbnSharedDeps_Theme_euiLightVars_);var external_kbnSharedDeps_Theme_euiDarkVars_=__webpack_require__(53);var external_kbnSharedDeps_Theme_euiDarkVars_default=__webpack_require__.n(external_kbnSharedDeps_Theme_euiDarkVars_);const getRenderCellValueFn=(indexPattern,rows,rowsFlattened,useNewFieldsApi)=>({rowIndex:rowIndex,columnId:columnId,isDetails:isDetails,setCellProps:setCellProps})=>{const row=rows?rows[rowIndex]:undefined;const rowFlattened=rowsFlattened?rowsFlattened[rowIndex]:undefined;const field=indexPattern.fields.getByName(columnId);const ctx=Object(external_kbnSharedDeps_React_["useContext"])(DiscoverGridContext);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(ctx.expanded&&row&&ctx.expanded._id===row._id){setCellProps({style:{backgroundColor:ctx.isDarkMode?external_kbnSharedDeps_Theme_euiDarkVars_default.a.euiColorHighlight:external_kbnSharedDeps_Theme_euiLightVars_default.a.euiColorHighlight}})}else{setCellProps({style:undefined})}},[ctx,row,setCellProps]);if(typeof row==="undefined"||typeof rowFlattened==="undefined"){return external_kbnSharedDeps_React_default.a.createElement("span",null,"-")}if(useNewFieldsApi&&!field&&row&&row.fields&&!row.fields[columnId]){var _ref;const innerColumns=Object.fromEntries(Object.entries(row.fields).filter(([key])=>key.indexOf(`${columnId}.`)===0));if(isDetails){return external_kbnSharedDeps_React_default.a.createElement("span",null,JSON.stringify(innerColumns,null,2))}const highlights=(_ref=row.highlight)!==null&&_ref!==void 0?_ref:{};const highlightPairs=[];const sourcePairs=[];Object.entries(innerColumns).forEach(([key,values])=>{const subField=indexPattern.getFieldByName(key);const formatter=subField?indexPattern.getFormatterForField(subField):{convert:(v,...rest)=>String(v)};const formatted=values.map(val=>formatter.convert(val,"html",{field:subField,hit:row,indexPattern:indexPattern})).join(", ");const pairs=highlights[key]?highlightPairs:sourcePairs;pairs.push([key,formatted])});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{type:"inline",compressed:true,className:"dscDiscoverGrid__descriptionList"},[...highlightPairs,...sourcePairs].map(([key,value])=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],{key:key},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,key),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{dangerouslySetInnerHTML:{__html:value},className:"dscDiscoverGrid__descriptionListDescription"}))))}if(field&&field.type==="_source"){var _ref2;if(isDetails){return external_kbnSharedDeps_React_default.a.createElement("span",null,JSON.stringify(row,null,2))}const formatted=indexPattern.formatHit(row);const highlights=(_ref2=row.highlight)!==null&&_ref2!==void 0?_ref2:{};const highlightPairs=[];const sourcePairs=[];Object.entries(formatted).forEach(([key,val])=>{const pairs=highlights[key]?highlightPairs:sourcePairs;pairs.push([key,val])});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{type:"inline",compressed:true,className:"dscDiscoverGrid__descriptionList"},[...highlightPairs,...sourcePairs].map(([key,value])=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],{key:key},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,key),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{dangerouslySetInnerHTML:{__html:value},className:"dscDiscoverGrid__descriptionListDescription"}))))}if(!(field!==null&&field!==void 0&&field.type)&&rowFlattened&&typeof rowFlattened[columnId]==="object"){if(isDetails){return external_kbnSharedDeps_React_default.a.createElement("span",null,JSON.stringify(rowFlattened[columnId],null,2))}return external_kbnSharedDeps_React_default.a.createElement("span",null,JSON.stringify(rowFlattened[columnId]))}const valueFormatted=indexPattern.formatField(row,columnId);if(typeof valueFormatted==="undefined"){return external_kbnSharedDeps_React_default.a.createElement("span",null,"-")}return external_kbnSharedDeps_React_default.a.createElement("span",{dangerouslySetInnerHTML:{__html:indexPattern.formatField(row,columnId)}})};const ExpandButton=({rowIndex:rowIndex,setCellProps:setCellProps})=>{const{expanded:expanded,setExpanded:setExpanded,rows:rows,isDarkMode:isDarkMode}=Object(external_kbnSharedDeps_React_["useContext"])(DiscoverGridContext);const current=rows[rowIndex];Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(expanded&&current&&expanded._id===current._id){setCellProps({style:{backgroundColor:isDarkMode?external_kbnSharedDeps_Theme_euiDarkVars_default.a.euiColorHighlight:external_kbnSharedDeps_Theme_euiLightVars_default.a.euiColorHighlight}})}else{setCellProps({style:undefined})}},[expanded,current,setCellProps,isDarkMode]);const isCurrentRowExpanded=current===expanded;const buttonLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.grid.viewDoc",{defaultMessage:"Toggle dialog with details"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:buttonLabel,delay:"long"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonIcon"],{size:"s",iconSize:"s","aria-label":buttonLabel,"data-test-subj":"docTableExpandToggleColumn",onClick:()=>setExpanded(isCurrentRowExpanded?undefined:current),color:isCurrentRowExpanded?"primary":"subdued",iconType:isCurrentRowExpanded?"minimize":"expand",isSelected:isCurrentRowExpanded}))};const FilterInBtn=({Component:Component,rowIndex:rowIndex,columnId:columnId})=>{const context=Object(external_kbnSharedDeps_React_["useContext"])(DiscoverGridContext);const buttonTitle=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.grid.filterForAria",{defaultMessage:"Filter for this {value}",values:{value:columnId}});return external_kbnSharedDeps_React_default.a.createElement(Component,{onClick:()=>{const row=context.rows[rowIndex];const flattened=context.indexPattern.flattenHit(row);if(flattened){context.onFilter(columnId,flattened[columnId],"+")}},iconType:"plusInCircle","aria-label":buttonTitle,title:buttonTitle,"data-test-subj":"filterForButton"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.grid.filterFor",{defaultMessage:"Filter for"}))};const FilterOutBtn=({Component:Component,rowIndex:rowIndex,columnId:columnId})=>{const context=Object(external_kbnSharedDeps_React_["useContext"])(DiscoverGridContext);const buttonTitle=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.grid.filterOutAria",{defaultMessage:"Filter out this {value}",values:{value:columnId}});return external_kbnSharedDeps_React_default.a.createElement(Component,{onClick:()=>{const row=context.rows[rowIndex];const flattened=context.indexPattern.flattenHit(row);if(flattened){context.onFilter(columnId,flattened[columnId],"-")}},iconType:"minusInCircle","aria-label":buttonTitle,title:buttonTitle,"data-test-subj":"filterOutButton"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.grid.filterOut",{defaultMessage:"Filter out"}))};function buildCellActions(field){if(!field.aggregatable&&!field.searchable){return undefined}return[FilterInBtn,FilterOutBtn]}function getLeadControlColumns(){return[{id:"openDetails",width:32,headerCellRender:()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiScreenReaderOnly"],null,external_kbnSharedDeps_React_default.a.createElement("span",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.controlColumnHeader",{defaultMessage:"Control column"}))),rowCellRender:ExpandButton}]}function buildEuiGridColumn(columnName,columnWidth=0,indexPattern,defaultColumns){const timeString=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.timeLabel",{defaultMessage:"Time"});const indexPatternField=indexPattern.getFieldByName(columnName);const column={id:columnName,schema:getSchemaByKbnType(indexPatternField===null||indexPatternField===void 0?void 0:indexPatternField.type),isSortable:(indexPatternField===null||indexPatternField===void 0?void 0:indexPatternField.sortable)===true,display:columnName==="_source"?external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.grid.documentHeader",{defaultMessage:"Document"}):indexPatternField===null||indexPatternField===void 0?void 0:indexPatternField.displayName,actions:{showHide:defaultColumns||columnName===indexPattern.timeFieldName?false:{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.removeColumnLabel",{defaultMessage:"Remove column"}),iconType:"cross"},showMoveLeft:!defaultColumns,showMoveRight:!defaultColumns},cellActions:indexPatternField?buildCellActions(indexPatternField):[]};if(column.id===indexPattern.timeFieldName){column.display=`${timeString} (${indexPattern.timeFieldName})`;column.initialWidth=180}if(columnWidth>0){column.initialWidth=Number(columnWidth)}return column}function getEuiGridColumns(columns,settings,indexPattern,showTimeCol,defaultColumns){const timeFieldName=indexPattern.timeFieldName;const getColWidth=column=>{var _settings$columns$col,_settings$columns,_settings$columns$col2;return(_settings$columns$col=settings===null||settings===void 0?void 0:(_settings$columns=settings.columns)===null||_settings$columns===void 0?void 0:(_settings$columns$col2=_settings$columns[column])===null||_settings$columns$col2===void 0?void 0:_settings$columns$col2.width)!==null&&_settings$columns$col!==void 0?_settings$columns$col:0};if(showTimeCol&&indexPattern.timeFieldName&&!columns.find(col=>col===timeFieldName)){const usedColumns=[indexPattern.timeFieldName,...columns];return usedColumns.map(column=>buildEuiGridColumn(column,getColWidth(column),indexPattern,defaultColumns))}return columns.map(column=>buildEuiGridColumn(column,getColWidth(column),indexPattern,defaultColumns))}function getVisibleColumns(columns,indexPattern,showTimeCol){const timeFieldName=indexPattern.timeFieldName;if(showTimeCol&&!columns.find(col=>col===timeFieldName)){return[timeFieldName,...columns]}return columns}function columns_getDisplayedColumns(stateColumns=[],indexPattern){return stateColumns&&stateColumns.length>0&&!(stateColumns.length===1&&stateColumns[0]===indexPattern.timeFieldName)?stateColumns:["_source"]}const EuiDataGridMemoized=external_kbnSharedDeps_React_default.a.memo(props=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDataGrid"],props));const DiscoverGrid=({ariaLabelledBy:ariaLabelledBy,columns:columns,indexPattern:indexPattern,expandedDoc:expandedDoc,onAddColumn:onAddColumn,onFilter:onFilter,onRemoveColumn:onRemoveColumn,onResize:onResize,onSetColumns:onSetColumns,onSort:onSort,rows:rows,sampleSize:sampleSize,searchDescription:searchDescription,searchTitle:searchTitle,services:services,setExpandedDoc:setExpandedDoc,settings:settings,showTimeCol:showTimeCol,sort:sort,useNewFieldsApi:useNewFieldsApi})=>{const displayedColumns=columns_getDisplayedColumns(columns,indexPattern);const defaultColumns=displayedColumns.includes("_source");const[pagination,setPagination]=Object(external_kbnSharedDeps_React_["useState"])({pageIndex:0,pageSize:defaultPageSize});const rowCount=Object(external_kbnSharedDeps_React_["useMemo"])(()=>rows?rows.length:0,[rows]);const pageCount=Object(external_kbnSharedDeps_React_["useMemo"])(()=>Math.ceil(rowCount/pagination.pageSize),[rowCount,pagination]);const isOnLastPage=pagination.pageIndex===pageCount-1;const paginationObj=Object(external_kbnSharedDeps_React_["useMemo"])(()=>{const onChangeItemsPerPage=pageSize=>setPagination(paginationData=>({...paginationData,pageSize:pageSize}));const onChangePage=pageIndex=>setPagination(paginationData=>({...paginationData,pageIndex:pageIndex}));return{onChangeItemsPerPage:onChangeItemsPerPage,onChangePage:onChangePage,pageIndex:pagination.pageIndex>pageCount-1?0:pagination.pageIndex,pageSize:pagination.pageSize,pageSizeOptions:pageSizeArr}},[pagination,pageCount]);const sortingColumns=Object(external_kbnSharedDeps_React_["useMemo"])(()=>sort.map(([id,direction])=>({id:id,direction:direction})),[sort]);const onTableSort=Object(external_kbnSharedDeps_React_["useCallback"])(sortingColumnsData=>{onSort(sortingColumnsData.map(({id:id,direction:direction})=>[id,direction]))},[onSort]);const renderCellValue=Object(external_kbnSharedDeps_React_["useMemo"])(()=>getRenderCellValueFn(indexPattern,rows,rows?rows.map(hit=>indexPattern.flattenHit(hit)):[],useNewFieldsApi),[rows,indexPattern,useNewFieldsApi]);const showDisclaimer=rowCount===sampleSize&&isOnLastPage;const randomId=Object(external_kbnSharedDeps_React_["useMemo"])(()=>Object(external_kbnSharedDeps_ElasticEui_["htmlIdGenerator"])()(),[]);const euiGridColumns=Object(external_kbnSharedDeps_React_["useMemo"])(()=>getEuiGridColumns(displayedColumns,settings,indexPattern,showTimeCol,defaultColumns),[displayedColumns,indexPattern,showTimeCol,settings,defaultColumns]);const schemaDetectors=Object(external_kbnSharedDeps_React_["useMemo"])(()=>getSchemaDetectors(),[]);const popoverContents=Object(external_kbnSharedDeps_React_["useMemo"])(()=>getPopoverContents(),[]);const columnsVisibility=Object(external_kbnSharedDeps_React_["useMemo"])(()=>({visibleColumns:getVisibleColumns(displayedColumns,indexPattern,showTimeCol),setVisibleColumns:newColumns=>{onSetColumns(newColumns)}}),[displayedColumns,indexPattern,showTimeCol,onSetColumns]);const sorting=Object(external_kbnSharedDeps_React_["useMemo"])(()=>({columns:sortingColumns,onSort:onTableSort}),[sortingColumns,onTableSort]);const lead=Object(external_kbnSharedDeps_React_["useMemo"])(()=>getLeadControlColumns(),[]);if(!rowCount){return external_kbnSharedDeps_React_default.a.createElement("div",{className:"euiDataGrid__noResults"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"xs",color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"discoverApp",size:"m",color:"subdued"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.noResultsFound",defaultMessage:"No results found"})))}return external_kbnSharedDeps_React_default.a.createElement(DiscoverGridContext.Provider,{value:{expanded:expandedDoc,setExpanded:setExpandedDoc,rows:rows||[],onFilter:onFilter,indexPattern:indexPattern,isDarkMode:services.uiSettings.get("theme:darkMode")}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(EuiDataGridMemoized,{"aria-describedby":randomId,"aria-labelledby":ariaLabelledBy,columns:euiGridColumns,columnVisibility:columnsVisibility,"data-test-subj":"docTable",gridStyle:gridStyle,leadingControlColumns:lead,onColumnResize:col=>{if(onResize){onResize(col)}},pagination:paginationObj,popoverContents:popoverContents,renderCellValue:renderCellValue,rowCount:rowCount,schemaDetectors:schemaDetectors,sorting:sorting,toolbarVisibility:defaultColumns?{...toolbarVisibility,showColumnSelector:false}:toolbarVisibility}),showDisclaimer&&external_kbnSharedDeps_React_default.a.createElement("p",{className:"dscDiscoverGrid__footer"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.howToSeeOtherMatchingDocumentsDescriptionGrid",defaultMessage:"These are the first {sampleSize} documents matching your search, refine your search to see others.",values:{sampleSize:sampleSize}}),external_kbnSharedDeps_React_default.a.createElement("a",{href:`#${ariaLabelledBy}`},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.backToTopLinkText",defaultMessage:"Back to top."}))),searchTitle&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiScreenReaderOnly"],null,external_kbnSharedDeps_React_default.a.createElement("p",{id:String(randomId)},searchDescription?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.searchGenerationWithDescriptionGrid",defaultMessage:"Table generated by search {searchTitle} ({searchDescription})",values:{searchTitle:searchTitle,searchDescription:searchDescription}}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.searchGenerationWithDescription",defaultMessage:"Table generated by search {searchTitle}",values:{searchTitle:searchTitle}}))),expandedDoc&&external_kbnSharedDeps_React_default.a.createElement(DiscoverGridFlyout,{indexPattern:indexPattern,hit:expandedDoc,columns:defaultColumns?[]:displayedColumns,onFilter:onFilter,onRemoveColumn:onRemoveColumn,onAddColumn:onAddColumn,onClose:()=>setExpandedDoc(undefined),services:services})))};function create_discover_grid_directive_extends(){create_discover_grid_directive_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return create_discover_grid_directive_extends.apply(this,arguments)}const DataGridMemoized=external_kbnSharedDeps_React_default.a.memo(props=>external_kbnSharedDeps_React_default.a.createElement(DiscoverGrid,props));function DiscoverGridEmbeddable(props){const[expandedDoc,setExpandedDoc]=Object(external_kbnSharedDeps_React_["useState"])(undefined);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["I18nProvider"],null,external_kbnSharedDeps_React_default.a.createElement(DataGridMemoized,create_discover_grid_directive_extends({},props,{setExpandedDoc:setExpandedDoc,expandedDoc:expandedDoc,services:Object(kibana_services["h"])()})))}function createDiscoverGridDirective(reactDirective){return reactDirective(DiscoverGridEmbeddable,[["columns",{watchDepth:"collection"}],["indexPattern",{watchDepth:"reference"}],["onAddColumn",{watchDepth:"reference",wrapApply:false}],["onFilter",{watchDepth:"reference",wrapApply:false}],["onRemoveColumn",{watchDepth:"reference",wrapApply:false}],["onSetColumns",{watchDepth:"reference",wrapApply:false}],["onSort",{watchDepth:"reference",wrapApply:false}],["rows",{watchDepth:"collection"}],["sampleSize",{watchDepth:"reference"}],["searchDescription",{watchDepth:"reference"}],["searchTitle",{watchDepth:"reference"}],["settings",{watchDepth:"reference"}],["showTimeCol",{watchDepth:"value"}],["sort",{watchDepth:"value"}]])}function createRenderCompleteDirective(){return{controller($scope,$element){const el=$element[0];const renderCompleteListener=new public_["RenderCompleteListener"](el);$scope.$on("$destroy",renderCompleteListener.destroy)}}}var kibanaLegacy_public_=__webpack_require__(12);var discover=__webpack_require__(125);var external_kbnSharedDeps_Moment_=__webpack_require__(49);var external_kbnSharedDeps_Moment_default=__webpack_require__.n(external_kbnSharedDeps_Moment_);function wrapArray(subj){return Array.isArray(subj)?subj:[subj]}class UnreachableCaseError extends Error{constructor(val){super(`Unreachable case: ${val}`)}}function createUiCounterMetric({type:type,appName:appName,eventName:eventName,count:count=1}){return{type:type,appName:appName,eventName:eventName,count:count}}function trackUsageAgent(appName){const userAgent=window&&window.navigator&&window.navigator.userAgent||"";return{type:METRIC_TYPE.USER_AGENT,appName:appName,userAgent:userAgent}}var external_kbnSharedDeps_MomentTimezone_=__webpack_require__(50);var external_kbnSharedDeps_MomentTimezone_default=__webpack_require__.n(external_kbnSharedDeps_MomentTimezone_);function createApplicationUsageMetric(appId,viewId){return{type:METRIC_TYPE.APPLICATION_USAGE,appId:appId,viewId:viewId,startTime:external_kbnSharedDeps_MomentTimezone_default()(),numberOfClicks:0}}let METRIC_TYPE;(function(METRIC_TYPE){METRIC_TYPE["COUNT"]="count";METRIC_TYPE["LOADED"]="loaded";METRIC_TYPE["CLICK"]="click";METRIC_TYPE["USER_AGENT"]="user_agent";METRIC_TYPE["APPLICATION_USAGE"]="application_usage"})(METRIC_TYPE||(METRIC_TYPE={}));function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class ReportStorageManager{constructor(storageKey,storage){_defineProperty(this,"storageKey",void 0);_defineProperty(this,"storage",void 0);this.storageKey=storageKey;this.storage=storage}get(){if(!this.storage)return;return this.storage.get(this.storageKey)}store(report){if(!this.storage)return;this.storage.set(this.storageKey,report)}}function application_usage_tracker_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class application_usage_tracker_ApplicationUsageTracker{constructor(reporter){application_usage_tracker_defineProperty(this,"trackedApplicationViews",{});application_usage_tracker_defineProperty(this,"reporter",void 0);application_usage_tracker_defineProperty(this,"currentAppId",void 0);application_usage_tracker_defineProperty(this,"currentApplicationKeys",[]);application_usage_tracker_defineProperty(this,"beforeUnloadListener",void 0);application_usage_tracker_defineProperty(this,"onVisiblityChangeListener",void 0);this.reporter=reporter}createKey(appId,viewId){return{appId:appId,viewId:viewId}}static serializeKey({appId:appId,viewId:viewId}){return`${appId}-${viewId}`}trackApplications(appKeys){for(const{appId:appId,viewId:viewId}of appKeys.filter(Boolean)){const serializedKey=application_usage_tracker_ApplicationUsageTracker.serializeKey({appId:appId,viewId:viewId});if(typeof this.trackedApplicationViews[serializedKey]!=="undefined"){continue}const metric=createApplicationUsageMetric(appId,viewId);this.trackedApplicationViews[serializedKey]=metric}}attachListeners(){if(typeof window==="undefined"||typeof document==="undefined"){return}this.beforeUnloadListener=()=>{this.flushTrackedViews()};this.onVisiblityChangeListener=()=>{if(document.visibilityState==="visible"){this.resumeTrackingAll()}else if(document.visibilityState==="hidden"){this.pauseTrackingAll()}};window.addEventListener("beforeunload",this.beforeUnloadListener);document.addEventListener("visibilitychange",this.onVisiblityChangeListener)}detachListeners(){if(typeof window==="undefined"||typeof document==="undefined"){return}if(this.beforeUnloadListener){window.removeEventListener("beforeunload",this.beforeUnloadListener)}if(this.onVisiblityChangeListener){document.removeEventListener("visibilitychange",this.onVisiblityChangeListener)}}sendMetricsToReporter(metrics){metrics.forEach(metric=>{this.reporter.reportApplicationUsage(metric)})}updateViewClickCounter(viewId){if(!this.currentAppId){return}const appKey=application_usage_tracker_ApplicationUsageTracker.serializeKey({appId:this.currentAppId,viewId:viewId});if(this.trackedApplicationViews[appKey]){this.trackedApplicationViews[appKey].numberOfClicks++}}flushTrackedViews(){const appViewMetrics=Object.values(this.trackedApplicationViews);this.sendMetricsToReporter(appViewMetrics);this.trackedApplicationViews={}}start(){this.attachListeners()}stop(){this.flushTrackedViews();this.detachListeners()}setCurrentAppId(appId){this.flushTrackedViews();this.currentAppId=appId}trackApplicationViewUsage(viewId){if(!this.currentAppId){return}const appKey=this.createKey(this.currentAppId,viewId);this.trackApplications([appKey])}pauseTrackingAll(){this.currentApplicationKeys=Object.values(this.trackedApplicationViews).map(({appId:appId,viewId:viewId})=>this.createKey(appId,viewId));this.flushTrackedViews()}resumeTrackingAll(){this.trackApplications(this.currentApplicationKeys);this.currentApplicationKeys=[];this.reporter.sendReports()}flushTrackedView(viewId){if(!this.currentAppId){return}const appKey=this.createKey(this.currentAppId,viewId);const serializedKey=application_usage_tracker_ApplicationUsageTracker.serializeKey(appKey);const appViewMetric=this.trackedApplicationViews[serializedKey];this.sendMetricsToReporter([appViewMetric]);delete this.trackedApplicationViews[serializedKey]}}function report_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const REPORT_VERSION=3;class report_ReportManager{constructor(report){report_defineProperty(this,"report",void 0);this.report=report||report_ReportManager.createReport()}static createReport(){return{reportVersion:REPORT_VERSION}}clearReport(){this.report=report_ReportManager.createReport()}isReportEmpty(){const{uiCounter:uiCounter,userAgent:userAgent,application_usage:appUsage}=this.report;const noUiCounters=!uiCounter||Object.keys(uiCounter).length===0;const noUserAgents=!userAgent||Object.keys(userAgent).length===0;const noAppUsage=!appUsage||Object.keys(appUsage).length===0;return noUiCounters&&noUserAgents&&noAppUsage}incrementTotal(count,currentTotal){const currentTotalNumber=typeof currentTotal==="number"?currentTotal:0;return count+currentTotalNumber}assignReports(newMetrics){wrapArray(newMetrics).forEach(newMetric=>this.assignReport(this.report,newMetric));return{report:this.report}}static createMetricKey(metric){switch(metric.type){case METRIC_TYPE.USER_AGENT:{const{appName:appName,type:type}=metric;return`${appName}-${type}`}case METRIC_TYPE.CLICK:case METRIC_TYPE.LOADED:case METRIC_TYPE.COUNT:{const{appName:appName,eventName:eventName,type:type}=metric;return`${appName}-${type}-${eventName}`}case METRIC_TYPE.APPLICATION_USAGE:{const{appId:appId,viewId:viewId}=metric;return application_usage_tracker_ApplicationUsageTracker.serializeKey({appId:appId,viewId:viewId})}default:throw new UnreachableCaseError(metric)}}assignReport(report,metric){const key=report_ReportManager.createMetricKey(metric);switch(metric.type){case METRIC_TYPE.USER_AGENT:{const{appName:appName,type:type,userAgent:userAgent}=metric;if(userAgent){report.userAgent={[key]:{key:key,appName:appName,type:type,userAgent:metric.userAgent}}}return}case METRIC_TYPE.CLICK:case METRIC_TYPE.LOADED:case METRIC_TYPE.COUNT:{var _report$uiCounter$key;const{appName:appName,type:type,eventName:eventName,count:count}=metric;report.uiCounter=report.uiCounter||{};const currentTotal=(_report$uiCounter$key=report.uiCounter[key])===null||_report$uiCounter$key===void 0?void 0:_report$uiCounter$key.total;report.uiCounter[key]={key:key,appName:appName,eventName:eventName,type:type,total:this.incrementTotal(count,currentTotal)};return}case METRIC_TYPE.APPLICATION_USAGE:{const{numberOfClicks:numberOfClicks,startTime:startTime,appId:appId,viewId:viewId}=metric;const minutesOnScreen=external_kbnSharedDeps_MomentTimezone_default()().diff(startTime,"minutes",true);report.application_usage=report.application_usage||{};const appExistingData=report.application_usage[key]||{minutesOnScreen:0,numberOfClicks:0,appId:appId,viewId:viewId};report.application_usage[key]={...appExistingData,minutesOnScreen:appExistingData.minutesOnScreen+minutesOnScreen,numberOfClicks:appExistingData.numberOfClicks+numberOfClicks};return}default:throw new UnreachableCaseError(metric)}}}report_defineProperty(report_ReportManager,"REPORT_VERSION",REPORT_VERSION);function reporter_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class reporter_Reporter{constructor(config){reporter_defineProperty(this,"checkInterval",void 0);reporter_defineProperty(this,"interval",void 0);reporter_defineProperty(this,"http",void 0);reporter_defineProperty(this,"reportManager",void 0);reporter_defineProperty(this,"storageManager",void 0);reporter_defineProperty(this,"debug",void 0);reporter_defineProperty(this,"retryCount",0);reporter_defineProperty(this,"maxRetries",3);reporter_defineProperty(this,"start",()=>{if(!this.interval){this.interval=setTimeout(()=>{this.interval=undefined;this.sendReports()},this.checkInterval)}});reporter_defineProperty(this,"reportUiCounter",(appName,type,eventNames,count)=>{const metrics=wrapArray(eventNames).map(eventName=>{this.log(`${type} Metric -> (${appName}:${eventName}):`);const report=createUiCounterMetric({type:type,appName:appName,eventName:eventName,count:count});this.log(report);return report});this.saveToReport(metrics)});reporter_defineProperty(this,"reportUserAgent",appName=>{this.log(`Reporting user-agent.`);const report=trackUsageAgent(appName);this.saveToReport([report])});reporter_defineProperty(this,"sendReports",async()=>{if(!this.reportManager.isReportEmpty()){try{await this.http(this.reportManager.report);this.flushReport()}catch(err){this.log(`Error Sending Metrics Report ${err}`);this.retryCount=this.retryCount+1;const versionMismatch=this.reportManager.report.reportVersion!==report_ReportManager.REPORT_VERSION;if(versionMismatch||this.retryCount>this.maxRetries){this.flushReport()}}}this.start()});const{http:http,storage:storage,debug:debug,checkInterval:checkInterval=9e4,storageKey:storageKey="analytics"}=config;this.http=http;this.checkInterval=checkInterval;this.storageManager=new ReportStorageManager(storageKey,storage);const storedReport=this.storageManager.get();this.reportManager=new report_ReportManager(storedReport);this.debug=!!debug}saveToReport(newMetrics){this.reportManager.assignReports(newMetrics);this.storageManager.store(this.reportManager.report)}flushReport(){this.retryCount=0;this.reportManager.clearReport();this.storageManager.store(this.reportManager.report)}log(message){if(this.debug){console.debug(message)}}reportApplicationUsage(appUsageReport){this.log(`Reporting application usage for ${appUsageReport.appId}, ${appUsageReport.viewId}`);this.saveToReport([appUsageReport])}}var classnames=__webpack_require__(23);var classnames_default=__webpack_require__.n(classnames);var hits_counter=__webpack_require__(134);const COMMA_SEPARATOR_RE=/(\d)(?=(\d{3})+(?!\d))/g;const formatNumWithCommas=input=>String(input).replace(COMMA_SEPARATOR_RE,"$1,");function HitsCounter({hits:hits,showResetButton:showResetButton,onResetQuery:onResetQuery}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["I18nProvider"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{className:"dscHitsCounter",gutterSize:"s",responsive:false,justifyContent:"center",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("strong",{"data-test-subj":"discoverQueryHits"},formatNumWithCommas(hits))," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.hitsPluralTitle",defaultMessage:"{hits, plural, one {hit} other {hits}}",values:{hits:hits}}))),showResetButton&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{iconType:"refresh","data-test-subj":"resetSavedSearch",onClick:onResetQuery,size:"s","aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.reloadSavedSearchButton",{defaultMessage:"Reset search"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.reloadSavedSearchButton",defaultMessage:"Reset search"})))))}var timechart_header=__webpack_require__(143);function TimechartHeader({bucketInterval:bucketInterval,dateFormat:dateFormat,timeRange:timeRange,options:options,onChangeInterval:onChangeInterval,stateInterval:stateInterval}){const[interval,setInterval]=Object(external_kbnSharedDeps_React_["useState"])(stateInterval);const toMoment=Object(external_kbnSharedDeps_React_["useCallback"])(datetime=>{if(!datetime){return""}if(!dateFormat){return datetime}return external_kbnSharedDeps_Moment_default()(datetime).format(dateFormat)},[dateFormat]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{setInterval(stateInterval)},[stateInterval]);const handleIntervalChange=e=>{setInterval(e.target.value);onChangeInterval(e.target.value)};if(!timeRange||!bucketInterval){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{className:"dscTimeChartHeader",gutterSize:"s",responsive:false,wrap:true,justifyContent:"center",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,className:"eui-hideFor--m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.howToChangeTheTimeTooltip",{defaultMessage:"To change the time, use the global time filter."}),delay:"long"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{"data-test-subj":"discoverIntervalDateRange",textAlign:"center",size:"s"},`${toMoment(timeRange.from)} - ${toMoment(timeRange.to)} ${interval!=="auto"?external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.timechartHeader.timeIntervalSelect.per",{defaultMessage:"per"}):""}`))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{className:"dscTimeIntervalSelect",grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],{"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.timechartHeader.timeIntervalSelect.ariaLabel",{defaultMessage:"Time interval"}),compressed:true,id:"dscResultsIntervalSelector","data-test-subj":"discoverIntervalSelect",options:options.filter(({val:val})=>val!=="custom").map(({display:display,val:val})=>({text:display,value:val,label:display})),value:interval,onChange:handleIntervalChange,append:bucketInterval.scaled?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIconTip"],{id:"discoverIntervalIconTip",content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.bucketIntervalTooltip",{defaultMessage:"This interval creates {bucketsDescription} to show in the selected time range, so it has been scaled to {bucketIntervalDescription}.",values:{bucketsDescription:bucketInterval.scale&&bucketInterval.scale>1?external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.bucketIntervalTooltip.tooLargeBucketsText",{defaultMessage:"buckets that are too large"}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.bucketIntervalTooltip.tooManyBucketsText",{defaultMessage:"too many buckets"}),bucketIntervalDescription:bucketInterval.description}}),color:"warning",size:"s",type:"alert"}):undefined})))}var directives=__webpack_require__(90);function getTimeFieldMessage(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"xl"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("h2",{"data-test-subj":"discoverNoResultsTimefilter"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.noResults.expandYourTimeRangeTitle",defaultMessage:"Expand your time range"})),external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.noResults.queryMayNotMatchTitle",defaultMessage:"One or more of the indices you’re looking at contains a date field. Your query may not match anything in the current time range, or there may not be any data at all in the currently selected time range. You can try changing the time range to one which contains data."}))))}function getLuceneQueryMessage(link){const searchExamples=[{description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,"200"),title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.noResults.searchExamples.anyField200StatusCodeExampleTitle",defaultMessage:"Find requests that contain the number 200, in any field"})))},{description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,"status:200"),title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.noResults.searchExamples.statusField200StatusCodeExampleTitle",defaultMessage:"Find 200 in the status field"})))},{description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,"status:[400 TO 499]"),title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.noResults.searchExamples.400to499StatusCodeExampleTitle",defaultMessage:"Find all status codes between 400-499"})))},{description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,"status:[400 TO 499] AND extension:PHP"),title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.noResults.searchExamples.400to499StatusCodeWithPhpExtensionExampleTitle",defaultMessage:"Find status codes 400-499 with the extension php"})))},{description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,"status:[400 TO 499] AND (extension:php OR extension:html)"),title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.noResults.searchExamples.400to499StatusCodeWithPhpOrHtmlExtensionExampleTitle",defaultMessage:"Find status codes 400-499 with the extension php or html"})))}];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"xl"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{"data-test-subj":"discoverNoResultsLucene"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.noResults.searchExamples.refineYourQueryTitle",defaultMessage:"Refine your query"})),external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.noResults.searchExamples.howTosearchForWebServerLogsDescription",defaultMessage:"The search bar at the top uses Elasticsearch’s support for Lucene {queryStringSyntaxLink}. Here are some examples of how you can search for web server logs that have been parsed into a few fields.",values:{queryStringSyntaxLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{target:"_blank",href:link},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.noResults.searchExamples.queryStringSyntaxLinkText",defaultMessage:"Query String syntax"}))}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{type:"column",listItems:searchExamples}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"xl"}))}var _no_results=__webpack_require__(152);function DiscoverNoResults({timeFieldName:timeFieldName,queryLanguage:queryLanguage,error:error,data:data}){const callOut=!error?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,className:"dscNoResults"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.noResults.searchExamples.noResultsMatchSearchCriteriaTitle",defaultMessage:"No results match your search criteria"}),color:"warning",iconType:"help","data-test-subj":"discoverNoResults"}),timeFieldName?getTimeFieldMessage():null,queryLanguage==="lucene"?getLuceneQueryMessage(Object(kibana_services["h"])().docLinks.links.query.luceneQuerySyntax):null):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:true,className:"dscNoResults"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.noResults.searchExamples.noResultsBecauseOfError",defaultMessage:"We encountered an error retrieving search results"}),color:"danger",iconType:"alert","data-test-subj":"discoverNoResultsError"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{size:"s",color:"danger",onClick:()=>data?data.search.showError(error):void 0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.showErrorMessageAgain",defaultMessage:"Show error message"}))));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"center"},callOut))}var loading_spinner=__webpack_require__(161);function LoadingSpinner(){return external_kbnSharedDeps_React_default.a.createElement("div",{className:"dscLoading"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s","data-test-subj":"loadingSpinnerText"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.searchingTitle",defaultMessage:"Searching"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"l","data-test-subj":"loadingSpinner"}))}function SkipBottomButton({onClick:onClick}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSkipLink"],{size:"s",onClick:event=>{event.preventDefault();onClick()},className:"dscSkipButton",id:"dscSkipButton",destinationId:"","data-test-subj":"discoverSkipTableButton",position:"absolute"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.skipToBottomButtonLabel",defaultMessage:"Go to end of table"}))}var discover_sidebar=__webpack_require__(170);var discover_field=__webpack_require__(179);function StringFieldProgressBar({value:value,percent:percent,count:count}){const ariaLabel=`${value}: ${count} (${percent}%)`;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiProgress"],{value:percent,max:100,color:"secondary","aria-label":ariaLabel,size:"s"})}var discover_field_bucket=__webpack_require__(188);function DiscoverFieldBucket({field:field,bucket:bucket,onAddFilter:onAddFilter}){const emptyTxt=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.detailViews.emptyStringText",{defaultMessage:"Empty string"});const addLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.detailViews.filterValueButtonAriaLabel",{defaultMessage:'Filter for {field}: "{value}"',values:{value:bucket.value,field:field.name}});const removeLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.detailViews.filterOutValueButtonAriaLabel",{defaultMessage:'Filter out {field}: "{value}"',values:{value:bucket.value,field:field.name}});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween",responsive:false,gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{className:"dscFieldDetails__barContainer",grow:1},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween",gutterSize:"xs",responsive:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:1,className:"eui-textTruncate"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{title:bucket.display===""?emptyTxt:`${bucket.display}: ${bucket.count} (${bucket.percent}%)`,size:"xs",className:"eui-textTruncate"},bucket.display===""?emptyTxt:bucket.display)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,className:"eui-textTruncate"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{color:"secondary",size:"xs",className:"eui-textTruncate"},bucket.percent,"%"))),external_kbnSharedDeps_React_default.a.createElement(StringFieldProgressBar,{value:bucket.value,percent:bucket.percent,count:bucket.count})),field.filterable&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonIcon"],{iconSize:"s",iconType:"plusInCircle",onClick:()=>onAddFilter(field,bucket.value,"+"),"aria-label":addLabel,"data-test-subj":`plus-${field.name}-${bucket.value}`,style:{minHeight:"auto",minWidth:"auto",paddingRight:2,paddingLeft:2,paddingTop:0,paddingBottom:0}}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonIcon"],{iconSize:"s",iconType:"minusInCircle",onClick:()=>onAddFilter(field,bucket.value,"-"),"aria-label":removeLabel,"data-test-subj":`minus-${field.name}-${bucket.value}`,style:{minHeight:"auto",minWidth:"auto",paddingTop:0,paddingBottom:0,paddingRight:2,paddingLeft:2}})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}))}function getWarnings(field){let warnings=[];if(field.scripted){warnings.push(external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.discoverField.scriptedFieldsTakeLongExecuteDescription",{defaultMessage:"Scripted fields can take a long time to execute."}))}if(warnings.length>1){warnings=warnings.map((function(warning,i){return(i>0?"\n":"")+(i+1)+" - "+warning}))}return warnings}var uiActions_public_=__webpack_require__(60);function getTriggerConstant(type){return type===data_public_["KBN_FIELD_TYPES"].GEO_POINT||type===data_public_["KBN_FIELD_TYPES"].GEO_SHAPE?uiActions_public_["VISUALIZE_GEO_FIELD_TRIGGER"]:uiActions_public_["VISUALIZE_FIELD_TRIGGER"]}function getTrigger(type){return type===data_public_["KBN_FIELD_TYPES"].GEO_POINT||type===data_public_["KBN_FIELD_TYPES"].GEO_SHAPE?uiActions_public_["visualizeGeoFieldTrigger"]:uiActions_public_["visualizeFieldTrigger"]}async function getCompatibleActions(fieldName,indexPatternId,contextualFields,trigger){const compatibleActions=await Object(kibana_services["i"])().getTriggerCompatibleActions(trigger,{indexPatternId:indexPatternId,fieldName:fieldName,contextualFields:contextualFields});return compatibleActions}async function getVisualizeHref(field,indexPatternId,contextualFields){var _compatibleActions$0$,_compatibleActions$;if(!indexPatternId)return undefined;const triggerOptions={indexPatternId:indexPatternId,fieldName:field.name,contextualFields:contextualFields,trigger:getTrigger(field.type)};const compatibleActions=await getCompatibleActions(field.name,indexPatternId,contextualFields,getTriggerConstant(field.type));return compatibleActions.length===1?(_compatibleActions$0$=(_compatibleActions$=compatibleActions[0]).getHref)===null||_compatibleActions$0$===void 0?void 0:_compatibleActions$0$.call(_compatibleActions$,triggerOptions):undefined}function triggerVisualizeActions(field,indexPatternId,contextualFields){if(!indexPatternId)return;const trigger=getTriggerConstant(field.type);const triggerOptions={indexPatternId:indexPatternId,fieldName:field.name,contextualFields:contextualFields};Object(kibana_services["i"])().getTrigger(trigger).exec(triggerOptions)}async function isFieldVisualizable(field,indexPatternId,contextualFields){if(field.name==="_id"||!indexPatternId){return false}const trigger=getTriggerConstant(field.type);const compatibleActions=await getCompatibleActions(field.name,indexPatternId,contextualFields,trigger);return compatibleActions.length>0&&field.visualizable}var discover_field_details=__webpack_require__(197);function DiscoverFieldDetailsFooter({field:field,indexPattern:indexPattern,details:details,onAddFilter:onAddFilter}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopoverFooter"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"xs",textAlign:"center"},!indexPattern.metaFields.includes(field.name)&&!field.scripted?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{onClick:()=>onAddFilter("_exists_",field.name,"+"),"data-test-subj":"onAddFilterButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.fieldChooser.detailViews.existsInRecordsText",defaultMessage:"Exists in {value} / {totalValue} records",values:{value:details.exists,totalValue:details.total}})):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.fieldChooser.detailViews.valueOfRecordsText",defaultMessage:"{value} / {totalValue} records",values:{value:details.exists,totalValue:details.total}})))}function DiscoverFieldDetails({field:field,indexPattern:indexPattern,details:details,onAddFilter:onAddFilter,trackUiMetric:trackUiMetric,showFooter:showFooter=true}){const warnings=getWarnings(field);const[showVisualizeLink,setShowVisualizeLink]=Object(external_kbnSharedDeps_React_["useState"])(false);const[visualizeLink,setVisualizeLink]=Object(external_kbnSharedDeps_React_["useState"])("");Object(external_kbnSharedDeps_React_["useEffect"])(()=>{isFieldVisualizable(field,indexPattern.id,details.columns).then(flag=>{setShowVisualizeLink(flag);getVisualizeHref(field,indexPattern.id,details.columns).then(uri=>{if(uri)setVisualizeLink(uri)},()=>{setVisualizeLink("")})},()=>{setShowVisualizeLink(false)})},[field,indexPattern.id,details.columns]);const handleVisualizeLinkClick=event=>{event.preventDefault();if(trackUiMetric){trackUiMetric(METRIC_TYPE.CLICK,"visualize_link_click")}triggerVisualizeActions(field,indexPattern.id,details.columns)};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement("div",{className:"dscFieldDetails"},details.error&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"xs"},details.error),!details.error&&external_kbnSharedDeps_React_default.a.createElement("div",{style:{marginTop:"4px"}},details.buckets.map((bucket,idx)=>external_kbnSharedDeps_React_default.a.createElement(DiscoverFieldBucket,{key:`bucket${idx}`,bucket:bucket,field:field,onAddFilter:onAddFilter}))),showVisualizeLink&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"xs"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{onClick:e=>handleVisualizeLinkClick(e),href:visualizeLink,size:"s",className:"dscFieldDetails__visualizeBtn","data-test-subj":`fieldVisualize-${field.name}`},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.fieldChooser.detailViews.visualizeLinkText",defaultMessage:"Visualize"})),warnings.length>0&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIconTip"],{type:"alert",color:"warning",content:warnings.join(" ")}))),!details.error&&showFooter&&external_kbnSharedDeps_React_default.a.createElement(DiscoverFieldDetailsFooter,{field:field,indexPattern:indexPattern,details:details,onAddFilter:onAddFilter}))}var kibanaReact_public_=__webpack_require__(13);function getFieldTypeName(type){switch(type){case"boolean":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.booleanAriaLabel",{defaultMessage:"Boolean field"});case"conflict":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.conflictFieldAriaLabel",{defaultMessage:"Conflicting field"});case"date":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.dateFieldAriaLabel",{defaultMessage:"Date field"});case"geo_point":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.geoPointFieldAriaLabel",{defaultMessage:"Geo point field"});case"geo_shape":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.geoShapeFieldAriaLabel",{defaultMessage:"Geo shape field"});case"ip":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.ipAddressFieldAriaLabel",{defaultMessage:"IP address field"});case"murmur3":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.murmur3FieldAriaLabel",{defaultMessage:"Murmur3 field"});case"number":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.numberFieldAriaLabel",{defaultMessage:"Number field"});case"source":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.sourceFieldAriaLabel",{defaultMessage:"Source field"});case"string":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.stringFieldAriaLabel",{defaultMessage:"String field"});case"nested":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.nestedFieldAriaLabel",{defaultMessage:"Nested field"});default:return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.unknownFieldAriaLabel",{defaultMessage:"Unknown field"})}}function DiscoverField({alwaysShowActionButton:alwaysShowActionButton=false,field:field,indexPattern:indexPattern,onAddField:onAddField,onRemoveField:onRemoveField,onAddFilter:onAddFilter,getDetails:getDetails,selected:selected,trackUiMetric:trackUiMetric,multiFields:multiFields}){const addLabelAria=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.discoverField.addButtonAriaLabel",{defaultMessage:"Add {field} to table",values:{field:field.name}});const removeLabelAria=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.discoverField.removeButtonAriaLabel",{defaultMessage:"Remove {field} from table",values:{field:field.name}});const[infoIsOpen,setOpen]=Object(external_kbnSharedDeps_React_["useState"])(false);const toggleDisplay=(f,isSelected)=>{if(isSelected){onRemoveField(f.name)}else{onAddField(f.name)}};function togglePopover(){setOpen(!infoIsOpen)}function wrapOnDot(str){return str?str.replace(/\./g,".​"):""}const getDscFieldIcon=indexPatternField=>external_kbnSharedDeps_React_default.a.createElement(kibanaReact_public_["FieldIcon"],{type:indexPatternField.type,label:getFieldTypeName(indexPatternField.type),scripted:indexPatternField.scripted});const dscFieldIcon=getDscFieldIcon(field);const getTitle=indexPatternField=>indexPatternField.displayName!==indexPatternField.name?external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.field.title",{defaultMessage:"{fieldName} ({fieldDisplayName})",values:{fieldName:indexPatternField.name,fieldDisplayName:indexPatternField.displayName}}):indexPatternField.displayName;const getFieldName=indexPatternField=>external_kbnSharedDeps_React_default.a.createElement("span",{"data-test-subj":`field-${indexPatternField.name}`,title:getTitle(indexPatternField),className:"dscSidebarField__name"},wrapOnDot(indexPatternField.displayName));const fieldName=getFieldName(field);const actionBtnClassName=classnames_default()("dscSidebarItem__action",{["dscSidebarItem__mobile"]:alwaysShowActionButton});const getActionButton=(f,isSelected)=>{if(f.name!=="_source"&&!isSelected){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{delay:"long",content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.discoverField.addFieldTooltip",{defaultMessage:"Add field as column"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonIcon"],{iconType:"plusInCircleFilled",className:actionBtnClassName,onClick:ev=>{if(ev.type==="click"){ev.currentTarget.focus()}ev.preventDefault();ev.stopPropagation();toggleDisplay(f,false)},"data-test-subj":`fieldToggle-${f.name}`,"aria-label":addLabelAria}))}else if(f.name!=="_source"&&isSelected){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{delay:"long",content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.discoverField.removeFieldTooltip",{defaultMessage:"Remove field from table"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonIcon"],{color:"danger",iconType:"cross",className:actionBtnClassName,onClick:ev=>{if(ev.type==="click"){ev.currentTarget.focus()}ev.preventDefault();ev.stopPropagation();toggleDisplay(f,isSelected)},"data-test-subj":`fieldToggle-${f.name}`,"aria-label":removeLabelAria}))}};const actionButton=getActionButton(field,selected);if(field.type==="_source"){return external_kbnSharedDeps_React_default.a.createElement(kibanaReact_public_["FieldButton"],{size:"s",className:"dscSidebarItem",dataTestSubj:`field-${field.name}-showDetails`,fieldIcon:dscFieldIcon,fieldAction:actionButton,fieldName:fieldName})}const getFieldInfoIcon=()=>{if(field.type!=="conflict"){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{position:"bottom",content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.field.mappingConflict",{defaultMessage:"This field is defined as several types (string, integer, etc) across the indices that match this pattern."+"You may still be able to use this conflicting field, but it will be unavailable for functions that require Kibana to know their type. Correcting this issue will require reindexing your data."})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{tabIndex:0,type:"alert",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.field.mappingConflict.title",{defaultMessage:"Mapping Conflict"}),size:"s"}))};const fieldInfoIcon=getFieldInfoIcon();const shouldRenderMultiFields=!!multiFields;const renderMultiFields=()=>{if(!multiFields){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xxxs"},external_kbnSharedDeps_React_default.a.createElement("h5",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.discoverField.multiFields",{defaultMessage:"Multi fields"}))),multiFields.map(entry=>external_kbnSharedDeps_React_default.a.createElement(kibanaReact_public_["FieldButton"],{size:"s",className:"dscSidebarItem dscSidebarItem--multi",isActive:false,onClick:()=>{},dataTestSubj:`field-${entry.field.name}-showDetails`,fieldIcon:getDscFieldIcon(entry.field),fieldAction:getActionButton(entry.field,entry.isSelected),fieldName:getFieldName(entry.field),key:entry.field.name})))};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopover"],{display:"block",button:external_kbnSharedDeps_React_default.a.createElement(kibanaReact_public_["FieldButton"],{size:"s",className:"dscSidebarItem",isActive:infoIsOpen,onClick:()=>{togglePopover()},dataTestSubj:`field-${field.name}-showDetails`,fieldIcon:dscFieldIcon,fieldAction:actionButton,fieldName:fieldName,fieldInfoIcon:fieldInfoIcon}),isOpen:infoIsOpen,closePopover:()=>setOpen(false),anchorPosition:"rightUp",panelClassName:"dscSidebarItem__fieldPopoverPanel"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopoverTitle"],{style:{textTransform:"none"},className:"eui-textBreakWord"},field.displayName),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xxxs"},external_kbnSharedDeps_React_default.a.createElement("h5",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.discoverField.fieldTopValuesLabel",{defaultMessage:"Top 5 values"}))),infoIsOpen&&external_kbnSharedDeps_React_default.a.createElement(DiscoverFieldDetails,{indexPattern:indexPattern,field:field,details:getDetails(field),onAddFilter:onAddFilter,trackUiMetric:trackUiMetric,showFooter:!shouldRenderMultiFields}),shouldRenderMultiFields?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,renderMultiFields(),external_kbnSharedDeps_React_default.a.createElement(DiscoverFieldDetailsFooter,{indexPattern:indexPattern,field:field,details:getDetails(field),onAddFilter:onAddFilter})):null)}function change_indexpattern_extends(){change_indexpattern_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return change_indexpattern_extends.apply(this,arguments)}function ChangeIndexPattern({indexPatternRefs:indexPatternRefs,indexPatternId:indexPatternId,onChangeIndexPattern:onChangeIndexPattern,trigger:trigger,selectableProps:selectableProps}){const[isPopoverOpen,setPopoverIsOpen]=Object(external_kbnSharedDeps_React_["useState"])(false);const createTrigger=function(){const{label:label,title:title,...rest}=trigger;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],change_indexpattern_extends({fullWidth:true,color:"text",iconSide:"right",iconType:"arrowDown",title:title,onClick:()=>setPopoverIsOpen(!isPopoverOpen)},rest),external_kbnSharedDeps_React_default.a.createElement("strong",null,label))};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopover"],{button:createTrigger(),isOpen:isPopoverOpen,closePopover:()=>setPopoverIsOpen(false),display:"block",panelPaddingSize:"s"},external_kbnSharedDeps_React_default.a.createElement("div",{style:{width:320}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopoverTitle"],null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.indexPattern.changeIndexPatternTitle",{defaultMessage:"Change index pattern"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelectable"],change_indexpattern_extends({"data-test-subj":"indexPattern-switcher"},selectableProps,{searchable:true,singleSelection:"always",options:indexPatternRefs.map(({title:title,id:id})=>({label:title,key:id,value:id,checked:id===indexPatternId?"on":undefined})),onChange:choices=>{const choice=choices.find(({checked:checked})=>checked);onChangeIndexPattern(choice.value);setPopoverIsOpen(false)},searchProps:{compressed:true,...selectableProps?selectableProps.searchProps:undefined}}),(list,search)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,search,list))))}function getSwitchIndexPatternAppState(currentIndexPattern,nextIndexPattern,currentColumns,currentSort,modifyColumns=true,sortDirection="desc"){const nextColumns=modifyColumns?currentColumns.filter(column=>nextIndexPattern.fields.getByName(column)||!currentIndexPattern.fields.getByName(column)):currentColumns;const columns=nextColumns.length?nextColumns:[];const nextSort=Object(doc_table["b"])(currentSort,nextIndexPattern).filter(value=>nextIndexPattern.timeFieldName||value[0]!==currentIndexPattern.timeFieldName);return{index:nextIndexPattern.id,columns:columns,sort:nextIndexPattern.timeFieldName&&!nextSort.length?[[nextIndexPattern.timeFieldName,sortDirection]]:nextSort}}function DiscoverIndexPattern({config:config,indexPatternList:indexPatternList,selectedIndexPattern:selectedIndexPattern,indexPatterns:indexPatterns,state:state,setAppState:setAppState}){const options=(indexPatternList||[]).map(entity=>({id:entity.id,title:entity.attributes.title}));const{id:selectedId,title:selectedTitle}=selectedIndexPattern||{};const setIndexPattern=Object(external_kbnSharedDeps_React_["useCallback"])(async id=>{const nextIndexPattern=await indexPatterns.get(id);if(nextIndexPattern&&selectedIndexPattern){const nextAppState=getSwitchIndexPatternAppState(selectedIndexPattern,nextIndexPattern,state.columns||[],state.sort||[],config.get(common["g"]),config.get(common["k"]));setAppState(nextAppState)}},[selectedIndexPattern,state,config,indexPatterns,setAppState]);const[selected,setSelected]=Object(external_kbnSharedDeps_React_["useState"])({id:selectedId,title:selectedTitle||""});Object(external_kbnSharedDeps_React_["useEffect"])(()=>{const{id:id,title:title}=selectedIndexPattern;setSelected({id:id,title:title})},[selectedIndexPattern]);if(!selectedId){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["I18nProvider"],null,external_kbnSharedDeps_React_default.a.createElement(ChangeIndexPattern,{trigger:{label:selected.title,title:selected.title,"data-test-subj":"indexPattern-switch-link"},indexPatternId:selected.id,indexPatternRefs:options,onChangeIndexPattern:id=>{const indexPattern=options.find(pattern=>pattern.id===id);if(indexPattern){setIndexPattern(id);setSelected(indexPattern)}}}))}var discover_field_search=__webpack_require__(206);function DiscoverFieldSearch({onChange:onChange,value:value,types:types,useNewFieldsApi:useNewFieldsApi}){const searchPlaceholder=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.searchPlaceHolder",{defaultMessage:"Search field names"});const aggregatableLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.filter.aggregatableLabel",{defaultMessage:"Aggregatable"});const searchableLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.filter.searchableLabel",{defaultMessage:"Searchable"});const typeLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.filter.typeLabel",{defaultMessage:"Type"});const typeOptions=types?types.map(type=>({value:type,text:type})):[{value:"any",text:"any"}];const[activeFiltersCount,setActiveFiltersCount]=Object(external_kbnSharedDeps_React_["useState"])(0);const[isPopoverOpen,setPopoverOpen]=Object(external_kbnSharedDeps_React_["useState"])(false);const[values,setValues]=Object(external_kbnSharedDeps_React_["useState"])({searchable:"any",aggregatable:"any",type:"any",missing:true});if(typeof value!=="string"){return null}const filterBtnAriaLabel=isPopoverOpen?external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.toggleFieldFilterButtonHideAriaLabel",{defaultMessage:"Hide field filter settings"}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.toggleFieldFilterButtonShowAriaLabel",{defaultMessage:"Show field filter settings"});const handleFilterButtonClicked=()=>{setPopoverOpen(!isPopoverOpen)};const applyFilterValue=(id,filterValue)=>{switch(filterValue){case"any":if(id!=="type"){onChange(id,undefined)}else{onChange(id,filterValue)}break;case"true":onChange(id,true);break;case"false":onChange(id,false);break;default:onChange(id,filterValue)}};const isFilterActive=(name,filterValue)=>name!=="missing"&&filterValue!=="any";const handleValueChange=(name,filterValue)=>{const previousValue=values[name];updateFilterCount(name,previousValue,filterValue);const updatedValues={...values};updatedValues[name]=filterValue;setValues(updatedValues);applyFilterValue(name,filterValue)};const updateFilterCount=(name,previousValue,currentValue)=>{const previouslyFilterActive=isFilterActive(name,previousValue);const filterActive=isFilterActive(name,currentValue);const diff=Number(filterActive)-Number(previouslyFilterActive);setActiveFiltersCount(activeFiltersCount+diff)};const handleMissingChange=e=>{const missingValue=e.target.checked;handleValueChange("missing",missingValue)};const buttonContent=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFilterButton"],{"aria-label":filterBtnAriaLabel,"data-test-subj":"toggleFieldFilterButton",iconType:"arrowDown",isSelected:activeFiltersCount>0,numFilters:0,hasActiveFilters:activeFiltersCount>0,numActiveFilters:activeFiltersCount,onClick:handleFilterButtonClicked},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.fieldChooser.fieldFilterButtonLabel",defaultMessage:"Filter by type"}));const select=(id,selectOptions,selectValue)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],{id:`${id}-select`,options:selectOptions,value:selectValue,onChange:e=>handleValueChange(id,e.target.value),"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.filter.fieldSelectorLabel",{defaultMessage:"Selection of {id} filter options",values:{id:id}}),"data-test-subj":`${id}Select`,compressed:true});const toggleButtons=id=>[{id:`${id}-any`,label:"any"},{id:`${id}-true`,label:"yes"},{id:`${id}-false`,label:"no"}];const buttonGroup=(id,legend)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonGroup"],{legend:legend,options:toggleButtons(id),idSelected:`${id}-${values[id]}`,onChange:optionId=>handleValueChange(id,optionId.replace(`${id}-`,"")),buttonSize:"compressed",isFullWidth:true,"data-test-subj":`${id}ButtonGroup`});const footer=()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopoverFooter"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSwitch"],{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.filter.hideMissingFieldsLabel",{defaultMessage:"Hide missing fields"}),checked:values.missing,onChange:handleMissingChange,"data-test-subj":"missingSwitch"}));const selectionPanel=external_kbnSharedDeps_React_default.a.createElement("div",{className:"dscFieldSearch__formWrapper"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiForm"],{"data-test-subj":"filterSelectionPanel"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{fullWidth:true,label:aggregatableLabel,display:"columnCompressed"},buttonGroup("aggregatable",aggregatableLabel)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{fullWidth:true,label:searchableLabel,display:"columnCompressed"},buttonGroup("searchable",searchableLabel)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{fullWidth:true,label:typeLabel,display:"columnCompressed"},select("type",typeOptions,values.type))));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{responsive:false,gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldSearch"],{"aria-label":searchPlaceholder,"data-test-subj":"fieldFilterSearchInput",fullWidth:true,onChange:event=>onChange("name",event.currentTarget.value),placeholder:searchPlaceholder,value:value}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"xs"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiOutsideClickDetector"],{onOutsideClick:()=>{},isDisabled:!isPopoverOpen},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFilterGroup"],{className:"dscFieldSearch__filterWrapper"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopover"],{id:"dataPanelTypeFilter",panelClassName:"euiFilterGroup__popoverPanel",panelPaddingSize:"none",anchorPosition:"rightUp",display:"block",isOpen:isPopoverOpen,closePopover:()=>{setPopoverOpen(false)},button:buttonContent},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopoverTitle"],null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.filter.filterByTypeLabel",{defaultMessage:"Filter by type"})),selectionPanel,footer()))))}function getDefaultFieldFilter(){return{missing:true,type:"any",name:"",aggregatable:null,searchable:null}}function setFieldFilterProp(state,name,value){const newState={...state};if(name==="missing"){newState.missing=Boolean(value)}else if(name==="aggregatable"){newState.aggregatable=typeof value!=="boolean"?null:value}else if(name==="searchable"){newState.searchable=typeof value!=="boolean"?null:value}else if(name==="name"){newState.name=String(value)}else if(name==="type"){newState.type=String(value)}return newState}function isFieldFiltered(field,filterState,fieldCounts){const matchFilter=filterState.type==="any"||field.type===filterState.type;const isAggregatable=filterState.aggregatable===null||field.aggregatable===filterState.aggregatable;const isSearchable=filterState.searchable===null||field.searchable===filterState.searchable;const scriptedOrMissing=!filterState.missing||field.type==="_source"||field.type==="unknown_selected"||field.scripted||fieldCounts[field.name]>0;const needle=filterState.name?filterState.name.toLowerCase():"";const haystack=`${field.name}${field.displayName||""}`.toLowerCase();const matchName=!filterState.name||haystack.indexOf(needle)!==-1;return matchFilter&&isAggregatable&&isSearchable&&scriptedOrMissing&&matchName}function groupFields(fields,columns,popularLimit,fieldCounts,fieldFilterState,useNewFieldsApi,showUnmappedFields=true){const result={selected:[],popular:[],unpopular:[]};if(!Array.isArray(fields)||!Array.isArray(columns)||typeof fieldCounts!=="object"){return result}const popular=fields.filter(field=>!columns.includes(field.name)&&field.count).sort((a,b)=>(b.count||0)-(a.count||0)).map(field=>field.name).slice(0,popularLimit);const compareFn=(a,b)=>{if(!a.displayName){return 0}return a.displayName.localeCompare(b.displayName||"")};const fieldsSorted=fields.sort(compareFn);for(const field of fieldsSorted){var _field$spec,_field$spec$subType,_field$spec$subType$m;if(!isFieldFiltered(field,fieldFilterState,fieldCounts)){continue}const isSubfield=useNewFieldsApi&&((_field$spec=field.spec)===null||_field$spec===void 0?void 0:(_field$spec$subType=_field$spec.subType)===null||_field$spec$subType===void 0?void 0:(_field$spec$subType$m=_field$spec$subType.multi)===null||_field$spec$subType$m===void 0?void 0:_field$spec$subType$m.parent);if(columns.includes(field.name)){result.selected.push(field)}else if(popular.includes(field.name)&&field.type!=="_source"){if(!isSubfield){result.popular.push(field)}}else if(field.type!=="_source"){if(useNewFieldsApi&&(field.type!=="unknown"||showUnmappedFields)&&!isSubfield){result.unpopular.push(field)}else if(!useNewFieldsApi){result.unpopular.push(field)}}}for(const column of columns){const tmpField={name:column,displayName:column,type:"unknown_selected"};if(!result.selected.find(field=>field.name===column)&&isFieldFiltered(tmpField,fieldFilterState,fieldCounts)){result.selected.push(tmpField)}}result.selected.sort((a,b)=>columns.indexOf(a.name)-columns.indexOf(b.name));return result}function getFieldValues(hits,field,indexPattern){const name=field.name;const flattenHit=indexPattern.flattenHit;return external_kbnSharedDeps_Lodash_default.a.map(hits,(function(hit){return flattenHit(hit)[name]}))}function getFieldValueCounts(params){params=external_kbnSharedDeps_Lodash_default.a.defaults(params,{count:5,grouped:false});if(params.field.type==="geo_point"||params.field.type==="geo_shape"||params.field.type==="attachment"){return{error:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.fieldCalculator.analysisIsNotAvailableForGeoFieldsErrorMessage",{defaultMessage:"Analysis is not available for geo fields."})}}const allValues=getFieldValues(params.hits,params.field,params.indexPattern);let counts;const missing=_countMissing(allValues);try{const groups=_groupValues(allValues,params);counts=external_kbnSharedDeps_Lodash_default.a.map(external_kbnSharedDeps_Lodash_default.a.sortBy(groups,"count").reverse().slice(0,params.count),(function(bucket){return{value:bucket.value,count:bucket.count,percent:(bucket.count/(params.hits.length-missing)*100).toFixed(1)}}));if(params.hits.length-missing===0){return{error:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.fieldCalculator.fieldIsNotPresentInDocumentsErrorMessage",{defaultMessage:"This field is present in your Elasticsearch mapping but not in the {hitsLength} documents shown in the doc table. You may still be able to visualize or search on it.",values:{hitsLength:params.hits.length}})}}return{total:params.hits.length,exists:params.hits.length-missing,missing:missing,buckets:counts}}catch(e){return{error:e.message}}}function _countMissing(array){return array.length-external_kbnSharedDeps_Lodash_default.a.without(array,undefined,null).length}function _groupValues(allValues,params){const groups={};let k;allValues.forEach((function(value){if(external_kbnSharedDeps_Lodash_default.a.isObject(value)&&!Array.isArray(value)){throw new Error(external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.fieldCalculator.analysisIsNotAvailableForObjectFieldsErrorMessage",{defaultMessage:"Analysis is not available for object fields."}))}if(Array.isArray(value)&&!params.grouped){k=value}else{k=value==null?undefined:[value]}external_kbnSharedDeps_Lodash_default.a.each(k,(function(key){if(groups.hasOwnProperty(key)){groups[key].count++}else{groups[key]={value:params.grouped?value:key,count:1}}}))}));return groups}const fieldCalculator={_groupValues:_groupValues,_countMissing:_countMissing,getFieldValues:getFieldValues,getFieldValueCounts:getFieldValueCounts};function get_details_getDetails(field,hits,columns,indexPattern){if(!indexPattern){return{}}const details={...fieldCalculator.getFieldValueCounts({hits:hits,field:field,indexPattern:indexPattern,count:5,grouped:false}),columns:columns};if(details.buckets){for(const bucket of details.buckets){bucket.display=indexPattern.getFormatterForField(field).convert(bucket.value)}}return details}var nested_fields=__webpack_require__(26);function getIndexPatternFieldList(indexPattern,fieldCounts){if(!indexPattern||!fieldCounts)return[];const fieldNamesInDocs=Object.keys(fieldCounts);const fieldNamesInIndexPattern=indexPattern.fields.getAll().map(fld=>fld.name);const unknownFields=[];Object(external_kbnSharedDeps_Lodash_["difference"])(fieldNamesInDocs,fieldNamesInIndexPattern).forEach(unknownFieldName=>{if(Object(nested_fields["a"])(unknownFieldName,indexPattern)){unknownFields.push({displayName:String(unknownFieldName),name:String(unknownFieldName),type:"nested"})}else{unknownFields.push({displayName:String(unknownFieldName),name:String(unknownFieldName),type:"unknown"})}});return[...indexPattern.fields.getAll(),...unknownFields]}function DiscoverSidebar({alwaysShowActionButtons:alwaysShowActionButtons=false,columns:columns,config:config,fieldCounts:fieldCounts,fieldFilter:fieldFilter,hits:hits,indexPatternList:indexPatternList,indexPatterns:indexPatterns,onAddField:onAddField,onAddFilter:onAddFilter,onRemoveField:onRemoveField,selectedIndexPattern:selectedIndexPattern,services:services,setAppState:setAppState,setFieldFilter:setFieldFilter,state:state,trackUiMetric:trackUiMetric,useNewFieldsApi:useNewFieldsApi=false,useFlyout:useFlyout=false,unmappedFieldsConfig:unmappedFieldsConfig}){const[fields,setFields]=Object(external_kbnSharedDeps_React_["useState"])(null);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{const newFields=getIndexPatternFieldList(selectedIndexPattern,fieldCounts);setFields(newFields)},[selectedIndexPattern,fieldCounts,hits]);const onChangeFieldSearch=Object(external_kbnSharedDeps_React_["useCallback"])((field,value)=>{const newState=setFieldFilterProp(fieldFilter,field,value);setFieldFilter(newState)},[fieldFilter,setFieldFilter]);const getDetailsByField=Object(external_kbnSharedDeps_React_["useCallback"])(ipField=>get_details_getDetails(ipField,hits,columns,selectedIndexPattern),[hits,columns,selectedIndexPattern]);const popularLimit=services.uiSettings.get(common["f"]);const{selected:selectedFields,popular:popularFields,unpopular:unpopularFields}=Object(external_kbnSharedDeps_React_["useMemo"])(()=>groupFields(fields,columns,popularLimit,fieldCounts,fieldFilter,useNewFieldsApi,!!(unmappedFieldsConfig!==null&&unmappedFieldsConfig!==void 0&&unmappedFieldsConfig.showUnmappedFields)),[fields,columns,popularLimit,fieldCounts,fieldFilter,useNewFieldsApi,unmappedFieldsConfig===null||unmappedFieldsConfig===void 0?void 0:unmappedFieldsConfig.showUnmappedFields]);const fieldTypes=Object(external_kbnSharedDeps_React_["useMemo"])(()=>{const result=["any"];if(Array.isArray(fields)){for(const field of fields){if(result.indexOf(field.type)===-1){result.push(field.type)}}}return result},[fields]);const multiFields=Object(external_kbnSharedDeps_React_["useMemo"])(()=>{if(!useNewFieldsApi||!fields){return undefined}const map=new Map;fields.forEach(field=>{var _field$spec,_field$spec$subType,_field$spec$subType$m,_map$get;const parent=(_field$spec=field.spec)===null||_field$spec===void 0?void 0:(_field$spec$subType=_field$spec.subType)===null||_field$spec$subType===void 0?void 0:(_field$spec$subType$m=_field$spec$subType.multi)===null||_field$spec$subType$m===void 0?void 0:_field$spec$subType$m.parent;if(!parent){return}const multiField={field:field,isSelected:selectedFields.includes(field)};const value=(_map$get=map.get(parent))!==null&&_map$get!==void 0?_map$get:[];value.push(multiField);map.set(parent,value)});return map},[fields,useNewFieldsApi,selectedFields]);if(!selectedIndexPattern||!fields){return null}const filterChanged=Object(external_kbnSharedDeps_Lodash_["isEqual"])(fieldFilter,getDefaultFieldFilter());if(useFlyout){return external_kbnSharedDeps_React_default.a.createElement("section",{"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.filter.indexAndFieldsSectionAriaLabel",{defaultMessage:"Index and fields"})},external_kbnSharedDeps_React_default.a.createElement(DiscoverIndexPattern,{config:config,selectedIndexPattern:selectedIndexPattern,indexPatternList:Object(external_kbnSharedDeps_Lodash_["sortBy"])(indexPatternList,o=>o.attributes.title),indexPatterns:indexPatterns,state:state,setAppState:setAppState}))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageSideBar"],{className:"dscSidebar","aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.filter.indexAndFieldsSectionAriaLabel",{defaultMessage:"Index and fields"}),id:"discover-sidebar","data-test-subj":"discover-sidebar"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{className:"dscSidebar__group",direction:"column",alignItems:"stretch",gutterSize:"s",responsive:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(DiscoverIndexPattern,{config:config,selectedIndexPattern:selectedIndexPattern,indexPatternList:Object(external_kbnSharedDeps_Lodash_["sortBy"])(indexPatternList,o=>o.attributes.title),indexPatterns:indexPatterns,state:state,setAppState:setAppState})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement("form",null,external_kbnSharedDeps_React_default.a.createElement(DiscoverFieldSearch,{onChange:onChangeFieldSearch,value:fieldFilter.name,types:fieldTypes,useNewFieldsApi:useNewFieldsApi}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{className:"eui-yScroll"},external_kbnSharedDeps_React_default.a.createElement("div",null,fields.length>0&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,selectedFields&&selectedFields.length>0&&selectedFields[0].displayName!=="_source"?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiAccordion"],{id:"dscSelectedFields",initialIsOpen:true,buttonContent:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"xs",id:"selected_fields"},external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.fieldChooser.filter.selectedFieldsTitle",defaultMessage:"Selected fields"}))),extraAction:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiNotificationBadge"],{color:filterChanged?"subdued":"accent",size:"m"},selectedFields.length)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement("ul",{className:"dscFieldList","aria-labelledby":"selected_fields","data-test-subj":`fieldList-selected`},selectedFields.map(field=>external_kbnSharedDeps_React_default.a.createElement("li",{key:`field${field.name}`,"data-attr-field":field.name,className:"dscSidebar__item"},external_kbnSharedDeps_React_default.a.createElement(DiscoverField,{alwaysShowActionButton:alwaysShowActionButtons,field:field,indexPattern:selectedIndexPattern,onAddField:onAddField,onRemoveField:onRemoveField,onAddFilter:onAddFilter,getDetails:getDetailsByField,selected:true,trackUiMetric:trackUiMetric,multiFields:multiFields===null||multiFields===void 0?void 0:multiFields.get(field.name)}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"})," "):null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiAccordion"],{id:"dscAvailableFields",initialIsOpen:true,buttonContent:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"xs",id:"available_fields"},external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.fieldChooser.filter.availableFieldsTitle",defaultMessage:"Available fields"}))),extraAction:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiNotificationBadge"],{size:"m",color:filterChanged?"subdued":"accent"},popularFields.length+unpopularFields.length)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),popularFields.length>0&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xxxs",className:"dscFieldListHeader"},external_kbnSharedDeps_React_default.a.createElement("h4",{id:"available_fields_popular"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.fieldChooser.filter.popularTitle",defaultMessage:"Popular"}))),external_kbnSharedDeps_React_default.a.createElement("ul",{className:"dscFieldList dscFieldList--popular","aria-labelledby":"available_fields available_fields_popular","data-test-subj":`fieldList-popular`},popularFields.map(field=>external_kbnSharedDeps_React_default.a.createElement("li",{key:`field${field.name}`,"data-attr-field":field.name,className:"dscSidebar__item"},external_kbnSharedDeps_React_default.a.createElement(DiscoverField,{alwaysShowActionButton:alwaysShowActionButtons,field:field,indexPattern:selectedIndexPattern,onAddField:onAddField,onRemoveField:onRemoveField,onAddFilter:onAddFilter,getDetails:getDetailsByField,trackUiMetric:trackUiMetric,multiFields:multiFields===null||multiFields===void 0?void 0:multiFields.get(field.name)}))))),external_kbnSharedDeps_React_default.a.createElement("ul",{className:"dscFieldList dscFieldList--unpopular","aria-labelledby":"available_fields","data-test-subj":`fieldList-unpopular`},unpopularFields.map(field=>external_kbnSharedDeps_React_default.a.createElement("li",{key:`field${field.name}`,"data-attr-field":field.name,className:"dscSidebar__item"},external_kbnSharedDeps_React_default.a.createElement(DiscoverField,{alwaysShowActionButton:alwaysShowActionButtons,field:field,indexPattern:selectedIndexPattern,onAddField:onAddField,onRemoveField:onRemoveField,onAddFilter:onAddFilter,getDetails:getDetailsByField,trackUiMetric:trackUiMetric,multiFields:multiFields===null||multiFields===void 0?void 0:multiFields.get(field.name)}))))))))))}function discover_sidebar_responsive_extends(){discover_sidebar_responsive_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return discover_sidebar_responsive_extends.apply(this,arguments)}function DiscoverSidebarResponsive(props){const[fieldFilter,setFieldFilter]=Object(external_kbnSharedDeps_React_["useState"])(getDefaultFieldFilter());const[isFlyoutVisible,setIsFlyoutVisible]=Object(external_kbnSharedDeps_React_["useState"])(false);if(!props.selectedIndexPattern){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,props.isClosed?null:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHideFor"],{sizes:["xs","s"]},external_kbnSharedDeps_React_default.a.createElement(DiscoverSidebar,discover_sidebar_responsive_extends({},props,{fieldFilter:fieldFilter,setFieldFilter:setFieldFilter}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiShowFor"],{sizes:["xs","s"]},external_kbnSharedDeps_React_default.a.createElement("div",{className:"dscSidebar__mobile"},external_kbnSharedDeps_React_default.a.createElement("section",{"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.filter.indexAndFieldsSectionAriaLabel",{defaultMessage:"Index and fields"})},external_kbnSharedDeps_React_default.a.createElement(DiscoverIndexPattern,{config:props.config,selectedIndexPattern:props.selectedIndexPattern,indexPatternList:Object(external_kbnSharedDeps_Lodash_["sortBy"])(props.indexPatternList,o=>o.attributes.title),indexPatterns:props.indexPatterns,state:props.state,setAppState:props.setAppState})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{contentProps:{className:"dscSidebar__mobileButton"},fullWidth:true,onClick:()=>setIsFlyoutVisible(true)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.fieldChooser.fieldsMobileButtonLabel",defaultMessage:"Fields"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],{className:"dscSidebar__mobileBadge",color:props.columns[0]==="_source"?"default":"accent"},props.columns[0]==="_source"?0:props.columns.length))),isFlyoutVisible&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPortal"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyout"],{size:"s",onClose:()=>setIsFlyoutVisible(false),"aria-labelledby":"flyoutTitle",ownFocus:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutHeader"],{hasBorder:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h2",{id:"flyoutTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{color:"text",onClick:()=>setIsFlyoutVisible(false)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{className:"eui-alignBaseline","aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldList.flyoutBackIcon",{defaultMessage:"Back"}),type:"arrowLeft"})," ",external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldList.flyoutHeading",{defaultMessage:"Field list"})))))),external_kbnSharedDeps_React_default.a.createElement("div",{className:"euiFlyoutBody"},external_kbnSharedDeps_React_default.a.createElement(DiscoverSidebar,discover_sidebar_responsive_extends({},props,{fieldFilter:fieldFilter,setFieldFilter:setFieldFilter,alwaysShowActionButtons:true})))))))}var popularize_field=__webpack_require__(67);var actions_columns=__webpack_require__(81);var savedObjects_public_=__webpack_require__(24);const SEARCH_OBJECT_TYPE="search";function OpenSearchPanel(props){const{core:{uiSettings:uiSettings,savedObjects:savedObjects},addBasePath:addBasePath}=Object(kibana_services["h"])();return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyout"],{ownFocus:true,onClose:props.onClose,"data-test-subj":"loadSearchForm"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutHeader"],{hasBorder:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"m"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.topNav.openSearchPanel.openSearchTitle",defaultMessage:"Open search"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],null,external_kbnSharedDeps_React_default.a.createElement(savedObjects_public_["SavedObjectFinderUi"],{noItemsMessage:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.topNav.openSearchPanel.noSearchesFoundDescription",defaultMessage:"No matching searches found."}),savedObjectMetaData:[{type:SEARCH_OBJECT_TYPE,getIconForSavedObject:()=>"discoverApp",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.savedSearch.savedObjectName",{defaultMessage:"Saved search"})}],onChoose:id=>{window.location.assign(props.makeUrl(id));props.onClose()},uiSettings:uiSettings,savedObjects:savedObjects})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutFooter"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexEnd"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{fill:true,onClick:props.onClose,href:addBasePath(`/app/management/kibana/objects?_a=${rison_default.a.encode({tab:SEARCH_OBJECT_TYPE})}`)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.topNav.openSearchPanel.manageSearchesButtonLabel",defaultMessage:"Manage searches"}))))))}let isOpen=false;function showOpenSearchPanel({makeUrl:makeUrl,I18nContext:I18nContext}){if(isOpen){return}isOpen=true;const container=document.createElement("div");const onClose=()=>{external_kbnSharedDeps_ReactDom_default.a.unmountComponentAtNode(container);document.body.removeChild(container);isOpen=false};document.body.appendChild(container);const element=external_kbnSharedDeps_React_default.a.createElement(I18nContext,null,external_kbnSharedDeps_React_default.a.createElement(OpenSearchPanel,{onClose:onClose,makeUrl:makeUrl}));external_kbnSharedDeps_ReactDom_default.a.render(element,container)}const getSharingDataFields=async(getFieldCounts,selectedFields,timeFieldName,hideTimeColumn)=>{if(selectedFields.length===0||selectedFields.length===1&&selectedFields[0]==="_source"){const fieldCounts=await getFieldCounts();return{searchFields:undefined,selectFields:Object.keys(fieldCounts).sort()}}const fields=timeFieldName&&!hideTimeColumn?[timeFieldName,...selectedFields]:selectedFields;return{searchFields:fields,selectFields:fields}};async function getSharingData(currentSearchSource,state,config,getFieldCounts){const searchSource=currentSearchSource.createCopy();const index=searchSource.getField("index");const{searchFields:searchFields,selectFields:selectFields}=await getSharingDataFields(getFieldCounts,state.columns||[],index.timeFieldName||"",config.get(common["e"]));searchSource.setField("fieldsFromSource",searchFields);searchSource.setField("sort",Object(doc_table["c"])(state.sort,index,config.get(common["k"])));searchSource.removeField("highlight");searchSource.removeField("highlightAll");searchSource.removeField("aggs");searchSource.removeField("size");const body=await searchSource.getSearchRequestBody();return{searchRequest:{index:index.title,body:body},fields:selectFields,metaFields:index.metaFields,conflictedTypesFields:index.fields.filter(f=>f.type==="conflict").map(f=>f.name),indexPatternId:index.id}}const showPublicUrlSwitch=anonymousUserCapabilities=>{if(!anonymousUserCapabilities.discover)return false;const discover=anonymousUserCapabilities.discover;return!!discover.show};var breadcrumbs=__webpack_require__(69);var update_search_source=__webpack_require__(87);async function persistSavedSearch(savedSearch,{indexPattern:indexPattern,onError:onError,onSuccess:onSuccess,services:services,saveOptions:saveOptions,state:state}){Object(update_search_source["a"])({persistentSearchSource:savedSearch.searchSource,indexPattern:indexPattern,services:services,sort:state.sort,columns:state.columns||[],useNewFieldsApi:false});savedSearch.columns=state.columns||[];savedSearch.sort=state.sort||[];if(state.grid){savedSearch.grid=state.grid}if(typeof state.hideChart!=="undefined"){savedSearch.hideChart=state.hideChart}try{const id=await savedSearch.save(saveOptions);onSuccess(id);return{id:id}}catch(saveError){onError(saveError,savedSearch);return{error:saveError}}}async function saveDataSource({indexPattern:indexPattern,navigateTo:navigateTo,savedSearch:savedSearch,saveOptions:saveOptions,services:services,state:state}){const prevSavedSearchId=savedSearch.id;function onSuccess(id){if(id){services.toastNotifications.addSuccess({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.notifications.savedSearchTitle",{defaultMessage:`Search '{savedSearchTitle}' was saved`,values:{savedSearchTitle:savedSearch.title}}),"data-test-subj":"saveSearchSuccess"});if(savedSearch.id!==prevSavedSearchId){navigateTo(`/view/${encodeURIComponent(savedSearch.id)}`)}else{state.resetAppState();services.chrome.docTitle.change(savedSearch.lastSavedTitle);Object(breadcrumbs["c"])(savedSearch,services.chrome)}}}function onError(error){services.toastNotifications.addDanger({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.notifications.notSavedSearchTitle",{defaultMessage:`Search '{savedSearchTitle}' was not saved.`,values:{savedSearchTitle:savedSearch.title}}),text:error.message})}return persistSavedSearch(savedSearch,{indexPattern:indexPattern,onError:onError,onSuccess:onSuccess,saveOptions:saveOptions,services:services,state:state.appStateContainer.getState()})}async function onSaveSearch({indexPattern:indexPattern,navigateTo:navigateTo,savedSearch:savedSearch,services:services,state:state}){const onSave=async({newTitle:newTitle,newCopyOnSave:newCopyOnSave,isTitleDuplicateConfirmed:isTitleDuplicateConfirmed,onTitleDuplicate:onTitleDuplicate})=>{const currentTitle=savedSearch.title;savedSearch.title=newTitle;savedSearch.copyOnSave=newCopyOnSave;const saveOptions={confirmOverwrite:false,isTitleDuplicateConfirmed:isTitleDuplicateConfirmed,onTitleDuplicate:onTitleDuplicate};const response=await saveDataSource({indexPattern:indexPattern,saveOptions:saveOptions,services:services,navigateTo:navigateTo,savedSearch:savedSearch,state:state});if(!response.id||response.error){savedSearch.title=currentTitle}else{state.resetInitialAppState()}return response};const saveModal=external_kbnSharedDeps_React_default.a.createElement(savedObjects_public_["SavedObjectSaveModal"],{onSave:onSave,onClose:()=>{},title:savedSearch.title,showCopyOnSave:!!savedSearch.id,objectType:"search",description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.localMenu.saveSaveSearchDescription",{defaultMessage:"Save your Discover search so you can use it in visualizations and dashboards"}),showDescription:false});Object(savedObjects_public_["showSaveModal"])(saveModal,services.core.i18n.Context)}const getTopNavLinks=({getFieldCounts:getFieldCounts,indexPattern:indexPattern,inspectorAdapters:inspectorAdapters,navigateTo:navigateTo,savedSearch:savedSearch,services:services,state:state,onOpenInspector:onOpenInspector,searchSource:searchSource})=>{const newSearch={id:"new",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.localMenu.localMenu.newSearchTitle",{defaultMessage:"New"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.localMenu.newSearchDescription",{defaultMessage:"New Search"}),run:()=>navigateTo("/"),testId:"discoverNewButton"};const saveSearch={id:"save",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.localMenu.saveTitle",{defaultMessage:"Save"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.localMenu.saveSearchDescription",{defaultMessage:"Save Search"}),testId:"discoverSaveButton",run:()=>onSaveSearch({savedSearch:savedSearch,services:services,indexPattern:indexPattern,navigateTo:navigateTo,state:state})};const openSearch={id:"open",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.localMenu.openTitle",{defaultMessage:"Open"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.localMenu.openSavedSearchDescription",{defaultMessage:"Open Saved Search"}),testId:"discoverOpenButton",run:()=>showOpenSearchPanel({makeUrl:searchId=>`#/view/${encodeURIComponent(searchId)}`,I18nContext:services.core.i18n.Context})};const shareSearch={id:"share",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.localMenu.shareTitle",{defaultMessage:"Share"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.localMenu.shareSearchDescription",{defaultMessage:"Share Search"}),testId:"shareTopNavButton",run:async anchorElement=>{if(!services.share){return}const sharingData=await getSharingData(searchSource,state.appStateContainer.getState(),services.uiSettings,getFieldCounts);services.share.toggleShareContextMenu({anchorElement:anchorElement,allowEmbed:false,allowShortUrl:!!services.capabilities.discover.createShortUrl,shareableUrl:Object(public_["unhashUrl"])(window.location.href),objectId:savedSearch.id,objectType:"search",sharingData:{...sharingData,title:savedSearch.title},isDirty:!savedSearch.id||state.isAppStateDirty(),showPublicUrlSwitch:showPublicUrlSwitch})}};const inspectSearch={id:"inspect",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.localMenu.inspectTitle",{defaultMessage:"Inspect"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.localMenu.openInspectorForSearchDescription",{defaultMessage:"Open Inspector for search"}),testId:"openInspectorButton",run:()=>{onOpenInspector();services.inspector.open(inspectorAdapters,{title:savedSearch.title})}};return[newSearch,...services.capabilities.discover.save?[saveSearch]:[],openSearch,shareSearch,inspectSearch]};const DiscoverTopNav=({indexPattern:indexPattern,opts:opts,onOpenInspector:onOpenInspector,query:query,savedQuery:savedQuery,updateQuery:updateQuery,searchSource:searchSource})=>{const showDatePicker=Object(external_kbnSharedDeps_React_["useMemo"])(()=>indexPattern.isTimeBased(),[indexPattern]);const{TopNavMenu:TopNavMenu}=opts.services.navigation.ui;const topNavMenu=Object(external_kbnSharedDeps_React_["useMemo"])(()=>getTopNavLinks({getFieldCounts:opts.getFieldCounts,indexPattern:indexPattern,inspectorAdapters:opts.inspectorAdapters,navigateTo:opts.navigateTo,savedSearch:opts.savedSearch,services:opts.services,state:opts.stateContainer,onOpenInspector:onOpenInspector,searchSource:searchSource}),[indexPattern,opts,onOpenInspector,searchSource]);const updateSavedQueryId=newSavedQueryId=>{const{appStateContainer:appStateContainer,setAppState:setAppState}=opts.stateContainer;if(newSavedQueryId){setAppState({savedQuery:newSavedQueryId})}else{const newState={...appStateContainer.getState()};delete newState.savedQuery;appStateContainer.set(newState)}};return external_kbnSharedDeps_React_default.a.createElement(TopNavMenu,{appName:"discover",config:topNavMenu,indexPatterns:[indexPattern],onQuerySubmit:updateQuery,onSavedQueryIdChange:updateSavedQueryId,query:query,setMenuMountPoint:opts.setHeaderActionMenu,savedQueryId:savedQuery,screenTitle:opts.savedSearch.title,showDatePicker:showDatePicker,showSaveQuery:!!opts.services.capabilities.discover.saveQuery,showSearchBar:true,useDefaultBehaviors:true})};const DocTableLegacyMemoized=external_kbnSharedDeps_React_default.a.memo(DocTableLegacy);const SidebarMemoized=external_kbnSharedDeps_React_default.a.memo(DiscoverSidebarResponsive);const discover_DataGridMemoized=external_kbnSharedDeps_React_default.a.memo(DiscoverGrid);const TopNavMemoized=external_kbnSharedDeps_React_default.a.memo(DiscoverTopNav);function Discover({fetch:fetch,fetchCounter:fetchCounter,fetchError:fetchError,fieldCounts:fieldCounts,histogramData:histogramData,hits:hits,indexPattern:indexPattern,minimumVisibleRows:minimumVisibleRows,onSkipBottomButtonClick:onSkipBottomButtonClick,opts:opts,resetQuery:resetQuery,resultState:resultState,rows:rows,searchSource:searchSource,state:state,timeRange:timeRange,unmappedFieldsConfig:unmappedFieldsConfig}){var _opts$chartAggConfigs,_bucketAggConfig$buck,_state$query;const[expandedDoc,setExpandedDoc]=Object(external_kbnSharedDeps_React_["useState"])(undefined);const scrollableDesktop=Object(external_kbnSharedDeps_React_["useRef"])(null);const collapseIcon=Object(external_kbnSharedDeps_React_["useRef"])(null);const isMobile=()=>collapseIcon&&!collapseIcon.current;const toggleHideChart=Object(external_kbnSharedDeps_React_["useCallback"])(()=>{const newState={...state,hideChart:!state.hideChart};opts.stateContainer.setAppState(newState)},[state,opts]);const hideChart=Object(external_kbnSharedDeps_React_["useMemo"])(()=>state.hideChart,[state]);const{savedSearch:savedSearch,indexPatternList:indexPatternList,config:config,services:services,data:data,setAppState:setAppState}=opts;const{trackUiMetric:trackUiMetric,capabilities:capabilities,indexPatterns:indexPatterns}=services;const[isSidebarClosed,setIsSidebarClosed]=Object(external_kbnSharedDeps_React_["useState"])(false);const bucketAggConfig=(_opts$chartAggConfigs=opts.chartAggConfigs)===null||_opts$chartAggConfigs===void 0?void 0:_opts$chartAggConfigs.aggs[1];const bucketInterval=bucketAggConfig&&data_public_["search"].aggs.isDateHistogramBucketAggConfig(bucketAggConfig)?(_bucketAggConfig$buck=bucketAggConfig.buckets)===null||_bucketAggConfig$buck===void 0?void 0:_bucketAggConfig$buck.getInterval():undefined;const contentCentered=resultState==="uninitialized";const isLegacy=services.uiSettings.get("doc_table:legacy");const useNewFieldsApi=!services.uiSettings.get(common["i"]);const updateQuery=Object(external_kbnSharedDeps_React_["useCallback"])((_payload,isUpdate)=>{if(isUpdate===false){opts.searchSessionManager.removeSearchSessionIdFromURL({replace:false});opts.refetch$.next()}},[opts]);const{onAddColumn:onAddColumn,onRemoveColumn:onRemoveColumn,onMoveColumn:onMoveColumn,onSetColumns:onSetColumns}=Object(external_kbnSharedDeps_React_["useMemo"])(()=>Object(actions_columns["b"])({capabilities:capabilities,config:config,indexPattern:indexPattern,indexPatterns:indexPatterns,setAppState:setAppState,state:state,useNewFieldsApi:useNewFieldsApi}),[capabilities,config,indexPattern,indexPatterns,setAppState,state,useNewFieldsApi]);const onOpenInspector=Object(external_kbnSharedDeps_React_["useCallback"])(()=>{setExpandedDoc(undefined)},[setExpandedDoc]);const onSort=Object(external_kbnSharedDeps_React_["useCallback"])(sort=>{setAppState({sort:sort})},[setAppState]);const onAddFilter=Object(external_kbnSharedDeps_React_["useCallback"])((field,values,operation)=>{const fieldName=typeof field==="string"?field:field.name;Object(popularize_field["a"])(indexPattern,fieldName,indexPatterns);const newFilters=data_public_["esFilters"].generateFilters(opts.filterManager,field,values,operation,String(indexPattern.id));if(trackUiMetric){trackUiMetric(METRIC_TYPE.CLICK,"filter_added")}return opts.filterManager.addFilters(newFilters)},[opts,indexPattern,indexPatterns,trackUiMetric]);const onChangeInterval=Object(external_kbnSharedDeps_React_["useCallback"])(interval=>{if(interval){setAppState({interval:interval})}},[setAppState]);const timefilterUpdateHandler=Object(external_kbnSharedDeps_React_["useCallback"])(ranges=>{data.query.timefilter.timefilter.setTime({from:external_kbnSharedDeps_Moment_default()(ranges.from).toISOString(),to:external_kbnSharedDeps_Moment_default()(ranges.to).toISOString(),mode:"absolute"})},[data]);const onBackToTop=Object(external_kbnSharedDeps_React_["useCallback"])(()=>{if(scrollableDesktop&&scrollableDesktop.current){scrollableDesktop.current.focus()}if(!isMobile()&&scrollableDesktop.current){scrollableDesktop.current.scrollTo(0,0)}else if(window){window.scrollTo(0,0)}},[scrollableDesktop]);const onResize=Object(external_kbnSharedDeps_React_["useCallback"])(colSettings=>{const grid={...state.grid}||{};const newColumns={...grid.columns}||{};newColumns[colSettings.columnId]={width:colSettings.width};const newGrid={...grid,columns:newColumns};opts.setAppState({grid:newGrid})},[opts,state]);const columns=Object(external_kbnSharedDeps_React_["useMemo"])(()=>{if(!state.columns){return[]}return useNewFieldsApi?state.columns.filter(col=>col!=="_source"):state.columns},[state,useNewFieldsApi]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["I18nProvider"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],{className:"dscPage","data-fetch-counter":fetchCounter},external_kbnSharedDeps_React_default.a.createElement(TopNavMemoized,{indexPattern:indexPattern,opts:opts,onOpenInspector:onOpenInspector,query:state.query,savedQuery:state.savedQuery,updateQuery:updateQuery,searchSource:searchSource}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],{className:"dscPageBody","aria-describedby":"savedSearchTitle"},external_kbnSharedDeps_React_default.a.createElement("h1",{id:"savedSearchTitle",className:"euiScreenReaderOnly"},savedSearch.title),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{className:"dscPageBody__contents",gutterSize:"none"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(SidebarMemoized,{config:config,columns:columns,fieldCounts:fieldCounts,hits:rows,indexPatternList:indexPatternList,indexPatterns:indexPatterns,onAddField:onAddColumn,onAddFilter:onAddFilter,onRemoveField:onRemoveColumn,selectedIndexPattern:searchSource&&searchSource.getField("index"),services:services,setAppState:setAppState,state:state,isClosed:isSidebarClosed,trackUiMetric:trackUiMetric,unmappedFieldsConfig:unmappedFieldsConfig,useNewFieldsApi:useNewFieldsApi})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHideFor"],{sizes:["xs","s"]},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonIcon"],{iconType:isSidebarClosed?"menuRight":"menuLeft",iconSize:"m",size:"s",onClick:()=>setIsSidebarClosed(!isSidebarClosed),"data-test-subj":"collapseSideBarButton","aria-controls":"discover-sidebar","aria-expanded":isSidebarClosed?"false":"true","aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.toggleSidebarAriaLabel",{defaultMessage:"Toggle sidebar"}),buttonRef:collapseIcon}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{className:"dscPageContent__wrapper"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],{verticalPosition:contentCentered?"center":undefined,horizontalPosition:contentCentered?"center":undefined,paddingSize:"none",className:classnames_default()("dscPageContent",{"dscPageContent--centered":contentCentered})},resultState==="none"&&external_kbnSharedDeps_React_default.a.createElement(DiscoverNoResults,{timeFieldName:opts.timefield,queryLanguage:((_state$query=state.query)===null||_state$query===void 0?void 0:_state$query.language)||"",data:opts.data,error:fetchError}),resultState==="uninitialized"&&external_kbnSharedDeps_React_default.a.createElement(directives["b"],{onRefresh:fetch}),resultState==="loading"&&external_kbnSharedDeps_React_default.a.createElement(LoadingSpinner,null),resultState==="ready"&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{className:"dscPageContent__inner",direction:"column",alignItems:"stretch",gutterSize:"none",responsive:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,className:"dscResultCount"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center",justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,className:"dscResuntCount__title eui-textTruncate eui-textNoWrap"},external_kbnSharedDeps_React_default.a.createElement(HitsCounter,{hits:hits>0?hits:0,showResetButton:!!(savedSearch&&savedSearch.id),onResetQuery:resetQuery})),!hideChart&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{className:"dscResultCount__actions"},external_kbnSharedDeps_React_default.a.createElement(TimechartHeader,{dateFormat:opts.config.get("dateFormat"),timeRange:timeRange,options:data_public_["search"].aggs.intervalOptions,onChangeInterval:onChangeInterval,stateInterval:state.interval||"",bucketInterval:bucketInterval})),opts.timefield&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{className:"dscResultCount__toggle",grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{size:"xs",iconType:!hideChart?"eyeClosed":"eye",onClick:()=>{toggleHideChart()},"data-test-subj":"discoverChartToggle"},!hideChart?external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.hideChart",{defaultMessage:"Hide chart"}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.showChart",{defaultMessage:"Show chart"})))),isLegacy&&external_kbnSharedDeps_React_default.a.createElement(SkipBottomButton,{onClick:onSkipBottomButtonClick})),!hideChart&&opts.timefield&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement("section",{"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.histogramOfFoundDocumentsAriaLabel",{defaultMessage:"Histogram of found documents"}),className:"dscTimechart"},opts.chartAggConfigs&&histogramData&&rows.length!==0&&external_kbnSharedDeps_React_default.a.createElement("div",{className:isLegacy?"dscHistogram":"dscHistogramGrid","data-test-subj":"discoverChart"},external_kbnSharedDeps_React_default.a.createElement(directives["a"],{chartData:histogramData,timefilterUpdateHandler:timefilterUpdateHandler}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"none"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{className:"eui-yScroll"},external_kbnSharedDeps_React_default.a.createElement("section",{className:"dscTable eui-yScroll","aria-labelledby":"documentsAriaLabel",ref:scrollableDesktop,tabIndex:-1},external_kbnSharedDeps_React_default.a.createElement("h2",{className:"euiScreenReaderOnly",id:"documentsAriaLabel"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.documentsAriaLabel",defaultMessage:"Documents"})),isLegacy&&rows&&rows.length&&external_kbnSharedDeps_React_default.a.createElement(DocTableLegacyMemoized,{columns:columns,indexPattern:indexPattern,minimumVisibleRows:minimumVisibleRows,rows:rows,sort:state.sort||[],searchDescription:opts.savedSearch.description,searchTitle:opts.savedSearch.lastSavedTitle,onAddColumn:onAddColumn,onBackToTop:onBackToTop,onFilter:onAddFilter,onMoveColumn:onMoveColumn,onRemoveColumn:onRemoveColumn,onSort:onSort,sampleSize:opts.sampleSize,useNewFieldsApi:useNewFieldsApi}),!isLegacy&&rows&&rows.length&&external_kbnSharedDeps_React_default.a.createElement("div",{className:"dscDiscoverGrid"},external_kbnSharedDeps_React_default.a.createElement(discover_DataGridMemoized,{ariaLabelledBy:"documentsAriaLabel",columns:columns,expandedDoc:expandedDoc,indexPattern:indexPattern,rows:rows,sort:state.sort||[],sampleSize:opts.sampleSize,searchDescription:opts.savedSearch.description,searchTitle:opts.savedSearch.lastSavedTitle,setExpandedDoc:setExpandedDoc,showTimeCol:!config.get("doc_table:hideTimeColumn",false)&&!!indexPattern.timeFieldName,services:services,settings:state.grid,onAddColumn:onAddColumn,onFilter:onAddFilter,onRemoveColumn:onRemoveColumn,onSetColumns:onSetColumns,onSort:onSort,onResize:onResize,useNewFieldsApi:useNewFieldsApi})))))))))))}function createDiscoverDirective(reactDirective){return reactDirective(Discover,[["fetch",{watchDepth:"reference"}],["fetchCounter",{watchDepth:"reference"}],["fetchError",{watchDepth:"reference"}],["fieldCounts",{watchDepth:"reference"}],["histogramData",{watchDepth:"reference"}],["hits",{watchDepth:"reference"}],["indexPattern",{watchDepth:"reference"}],["minimumVisibleRows",{watchDepth:"reference"}],["onSkipBottomButtonClick",{watchDepth:"reference"}],["opts",{watchDepth:"reference"}],["resetQuery",{watchDepth:"reference"}],["resultState",{watchDepth:"reference"}],["rows",{watchDepth:"reference"}],["savedSearch",{watchDepth:"reference"}],["searchSource",{watchDepth:"reference"}],["showSaveQuery",{watchDepth:"reference"}],["state",{watchDepth:"reference"}],["timeRange",{watchDepth:"reference"}],["topNavMenu",{watchDepth:"reference"}],["updateQuery",{watchDepth:"reference"}],["updateSavedQueryId",{watchDepth:"reference"}],["unmappedFieldsConfig",{watchDepth:"value"}]])}function getInnerAngularModule(name,core,deps,context){Object(kibanaLegacy_public_["initAngularBootstrap"])();const module=initializeInnerAngularModule(name,core,deps.navigation,deps.data);Object(kibanaLegacy_public_["configureAppAngularModule"])(module,{core:core,env:context.env},true,kibana_services["g"]);return module}function getInnerAngularModuleEmbeddable(name,core,deps){return initializeInnerAngularModule(name,core,deps.navigation,deps.data,true)}let initialized=false;function initializeInnerAngularModule(name="app/discover",core,navigation,data,embeddable=false){if(!initialized){createLocalI18nModule();createLocalPrivateModule();createLocalPromiseModule();createLocalStorageModule();createPagerFactoryModule();createDocTableModule();initialized=true}if(embeddable){return external_kbnSharedDeps_Angular_default.a.module(name,["ngSanitize","react","ui.bootstrap","discoverI18n","discoverPrivate","discoverDocTable","discoverPagerFactory","discoverPromise"]).config(kibanaLegacy_public_["watchMultiDecorator"]).directive("icon",reactDirective=>reactDirective(external_kbnSharedDeps_ElasticEui_["EuiIcon"])).directive("renderComplete",createRenderCompleteDirective)}return external_kbnSharedDeps_Angular_default.a.module(name,["ngSanitize","ngRoute","react","ui.bootstrap","discoverI18n","discoverPrivate","discoverPromise","discoverLocalStorageProvider","discoverDocTable","discoverPagerFactory"]).config(kibanaLegacy_public_["watchMultiDecorator"]).run(kibanaLegacy_public_["registerListenEventListener"]).directive("renderComplete",createRenderCompleteDirective).directive("discover",createDiscoverDirective)}function createLocalPromiseModule(){external_kbnSharedDeps_Angular_default.a.module("discoverPromise",[]).service("Promise",kibanaLegacy_public_["PromiseServiceCreator"])}function createLocalPrivateModule(){external_kbnSharedDeps_Angular_default.a.module("discoverPrivate",[]).provider("Private",kibanaLegacy_public_["PrivateProvider"])}function createLocalI18nModule(){external_kbnSharedDeps_Angular_default.a.module("discoverI18n",[]).provider("i18n",external_kbnSharedDeps_KbnI18nAngular_["I18nProvider"]).filter("i18n",external_kbnSharedDeps_KbnI18nAngular_["i18nFilter"]).directive("i18nId",external_kbnSharedDeps_KbnI18nAngular_["i18nDirective"])}function createLocalStorageModule(){external_kbnSharedDeps_Angular_default.a.module("discoverLocalStorageProvider",["discoverPrivate"]).service("localStorage",createLocalStorageService("localStorage")).service("sessionStorage",createLocalStorageService("sessionStorage"))}const createLocalStorageService=function(type){return function($window){return new public_["Storage"]($window[type])}};function createPagerFactoryModule(){external_kbnSharedDeps_Angular_default.a.module("discoverPagerFactory",[]).factory("pagerFactory",createPagerFactory)}function createDocTableModule(){external_kbnSharedDeps_Angular_default.a.module("discoverDocTable",["discoverPagerFactory","react"]).directive("docTable",doc_table["a"]).directive("kbnTableHeader",createTableHeaderDirective).directive("toolBarPagerText",createToolBarPagerTextDirective).directive("kbnTableRow",createTableRowDirective).directive("toolBarPagerButtons",createToolBarPagerButtonsDirective).directive("kbnInfiniteScroll",createInfiniteScrollDirective).directive("discoverGrid",createDiscoverGridDirective).directive("docViewer",doc_viewer["a"]).directive("contextAppLegacy",createContextAppLegacy)}}])]);