/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window["crossClusterReplication_bundle_jsonpfunction"]=window["crossClusterReplication_bundle_jsonpfunction"]||[]).push([[1],Array(24).concat([function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(25);exports.__esModule=true;var _Provider=_interopRequireDefault(__webpack_require__(42));exports.Provider=_Provider["default"];var _connectAdvanced=_interopRequireDefault(__webpack_require__(33));exports.connectAdvanced=_connectAdvanced["default"];var _Context=__webpack_require__(26);exports.ReactReduxContext=_Context.ReactReduxContext;var _connect=_interopRequireDefault(__webpack_require__(49));exports.connect=_connect["default"];var _useDispatch=__webpack_require__(60);exports.useDispatch=_useDispatch.useDispatch;exports.createDispatchHook=_useDispatch.createDispatchHook;var _useSelector=__webpack_require__(61);exports.useSelector=_useSelector.useSelector;exports.createSelectorHook=_useSelector.createSelectorHook;var _useStore=__webpack_require__(40);exports.useStore=_useStore.useStore;exports.createStoreHook=_useStore.createStoreHook;var _batch=__webpack_require__(32);var _reactBatchedUpdates=__webpack_require__(62);exports.batch=_reactBatchedUpdates.unstable_batchedUpdates;var _shallowEqual=_interopRequireDefault(__webpack_require__(36));exports.shallowEqual=_shallowEqual["default"];(0,_batch.setBatch)(_reactBatchedUpdates.unstable_batchedUpdates)},function(module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}module.exports=_interopRequireDefault},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(25);exports.__esModule=true;exports["default"]=exports.ReactReduxContext=void 0;var _react=_interopRequireDefault(__webpack_require__(14));var ReactReduxContext=_react["default"].createContext(null);exports.ReactReduxContext=ReactReduxContext;if(false){}var _default=ReactReduxContext;exports["default"]=_default},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=void 0;var _batch=__webpack_require__(32);var nullListeners={notify:function notify(){}};function createListenerCollection(){var batch=(0,_batch.getBatch)();var first=null;var last=null;return{clear:function clear(){first=null;last=null},notify:function notify(){batch((function(){var listener=first;while(listener){listener.callback();listener=listener.next}}))},get:function get(){var listeners=[];var listener=first;while(listener){listeners.push(listener);listener=listener.next}return listeners},subscribe:function subscribe(callback){var isSubscribed=true;var listener=last={callback:callback,next:null,prev:last};if(listener.prev){listener.prev.next=listener}else{first=listener}return function unsubscribe(){if(!isSubscribed||first===null)return;isSubscribed=false;if(listener.next){listener.next.prev=listener.prev}else{last=listener.prev}if(listener.prev){listener.prev.next=listener.next}else{first=listener.next}}}}}var Subscription=function(){function Subscription(store,parentSub){this.store=store;this.parentSub=parentSub;this.unsubscribe=null;this.listeners=nullListeners;this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var _proto=Subscription.prototype;_proto.addNestedSub=function addNestedSub(listener){this.trySubscribe();return this.listeners.subscribe(listener)};_proto.notifyNestedSubs=function notifyNestedSubs(){this.listeners.notify()};_proto.handleChangeWrapper=function handleChangeWrapper(){if(this.onStateChange){this.onStateChange()}};_proto.isSubscribed=function isSubscribed(){return Boolean(this.unsubscribe)};_proto.trySubscribe=function trySubscribe(){if(!this.unsubscribe){this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper);this.listeners=createListenerCollection()}};_proto.tryUnsubscribe=function tryUnsubscribe(){if(this.unsubscribe){this.unsubscribe();this.unsubscribe=null;this.listeners.clear();this.listeners=nullListeners}};return Subscription}();exports["default"]=Subscription},function(module,exports){function _extends(){module.exports=_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}module.exports=_extends},function(module,exports){function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}module.exports=_objectWithoutPropertiesLoose},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopDefault(ex){return ex&&typeof ex==="object"&&"default"in ex?ex["default"]:ex}var $$observable=_interopDefault(__webpack_require__(51));var randomString=function randomString(){return Math.random().toString(36).substring(7).split("").join(".")};var ActionTypes={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function PROBE_UNKNOWN_ACTION(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function isPlainObject(obj){if(typeof obj!=="object"||obj===null)return false;var proto=obj;while(Object.getPrototypeOf(proto)!==null){proto=Object.getPrototypeOf(proto)}return Object.getPrototypeOf(obj)===proto}function createStore(reducer,preloadedState,enhancer){var _ref2;if(typeof preloadedState==="function"&&typeof enhancer==="function"||typeof enhancer==="function"&&typeof arguments[3]==="function"){throw new Error("It looks like you are passing several store enhancers to "+"createStore(). This is not supported. Instead, compose them "+"together to a single function.")}if(typeof preloadedState==="function"&&typeof enhancer==="undefined"){enhancer=preloadedState;preloadedState=undefined}if(typeof enhancer!=="undefined"){if(typeof enhancer!=="function"){throw new Error("Expected the enhancer to be a function.")}return enhancer(createStore)(reducer,preloadedState)}if(typeof reducer!=="function"){throw new Error("Expected the reducer to be a function.")}var currentReducer=reducer;var currentState=preloadedState;var currentListeners=[];var nextListeners=currentListeners;var isDispatching=false;function ensureCanMutateNextListeners(){if(nextListeners===currentListeners){nextListeners=currentListeners.slice()}}function getState(){if(isDispatching){throw new Error("You may not call store.getState() while the reducer is executing. "+"The reducer has already received the state as an argument. "+"Pass it down from the top reducer instead of reading it from the store.")}return currentState}function subscribe(listener){if(typeof listener!=="function"){throw new Error("Expected the listener to be a function.")}if(isDispatching){throw new Error("You may not call store.subscribe() while the reducer is executing. "+"If you would like to be notified after the store has been updated, subscribe from a "+"component and invoke store.getState() in the callback to access the latest state. "+"See https://redux.js.org/api-reference/store#subscribelistener for more details.")}var isSubscribed=true;ensureCanMutateNextListeners();nextListeners.push(listener);return function unsubscribe(){if(!isSubscribed){return}if(isDispatching){throw new Error("You may not unsubscribe from a store listener while the reducer is executing. "+"See https://redux.js.org/api-reference/store#subscribelistener for more details.")}isSubscribed=false;ensureCanMutateNextListeners();var index=nextListeners.indexOf(listener);nextListeners.splice(index,1);currentListeners=null}}function dispatch(action){if(!isPlainObject(action)){throw new Error("Actions must be plain objects. "+"Use custom middleware for async actions.")}if(typeof action.type==="undefined"){throw new Error('Actions may not have an undefined "type" property. '+"Have you misspelled a constant?")}if(isDispatching){throw new Error("Reducers may not dispatch actions.")}try{isDispatching=true;currentState=currentReducer(currentState,action)}finally{isDispatching=false}var listeners=currentListeners=nextListeners;for(var i=0;i<listeners.length;i++){var listener=listeners[i];listener()}return action}function replaceReducer(nextReducer){if(typeof nextReducer!=="function"){throw new Error("Expected the nextReducer to be a function.")}currentReducer=nextReducer;dispatch({type:ActionTypes.REPLACE})}function observable(){var _ref;var outerSubscribe=subscribe;return _ref={subscribe:function subscribe(observer){if(typeof observer!=="object"||observer===null){throw new TypeError("Expected the observer to be an object.")}function observeState(){if(observer.next){observer.next(getState())}}observeState();var unsubscribe=outerSubscribe(observeState);return{unsubscribe:unsubscribe}}},_ref[$$observable]=function(){return this},_ref}dispatch({type:ActionTypes.INIT});return _ref2={dispatch:dispatch,subscribe:subscribe,getState:getState,replaceReducer:replaceReducer},_ref2[$$observable]=observable,_ref2}function warning(message){if(typeof console!=="undefined"&&typeof console.error==="function"){console.error(message)}try{throw new Error(message)}catch(e){}}function getUndefinedStateErrorMessage(key,action){var actionType=action&&action.type;var actionDescription=actionType&&'action "'+String(actionType)+'"'||"an action";return"Given "+actionDescription+', reducer "'+key+'" returned undefined. '+"To ignore an action, you must explicitly return the previous state. "+"If you want this reducer to hold no value, you can return null instead of undefined."}function getUnexpectedStateShapeWarningMessage(inputState,reducers,action,unexpectedKeyCache){var reducerKeys=Object.keys(reducers);var argumentName=action&&action.type===ActionTypes.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(reducerKeys.length===0){return"Store does not have a valid reducer. Make sure the argument passed "+"to combineReducers is an object whose values are reducers."}if(!isPlainObject(inputState)){return"The "+argumentName+' has unexpected type of "'+{}.toString.call(inputState).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+reducerKeys.join('", "')+'"')}var unexpectedKeys=Object.keys(inputState).filter((function(key){return!reducers.hasOwnProperty(key)&&!unexpectedKeyCache[key]}));unexpectedKeys.forEach((function(key){unexpectedKeyCache[key]=true}));if(action&&action.type===ActionTypes.REPLACE)return;if(unexpectedKeys.length>0){return"Unexpected "+(unexpectedKeys.length>1?"keys":"key")+" "+('"'+unexpectedKeys.join('", "')+'" found in '+argumentName+". ")+"Expected to find one of the known reducer keys instead: "+('"'+reducerKeys.join('", "')+'". Unexpected keys will be ignored.')}}function assertReducerShape(reducers){Object.keys(reducers).forEach((function(key){var reducer=reducers[key];var initialState=reducer(undefined,{type:ActionTypes.INIT});if(typeof initialState==="undefined"){throw new Error('Reducer "'+key+'" returned undefined during initialization. '+"If the state passed to the reducer is undefined, you must "+"explicitly return the initial state. The initial state may "+"not be undefined. If you don't want to set a value for this reducer, "+"you can use null instead of undefined.")}if(typeof reducer(undefined,{type:ActionTypes.PROBE_UNKNOWN_ACTION()})==="undefined"){throw new Error('Reducer "'+key+'" returned undefined when probed with a random type. '+("Don't try to handle "+ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the "+"current state for any unknown actions, unless it is undefined, "+"in which case you must return the initial state, regardless of the "+"action type. The initial state may not be undefined, but can be null.")}}))}function combineReducers(reducers){var reducerKeys=Object.keys(reducers);var finalReducers={};for(var i=0;i<reducerKeys.length;i++){var key=reducerKeys[i];if(false){}if(typeof reducers[key]==="function"){finalReducers[key]=reducers[key]}}var finalReducerKeys=Object.keys(finalReducers);var unexpectedKeyCache;if(false){}var shapeAssertionError;try{assertReducerShape(finalReducers)}catch(e){shapeAssertionError=e}return function combination(state,action){if(state===void 0){state={}}if(shapeAssertionError){throw shapeAssertionError}if(false){var warningMessage}var hasChanged=false;var nextState={};for(var _i=0;_i<finalReducerKeys.length;_i++){var _key=finalReducerKeys[_i];var reducer=finalReducers[_key];var previousStateForKey=state[_key];var nextStateForKey=reducer(previousStateForKey,action);if(typeof nextStateForKey==="undefined"){var errorMessage=getUndefinedStateErrorMessage(_key,action);throw new Error(errorMessage)}nextState[_key]=nextStateForKey;hasChanged=hasChanged||nextStateForKey!==previousStateForKey}hasChanged=hasChanged||finalReducerKeys.length!==Object.keys(state).length;return hasChanged?nextState:state}}function bindActionCreator(actionCreator,dispatch){return function(){return dispatch(actionCreator.apply(this,arguments))}}function bindActionCreators(actionCreators,dispatch){if(typeof actionCreators==="function"){return bindActionCreator(actionCreators,dispatch)}if(typeof actionCreators!=="object"||actionCreators===null){throw new Error("bindActionCreators expected an object or a function, instead received "+(actionCreators===null?"null":typeof actionCreators)+". "+'Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?')}var boundActionCreators={};for(var key in actionCreators){var actionCreator=actionCreators[key];if(typeof actionCreator==="function"){boundActionCreators[key]=bindActionCreator(actionCreator,dispatch)}}return boundActionCreators}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){keys.push.apply(keys,Object.getOwnPropertySymbols(object))}if(enumerableOnly)keys=keys.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));return keys}function _objectSpread2(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function compose(){for(var _len=arguments.length,funcs=new Array(_len),_key=0;_key<_len;_key++){funcs[_key]=arguments[_key]}if(funcs.length===0){return function(arg){return arg}}if(funcs.length===1){return funcs[0]}return funcs.reduce((function(a,b){return function(){return a(b.apply(void 0,arguments))}}))}function applyMiddleware(){for(var _len=arguments.length,middlewares=new Array(_len),_key=0;_key<_len;_key++){middlewares[_key]=arguments[_key]}return function(createStore){return function(){var store=createStore.apply(void 0,arguments);var _dispatch=function dispatch(){throw new Error("Dispatching while constructing your middleware is not allowed. "+"Other middleware would not be applied to this dispatch.")};var middlewareAPI={getState:store.getState,dispatch:function dispatch(){return _dispatch.apply(void 0,arguments)}};var chain=middlewares.map((function(middleware){return middleware(middlewareAPI)}));_dispatch=compose.apply(void 0,chain)(store.dispatch);return _objectSpread2({},store,{dispatch:_dispatch})}}}function isCrushed(){}if(false){}exports.__DO_NOT_USE__ActionTypes=ActionTypes;exports.applyMiddleware=applyMiddleware;exports.bindActionCreators=bindActionCreators;exports.combineReducers=combineReducers;exports.compose=compose;exports.createStore=createStore},function(module,exports,__webpack_require__){var _typeof=__webpack_require__(43);function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj)}return newObj}module.exports=_interopRequireWildcard},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.getBatch=exports.setBatch=void 0;function defaultNoopBatch(callback){callback()}var batch=defaultNoopBatch;var setBatch=function setBatch(newBatch){return batch=newBatch};exports.setBatch=setBatch;var getBatch=function getBatch(){return batch};exports.getBatch=getBatch},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(31);var _interopRequireDefault=__webpack_require__(25);exports.__esModule=true;exports["default"]=connectAdvanced;var _extends2=_interopRequireDefault(__webpack_require__(28));var _objectWithoutPropertiesLoose2=_interopRequireDefault(__webpack_require__(29));var _hoistNonReactStatics=_interopRequireDefault(__webpack_require__(47));var _react=_interopRequireWildcard(__webpack_require__(14));var _reactIs=__webpack_require__(34);var _Subscription=_interopRequireDefault(__webpack_require__(27));var _useIsomorphicLayoutEffect=__webpack_require__(35);var _Context=__webpack_require__(26);var EMPTY_ARRAY=[];var NO_SUBSCRIPTION_ARRAY=[null,null];var stringifyComponent=function stringifyComponent(Comp){try{return JSON.stringify(Comp)}catch(err){return String(Comp)}};function storeStateUpdatesReducer(state,action){var updateCount=state[1];return[action.payload,updateCount+1]}function useIsomorphicLayoutEffectWithArgs(effectFunc,effectArgs,dependencies){(0,_useIsomorphicLayoutEffect.useIsomorphicLayoutEffect)((function(){return effectFunc.apply(void 0,effectArgs)}),dependencies)}function captureWrapperProps(lastWrapperProps,lastChildProps,renderIsScheduled,wrapperProps,actualChildProps,childPropsFromStoreUpdate,notifyNestedSubs){lastWrapperProps.current=wrapperProps;lastChildProps.current=actualChildProps;renderIsScheduled.current=false;if(childPropsFromStoreUpdate.current){childPropsFromStoreUpdate.current=null;notifyNestedSubs()}}function subscribeUpdates(shouldHandleStateChanges,store,subscription,childPropsSelector,lastWrapperProps,lastChildProps,renderIsScheduled,childPropsFromStoreUpdate,notifyNestedSubs,forceComponentUpdateDispatch){if(!shouldHandleStateChanges)return;var didUnsubscribe=false;var lastThrownError=null;var checkForUpdates=function checkForUpdates(){if(didUnsubscribe){return}var latestStoreState=store.getState();var newChildProps,error;try{newChildProps=childPropsSelector(latestStoreState,lastWrapperProps.current)}catch(e){error=e;lastThrownError=e}if(!error){lastThrownError=null}if(newChildProps===lastChildProps.current){if(!renderIsScheduled.current){notifyNestedSubs()}}else{lastChildProps.current=newChildProps;childPropsFromStoreUpdate.current=newChildProps;renderIsScheduled.current=true;forceComponentUpdateDispatch({type:"STORE_UPDATED",payload:{error:error}})}};subscription.onStateChange=checkForUpdates;subscription.trySubscribe();checkForUpdates();var unsubscribeWrapper=function unsubscribeWrapper(){didUnsubscribe=true;subscription.tryUnsubscribe();subscription.onStateChange=null;if(lastThrownError){throw lastThrownError}};return unsubscribeWrapper}var initStateUpdates=function initStateUpdates(){return[null,0]};function connectAdvanced(selectorFactory,_ref){if(_ref===void 0){_ref={}}var _ref2=_ref,_ref2$getDisplayName=_ref2.getDisplayName,getDisplayName=_ref2$getDisplayName===void 0?function(name){return"ConnectAdvanced("+name+")"}:_ref2$getDisplayName,_ref2$methodName=_ref2.methodName,methodName=_ref2$methodName===void 0?"connectAdvanced":_ref2$methodName,_ref2$renderCountProp=_ref2.renderCountProp,renderCountProp=_ref2$renderCountProp===void 0?undefined:_ref2$renderCountProp,_ref2$shouldHandleSta=_ref2.shouldHandleStateChanges,shouldHandleStateChanges=_ref2$shouldHandleSta===void 0?true:_ref2$shouldHandleSta,_ref2$storeKey=_ref2.storeKey,storeKey=_ref2$storeKey===void 0?"store":_ref2$storeKey,_ref2$withRef=_ref2.withRef,withRef=_ref2$withRef===void 0?false:_ref2$withRef,_ref2$forwardRef=_ref2.forwardRef,forwardRef=_ref2$forwardRef===void 0?false:_ref2$forwardRef,_ref2$context=_ref2.context,context=_ref2$context===void 0?_Context.ReactReduxContext:_ref2$context,connectOptions=(0,_objectWithoutPropertiesLoose2["default"])(_ref2,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);if(false){var customStoreWarningMessage}var Context=context;return function wrapWithConnect(WrappedComponent){if(false){}var wrappedComponentName=WrappedComponent.displayName||WrappedComponent.name||"Component";var displayName=getDisplayName(wrappedComponentName);var selectorFactoryOptions=(0,_extends2["default"])({},connectOptions,{getDisplayName:getDisplayName,methodName:methodName,renderCountProp:renderCountProp,shouldHandleStateChanges:shouldHandleStateChanges,storeKey:storeKey,displayName:displayName,wrappedComponentName:wrappedComponentName,WrappedComponent:WrappedComponent});var pure=connectOptions.pure;function createChildSelector(store){return selectorFactory(store.dispatch,selectorFactoryOptions)}var usePureOnlyMemo=pure?_react.useMemo:function(callback){return callback()};function ConnectFunction(props){var _useMemo=(0,_react.useMemo)((function(){var forwardedRef=props.forwardedRef,wrapperProps=(0,_objectWithoutPropertiesLoose2["default"])(props,["forwardedRef"]);return[props.context,forwardedRef,wrapperProps]}),[props]),propsContext=_useMemo[0],forwardedRef=_useMemo[1],wrapperProps=_useMemo[2];var ContextToUse=(0,_react.useMemo)((function(){return propsContext&&propsContext.Consumer&&(0,_reactIs.isContextConsumer)(_react["default"].createElement(propsContext.Consumer,null))?propsContext:Context}),[propsContext,Context]);var contextValue=(0,_react.useContext)(ContextToUse);var didStoreComeFromProps=Boolean(props.store)&&Boolean(props.store.getState)&&Boolean(props.store.dispatch);var didStoreComeFromContext=Boolean(contextValue)&&Boolean(contextValue.store);if(false){}var store=didStoreComeFromProps?props.store:contextValue.store;var childPropsSelector=(0,_react.useMemo)((function(){return createChildSelector(store)}),[store]);var _useMemo2=(0,_react.useMemo)((function(){if(!shouldHandleStateChanges)return NO_SUBSCRIPTION_ARRAY;var subscription=new _Subscription["default"](store,didStoreComeFromProps?null:contextValue.subscription);var notifyNestedSubs=subscription.notifyNestedSubs.bind(subscription);return[subscription,notifyNestedSubs]}),[store,didStoreComeFromProps,contextValue]),subscription=_useMemo2[0],notifyNestedSubs=_useMemo2[1];var overriddenContextValue=(0,_react.useMemo)((function(){if(didStoreComeFromProps){return contextValue}return(0,_extends2["default"])({},contextValue,{subscription:subscription})}),[didStoreComeFromProps,contextValue,subscription]);var _useReducer=(0,_react.useReducer)(storeStateUpdatesReducer,EMPTY_ARRAY,initStateUpdates),_useReducer$=_useReducer[0],previousStateUpdateResult=_useReducer$[0],forceComponentUpdateDispatch=_useReducer[1];if(previousStateUpdateResult&&previousStateUpdateResult.error){throw previousStateUpdateResult.error}var lastChildProps=(0,_react.useRef)();var lastWrapperProps=(0,_react.useRef)(wrapperProps);var childPropsFromStoreUpdate=(0,_react.useRef)();var renderIsScheduled=(0,_react.useRef)(false);var actualChildProps=usePureOnlyMemo((function(){if(childPropsFromStoreUpdate.current&&wrapperProps===lastWrapperProps.current){return childPropsFromStoreUpdate.current}return childPropsSelector(store.getState(),wrapperProps)}),[store,previousStateUpdateResult,wrapperProps]);useIsomorphicLayoutEffectWithArgs(captureWrapperProps,[lastWrapperProps,lastChildProps,renderIsScheduled,wrapperProps,actualChildProps,childPropsFromStoreUpdate,notifyNestedSubs]);useIsomorphicLayoutEffectWithArgs(subscribeUpdates,[shouldHandleStateChanges,store,subscription,childPropsSelector,lastWrapperProps,lastChildProps,renderIsScheduled,childPropsFromStoreUpdate,notifyNestedSubs,forceComponentUpdateDispatch],[store,subscription,childPropsSelector]);var renderedWrappedComponent=(0,_react.useMemo)((function(){return _react["default"].createElement(WrappedComponent,(0,_extends2["default"])({},actualChildProps,{ref:forwardedRef}))}),[forwardedRef,WrappedComponent,actualChildProps]);var renderedChild=(0,_react.useMemo)((function(){if(shouldHandleStateChanges){return _react["default"].createElement(ContextToUse.Provider,{value:overriddenContextValue},renderedWrappedComponent)}return renderedWrappedComponent}),[ContextToUse,renderedWrappedComponent,overriddenContextValue]);return renderedChild}var Connect=pure?_react["default"].memo(ConnectFunction):ConnectFunction;Connect.WrappedComponent=WrappedComponent;Connect.displayName=displayName;if(forwardRef){var forwarded=_react["default"].forwardRef((function forwardConnectRef(props,ref){return _react["default"].createElement(Connect,(0,_extends2["default"])({},props,{forwardedRef:ref}))}));forwarded.displayName=displayName;forwarded.WrappedComponent=WrappedComponent;return(0,_hoistNonReactStatics["default"])(forwarded,WrappedComponent)}return(0,_hoistNonReactStatics["default"])(Connect,WrappedComponent)}}},function(module,exports,__webpack_require__){"use strict";if(true){module.exports=__webpack_require__(48)}else{}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.useIsomorphicLayoutEffect=void 0;var _react=__webpack_require__(14);var useIsomorphicLayoutEffect=typeof window!=="undefined"&&typeof window.document!=="undefined"&&typeof window.document.createElement!=="undefined"?_react.useLayoutEffect:_react.useEffect;exports.useIsomorphicLayoutEffect=useIsomorphicLayoutEffect},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=shallowEqual;function is(x,y){if(x===y){return x!==0||y!==0||1/x===1/y}else{return x!==x&&y!==y}}function shallowEqual(objA,objB){if(is(objA,objB))return true;if(typeof objA!=="object"||objA===null||typeof objB!=="object"||objB===null){return false}var keysA=Object.keys(objA);var keysB=Object.keys(objB);if(keysA.length!==keysB.length)return false;for(var i=0;i<keysA.length;i++){if(!Object.prototype.hasOwnProperty.call(objB,keysA[i])||!is(objA[keysA[i]],objB[keysA[i]])){return false}}return true}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(25);exports.__esModule=true;exports.wrapMapToPropsConstant=wrapMapToPropsConstant;exports.getDependsOnOwnProps=getDependsOnOwnProps;exports.wrapMapToPropsFunc=wrapMapToPropsFunc;var _verifyPlainObject=_interopRequireDefault(__webpack_require__(38));function wrapMapToPropsConstant(getConstant){return function initConstantSelector(dispatch,options){var constant=getConstant(dispatch,options);function constantSelector(){return constant}constantSelector.dependsOnOwnProps=false;return constantSelector}}function getDependsOnOwnProps(mapToProps){return mapToProps.dependsOnOwnProps!==null&&mapToProps.dependsOnOwnProps!==undefined?Boolean(mapToProps.dependsOnOwnProps):mapToProps.length!==1}function wrapMapToPropsFunc(mapToProps,methodName){return function initProxySelector(dispatch,_ref){var displayName=_ref.displayName;var proxy=function mapToPropsProxy(stateOrDispatch,ownProps){return proxy.dependsOnOwnProps?proxy.mapToProps(stateOrDispatch,ownProps):proxy.mapToProps(stateOrDispatch)};proxy.dependsOnOwnProps=true;proxy.mapToProps=function detectFactoryAndVerify(stateOrDispatch,ownProps){proxy.mapToProps=mapToProps;proxy.dependsOnOwnProps=getDependsOnOwnProps(mapToProps);var props=proxy(stateOrDispatch,ownProps);if(typeof props==="function"){proxy.mapToProps=props;proxy.dependsOnOwnProps=getDependsOnOwnProps(props);props=proxy(stateOrDispatch,ownProps)}if(false){}return props};return proxy}}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(25);exports.__esModule=true;exports["default"]=verifyPlainObject;var _isPlainObject=_interopRequireDefault(__webpack_require__(55));var _warning=_interopRequireDefault(__webpack_require__(39));function verifyPlainObject(value,displayName,methodName){if(!(0,_isPlainObject["default"])(value)){(0,_warning["default"])(methodName+"() in "+displayName+" must return a plain object. Instead received "+value+".")}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=warning;function warning(message){if(typeof console!=="undefined"&&typeof console.error==="function"){console.error(message)}try{throw new Error(message)}catch(e){}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.createStoreHook=createStoreHook;exports.useStore=void 0;var _react=__webpack_require__(14);var _Context=__webpack_require__(26);var _useReduxContext2=__webpack_require__(41);function createStoreHook(context){if(context===void 0){context=_Context.ReactReduxContext}var useReduxContext=context===_Context.ReactReduxContext?_useReduxContext2.useReduxContext:function(){return(0,_react.useContext)(context)};return function useStore(){var _useReduxContext=useReduxContext(),store=_useReduxContext.store;return store}}var useStore=createStoreHook();exports.useStore=useStore},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.useReduxContext=useReduxContext;var _react=__webpack_require__(14);var _Context=__webpack_require__(26);function useReduxContext(){var contextValue=(0,_react.useContext)(_Context.ReactReduxContext);if(false){}return contextValue}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(25);var _interopRequireWildcard=__webpack_require__(31);exports.__esModule=true;exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(14));var _propTypes=_interopRequireDefault(__webpack_require__(44));var _Context=__webpack_require__(26);var _Subscription=_interopRequireDefault(__webpack_require__(27));function Provider(_ref){var store=_ref.store,context=_ref.context,children=_ref.children;var contextValue=(0,_react.useMemo)((function(){var subscription=new _Subscription["default"](store);subscription.onStateChange=subscription.notifyNestedSubs;return{store:store,subscription:subscription}}),[store]);var previousState=(0,_react.useMemo)((function(){return store.getState()}),[store]);(0,_react.useEffect)((function(){var subscription=contextValue.subscription;subscription.trySubscribe();if(previousState!==store.getState()){subscription.notifyNestedSubs()}return function(){subscription.tryUnsubscribe();subscription.onStateChange=null}}),[contextValue,previousState]);var Context=context||_Context.ReactReduxContext;return _react["default"].createElement(Context.Provider,{value:contextValue},children)}if(false){}var _default=Provider;exports["default"]=_default},function(module,exports){function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){module.exports=_typeof=function _typeof(obj){return typeof obj}}else{module.exports=_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}module.exports=_typeof},function(module,exports,__webpack_require__){if(false){var throwOnDirectAccess,ReactIs}else{module.exports=__webpack_require__(45)()}},function(module,exports,__webpack_require__){"use strict";var ReactPropTypesSecret=__webpack_require__(46);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret===ReactPropTypesSecret){return}var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. "+"Use PropTypes.checkPropTypes() to call them. "+"Read more at http://fb.me/use-check-prop-types");err.name="Invariant Violation";throw err}shim.isRequired=shim;function getShim(){return shim}var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};ReactPropTypes.PropTypes=ReactPropTypes;return ReactPropTypes}},function(module,exports,__webpack_require__){"use strict";var ReactPropTypesSecret="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";module.exports=ReactPropTypesSecret},function(module,exports,__webpack_require__){"use strict";var reactIs=__webpack_require__(34);var REACT_STATICS={childContextTypes:true,contextType:true,contextTypes:true,defaultProps:true,displayName:true,getDefaultProps:true,getDerivedStateFromError:true,getDerivedStateFromProps:true,mixins:true,propTypes:true,type:true};var KNOWN_STATICS={name:true,length:true,prototype:true,caller:true,callee:true,arguments:true,arity:true};var FORWARD_REF_STATICS={$$typeof:true,render:true,defaultProps:true,displayName:true,propTypes:true};var MEMO_STATICS={$$typeof:true,compare:true,defaultProps:true,displayName:true,propTypes:true,type:true};var TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;function getStatics(component){if(reactIs.isMemo(component)){return MEMO_STATICS}return TYPE_STATICS[component["$$typeof"]]||REACT_STATICS}var defineProperty=Object.defineProperty;var getOwnPropertyNames=Object.getOwnPropertyNames;var getOwnPropertySymbols=Object.getOwnPropertySymbols;var getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;var getPrototypeOf=Object.getPrototypeOf;var objectPrototype=Object.prototype;function hoistNonReactStatics(targetComponent,sourceComponent,blacklist){if(typeof sourceComponent!=="string"){if(objectPrototype){var inheritedComponent=getPrototypeOf(sourceComponent);if(inheritedComponent&&inheritedComponent!==objectPrototype){hoistNonReactStatics(targetComponent,inheritedComponent,blacklist)}}var keys=getOwnPropertyNames(sourceComponent);if(getOwnPropertySymbols){keys=keys.concat(getOwnPropertySymbols(sourceComponent))}var targetStatics=getStatics(targetComponent);var sourceStatics=getStatics(sourceComponent);for(var i=0;i<keys.length;++i){var key=keys[i];if(!KNOWN_STATICS[key]&&!(blacklist&&blacklist[key])&&!(sourceStatics&&sourceStatics[key])&&!(targetStatics&&targetStatics[key])){var descriptor=getOwnPropertyDescriptor(sourceComponent,key);try{defineProperty(targetComponent,key,descriptor)}catch(e){}}}}return targetComponent}module.exports=hoistNonReactStatics},function(module,exports,__webpack_require__){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b="function"===typeof Symbol&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z(a){if("object"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;exports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};exports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};exports.isValidElementType=function(a){return"string"===typeof a||"function"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||"object"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(25);exports.__esModule=true;exports.createConnect=createConnect;exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(28));var _objectWithoutPropertiesLoose2=_interopRequireDefault(__webpack_require__(29));var _connectAdvanced=_interopRequireDefault(__webpack_require__(33));var _shallowEqual=_interopRequireDefault(__webpack_require__(36));var _mapDispatchToProps=_interopRequireDefault(__webpack_require__(50));var _mapStateToProps=_interopRequireDefault(__webpack_require__(56));var _mergeProps=_interopRequireDefault(__webpack_require__(57));var _selectorFactory=_interopRequireDefault(__webpack_require__(58));function match(arg,factories,name){for(var i=factories.length-1;i>=0;i--){var result=factories[i](arg);if(result)return result}return function(dispatch,options){throw new Error("Invalid value of type "+typeof arg+" for "+name+" argument when connecting component "+options.wrappedComponentName+".")}}function strictEqual(a,b){return a===b}function createConnect(_temp){var _ref=_temp===void 0?{}:_temp,_ref$connectHOC=_ref.connectHOC,connectHOC=_ref$connectHOC===void 0?_connectAdvanced["default"]:_ref$connectHOC,_ref$mapStateToPropsF=_ref.mapStateToPropsFactories,mapStateToPropsFactories=_ref$mapStateToPropsF===void 0?_mapStateToProps["default"]:_ref$mapStateToPropsF,_ref$mapDispatchToPro=_ref.mapDispatchToPropsFactories,mapDispatchToPropsFactories=_ref$mapDispatchToPro===void 0?_mapDispatchToProps["default"]:_ref$mapDispatchToPro,_ref$mergePropsFactor=_ref.mergePropsFactories,mergePropsFactories=_ref$mergePropsFactor===void 0?_mergeProps["default"]:_ref$mergePropsFactor,_ref$selectorFactory=_ref.selectorFactory,selectorFactory=_ref$selectorFactory===void 0?_selectorFactory["default"]:_ref$selectorFactory;return function connect(mapStateToProps,mapDispatchToProps,mergeProps,_ref2){if(_ref2===void 0){_ref2={}}var _ref3=_ref2,_ref3$pure=_ref3.pure,pure=_ref3$pure===void 0?true:_ref3$pure,_ref3$areStatesEqual=_ref3.areStatesEqual,areStatesEqual=_ref3$areStatesEqual===void 0?strictEqual:_ref3$areStatesEqual,_ref3$areOwnPropsEqua=_ref3.areOwnPropsEqual,areOwnPropsEqual=_ref3$areOwnPropsEqua===void 0?_shallowEqual["default"]:_ref3$areOwnPropsEqua,_ref3$areStatePropsEq=_ref3.areStatePropsEqual,areStatePropsEqual=_ref3$areStatePropsEq===void 0?_shallowEqual["default"]:_ref3$areStatePropsEq,_ref3$areMergedPropsE=_ref3.areMergedPropsEqual,areMergedPropsEqual=_ref3$areMergedPropsE===void 0?_shallowEqual["default"]:_ref3$areMergedPropsE,extraOptions=(0,_objectWithoutPropertiesLoose2["default"])(_ref3,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]);var initMapStateToProps=match(mapStateToProps,mapStateToPropsFactories,"mapStateToProps");var initMapDispatchToProps=match(mapDispatchToProps,mapDispatchToPropsFactories,"mapDispatchToProps");var initMergeProps=match(mergeProps,mergePropsFactories,"mergeProps");return connectHOC(selectorFactory,(0,_extends2["default"])({methodName:"connect",getDisplayName:function getDisplayName(name){return"Connect("+name+")"},shouldHandleStateChanges:Boolean(mapStateToProps),initMapStateToProps:initMapStateToProps,initMapDispatchToProps:initMapDispatchToProps,initMergeProps:initMergeProps,pure:pure,areStatesEqual:areStatesEqual,areOwnPropsEqual:areOwnPropsEqual,areStatePropsEqual:areStatePropsEqual,areMergedPropsEqual:areMergedPropsEqual},extraOptions))}}var _default=createConnect();exports["default"]=_default},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.whenMapDispatchToPropsIsFunction=whenMapDispatchToPropsIsFunction;exports.whenMapDispatchToPropsIsMissing=whenMapDispatchToPropsIsMissing;exports.whenMapDispatchToPropsIsObject=whenMapDispatchToPropsIsObject;exports["default"]=void 0;var _redux=__webpack_require__(30);var _wrapMapToProps=__webpack_require__(37);function whenMapDispatchToPropsIsFunction(mapDispatchToProps){return typeof mapDispatchToProps==="function"?(0,_wrapMapToProps.wrapMapToPropsFunc)(mapDispatchToProps,"mapDispatchToProps"):undefined}function whenMapDispatchToPropsIsMissing(mapDispatchToProps){return!mapDispatchToProps?(0,_wrapMapToProps.wrapMapToPropsConstant)((function(dispatch){return{dispatch:dispatch}})):undefined}function whenMapDispatchToPropsIsObject(mapDispatchToProps){return mapDispatchToProps&&typeof mapDispatchToProps==="object"?(0,_wrapMapToProps.wrapMapToPropsConstant)((function(dispatch){return(0,_redux.bindActionCreators)(mapDispatchToProps,dispatch)})):undefined}var _default=[whenMapDispatchToPropsIsFunction,whenMapDispatchToPropsIsMissing,whenMapDispatchToPropsIsObject];exports["default"]=_default},function(module,exports,__webpack_require__){"use strict";(function(global,module){Object.defineProperty(exports,"__esModule",{value:true});var _ponyfill=__webpack_require__(54);var _ponyfill2=_interopRequireDefault(_ponyfill);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var root;if(typeof self!=="undefined"){root=self}else if(typeof window!=="undefined"){root=window}else if(typeof global!=="undefined"){root=global}else if(true){root=module}else{}var result=(0,_ponyfill2["default"])(root);exports["default"]=result}).call(this,__webpack_require__(52),__webpack_require__(53)(module))},function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){if(typeof window==="object")g=window}module.exports=g},function(module,exports){module.exports=function(module){if(!module.webpackPolyfill){module.deprecate=function(){};module.paths=[];if(!module.children)module.children=[];Object.defineProperty(module,"loaded",{enumerable:true,get:function(){return module.l}});Object.defineProperty(module,"id",{enumerable:true,get:function(){return module.i}});module.webpackPolyfill=1}return module}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=symbolObservablePonyfill;function symbolObservablePonyfill(root){var result;var _Symbol=root.Symbol;if(typeof _Symbol==="function"){if(_Symbol.observable){result=_Symbol.observable}else{result=_Symbol("observable");_Symbol.observable=result}}else{result="@@observable"}return result}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=isPlainObject;function isPlainObject(obj){if(typeof obj!=="object"||obj===null)return false;var proto=Object.getPrototypeOf(obj);if(proto===null)return true;var baseProto=proto;while(Object.getPrototypeOf(baseProto)!==null){baseProto=Object.getPrototypeOf(baseProto)}return proto===baseProto}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.whenMapStateToPropsIsFunction=whenMapStateToPropsIsFunction;exports.whenMapStateToPropsIsMissing=whenMapStateToPropsIsMissing;exports["default"]=void 0;var _wrapMapToProps=__webpack_require__(37);function whenMapStateToPropsIsFunction(mapStateToProps){return typeof mapStateToProps==="function"?(0,_wrapMapToProps.wrapMapToPropsFunc)(mapStateToProps,"mapStateToProps"):undefined}function whenMapStateToPropsIsMissing(mapStateToProps){return!mapStateToProps?(0,_wrapMapToProps.wrapMapToPropsConstant)((function(){return{}})):undefined}var _default=[whenMapStateToPropsIsFunction,whenMapStateToPropsIsMissing];exports["default"]=_default},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(25);exports.__esModule=true;exports.defaultMergeProps=defaultMergeProps;exports.wrapMergePropsFunc=wrapMergePropsFunc;exports.whenMergePropsIsFunction=whenMergePropsIsFunction;exports.whenMergePropsIsOmitted=whenMergePropsIsOmitted;exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(28));var _verifyPlainObject=_interopRequireDefault(__webpack_require__(38));function defaultMergeProps(stateProps,dispatchProps,ownProps){return(0,_extends2["default"])({},ownProps,{},stateProps,{},dispatchProps)}function wrapMergePropsFunc(mergeProps){return function initMergePropsProxy(dispatch,_ref){var displayName=_ref.displayName,pure=_ref.pure,areMergedPropsEqual=_ref.areMergedPropsEqual;var hasRunOnce=false;var mergedProps;return function mergePropsProxy(stateProps,dispatchProps,ownProps){var nextMergedProps=mergeProps(stateProps,dispatchProps,ownProps);if(hasRunOnce){if(!pure||!areMergedPropsEqual(nextMergedProps,mergedProps))mergedProps=nextMergedProps}else{hasRunOnce=true;mergedProps=nextMergedProps;if(false){}}return mergedProps}}}function whenMergePropsIsFunction(mergeProps){return typeof mergeProps==="function"?wrapMergePropsFunc(mergeProps):undefined}function whenMergePropsIsOmitted(mergeProps){return!mergeProps?function(){return defaultMergeProps}:undefined}var _default=[whenMergePropsIsFunction,whenMergePropsIsOmitted];exports["default"]=_default},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(25);exports.__esModule=true;exports.impureFinalPropsSelectorFactory=impureFinalPropsSelectorFactory;exports.pureFinalPropsSelectorFactory=pureFinalPropsSelectorFactory;exports["default"]=finalPropsSelectorFactory;var _objectWithoutPropertiesLoose2=_interopRequireDefault(__webpack_require__(29));var _verifySubselectors=_interopRequireDefault(__webpack_require__(59));function impureFinalPropsSelectorFactory(mapStateToProps,mapDispatchToProps,mergeProps,dispatch){return function impureFinalPropsSelector(state,ownProps){return mergeProps(mapStateToProps(state,ownProps),mapDispatchToProps(dispatch,ownProps),ownProps)}}function pureFinalPropsSelectorFactory(mapStateToProps,mapDispatchToProps,mergeProps,dispatch,_ref){var areStatesEqual=_ref.areStatesEqual,areOwnPropsEqual=_ref.areOwnPropsEqual,areStatePropsEqual=_ref.areStatePropsEqual;var hasRunAtLeastOnce=false;var state;var ownProps;var stateProps;var dispatchProps;var mergedProps;function handleFirstCall(firstState,firstOwnProps){state=firstState;ownProps=firstOwnProps;stateProps=mapStateToProps(state,ownProps);dispatchProps=mapDispatchToProps(dispatch,ownProps);mergedProps=mergeProps(stateProps,dispatchProps,ownProps);hasRunAtLeastOnce=true;return mergedProps}function handleNewPropsAndNewState(){stateProps=mapStateToProps(state,ownProps);if(mapDispatchToProps.dependsOnOwnProps)dispatchProps=mapDispatchToProps(dispatch,ownProps);mergedProps=mergeProps(stateProps,dispatchProps,ownProps);return mergedProps}function handleNewProps(){if(mapStateToProps.dependsOnOwnProps)stateProps=mapStateToProps(state,ownProps);if(mapDispatchToProps.dependsOnOwnProps)dispatchProps=mapDispatchToProps(dispatch,ownProps);mergedProps=mergeProps(stateProps,dispatchProps,ownProps);return mergedProps}function handleNewState(){var nextStateProps=mapStateToProps(state,ownProps);var statePropsChanged=!areStatePropsEqual(nextStateProps,stateProps);stateProps=nextStateProps;if(statePropsChanged)mergedProps=mergeProps(stateProps,dispatchProps,ownProps);return mergedProps}function handleSubsequentCalls(nextState,nextOwnProps){var propsChanged=!areOwnPropsEqual(nextOwnProps,ownProps);var stateChanged=!areStatesEqual(nextState,state);state=nextState;ownProps=nextOwnProps;if(propsChanged&&stateChanged)return handleNewPropsAndNewState();if(propsChanged)return handleNewProps();if(stateChanged)return handleNewState();return mergedProps}return function pureFinalPropsSelector(nextState,nextOwnProps){return hasRunAtLeastOnce?handleSubsequentCalls(nextState,nextOwnProps):handleFirstCall(nextState,nextOwnProps)}}function finalPropsSelectorFactory(dispatch,_ref2){var initMapStateToProps=_ref2.initMapStateToProps,initMapDispatchToProps=_ref2.initMapDispatchToProps,initMergeProps=_ref2.initMergeProps,options=(0,_objectWithoutPropertiesLoose2["default"])(_ref2,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]);var mapStateToProps=initMapStateToProps(dispatch,options);var mapDispatchToProps=initMapDispatchToProps(dispatch,options);var mergeProps=initMergeProps(dispatch,options);if(false){}var selectorFactory=options.pure?pureFinalPropsSelectorFactory:impureFinalPropsSelectorFactory;return selectorFactory(mapStateToProps,mapDispatchToProps,mergeProps,dispatch,options)}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(25);exports.__esModule=true;exports["default"]=verifySubselectors;var _warning=_interopRequireDefault(__webpack_require__(39));function verify(selector,methodName,displayName){if(!selector){throw new Error("Unexpected value for "+methodName+" in "+displayName+".")}else if(methodName==="mapStateToProps"||methodName==="mapDispatchToProps"){if(!Object.prototype.hasOwnProperty.call(selector,"dependsOnOwnProps")){(0,_warning["default"])("The selector for "+methodName+" of "+displayName+" did not specify a value for dependsOnOwnProps.")}}}function verifySubselectors(mapStateToProps,mapDispatchToProps,mergeProps,displayName){verify(mapStateToProps,"mapStateToProps",displayName);verify(mapDispatchToProps,"mapDispatchToProps",displayName);verify(mergeProps,"mergeProps",displayName)}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.createDispatchHook=createDispatchHook;exports.useDispatch=void 0;var _Context=__webpack_require__(26);var _useStore=__webpack_require__(40);function createDispatchHook(context){if(context===void 0){context=_Context.ReactReduxContext}var useStore=context===_Context.ReactReduxContext?_useStore.useStore:(0,_useStore.createStoreHook)(context);return function useDispatch(){var store=useStore();return store.dispatch}}var useDispatch=createDispatchHook();exports.useDispatch=useDispatch},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(25);exports.__esModule=true;exports.createSelectorHook=createSelectorHook;exports.useSelector=void 0;var _react=__webpack_require__(14);var _useReduxContext2=__webpack_require__(41);var _Subscription=_interopRequireDefault(__webpack_require__(27));var _useIsomorphicLayoutEffect=__webpack_require__(35);var _Context=__webpack_require__(26);var refEquality=function refEquality(a,b){return a===b};function useSelectorWithStoreAndSubscription(selector,equalityFn,store,contextSub){var _useReducer=(0,_react.useReducer)((function(s){return s+1}),0),forceRender=_useReducer[1];var subscription=(0,_react.useMemo)((function(){return new _Subscription["default"](store,contextSub)}),[store,contextSub]);var latestSubscriptionCallbackError=(0,_react.useRef)();var latestSelector=(0,_react.useRef)();var latestSelectedState=(0,_react.useRef)();var selectedState;try{if(selector!==latestSelector.current||latestSubscriptionCallbackError.current){selectedState=selector(store.getState())}else{selectedState=latestSelectedState.current}}catch(err){if(latestSubscriptionCallbackError.current){err.message+="\nThe error may be correlated with this previous error:\n"+latestSubscriptionCallbackError.current.stack+"\n\n"}throw err}(0,_useIsomorphicLayoutEffect.useIsomorphicLayoutEffect)((function(){latestSelector.current=selector;latestSelectedState.current=selectedState;latestSubscriptionCallbackError.current=undefined}));(0,_useIsomorphicLayoutEffect.useIsomorphicLayoutEffect)((function(){function checkForUpdates(){try{var newSelectedState=latestSelector.current(store.getState());if(equalityFn(newSelectedState,latestSelectedState.current)){return}latestSelectedState.current=newSelectedState}catch(err){latestSubscriptionCallbackError.current=err}forceRender({})}subscription.onStateChange=checkForUpdates;subscription.trySubscribe();checkForUpdates();return function(){return subscription.tryUnsubscribe()}}),[store,subscription]);return selectedState}function createSelectorHook(context){if(context===void 0){context=_Context.ReactReduxContext}var useReduxContext=context===_Context.ReactReduxContext?_useReduxContext2.useReduxContext:function(){return(0,_react.useContext)(context)};return function useSelector(selector,equalityFn){if(equalityFn===void 0){equalityFn=refEquality}if(false){}var _useReduxContext=useReduxContext(),store=_useReduxContext.store,contextSub=_useReduxContext.subscription;return useSelectorWithStoreAndSubscription(selector,equalityFn,store,contextSub)}}var useSelector=createSelectorHook();exports.useSelector=useSelector},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.unstable_batchedUpdates=void 0;var _reactDom=__webpack_require__(19);exports.unstable_batchedUpdates=_reactDom.unstable_batchedUpdates},function(module,exports,__webpack_require__){"use strict";const strictUriEncode=__webpack_require__(64);const decodeComponent=__webpack_require__(65);const splitOnFirst=__webpack_require__(66);const isNullOrUndefined=value=>value===null||value===undefined;function encoderForArrayFormat(options){switch(options.arrayFormat){case"index":return key=>(result,value)=>{const index=result.length;if(value===undefined||options.skipNull&&value===null||options.skipEmptyString&&value===""){return result}if(value===null){return[...result,[encode(key,options),"[",index,"]"].join("")]}return[...result,[encode(key,options),"[",encode(index,options),"]=",encode(value,options)].join("")]};case"bracket":return key=>(result,value)=>{if(value===undefined||options.skipNull&&value===null||options.skipEmptyString&&value===""){return result}if(value===null){return[...result,[encode(key,options),"[]"].join("")]}return[...result,[encode(key,options),"[]=",encode(value,options)].join("")]};case"comma":case"separator":return key=>(result,value)=>{if(value===null||value===undefined||value.length===0){return result}if(result.length===0){return[[encode(key,options),"=",encode(value,options)].join("")]}return[[result,encode(value,options)].join(options.arrayFormatSeparator)]};default:return key=>(result,value)=>{if(value===undefined||options.skipNull&&value===null||options.skipEmptyString&&value===""){return result}if(value===null){return[...result,encode(key,options)]}return[...result,[encode(key,options),"=",encode(value,options)].join("")]}}}function parserForArrayFormat(options){let result;switch(options.arrayFormat){case"index":return(key,value,accumulator)=>{result=/\[(\d*)\]$/.exec(key);key=key.replace(/\[\d*\]$/,"");if(!result){accumulator[key]=value;return}if(accumulator[key]===undefined){accumulator[key]={}}accumulator[key][result[1]]=value};case"bracket":return(key,value,accumulator)=>{result=/(\[\])$/.exec(key);key=key.replace(/\[\]$/,"");if(!result){accumulator[key]=value;return}if(accumulator[key]===undefined){accumulator[key]=[value];return}accumulator[key]=[].concat(accumulator[key],value)};case"comma":case"separator":return(key,value,accumulator)=>{const isArray=typeof value==="string"&&value.split("").indexOf(options.arrayFormatSeparator)>-1;const newValue=isArray?value.split(options.arrayFormatSeparator).map(item=>decode(item,options)):value===null?value:decode(value,options);accumulator[key]=newValue};default:return(key,value,accumulator)=>{if(accumulator[key]===undefined){accumulator[key]=value;return}accumulator[key]=[].concat(accumulator[key],value)}}}function validateArrayFormatSeparator(value){if(typeof value!=="string"||value.length!==1){throw new TypeError("arrayFormatSeparator must be single character string")}}function encode(value,options){if(options.encode){return options.strict?strictUriEncode(value):encodeURIComponent(value)}return value}function decode(value,options){if(options.decode){return decodeComponent(value)}return value}function keysSorter(input){if(Array.isArray(input)){return input.sort()}if(typeof input==="object"){return keysSorter(Object.keys(input)).sort((a,b)=>Number(a)-Number(b)).map(key=>input[key])}return input}function removeHash(input){const hashStart=input.indexOf("#");if(hashStart!==-1){input=input.slice(0,hashStart)}return input}function getHash(url){let hash="";const hashStart=url.indexOf("#");if(hashStart!==-1){hash=url.slice(hashStart)}return hash}function extract(input){input=removeHash(input);const queryStart=input.indexOf("?");if(queryStart===-1){return""}return input.slice(queryStart+1)}function parseValue(value,options){if(options.parseNumbers&&!Number.isNaN(Number(value))&&(typeof value==="string"&&value.trim()!=="")){value=Number(value)}else if(options.parseBooleans&&value!==null&&(value.toLowerCase()==="true"||value.toLowerCase()==="false")){value=value.toLowerCase()==="true"}return value}function parse(input,options){options=Object.assign({decode:true,sort:true,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:false,parseBooleans:false},options);validateArrayFormatSeparator(options.arrayFormatSeparator);const formatter=parserForArrayFormat(options);const ret=Object.create(null);if(typeof input!=="string"){return ret}input=input.trim().replace(/^[?#&]/,"");if(!input){return ret}for(const param of input.split("&")){let[key,value]=splitOnFirst(options.decode?param.replace(/\+/g," "):param,"=");value=value===undefined?null:["comma","separator"].includes(options.arrayFormat)?value:decode(value,options);formatter(decode(key,options),value,ret)}for(const key of Object.keys(ret)){const value=ret[key];if(typeof value==="object"&&value!==null){for(const k of Object.keys(value)){value[k]=parseValue(value[k],options)}}else{ret[key]=parseValue(value,options)}}if(options.sort===false){return ret}return(options.sort===true?Object.keys(ret).sort():Object.keys(ret).sort(options.sort)).reduce((result,key)=>{const value=ret[key];if(Boolean(value)&&typeof value==="object"&&!Array.isArray(value)){result[key]=keysSorter(value)}else{result[key]=value}return result},Object.create(null))}exports.extract=extract;exports.parse=parse;exports.stringify=(object,options)=>{if(!object){return""}options=Object.assign({encode:true,strict:true,arrayFormat:"none",arrayFormatSeparator:","},options);validateArrayFormatSeparator(options.arrayFormatSeparator);const shouldFilter=key=>options.skipNull&&isNullOrUndefined(object[key])||options.skipEmptyString&&object[key]==="";const formatter=encoderForArrayFormat(options);const objectCopy={};for(const key of Object.keys(object)){if(!shouldFilter(key)){objectCopy[key]=object[key]}}const keys=Object.keys(objectCopy);if(options.sort!==false){keys.sort(options.sort)}return keys.map(key=>{const value=object[key];if(value===undefined){return""}if(value===null){return encode(key,options)}if(Array.isArray(value)){return value.reduce(formatter(key),[]).join("&")}return encode(key,options)+"="+encode(value,options)}).filter(x=>x.length>0).join("&")};exports.parseUrl=(input,options)=>{options=Object.assign({decode:true},options);const[url,hash]=splitOnFirst(input,"#");return Object.assign({url:url.split("?")[0]||"",query:parse(extract(input),options)},options&&options.parseFragmentIdentifier&&hash?{fragmentIdentifier:decode(hash,options)}:{})};exports.stringifyUrl=(input,options)=>{options=Object.assign({encode:true,strict:true},options);const url=removeHash(input.url).split("?")[0]||"";const queryFromUrl=exports.extract(input.url);const parsedQueryFromUrl=exports.parse(queryFromUrl,{sort:false});const query=Object.assign(parsedQueryFromUrl,input.query);let queryString=exports.stringify(query,options);if(queryString){queryString=`?${queryString}`}let hash=getHash(input.url);if(input.fragmentIdentifier){hash=`#${encode(input.fragmentIdentifier,options)}`}return`${url}${queryString}${hash}`}},function(module,exports,__webpack_require__){"use strict";module.exports=str=>encodeURIComponent(str).replace(/[!'()*]/g,x=>`%${x.charCodeAt(0).toString(16).toUpperCase()}`)},function(module,exports,__webpack_require__){"use strict";var token="%[a-f0-9]{2}";var singleMatcher=new RegExp(token,"gi");var multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(components,split){try{return decodeURIComponent(components.join(""))}catch(err){}if(components.length===1){return components}split=split||1;var left=components.slice(0,split);var right=components.slice(split);return Array.prototype.concat.call([],decodeComponents(left),decodeComponents(right))}function decode(input){try{return decodeURIComponent(input)}catch(err){var tokens=input.match(singleMatcher);for(var i=1;i<tokens.length;i++){input=decodeComponents(tokens,i).join("");tokens=input.match(singleMatcher)}return input}}function customDecodeURIComponent(input){var replaceMap={"%FE%FF":"��","%FF%FE":"��"};var match=multiMatcher.exec(input);while(match){try{replaceMap[match[0]]=decodeURIComponent(match[0])}catch(err){var result=decode(match[0]);if(result!==match[0]){replaceMap[match[0]]=result}}match=multiMatcher.exec(input)}replaceMap["%C2"]="�";var entries=Object.keys(replaceMap);for(var i=0;i<entries.length;i++){var key=entries[i];input=input.replace(new RegExp(key,"g"),replaceMap[key])}return input}module.exports=function(encodedURI){if(typeof encodedURI!=="string"){throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof encodedURI+"`")}try{encodedURI=encodedURI.replace(/\+/g," ");return decodeURIComponent(encodedURI)}catch(err){return customDecodeURIComponent(encodedURI)}}},function(module,exports,__webpack_require__){"use strict";module.exports=(string,separator)=>{if(!(typeof string==="string"&&typeof separator==="string")){throw new TypeError("Expected the arguments to be of type `string`")}if(separator===""){return[string]}const separatorIndex=string.indexOf(separator);if(separatorIndex===-1){return[string]}return[string.slice(0,separatorIndex),string.slice(separatorIndex+separator.length)]}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.defaultMemoize=defaultMemoize;exports.createSelectorCreator=createSelectorCreator;exports.createStructuredSelector=createStructuredSelector;function defaultEqualityCheck(a,b){return a===b}function areArgumentsShallowlyEqual(equalityCheck,prev,next){if(prev===null||next===null||prev.length!==next.length){return false}var length=prev.length;for(var i=0;i<length;i++){if(!equalityCheck(prev[i],next[i])){return false}}return true}function defaultMemoize(func){var equalityCheck=arguments.length>1&&arguments[1]!==undefined?arguments[1]:defaultEqualityCheck;var lastArgs=null;var lastResult=null;return function(){if(!areArgumentsShallowlyEqual(equalityCheck,lastArgs,arguments)){lastResult=func.apply(null,arguments)}lastArgs=arguments;return lastResult}}function getDependencies(funcs){var dependencies=Array.isArray(funcs[0])?funcs[0]:funcs;if(!dependencies.every((function(dep){return typeof dep==="function"}))){var dependencyTypes=dependencies.map((function(dep){return typeof dep})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, "+("instead received the following types: ["+dependencyTypes+"]"))}return dependencies}function createSelectorCreator(memoize){for(var _len=arguments.length,memoizeOptions=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){memoizeOptions[_key-1]=arguments[_key]}return function(){for(var _len2=arguments.length,funcs=Array(_len2),_key2=0;_key2<_len2;_key2++){funcs[_key2]=arguments[_key2]}var recomputations=0;var resultFunc=funcs.pop();var dependencies=getDependencies(funcs);var memoizedResultFunc=memoize.apply(undefined,[function(){recomputations++;return resultFunc.apply(null,arguments)}].concat(memoizeOptions));var selector=memoize((function(){var params=[];var length=dependencies.length;for(var i=0;i<length;i++){params.push(dependencies[i].apply(null,arguments))}return memoizedResultFunc.apply(null,params)}));selector.resultFunc=resultFunc;selector.dependencies=dependencies;selector.recomputations=function(){return recomputations};selector.resetRecomputations=function(){return recomputations=0};return selector}}var createSelector=exports.createSelector=createSelectorCreator(defaultMemoize);function createStructuredSelector(selectors){var selectorCreator=arguments.length>1&&arguments[1]!==undefined?arguments[1]:createSelector;if(typeof selectors!=="object"){throw new Error("createStructuredSelector expects first argument to be an object "+("where each property is a selector, instead received a "+typeof selectors))}var objectKeys=Object.keys(selectors);return selectorCreator(objectKeys.map((function(key){return selectors[key]})),(function(){for(var _len3=arguments.length,values=Array(_len3),_key3=0;_key3<_len3;_key3++){values[_key3]=arguments[_key3]}return values.reduce((function(composition,value,index){composition[objectKeys[index]]=value;return composition}),{})}))}},function(module,exports){ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],(function(acequire,exports,module){"use strict";exports.isDark=false;exports.cssClass="ace-tm";exports.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}';var dom=acequire("../lib/dom");dom.importCssString(exports.cssText,exports.cssClass)}))},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function createThunkMiddleware(extraArgument){return function(_ref){var dispatch=_ref.dispatch,getState=_ref.getState;return function(next){return function(action){if(typeof action==="function"){return action(dispatch,getState,extraArgument)}return next(action)}}}}var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware;exports["default"]=thunk},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"mountApp",(function(){return mountApp}));var external_kbnSharedDeps_React_=__webpack_require__(14);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ReactDom_=__webpack_require__(19);var lib=__webpack_require__(24);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(4);let breadcrumbs_setBreadcrumbs;const init=_setBreadcrumbs=>{breadcrumbs_setBreadcrumbs=_setBreadcrumbs};const listBreadcrumb=section=>({text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.homeBreadcrumbTitle",{defaultMessage:"Cross-Cluster Replication"}),href:section||"/"});const addBreadcrumb={text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.addBreadcrumbTitle",{defaultMessage:"Add"})};const editBreadcrumb={text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.editBreadcrumbTitle",{defaultMessage:"Edit"})};let _esBase;const documentation_links_init=esBase=>{_esBase=esBase};const getAutoFollowPatternUrl=()=>`${_esBase}/ccr-put-auto-follow-pattern.html`;const getFollowerIndexUrl=()=>`${_esBase}/ccr-put-follow.html`;const getByteUnitsUrl=()=>`${_esBase}/common-options.html#byte-units`;const getTimeUnitsUrl=()=>`${_esBase}/common-options.html#time-units`;var external_kbnSharedDeps_ReactRouterDom_=__webpack_require__(20);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(16);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(15);var notifications=__webpack_require__(8);function SectionLoading({children:children,dataTestSubj:dataTestSubj=""}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexStart",alignItems:"center",gutterSize:"s","data-test-subj":dataTestSubj},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"m"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"subdued"},children))))}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function SectionError(props){const{title:title,error:error,...rest}=props;const data=error.body?error.body:error;const{error:errorString,attributes:attributes,message:message}=data;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],_extends({title:title,color:"danger",iconType:"alert"},rest),external_kbnSharedDeps_React_default.a.createElement("div",null,message||errorString),attributes&&attributes.cause&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement("ul",null,attributes.cause.map((message,i)=>external_kbnSharedDeps_React_default.a.createElement("li",{key:i},message)))))}function SectionUnauthorized({title:title,children:children}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:title,color:"warning",iconType:"help"},children))}var api=__webpack_require__(7);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class remote_clusters_provider_RemoteClustersProvider extends external_kbnSharedDeps_React_["PureComponent"]{constructor(...args){super(...args);_defineProperty(this,"state",{isLoading:true,error:null,remoteClusters:[]})}componentDidMount(){this.loadRemoteClusters()}loadRemoteClusters(){const sortClusterByName=remoteClusters=>remoteClusters.sort((a,b)=>{if(a.name<b.name){return-1}if(a.name>b.name){return 1}return 0});Object(api["k"])().then(sortClusterByName).then(remoteClusters=>{this.setState({isLoading:false,remoteClusters:remoteClusters})}).catch(error=>{this.setState({isLoading:false,error:error})})}render(){const{children:children}=this.props;const{isLoading:isLoading,error:error,remoteClusters:remoteClusters}=this.state;return children({isLoading:isLoading,error:error,remoteClusters:remoteClusters})}}var public_=__webpack_require__(21);var esUiShared_public_=__webpack_require__(18);var query_string=__webpack_require__(63);var constants=__webpack_require__(0);function routing_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const queryParamsFromObject=(params,encodeParams=false)=>{if(!params){return}const paramsStr=Object(query_string["stringify"])(params,{sort:false,encode:encodeParams});return`?${paramsStr}`};class routing_Routing{constructor(){routing_defineProperty(this,"_reactRouter",null);routing_defineProperty(this,"getAutoFollowPatternPath",(name,section="/edit")=>encodeURI(`/auto_follow_patterns${section}/${encodeURIComponent(name)}`));routing_defineProperty(this,"getFollowerIndexPath",(name,section="/edit")=>encodeURI(`/follower_indices${section}/${encodeURIComponent(name)}`))}getHrefToRemoteClusters(route="/",params,encodeParams=false){const search=queryParamsFromObject(params,encodeParams)||"";return this._reactRouter.getUrlForApp("management",{path:`${constants["d"]}${route}${search}`})}navigate(route="/home",params,encodeParams=false){const search=queryParamsFromObject(params,encodeParams);this._reactRouter.history.push({pathname:encodeURI(route),search:search})}get reactRouter(){return this._reactRouter}set reactRouter(router){this._reactRouter=router}}const routing=new routing_Routing;const getFirstConnectedCluster=clusters=>{for(let i=0;i<clusters.length;i++){if(clusters[i].isConnected){return clusters[i]}}return clusters.length?clusters[0]:{}};const getRemoteClusterName=(remoteClusters,selected)=>selected&&remoteClusters.some(c=>c.name===selected)?selected:getFirstConnectedCluster(remoteClusters).name;var app_constants=__webpack_require__(1);var external_kbnSharedDeps_Moment_=__webpack_require__(22);var external_kbnSharedDeps_Moment_default=__webpack_require__.n(external_kbnSharedDeps_Moment_);const getFollowPattern=(prefix="",suffix="",template="{{leader_index}}")=>({followPattern:{prefix:prefix,suffix:suffix,template:template},toString:prefix+template+suffix});const getPreviewIndicesFromAutoFollowPattern=({prefix:prefix,suffix:suffix,leaderIndexPatterns:leaderIndexPatterns,limit:limit=5,wildcardPlaceHolders:wildcardPlaceHolders=[external_kbnSharedDeps_Moment_default()().format("YYYY-MM-DD"),external_kbnSharedDeps_Moment_default()().add(1,"days").format("YYYY-MM-DD"),external_kbnSharedDeps_Moment_default()().add(2,"days").format("YYYY-MM-DD")]})=>{const indicesPreview=[];let indexPreview;let leaderIndexTemplate;leaderIndexPatterns.forEach(leaderIndexPattern=>{wildcardPlaceHolders.forEach(placeHolder=>{leaderIndexTemplate=leaderIndexPattern.replace(/\*/g,placeHolder);indexPreview=getFollowPattern(prefix,suffix,leaderIndexTemplate);if(!indicesPreview.some(_indexPreview=>indexPreview.toString===_indexPreview.toString)){indicesPreview.push(indexPreview)}})});return{indicesPreview:indicesPreview.slice(0,limit),hasMore:indicesPreview.length>limit}};const getPrefixSuffixFromFollowPattern=followPattern=>{let followIndexPatternPrefix;let followIndexPatternSuffix;const template="{{leader_index}}";const index=followPattern.indexOf(template);if(index>=0){followIndexPatternPrefix=followPattern.slice(0,index);followIndexPatternSuffix=followPattern.slice(index+template.length)}return{followIndexPatternPrefix:followIndexPatternPrefix,followIndexPatternSuffix:followIndexPatternSuffix}};const AutoFollowPatternIndicesPreview=({prefix:prefix,suffix:suffix,leaderIndexPatterns:leaderIndexPatterns})=>{const{indicesPreview:indicesPreview}=getPreviewIndicesFromAutoFollowPattern({prefix:prefix,suffix:suffix,leaderIndexPatterns:leaderIndexPatterns});const title=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPatternForm.indicesPreviewTitle",{defaultMessage:"Index name examples"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:title,iconType:"indexMapping","data-test-subj":"autoFollowPatternIndicesPreview"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.indicesPreviewDescription",defaultMessage:"The above settings will generate index names that look like this:"}),external_kbnSharedDeps_React_default.a.createElement("ul",null,indicesPreview.map(({followPattern:{prefix:prefix,suffix:suffix,template:template}},i)=>external_kbnSharedDeps_React_default.a.createElement("li",{key:i,"data-test-subj":"indexPreview"},prefix,external_kbnSharedDeps_React_default.a.createElement("strong",null,template),suffix))))};function remote_clusters_form_field_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const remote_clusters_form_field_errorMessages={noClusterFound:()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.remoteClustersFormField.emptyRemoteClustersCallOutDescription",defaultMessage:"You need at least one remote cluster to create a follower index."}),remoteClusterNotConnectedEditable:name=>({title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.remoteClustersFormField.currentRemoteClusterNotConnectedCallOutTitle",defaultMessage:"Remote cluster '{name}' is not connected",values:{name:name}}),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.remoteClustersFormField.currentRemoteClusterNotConnectedCallOutDescription",defaultMessage:"Edit the remote cluster or select a cluster that is connected."})})};class remote_clusters_form_field_RemoteClustersFormField extends external_kbnSharedDeps_React_["PureComponent"]{constructor(...args){super(...args);remote_clusters_form_field_defineProperty(this,"errorMessages",{...remote_clusters_form_field_errorMessages,...this.props.errorMessages});remote_clusters_form_field_defineProperty(this,"onRemoteClusterChange",cluster=>{const{onChange:onChange,onError:onError}=this.props;const{error:error}=this.validateRemoteCluster(cluster);onChange(cluster);onError(error)});remote_clusters_form_field_defineProperty(this,"renderNotEditable",()=>{const{areErrorsVisible:areErrorsVisible}=this.props;const errorMessage=this.renderErrorMessage();return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldText"],{value:this.props.selected,fullWidth:true,disabled:true,isInvalid:areErrorsVisible&&Boolean(errorMessage),"data-test-subj":"remoteClusterInput"}),areErrorsVisible&&Boolean(errorMessage)?this.renderValidRemoteClusterRequired():null,errorMessage)});remote_clusters_form_field_defineProperty(this,"renderValidRemoteClusterRequired",()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormErrorText"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.remoteClustersFormField.validRemoteClusterRequired",defaultMessage:"A connected remote cluster is required."})));remote_clusters_form_field_defineProperty(this,"renderDropdown",()=>{const{remoteClusters:remoteClusters,selected:selected,currentUrl:currentUrl,areErrorsVisible:areErrorsVisible}=this.props;const hasClusters=Boolean(remoteClusters.length);const remoteClustersOptions=hasClusters?remoteClusters.map(({name:name,isConnected:isConnected})=>({value:name,text:isConnected?name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.remoteClustersFormField.remoteClusterDropdownNotConnected",{defaultMessage:"{name} (not connected)",values:{name:name}}),"data-test-subj":`option-${name}`})):[];const errorMessage=this.renderErrorMessage();return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],{fullWidth:true,options:remoteClustersOptions,value:hasClusters?selected:"",onChange:e=>{this.onRemoteClusterChange(e.target.value)},hasNoInitialSelection:!hasClusters,isInvalid:areErrorsVisible&&Boolean(errorMessage),"data-test-subj":"remoteClusterSelect"}),areErrorsVisible&&Boolean(errorMessage)?this.renderValidRemoteClusterRequired():null,errorMessage,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement("div",null," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{href:routing.getHrefToRemoteClusters("/add",{redirect:`/data/cross_cluster_replication${currentUrl}`},true),size:"s",iconType:"plusInCircle",flush:"left","data-test-subj":"addButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.remoteClustersFormField.addRemoteClusterButtonLabel",defaultMessage:"Add remote cluster"}))))});remote_clusters_form_field_defineProperty(this,"renderNoClusterFound",()=>{const{currentUrl:currentUrl}=this.props;const title=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.remoteClustersFormField.emptyRemoteClustersCallOutTitle",{defaultMessage:`You don't have any remote clusters`});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:title,color:"danger",iconType:"cross","data-test-subj":"noClusterFoundError"},external_kbnSharedDeps_React_default.a.createElement("p",null,this.errorMessages.noClusterFound()),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{href:routing.getHrefToRemoteClusters("/add",{redirect:`/data/cross_cluster_replication${currentUrl}`},true),iconType:"plusInCircle",color:"danger","data-test-subj":"addButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.remoteClustersFormField.addRemoteClusterButtonLabel",defaultMessage:"Add remote cluster"}))))});remote_clusters_form_field_defineProperty(this,"renderCurrentRemoteClusterNotConnected",(name,fatal)=>{const{isEditable:isEditable,currentUrl:currentUrl}=this.props;const{remoteClusterNotConnectedEditable:remoteClusterNotConnectedEditable,remoteClusterNotConnectedNotEditable:remoteClusterNotConnectedNotEditable}=this.errorMessages;const{title:title,description:description}=isEditable?remoteClusterNotConnectedEditable(name):remoteClusterNotConnectedNotEditable(name);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:title,color:fatal?"danger":"warning",iconType:"cross","data-test-subj":"notConnectedError"},external_kbnSharedDeps_React_default.a.createElement("p",null,description),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{href:routing.getHrefToRemoteClusters(`/edit/${name}`,{redirect:`/data/cross_cluster_replication${currentUrl}`},true),color:fatal?"danger":"warning","data-test-subj":"editButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.remoteClustersFormField.viewRemoteClusterButtonLabel",defaultMessage:"Edit remote cluster"})))});remote_clusters_form_field_defineProperty(this,"renderRemoteClusterDoesNotExist",name=>{const{currentUrl:currentUrl}=this.props;const title=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.remoteClustersFormField.remoteClusterNotFoundTitle",{defaultMessage:`Couldn't find remote cluster '{name}'`,values:{name:name}});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:title,color:"danger",iconType:"cross"},external_kbnSharedDeps_React_default.a.createElement("p",null,this.errorMessages.remoteClusterDoesNotExist(name)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{href:routing.getHrefToRemoteClusters(`/add`,{redirect:`/data/cross_cluster_replication${currentUrl}`},true),iconType:"plusInCircle",color:"danger","data-test-subj":"addButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.remoteClustersFormField.addRemoteClusterButtonLabel",defaultMessage:"Add remote cluster"})))});remote_clusters_form_field_defineProperty(this,"renderErrorMessage",()=>{const{selected:selected,remoteClusters:remoteClusters,isEditable:isEditable}=this.props;const remoteCluster=remoteClusters.find(c=>c.name===selected);const isSelectedRemoteClusterConnected=remoteCluster&&remoteCluster.isConnected;let error;if(isEditable){const hasClusters=Boolean(remoteClusters.length);if(hasClusters&&!isSelectedRemoteClusterConnected){error=this.renderCurrentRemoteClusterNotConnected(selected)}else if(!hasClusters){error=this.renderNoClusterFound()}}else{const doesExists=!!remoteCluster;if(!doesExists){error=this.renderRemoteClusterDoesNotExist(selected)}else if(!isSelectedRemoteClusterConnected){error=this.renderCurrentRemoteClusterNotConnected(selected,true)}}return error?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),error):null})}componentDidMount(){const{selected:selected,onError:onError}=this.props;const{error:error}=this.validateRemoteCluster(selected);onError(error)}validateRemoteCluster(clusterName){const{remoteClusters:remoteClusters}=this.props;const remoteCluster=remoteClusters.find(c=>c.name===clusterName);return remoteCluster&&remoteCluster.isConnected?{error:null}:{error:{message:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.remoteClustersFormField.invalidRemoteClusterError",defaultMessage:"Invalid remote cluster"})}}}render(){const{remoteClusters:remoteClusters,selected:selected,isEditable:isEditable,areErrorsVisible:areErrorsVisible}=this.props;const remoteCluster=remoteClusters.find(c=>c.name===selected);const hasClusters=Boolean(remoteClusters.length);const isSelectedRemoteClusterConnected=remoteCluster&&remoteCluster.isConnected;const isInvalid=areErrorsVisible&&(!hasClusters||!isSelectedRemoteClusterConnected);let field;if(isEditable){if(hasClusters){field=this.renderDropdown()}else{field=this.renderErrorMessage()}}else{field=this.renderNotEditable()}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.remoteClustersFormField.fieldClusterLabel",defaultMessage:"Remote cluster"}),isInvalid:isInvalid,fullWidth:true,"data-test-subj":"remoteClusterFormField"},field)}}const{indexNameBeginsWithPeriod:indexNameBeginsWithPeriod,findIllegalCharactersInIndexName:findIllegalCharactersInIndexName,indexNameContainsSpaces:indexNameContainsSpaces}=esUiShared_public_["indices"];const validateName=(name="")=>{let errorMsg=null;if(!name||!name.trim()){errorMsg=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPattern.nameValidation.errorEmptyName",{defaultMessage:"Name is required."})}else{if(name.includes(" ")){errorMsg=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPattern.nameValidation.errorSpace",{defaultMessage:"Spaces are not allowed in the name."})}if(name[0]==="_"){errorMsg=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPattern.nameValidation.errorUnderscore",{defaultMessage:`Name can't begin with an underscore.`})}if(name.includes(",")){errorMsg=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPattern.nameValidation.errorComma",{defaultMessage:"Commas are not allowed in the name."})}}return errorMsg};const validateLeaderIndexPattern=indexPattern=>{if(indexPattern){const errors=public_["indexPatterns"].validate(indexPattern);if(errors[public_["indexPatterns"].ILLEGAL_CHARACTERS_KEY]){return{message:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPattern.leaderIndexPatternValidation.illegalCharacters",defaultMessage:"Remove the {characterListLength, plural, one {character} other {characters}} {characterList} from the index pattern.",values:{characterList:external_kbnSharedDeps_React_default.a.createElement("strong",null,errors[public_["indexPatterns"].ILLEGAL_CHARACTERS_KEY].join(" ")),characterListLength:errors[public_["indexPatterns"].ILLEGAL_CHARACTERS_KEY].length}})}}if(errors[public_["indexPatterns"].CONTAINS_SPACES_KEY]){return{message:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPattern.leaderIndexPatternValidation.noEmptySpace",defaultMessage:"Spaces are not allowed in the index pattern."})}}}if(!indexPattern||!indexPattern.trim()){return{message:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPattern.leaderIndexPatternValidation.isEmpty",{defaultMessage:"At least one leader index pattern is required."})}}return null};const validateLeaderIndexPatterns=indexPatterns=>{if(!indexPatterns.length){return{message:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPattern.leaderIndexPatternValidation.isEmpty",{defaultMessage:"At least one leader index pattern is required."})}}return null};const validatePrefix=prefix=>{if(!prefix||!prefix.trim()){return null}if(indexNameBeginsWithPeriod(prefix)){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPattern.prefixValidation.beginsWithPeriod",defaultMessage:"The prefix can't begin with a period."})}const illegalCharacters=findIllegalCharactersInIndexName(prefix);if(illegalCharacters.length){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPattern.prefixValidation.illegalCharacters",defaultMessage:"Remove the {characterListLength, plural, one {character} other {characters}} {characterList} from the prefix.",values:{characterList:external_kbnSharedDeps_React_default.a.createElement("strong",null,illegalCharacters.join(" ")),characterListLength:illegalCharacters.length}})}if(indexNameContainsSpaces(prefix)){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPattern.prefixValidation.noEmptySpace",defaultMessage:"Spaces are not allowed in the prefix."})}return null};const validateSuffix=suffix=>{if(!suffix||!suffix.trim()){return null}const illegalCharacters=findIllegalCharactersInIndexName(suffix);if(illegalCharacters.length){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPattern.suffixValidation.illegalCharacters",defaultMessage:"Remove the {characterListLength, plural, one {character} other {characters}} {characterList} from the suffix.",values:{characterList:external_kbnSharedDeps_React_default.a.createElement("strong",null,illegalCharacters.join(" ")),characterListLength:illegalCharacters.length}})}if(indexNameContainsSpaces(suffix)){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPattern.suffixValidation.noEmptySpace",defaultMessage:"Spaces are not allowed in the suffix."})}return null};const validateAutoFollowPattern=(autoFollowPattern={})=>{const errors={};let error=null;let fieldValue;Object.keys(autoFollowPattern).forEach(fieldName=>{fieldValue=autoFollowPattern[fieldName];error=null;switch(fieldName){case"name":error=validateName(fieldValue);break;case"leaderIndexPatterns":error=validateLeaderIndexPatterns(fieldValue);break;case"followIndexPatternPrefix":error=validatePrefix(fieldValue);break;case"followIndexPatternSuffix":error=validateSuffix(fieldValue);break}errors[fieldName]=error});return errors};const deserializeAutoFollowPattern=autoFollowPattern=>{const{name:name,pattern:{active:active,remote_cluster:remoteCluster,leader_index_patterns:leaderIndexPatterns,follow_index_pattern:followIndexPattern}}=autoFollowPattern;return{name:name,active:active,remoteCluster:remoteCluster,leaderIndexPatterns:leaderIndexPatterns,followIndexPattern:followIndexPattern}};const deserializeListAutoFollowPatterns=autoFollowPatterns=>autoFollowPatterns.map(deserializeAutoFollowPattern);const serializeAutoFollowPattern=({remoteCluster:remoteCluster,leaderIndexPatterns:leaderIndexPatterns,followIndexPattern:followIndexPattern})=>({remote_cluster:remoteCluster,leader_index_patterns:leaderIndexPatterns,follow_index_pattern:followIndexPattern});class auto_follow_pattern_request_flyout_AutoFollowPatternRequestFlyout extends external_kbnSharedDeps_React_["PureComponent"]{render(){const{name:name,autoFollowPattern:autoFollowPattern,close:close,isNew:isNew}=this.props;const endpoint=`PUT /_ccr/auto_follow/${name?name:"<autoFollowPatternName>"}`;const payload=JSON.stringify(serializeAutoFollowPattern(autoFollowPattern),null,2);const request=`${endpoint}\n${payload}`;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyout"],{maxWidth:480,onClose:close},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutHeader"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],null,external_kbnSharedDeps_React_default.a.createElement("h2",null,name?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.requestFlyout.namedTitle",defaultMessage:"Request for '{name}'",values:{name:name}}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.requestFlyout.unnamedTitle",defaultMessage:"Request"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,isNew?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.requestFlyout.createDescriptionText",defaultMessage:"This Elasticsearch request will create this auto-follow pattern."}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.requestFlyout.editDescriptionText",defaultMessage:"This Elasticsearch request will update this auto-follow pattern."}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],{language:"json",isCopyable:true},request)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutFooter"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{iconType:"cross",onClick:close,flush:"left"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.requestFlyout.closeButtonLabel",defaultMessage:"Close"}))))}}function auto_follow_pattern_form_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const indexPatternIllegalCharacters=public_["indexPatterns"].ILLEGAL_CHARACTERS_VISIBLE.join(" ");const indexNameIllegalCharacters=esUiShared_public_["indices"].INDEX_ILLEGAL_CHARACTERS_VISIBLE.join(" ");const getEmptyAutoFollowPattern=(remoteClusterName="")=>({name:"",remoteCluster:remoteClusterName,leaderIndexPatterns:[],followIndexPatternPrefix:"",followIndexPatternSuffix:""});const updateFormErrors=(errors,existingErrors)=>({fieldsErrors:{...existingErrors,...errors}});class auto_follow_pattern_form_AutoFollowPatternForm extends external_kbnSharedDeps_React_["PureComponent"]{constructor(props){super(props);auto_follow_pattern_form_defineProperty(this,"toggleRequest",()=>{this.setState(({isRequestVisible:isRequestVisible})=>({isRequestVisible:!isRequestVisible}))});auto_follow_pattern_form_defineProperty(this,"onFieldsChange",fields=>{this.setState(({autoFollowPattern:autoFollowPattern})=>({autoFollowPattern:{...autoFollowPattern,...fields}}));const errors=validateAutoFollowPattern(fields);this.onFieldsErrorChange(errors)});auto_follow_pattern_form_defineProperty(this,"onFieldsErrorChange",errors=>this.setState(({fieldsErrors:fieldsErrors})=>updateFormErrors(errors,fieldsErrors)));auto_follow_pattern_form_defineProperty(this,"onClusterChange",remoteCluster=>{this.onFieldsChange({remoteCluster:remoteCluster})});auto_follow_pattern_form_defineProperty(this,"onCreateLeaderIndexPattern",indexPattern=>{const error=validateLeaderIndexPattern(indexPattern);if(error){const errors={leaderIndexPatterns:{...error,alwaysVisible:true}};this.setState(({fieldsErrors:fieldsErrors})=>updateFormErrors(errors,fieldsErrors));return false}const{autoFollowPattern:{leaderIndexPatterns:leaderIndexPatterns}}=this.state;const newLeaderIndexPatterns=[...leaderIndexPatterns,indexPattern];this.onFieldsChange({leaderIndexPatterns:newLeaderIndexPatterns})});auto_follow_pattern_form_defineProperty(this,"onLeaderIndexPatternChange",indexPatterns=>{this.onFieldsChange({leaderIndexPatterns:indexPatterns.map(({label:label})=>label)})});auto_follow_pattern_form_defineProperty(this,"onLeaderIndexPatternInputChange",leaderIndexPattern=>{const isEmpty=!leaderIndexPattern||!leaderIndexPattern.trim();const{autoFollowPattern:{leaderIndexPatterns:leaderIndexPatterns}}=this.state;if(!isEmpty&&leaderIndexPatterns.includes(leaderIndexPattern)){const errorMsg=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPatternForm.leaderIndexPatternError.duplicateMessage",{defaultMessage:`Duplicate leader index pattern aren't allowed.`});const errors={leaderIndexPatterns:{message:errorMsg,alwaysVisible:true}};this.setState(({fieldsErrors:fieldsErrors})=>updateFormErrors(errors,fieldsErrors))}else{this.setState(({fieldsErrors:fieldsErrors,autoFollowPattern:{leaderIndexPatterns:leaderIndexPatterns}})=>{const errors=Boolean(leaderIndexPatterns.length)?validateAutoFollowPattern({leaderIndexPatterns:leaderIndexPatterns}):validateAutoFollowPattern({leaderIndexPatterns:[leaderIndexPattern]});return updateFormErrors(errors,fieldsErrors)})}});auto_follow_pattern_form_defineProperty(this,"getFields",()=>{const{autoFollowPattern:stateFields}=this.state;const{followIndexPatternPrefix:followIndexPatternPrefix,followIndexPatternSuffix:followIndexPatternSuffix,...rest}=stateFields;return{...rest,followIndexPattern:`${followIndexPatternPrefix}{{leader_index}}${followIndexPatternSuffix}`}});auto_follow_pattern_form_defineProperty(this,"sendForm",()=>{const isFormValid=this.isFormValid();if(!isFormValid){this.setState({areErrorsVisible:true});return}this.setState({areErrorsVisible:false});const{name:name,...autoFollowPattern}=this.getFields();this.props.saveAutoFollowPattern(name,autoFollowPattern)});auto_follow_pattern_form_defineProperty(this,"cancelForm",()=>{routing.navigate("/auto_follow_patterns")});auto_follow_pattern_form_defineProperty(this,"renderForm",()=>{const{autoFollowPattern:{name:name,remoteCluster:remoteCluster,leaderIndexPatterns:leaderIndexPatterns,followIndexPatternPrefix:followIndexPatternPrefix,followIndexPatternSuffix:followIndexPatternSuffix},isNew:isNew,areErrorsVisible:areErrorsVisible,fieldsErrors:fieldsErrors}=this.state;const renderAutoFollowPatternName=()=>{const isInvalid=areErrorsVisible&&!!fieldsErrors.name;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescribedFormGroup"],{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h4",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionAutoFollowPatternNameTitle",defaultMessage:"Name"}))),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionAutoFollowPatternNameDescription",defaultMessage:"A unique name for the auto-follow pattern."}),fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.autoFollowPatternName.fieldNameLabel",defaultMessage:"Name"}),error:fieldsErrors.name,isInvalid:isInvalid,fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldText"],{isInvalid:isInvalid,value:name,onChange:e=>this.onFieldsChange({name:e.target.value}),fullWidth:true,disabled:!isNew,"data-test-subj":"nameInput"})))};const renderRemoteClusterField=()=>{const{remoteClusters:remoteClusters,currentUrl:currentUrl}=this.props;const errorMessages={noClusterFound:()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.emptyRemoteClustersCallOutDescription",defaultMessage:"Auto-follow patterns capture indices on remote clusters."}),remoteClusterNotConnectedNotEditable:name=>({title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.currentRemoteClusterNotConnectedCallOutTitle",defaultMessage:"Can't edit auto-follow pattern because remote cluster '{name}' is not connected",values:{name:name}}),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.currentRemoteClusterNotConnectedCallOutDescription",defaultMessage:"You can address this by editing the remote cluster."})}),remoteClusterDoesNotExist:name=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.currentRemoteClusterNotFoundCallOutDescription",defaultMessage:"To edit this auto-follow pattern, you must add a remote cluster named '{name}'.",values:{name:name}})};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescribedFormGroup"],{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h4",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionRemoteClusterTitle",defaultMessage:"Remote cluster"}))),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionRemoteClusterDescription",defaultMessage:"The remote cluster to replicate leader indices from."}),fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(remote_clusters_form_field_RemoteClustersFormField,{selected:remoteCluster?remoteCluster:null,remoteClusters:remoteClusters,currentUrl:currentUrl,isEditable:isNew,areErrorsVisible:areErrorsVisible,onChange:this.onClusterChange,onError:error=>this.onFieldsErrorChange({remoteCluster:error}),errorMessages:errorMessages}))};const renderLeaderIndexPatterns=()=>{const hasError=!!(fieldsErrors.leaderIndexPatterns&&fieldsErrors.leaderIndexPatterns.message);const isInvalid=hasError&&(fieldsErrors.leaderIndexPatterns.alwaysVisible||areErrorsVisible);const formattedLeaderIndexPatterns=leaderIndexPatterns.map(pattern=>({label:pattern}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescribedFormGroup"],{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h4",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionLeaderIndexPatternsTitle",defaultMessage:"Leader indices"}))),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionLeaderIndexPatternsDescription1",defaultMessage:"One or more index patterns that identify the indices you want to replicate from the remote cluster. As new indices matching these patterns are created, they are replicated to follower indices on the local cluster."})),external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionLeaderIndexPatternsDescription2",defaultMessage:"{note} Indices that already exist are not replicated.",values:{note:external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionLeaderIndexPatternsDescription2.noteLabel",defaultMessage:"Note:"}))}}))),fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.fieldLeaderIndexPatternsLabel",defaultMessage:"Index patterns"}),helpText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.fieldLeaderIndexPatternsHelpLabel",defaultMessage:"Spaces and the characters {characterList} are not allowed.",values:{characterList:external_kbnSharedDeps_React_default.a.createElement("strong",null,indexPatternIllegalCharacters)}}),isInvalid:isInvalid,error:fieldsErrors.leaderIndexPatterns&&fieldsErrors.leaderIndexPatterns.message,fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiComboBox"],{noSuggestions:true,placeholder:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPatternForm.fieldLeaderIndexPatternsPlaceholder",{defaultMessage:"Type and then hit ENTER"}),selectedOptions:formattedLeaderIndexPatterns,onCreateOption:this.onCreateLeaderIndexPattern,onChange:this.onLeaderIndexPatternChange,onSearchChange:this.onLeaderIndexPatternInputChange,fullWidth:true,"data-test-subj":"indexPatternInput"})))};const renderAutoFollowPatternPrefixSuffix=()=>{const isPrefixInvalid=areErrorsVisible&&!!fieldsErrors.followIndexPatternPrefix;const isSuffixInvalid=areErrorsVisible&&!!fieldsErrors.followIndexPatternSuffix;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescribedFormGroup"],{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h4",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionAutoFollowPatternTitle",defaultMessage:"Follower indices (optional)"}))),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionAutoFollowPatternDescription",defaultMessage:"A custom prefix or suffix to apply to the names of the follower indices so you can more easily identify replicated indices. By default, a follower index has the same name as the leader index."}),fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.autoFollowPattern.fieldPrefixLabel",defaultMessage:"Prefix"}),error:fieldsErrors.followIndexPatternPrefix,isInvalid:isPrefixInvalid,fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldText"],{isInvalid:isPrefixInvalid,value:followIndexPatternPrefix,onChange:e=>this.onFieldsChange({followIndexPatternPrefix:e.target.value}),fullWidth:true,"data-test-subj":"prefixInput"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.autoFollowPattern.fieldSuffixLabel",defaultMessage:"Suffix"}),error:fieldsErrors.followIndexPatternSuffix,isInvalid:isSuffixInvalid,fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldText"],{isInvalid:isSuffixInvalid,value:followIndexPatternSuffix,onChange:e=>this.onFieldsChange({followIndexPatternSuffix:e.target.value}),fullWidth:true,"data-test-subj":"suffixInput"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormHelpText"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.fieldFollowerIndicesHelpLabel",defaultMessage:"Spaces and the characters {characterList} are not allowed.",values:{characterList:external_kbnSharedDeps_React_default.a.createElement("strong",null,indexNameIllegalCharacters)}})),!!leaderIndexPatterns.length&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(AutoFollowPatternIndicesPreview,{prefix:followIndexPatternPrefix,suffix:followIndexPatternSuffix,leaderIndexPatterns:leaderIndexPatterns})))};const renderFormErrorWarning=()=>{const{areErrorsVisible:areErrorsVisible}=this.state;const isFormValid=this.isFormValid();if(!areErrorsVisible||isFormValid){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.validationErrorTitle",defaultMessage:"Fix errors before continuing."}),color:"danger",iconType:"cross","data-test-subj":"formError"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}))};const renderActions=()=>{const{apiStatus:apiStatus,saveButtonLabel:saveButtonLabel}=this.props;const{areErrorsVisible:areErrorsVisible,isRequestVisible:isRequestVisible}=this.state;if(apiStatus===app_constants["a"].SAVING){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexStart",gutterSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"l"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.actions.savingText",defaultMessage:"Saving"}))))}const isSaveDisabled=areErrorsVisible&&!this.isFormValid();return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"m",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{color:"secondary",iconType:"check",onClick:this.sendForm,fill:true,disabled:isSaveDisabled,"data-test-subj":"submitButton"},saveButtonLabel)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{color:"primary",onClick:this.cancelForm},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.cancelButtonLabel",defaultMessage:"Cancel","data-test-subj":"cancelButton"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{onClick:this.toggleRequest},isRequestVisible?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternForm.hideRequestButtonLabel",defaultMessage:"Hide request"}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternFormm.showRequestButtonLabel",defaultMessage:"Show request"}))))};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiForm"],{"data-test-subj":"autoFollowPatternForm"},renderAutoFollowPatternName(),renderRemoteClusterField(),renderLeaderIndexPatterns(),renderAutoFollowPatternPrefixSuffix()),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),renderFormErrorWarning(),this.renderApiErrors(),renderActions())});auto_follow_pattern_form_defineProperty(this,"renderLoading",()=>{const{apiStatus:apiStatus}=this.props;if(apiStatus===app_constants["a"].SAVING){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiOverlayMask"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingKibana"],{size:"xl"}))}return null});const _isNew=this.props.autoFollowPattern===undefined;const{route:{location:{search:search}}}=routing.reactRouter;const queryParams=Object(esUiShared_public_["extractQueryParams"])(search);const remoteClusterName=getRemoteClusterName(this.props.remoteClusters,queryParams.cluster);const _autoFollowPattern=_isNew?getEmptyAutoFollowPattern(remoteClusterName):{...this.props.autoFollowPattern};this.state={autoFollowPattern:_autoFollowPattern,fieldsErrors:validateAutoFollowPattern(_autoFollowPattern),areErrorsVisible:false,isNew:_isNew,isRequestVisible:false}}isFormValid(){return Object.values(this.state.fieldsErrors).every(error=>error===undefined||error===null)}renderApiErrors(){const{apiError:apiError}=this.props;if(apiError){const title=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPatternForm.savingErrorTitle",{defaultMessage:`Can't create auto-follow pattern`});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(SectionError,{title:title,error:apiError,"data-test-subj":"apiError"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}))}return null}render(){const{autoFollowPattern:autoFollowPattern,isRequestVisible:isRequestVisible,isNew:isNew}=this.state;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,this.renderForm(),this.renderLoading(),isRequestVisible?external_kbnSharedDeps_React_default.a.createElement(auto_follow_pattern_request_flyout_AutoFollowPatternRequestFlyout,{name:autoFollowPattern.name,autoFollowPattern:this.getFields(),isNew:isNew,close:()=>this.setState({isRequestVisible:false})}):null)}}const API="API";const API_REQUEST_START="API_REQUEST_START";const API_REQUEST_END="API_REQUEST_END";const API_ERROR_SET="API_ERROR_SET";const AUTO_FOLLOW_PATTERN_SELECT_DETAIL="AUTO_FOLLOW_PATTERN_SELECT_DETAIL";const AUTO_FOLLOW_PATTERN_SELECT_EDIT="AUTO_FOLLOW_PATTERN_SELECT_EDIT";const AUTO_FOLLOW_PATTERN_LOAD="AUTO_FOLLOW_PATTERN_LOAD";const AUTO_FOLLOW_PATTERN_GET="AUTO_FOLLOW_PATTERN_GET";const AUTO_FOLLOW_PATTERN_CREATE="AUTO_FOLLOW_PATTERN_CREATE";const AUTO_FOLLOW_PATTERN_UPDATE="AUTO_FOLLOW_PATTERN_UPDATE";const AUTO_FOLLOW_PATTERN_DELETE="AUTO_FOLLOW_PATTERN_DELETE";const AUTO_FOLLOW_PATTERN_PAUSE="AUTO_FOLLOW_PATTERN_PAUSE";const AUTO_FOLLOW_PATTERN_RESUME="AUTO_FOLLOW_PATTERN_RESUME";const FOLLOWER_INDEX_SELECT_DETAIL="FOLLOWER_INDEX_SELECT_DETAIL";const FOLLOWER_INDEX_SELECT_EDIT="FOLLOWER_INDEX_SELECT_EDIT";const FOLLOWER_INDEX_LOAD="FOLLOWER_INDEX_LOAD";const FOLLOWER_INDEX_GET="FOLLOWER_INDEX_GET";const FOLLOWER_INDEX_CREATE="FOLLOWER_INDEX_CREATE";const FOLLOWER_INDEX_PAUSE="FOLLOWER_INDEX_PAUSE";const FOLLOWER_INDEX_RESUME="FOLLOWER_INDEX_RESUME";const FOLLOWER_INDEX_UNFOLLOW="FOLLOWER_INDEX_UNFOLLOW";const AUTO_FOLLOW_STATS_LOAD="AUTO_FOLLOW_STATS_LOAD";const apiRequestStart=({label:label,scope:scope,status:status=app_constants["a"].LOADING})=>({type:API_REQUEST_START,payload:{label:label,scope:scope,status:status}});const apiRequestEnd=({label:label,scope:scope})=>({type:API_REQUEST_END,payload:{label:label,scope:scope}});const setApiError=({error:error,scope:scope})=>({type:API_ERROR_SET,payload:{error:error,scope:scope}});const api_clearApiError=scope=>({type:API_ERROR_SET,payload:{error:null,scope:scope}});const sendApiRequest=({label:label,scope:scope,status:status,handler:handler,onSuccess:onSuccess=(()=>undefined),onError:onError=(()=>undefined)})=>async(dispatch,getState)=>{dispatch(api_clearApiError(scope));dispatch(apiRequestStart({label:label,scope:scope,status:status}));try{const response=await handler(dispatch);dispatch(apiRequestEnd({label:label,scope:scope}));dispatch({type:`${label}_SUCCESS`,payload:response});onSuccess(response,dispatch,getState)}catch(error){dispatch(apiRequestEnd({label:label,scope:scope}));dispatch(setApiError({error:error,scope:scope}));dispatch({type:`${label}_FAILURE`,payload:error});onError(error,dispatch,getState)}};var reselect_lib=__webpack_require__(67);const objectToArray=obj=>Object.keys(obj).map(k=>({...obj[k],__id__:k}));const arrayToObject=(array,keyProp="id")=>array.reduce((acc,item)=>{acc[item[keyProp]]=item;return acc},{});const getApiState=state=>state.api;const getApiStatus=scope=>Object(reselect_lib["createSelector"])(getApiState,apiState=>apiState.status[scope]||app_constants["a"].IDLE);const getApiError=scope=>Object(reselect_lib["createSelector"])(getApiState,apiState=>apiState.error[scope]);const isApiAuthorized=scope=>Object(reselect_lib["createSelector"])(getApiError(scope),error=>{if(!error){return true}return error.status!==403});const getStatsState=state=>state.stats;const getAutoFollowStats=Object(reselect_lib["createSelector"])(getStatsState,statsState=>statsState.autoFollow);const getAutoFollowPatternState=state=>state.autoFollowPattern;const getAutoFollowPatterns=Object(reselect_lib["createSelector"])(getAutoFollowPatternState,autoFollowPatternsState=>autoFollowPatternsState.byId);const getSelectedAutoFollowPatternId=(view="detail")=>Object(reselect_lib["createSelector"])(getAutoFollowPatternState,autoFollowPatternsState=>view==="detail"?autoFollowPatternsState.selectedDetailId:autoFollowPatternsState.selectedEditId);const getSelectedAutoFollowPattern=(view="detail")=>Object(reselect_lib["createSelector"])(getAutoFollowPatternState,getAutoFollowStats,(autoFollowPatternsState,autoFollowStatsState)=>{const propId=view==="detail"?"selectedDetailId":"selectedEditId";if(!autoFollowPatternsState[propId]){return null}const id=autoFollowPatternsState[propId];const autoFollowPattern=autoFollowPatternsState.byId[id];const errors=autoFollowStatsState&&autoFollowStatsState.recentAutoFollowErrors[id]||[];return autoFollowPattern?{...autoFollowPattern,errors:errors}:null});const getListAutoFollowPatterns=Object(reselect_lib["createSelector"])(getAutoFollowPatterns,autoFollowPatterns=>objectToArray(autoFollowPatterns));const getFollowerIndexState=state=>state.followerIndex;const getFollowerIndices=Object(reselect_lib["createSelector"])(getFollowerIndexState,followerIndexState=>followerIndexState.byId);const getSelectedFollowerIndexId=(view="detail")=>Object(reselect_lib["createSelector"])(getFollowerIndexState,followerIndexState=>view==="detail"?followerIndexState.selectedDetailId:followerIndexState.selectedEditId);const getSelectedFollowerIndex=(view="detail")=>Object(reselect_lib["createSelector"])(getFollowerIndexState,followerIndexState=>{const propId=view==="detail"?"selectedDetailId":"selectedEditId";if(!followerIndexState[propId]){return null}return followerIndexState.byId[followerIndexState[propId]]});const getListFollowerIndices=Object(reselect_lib["createSelector"])(getFollowerIndices,followerIndices=>objectToArray(followerIndices));const{AUTO_FOLLOW_PATTERN:auto_follow_pattern_scope}=app_constants["b"];const selectDetailAutoFollowPattern=id=>({type:AUTO_FOLLOW_PATTERN_SELECT_DETAIL,payload:id});const selectEditAutoFollowPattern=id=>({type:AUTO_FOLLOW_PATTERN_SELECT_EDIT,payload:id});const auto_follow_pattern_loadAutoFollowPatterns=(isUpdating=false)=>sendApiRequest({label:AUTO_FOLLOW_PATTERN_LOAD,scope:auto_follow_pattern_scope,status:isUpdating?app_constants["a"].UPDATING:app_constants["a"].LOADING,handler:async()=>await Object(api["f"])(isUpdating)});const getAutoFollowPattern=id=>sendApiRequest({label:AUTO_FOLLOW_PATTERN_GET,scope:`${auto_follow_pattern_scope}-get`,handler:async()=>await Object(api["d"])(id)});const auto_follow_pattern_saveAutoFollowPattern=(id,autoFollowPattern,isUpdating=false)=>sendApiRequest({label:isUpdating?AUTO_FOLLOW_PATTERN_UPDATE:AUTO_FOLLOW_PATTERN_CREATE,status:app_constants["a"].SAVING,scope:`${auto_follow_pattern_scope}-save`,handler:async()=>{if(isUpdating){return await Object(api["r"])(id,autoFollowPattern)}return await Object(api["a"])({id:id,...autoFollowPattern})},onSuccess(){const successMessage=isUpdating?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPattern.updateAction.successNotificationTitle",{defaultMessage:`Auto-follow pattern '{name}' updated successfully`,values:{name:id}}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPattern.addAction.successNotificationTitle",{defaultMessage:`Added auto-follow pattern '{name}'`,values:{name:id}});Object(notifications["b"])().addSuccess(successMessage);routing.navigate(`/auto_follow_patterns`,{pattern:encodeURIComponent(id)})}});const auto_follow_pattern_deleteAutoFollowPattern=id=>sendApiRequest({label:AUTO_FOLLOW_PATTERN_DELETE,scope:`${auto_follow_pattern_scope}-delete`,status:app_constants["a"].DELETING,handler:async()=>Object(api["c"])(id),onSuccess(response,dispatch,getState){if(response.errors.length){const hasMultipleErrors=response.errors.length>1;const errorMessage=hasMultipleErrors?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPattern.removeAction.errorMultipleNotificationTitle",{defaultMessage:`Error removing {count} auto-follow patterns`,values:{count:response.errors.length}}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPattern.removeAction.errorSingleNotificationTitle",{defaultMessage:`Error removing the '{name}' auto-follow pattern`,values:{name:response.errors[0].id}});Object(notifications["b"])().addDanger(errorMessage)}if(response.itemsDeleted.length){const hasMultipleDelete=response.itemsDeleted.length>1;const successMessage=hasMultipleDelete?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPattern.removeAction.successMultipleNotificationTitle",{defaultMessage:`{count} auto-follow patterns were removed`,values:{count:response.itemsDeleted.length}}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPattern.removeAction.successSingleNotificationTitle",{defaultMessage:`Auto-follow pattern '{name}' was removed`,values:{name:response.itemsDeleted[0]}});Object(notifications["b"])().addSuccess(successMessage);const autoFollowPatternId=getSelectedAutoFollowPatternId("detail")(getState());if(response.itemsDeleted.includes(autoFollowPatternId)){dispatch(selectDetailAutoFollowPattern(null))}}}});const auto_follow_pattern_pauseAutoFollowPattern=id=>sendApiRequest({label:AUTO_FOLLOW_PATTERN_PAUSE,scope:`${auto_follow_pattern_scope}-pause`,status:app_constants["a"].UPDATING,handler:()=>Object(api["l"])(id),onSuccess:response=>{if(response.errors.length){const hasMultipleErrors=response.errors.length>1;const errorMessage=hasMultipleErrors?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPattern.pauseAction.errorMultipleNotificationTitle",{defaultMessage:`Error pausing {count} auto-follow patterns`,values:{count:response.errors.length}}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPattern.pauseAction.errorSingleNotificationTitle",{defaultMessage:`Error pausing the '{name}' auto-follow pattern`,values:{name:response.errors[0].id}});Object(notifications["b"])().addDanger(errorMessage)}if(response.itemsPaused.length){const hasMultiple=response.itemsPaused.length>1;const successMessage=hasMultiple?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPattern.pauseAction.successMultipleNotificationTitle",{defaultMessage:`{count} auto-follow patterns were paused`,values:{count:response.itemsPaused.length}}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPattern.pauseAction.successSingleNotificationTitle",{defaultMessage:`Auto-follow pattern '{name}' was paused`,values:{name:response.itemsPaused[0]}});Object(notifications["b"])().addSuccess(successMessage)}}});const auto_follow_pattern_resumeAutoFollowPattern=id=>sendApiRequest({label:AUTO_FOLLOW_PATTERN_RESUME,scope:`${auto_follow_pattern_scope}-resume`,status:app_constants["a"].UPDATING,handler:()=>Object(api["n"])(id),onSuccess:response=>{if(response.errors.length){const hasMultipleErrors=response.errors.length>1;const errorMessage=hasMultipleErrors?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPattern.resumeAction.errorMultipleNotificationTitle",{defaultMessage:`Error resuming {count} auto-follow patterns`,values:{count:response.errors.length}}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPattern.resumeAction.errorSingleNotificationTitle",{defaultMessage:`Error resuming the '{name}' auto-follow pattern`,values:{name:response.errors[0].id}});Object(notifications["b"])().addDanger(errorMessage)}if(response.itemsResumed.length){const hasMultiple=response.itemsResumed.length>1;const successMessage=hasMultiple?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPattern.resumeAction.successMultipleNotificationTitle",{defaultMessage:`{count} auto-follow patterns were resumed`,values:{count:response.itemsResumed.length}}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPattern.resumeAction.successSingleNotificationTitle",{defaultMessage:`Auto-follow pattern '{name}' was resumed`,values:{name:response.itemsResumed[0]}});Object(notifications["b"])().addSuccess(successMessage)}}});const{FOLLOWER_INDEX:follower_index_scope}=app_constants["b"];const selectDetailFollowerIndex=id=>({type:FOLLOWER_INDEX_SELECT_DETAIL,payload:id});const selectEditFollowerIndex=id=>({type:FOLLOWER_INDEX_SELECT_EDIT,payload:id});const follower_index_loadFollowerIndices=(isUpdating=false)=>sendApiRequest({label:FOLLOWER_INDEX_LOAD,scope:follower_index_scope,status:isUpdating?app_constants["a"].UPDATING:app_constants["a"].LOADING,handler:async()=>await Object(api["h"])(isUpdating)});const getFollowerIndex=id=>sendApiRequest({label:FOLLOWER_INDEX_GET,scope:`${follower_index_scope}-get`,handler:async()=>await Object(api["e"])(id)});const follower_index_saveFollowerIndex=(name,followerIndex,isUpdating=false)=>sendApiRequest({label:FOLLOWER_INDEX_CREATE,status:app_constants["a"].SAVING,scope:`${follower_index_scope}-save`,handler:async()=>{if(isUpdating){return await Object(api["s"])(name,followerIndex)}return await Object(api["b"])({name:name,...followerIndex})},onSuccess(){const successMessage=isUpdating?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndex.updateAction.successNotificationTitle",{defaultMessage:`Follower index '{name}' updated successfully`,values:{name:name}}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndex.addAction.successNotificationTitle",{defaultMessage:`Added follower index '{name}'`,values:{name:name}});Object(notifications["b"])().addSuccess(successMessage);routing.navigate(`/follower_indices`,{name:encodeURIComponent(name)})}});const follower_index_pauseFollowerIndex=id=>sendApiRequest({label:FOLLOWER_INDEX_PAUSE,status:app_constants["a"].SAVING,scope:follower_index_scope,handler:async()=>Object(api["m"])(id),onSuccess(response,dispatch){if(response.errors.length){const hasMultipleErrors=response.errors.length>1;const errorMessage=hasMultipleErrors?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndex.pauseAction.errorMultipleNotificationTitle",{defaultMessage:`Error pausing {count} follower indices`,values:{count:response.errors.length}}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndex.pauseAction.errorSingleNotificationTitle",{defaultMessage:`Error pausing follower index '{name}'`,values:{name:response.errors[0].id}});Object(notifications["b"])().addDanger(errorMessage)}if(response.itemsPaused.length){const hasMultiplePaused=response.itemsPaused.length>1;const successMessage=hasMultiplePaused?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndex.pauseAction.successMultipleNotificationTitle",{defaultMessage:`{count} follower indices were paused`,values:{count:response.itemsPaused.length}}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndex.pauseAction.successSingleNotificationTitle",{defaultMessage:`Follower index '{name}' was paused`,values:{name:response.itemsPaused[0]}});Object(notifications["b"])().addSuccess(successMessage);dispatch(follower_index_loadFollowerIndices(true))}}});const follower_index_resumeFollowerIndex=id=>sendApiRequest({label:FOLLOWER_INDEX_RESUME,status:app_constants["a"].SAVING,scope:follower_index_scope,handler:async()=>Object(api["o"])(id),onSuccess(response,dispatch){if(response.errors.length){const hasMultipleErrors=response.errors.length>1;const errorMessage=hasMultipleErrors?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndex.resumeAction.errorMultipleNotificationTitle",{defaultMessage:`Error resuming {count} follower indices`,values:{count:response.errors.length}}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndex.resumeAction.errorSingleNotificationTitle",{defaultMessage:`Error resuming follower index '{name}'`,values:{name:response.errors[0].id}});Object(notifications["b"])().addDanger(errorMessage)}if(response.itemsResumed.length){const hasMultipleResumed=response.itemsResumed.length>1;const successMessage=hasMultipleResumed?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndex.resumeAction.successMultipleNotificationTitle",{defaultMessage:`{count} follower indices were resumed`,values:{count:response.itemsResumed.length}}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndex.resumeAction.successSingleNotificationTitle",{defaultMessage:`Follower index '{name}' was resumed`,values:{name:response.itemsResumed[0]}});Object(notifications["b"])().addSuccess(successMessage)}dispatch(follower_index_loadFollowerIndices(true))}});const follower_index_unfollowLeaderIndex=id=>sendApiRequest({label:FOLLOWER_INDEX_UNFOLLOW,status:app_constants["a"].DELETING,scope:`${follower_index_scope}-delete`,handler:async()=>Object(api["q"])(id),onSuccess(response,dispatch,getState){if(response.errors.length){const hasMultipleErrors=response.errors.length>1;const errorMessage=hasMultipleErrors?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndex.unfollowAction.errorMultipleNotificationTitle",{defaultMessage:`Error unfollowing leader index of {count} follower indices`,values:{count:response.errors.length}}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndex.unfollowAction.errorSingleNotificationTitle",{defaultMessage:`Error unfollowing leader index of follower index '{name}'`,values:{name:response.errors[0].id}});Object(notifications["b"])().addDanger(errorMessage)}if(response.itemsUnfollowed.length){const hasMultipleUnfollow=response.itemsUnfollowed.length>1;const successMessage=hasMultipleUnfollow?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndex.unfollowAction.successMultipleNotificationTitle",{defaultMessage:`Leader indices of {count} follower indices were unfollowed`,values:{count:response.itemsUnfollowed.length}}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndex.unfollowAction.successSingleNotificationTitle",{defaultMessage:`Leader index of follower index '{name}' was unfollowed`,values:{name:response.itemsUnfollowed[0]}});Object(notifications["b"])().addSuccess(successMessage)}if(response.itemsNotOpen.length){const hasMultipleNotOpen=response.itemsNotOpen.length>1;const warningMessage=hasMultipleNotOpen?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndex.unfollowAction.notOpenWarningMultipleNotificationTitle",{defaultMessage:`{count} indices could not be re-opened`,values:{count:response.itemsNotOpen.length}}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndex.unfollowAction.notOpenWarningSingleNotificationTitle",{defaultMessage:`Index '{name}' could not be re-opened`,values:{name:response.itemsNotOpen[0]}});Object(notifications["b"])().addWarning(warningMessage)}const followerIndexId=getSelectedFollowerIndexId("detail")(getState());if(response.itemsUnfollowed.includes(followerIndexId)){dispatch(selectDetailFollowerIndex(null))}}});const{CCR_STATS:ccr_scope}=app_constants["b"];const ccr_loadAutoFollowStats=()=>sendApiRequest({label:AUTO_FOLLOW_STATS_LOAD,scope:ccr_scope,handler:async()=>await Object(api["g"])()});var utils=__webpack_require__(3);function auto_follow_pattern_delete_provider_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class auto_follow_pattern_delete_provider_AutoFollowPatternDeleteProviderUi extends external_kbnSharedDeps_React_["PureComponent"]{constructor(...args){super(...args);auto_follow_pattern_delete_provider_defineProperty(this,"state",{isModalOpen:false,ids:null});auto_follow_pattern_delete_provider_defineProperty(this,"onMouseOverModal",event=>{event.stopPropagation()});auto_follow_pattern_delete_provider_defineProperty(this,"deleteAutoFollowPattern",id=>{this.setState({isModalOpen:true,ids:Object(utils["a"])(id)})});auto_follow_pattern_delete_provider_defineProperty(this,"onConfirm",()=>{this.props.deleteAutoFollowPattern(this.state.ids);this.setState({isModalOpen:false,ids:null})});auto_follow_pattern_delete_provider_defineProperty(this,"closeConfirmModal",()=>{this.setState({isModalOpen:false})});auto_follow_pattern_delete_provider_defineProperty(this,"renderModal",()=>{const{ids:ids}=this.state;const isSingle=ids.length===1;const title=isSingle?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.deleteAutoFollowPattern.confirmModal.deleteSingleTitle",{defaultMessage:`Remove auto-follow pattern '{name}'?`,values:{name:ids[0]}}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.deleteAutoFollowPattern.confirmModal.deleteMultipleTitle",{defaultMessage:`Remove {count} auto-follow patterns?`,values:{count:ids.length}});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiConfirmModal"],{title:title,onCancel:this.closeConfirmModal,onConfirm:this.onConfirm,cancelButtonText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.deleteAutoFollowPattern.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.deleteAutoFollowPattern.confirmModal.confirmButtonText",{defaultMessage:"Remove"}),onMouseOver:this.onMouseOverModal,"data-test-subj":"deleteAutoFollowPatternConfirmation"},!isSingle&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.deleteAutoFollowPattern.confirmModal.multipleDeletionDescription",defaultMessage:"You are about to remove these auto-follow patterns:"})),external_kbnSharedDeps_React_default.a.createElement("ul",null,ids.map(id=>external_kbnSharedDeps_React_default.a.createElement("li",{key:id},id)))))})}render(){const{children:children}=this.props;const{isModalOpen:isModalOpen}=this.state;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,children(this.deleteAutoFollowPattern),isModalOpen&&this.renderModal())}}const mapDispatchToProps=dispatch=>({deleteAutoFollowPattern:id=>dispatch(auto_follow_pattern_deleteAutoFollowPattern(id))});const AutoFollowPatternDeleteProvider=Object(lib["connect"])(undefined,mapDispatchToProps)(auto_follow_pattern_delete_provider_AutoFollowPatternDeleteProviderUi);const AutoFollowPatternPageTitle=({title:title})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"xs"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContentHeader"],{"data-test-subj":"pageTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"l"},external_kbnSharedDeps_React_default.a.createElement("h1",null,title))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{size:"s",flush:"right",href:getAutoFollowPatternUrl(),target:"_blank",iconType:"help","data-test-subj":"docsButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.readDocsAutoFollowPatternButtonLabel",defaultMessage:"Auto-follow pattern docs"}))))));var follower_index_default_settings=__webpack_require__(6);function follower_index_pause_provider_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class follower_index_pause_provider_FollowerIndexPauseProviderUi extends external_kbnSharedDeps_React_["PureComponent"]{constructor(...args){super(...args);follower_index_pause_provider_defineProperty(this,"state",{isModalOpen:false,indices:[]});follower_index_pause_provider_defineProperty(this,"onMouseOverModal",event=>{event.stopPropagation()});follower_index_pause_provider_defineProperty(this,"pauseFollowerIndex",index=>{this.setState({isModalOpen:true,indices:Object(utils["a"])(index)})});follower_index_pause_provider_defineProperty(this,"onConfirm",()=>{this.props.pauseFollowerIndex(this.state.indices.map(index=>index.name));this.setState({isModalOpen:false,indices:[]});this.props.onConfirm&&this.props.onConfirm()});follower_index_pause_provider_defineProperty(this,"closeConfirmModal",()=>{this.setState({isModalOpen:false})});follower_index_pause_provider_defineProperty(this,"renderModal",()=>{const{indices:indices}=this.state;const isSingle=indices.length===1;const title=isSingle?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.pauseFollowerIndex.confirmModal.pauseSingleTitle",{defaultMessage:`Pause replication to follower index '{name}'?`,values:{name:indices[0].name}}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.pauseFollowerIndex.confirmModal.pauseMultipleTitle",{defaultMessage:"Pause replication to {count} follower indices?",values:{count:indices.length}});const hasCustomSettings=indices.some(index=>!Object(follower_index_default_settings["a"])(index));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiConfirmModal"],{title:title,onCancel:this.closeConfirmModal,onConfirm:this.onConfirm,cancelButtonText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.pauseFollowerIndex.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),buttonColor:hasCustomSettings?"danger":"primary",confirmButtonText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.pauseFollowerIndex.confirmModal.confirmButtonText",{defaultMessage:"Pause replication"}),onMouseOver:this.onMouseOverModal,"data-test-subj":"pauseReplicationConfirmation"},hasCustomSettings&&external_kbnSharedDeps_React_default.a.createElement("p",null,isSingle?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.pauseFollowerIndex.confirmModal.singlePauseDescriptionWithSettingWarning",defaultMessage:"Pausing replication to this follower index clears its custom advanced settings."}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.pauseFollowerIndex.confirmModal.multiplePauseDescriptionWithSettingWarning",defaultMessage:"Pausing replication to a follower index clears its custom advanced settings."})),!isSingle&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.pauseFollowerIndex.confirmModal.multiplePauseDescription",defaultMessage:"Replication will pause on these follower indices:"})),external_kbnSharedDeps_React_default.a.createElement("ul",null,indices.map(index=>external_kbnSharedDeps_React_default.a.createElement("li",{key:index.name},index.name)))))})}render(){const{children:children}=this.props;const{isModalOpen:isModalOpen}=this.state;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,children(this.pauseFollowerIndex),isModalOpen&&this.renderModal())}}const follower_index_pause_provider_mapDispatchToProps=dispatch=>({pauseFollowerIndex:id=>dispatch(follower_index_pauseFollowerIndex(id))});const FollowerIndexPauseProvider=Object(lib["connect"])(undefined,follower_index_pause_provider_mapDispatchToProps)(follower_index_pause_provider_FollowerIndexPauseProviderUi);var kibanaReact_public_=__webpack_require__(17);function follower_index_resume_provider_extends(){follower_index_resume_provider_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return follower_index_resume_provider_extends.apply(this,arguments)}function follower_index_resume_provider_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class follower_index_resume_provider_FollowerIndexResumeProviderUi extends external_kbnSharedDeps_React_["PureComponent"]{constructor(...args){super(...args);follower_index_resume_provider_defineProperty(this,"state",{isModalOpen:false,ids:null});follower_index_resume_provider_defineProperty(this,"onMouseOverModal",event=>{event.stopPropagation()});follower_index_resume_provider_defineProperty(this,"resumeFollowerIndex",id=>{this.setState({isModalOpen:true,ids:Object(utils["a"])(id)})});follower_index_resume_provider_defineProperty(this,"onConfirm",()=>{this.props.resumeFollowerIndex(this.state.ids);this.setState({isModalOpen:false,ids:null});this.props.onConfirm&&this.props.onConfirm()});follower_index_resume_provider_defineProperty(this,"closeConfirmModal",()=>{this.setState({isModalOpen:false})});follower_index_resume_provider_defineProperty(this,"renderModal",()=>{const{ids:ids}=this.state;const isSingle=ids.length===1;const title=isSingle?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.resumeFollowerIndex.confirmModal.resumeSingleTitle",{defaultMessage:`Resume replication to follower index '{name}'?`,values:{name:ids[0]}}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.resumeFollowerIndex.confirmModal.resumeMultipleTitle",{defaultMessage:`Resume replication to {count} follower indices?`,values:{count:ids.length}});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiConfirmModal"],{title:title,onCancel:this.closeConfirmModal,onConfirm:this.onConfirm,cancelButtonText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.resumeFollowerIndex.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),buttonColor:"primary",confirmButtonText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.resumeFollowerIndex.confirmModal.confirmButtonText",{defaultMessage:"Resume replication"}),onMouseOver:this.onMouseOverModal,"data-test-subj":"resumeReplicationConfirmation"},isSingle?external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.resumeFollowerIndex.confirmModal.singleResumeDescription",defaultMessage:"Replication resumes using the default advanced settings. To use custom advanced settings, {editLink}.",values:{editLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],follower_index_resume_provider_extends({},Object(kibanaReact_public_["reactRouterNavigate"])(routing._reactRouter.history,routing.getFollowerIndexPath(ids[0])),{"data-test-subj":"editLink"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.resumeFollowerIndex.confirmModal.singleResumeEditLink",defaultMessage:"edit the follower index"}))}})):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.resumeFollowerIndex.confirmModal.multipleResumeDescriptionWithSettingWarning",defaultMessage:"Replication resumes using the default advanced settings."})),external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.resumeFollowerIndex.confirmModal.multipleResumeDescription",defaultMessage:"Replication will resume on these follower indices:"})),external_kbnSharedDeps_React_default.a.createElement("ul",null,ids.map(id=>external_kbnSharedDeps_React_default.a.createElement("li",{key:id},id)))))})}render(){const{children:children}=this.props;const{isModalOpen:isModalOpen}=this.state;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,children(this.resumeFollowerIndex),isModalOpen&&this.renderModal())}}const follower_index_resume_provider_mapDispatchToProps=dispatch=>({resumeFollowerIndex:id=>dispatch(follower_index_resumeFollowerIndex(id))});const FollowerIndexResumeProvider=Object(lib["connect"])(undefined,follower_index_resume_provider_mapDispatchToProps)(follower_index_resume_provider_FollowerIndexResumeProviderUi);function follower_index_unfollow_provider_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class follower_index_unfollow_provider_FollowerIndexUnfollowProviderUi extends external_kbnSharedDeps_React_["PureComponent"]{constructor(...args){super(...args);follower_index_unfollow_provider_defineProperty(this,"state",{isModalOpen:false,ids:null});follower_index_unfollow_provider_defineProperty(this,"onMouseOverModal",event=>{event.stopPropagation()});follower_index_unfollow_provider_defineProperty(this,"unfollowLeaderIndex",id=>{this.setState({isModalOpen:true,ids:Object(utils["a"])(id)})});follower_index_unfollow_provider_defineProperty(this,"onConfirm",()=>{this.props.unfollowLeaderIndex(this.state.ids);this.setState({isModalOpen:false,ids:null});this.props.onConfirm&&this.props.onConfirm()});follower_index_unfollow_provider_defineProperty(this,"closeConfirmModal",()=>{this.setState({isModalOpen:false})});follower_index_unfollow_provider_defineProperty(this,"renderModal",()=>{const{ids:ids}=this.state;const isSingle=ids.length===1;const title=isSingle?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.unfollowLeaderIndex.confirmModal.unfollowSingleTitle",{defaultMessage:`Unfollow leader index of '{name}'?`,values:{name:ids[0]}}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.unfollowLeaderIndex.confirmModal.unfollowMultipleTitle",{defaultMessage:`Unfollow {count} leader indices?`,values:{count:ids.length}});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiConfirmModal"],{title:title,onCancel:this.closeConfirmModal,onConfirm:this.onConfirm,cancelButtonText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.unfollowLeaderIndex.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.unfollowLeaderIndex.confirmModal.confirmButtonText",{defaultMessage:"Unfollow leader"}),onMouseOver:this.onMouseOverModal,"data-test-subj":"unfollowLeaderConfirmation"},isSingle?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.unfollowLeaderIndex.confirmModal.singleUnfollowDescription",defaultMessage:"The follower index will be converted to a standard index. It will no longer appear in Cross-Cluster Replication, but you can manage it in Index Management. You can't undo this operation."}))):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.unfollowLeaderIndex.confirmModal.multipleUnfollowDescription",defaultMessage:"The follower indices will be converted to standard indices. They will no longer appear in Cross-Cluster Replication, but you can manage them in Index Management. You can't undo this operation."})),external_kbnSharedDeps_React_default.a.createElement("ul",null,ids.map(id=>external_kbnSharedDeps_React_default.a.createElement("li",{key:id},id)))))})}render(){const{children:children}=this.props;const{isModalOpen:isModalOpen}=this.state;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,children(this.unfollowLeaderIndex),isModalOpen&&this.renderModal())}}const follower_index_unfollow_provider_mapDispatchToProps=dispatch=>({unfollowLeaderIndex:id=>dispatch(follower_index_unfollowLeaderIndex(id))});const FollowerIndexUnfollowProvider=Object(lib["connect"])(undefined,follower_index_unfollow_provider_mapDispatchToProps)(follower_index_unfollow_provider_FollowerIndexUnfollowProviderUi);const FollowerIndexActionsProvider=props=>external_kbnSharedDeps_React_default.a.createElement(FollowerIndexPauseProvider,null,pauseFollowerIndex=>external_kbnSharedDeps_React_default.a.createElement(FollowerIndexResumeProvider,null,resumeFollowerIndex=>external_kbnSharedDeps_React_default.a.createElement(FollowerIndexUnfollowProvider,null,unfollowLeaderIndex=>{const{children:children}=props;return children(()=>({pauseFollowerIndex:pauseFollowerIndex,resumeFollowerIndex:resumeFollowerIndex,unfollowLeaderIndex:unfollowLeaderIndex}))})));var external_kbnSharedDeps_Lodash_=__webpack_require__(9);const input_validation_isEmpty=value=>!value||!value.trim().length;const hasSpaces=value=>typeof value==="string"?value.includes(" "):false;const beginsWithPeriod=value=>value[0]===".";const findIllegalCharacters=value=>esUiShared_public_["indices"].INDEX_ILLEGAL_CHARACTERS_VISIBLE.reduce((chars,char)=>{if(value.includes(char)){chars.push(char)}return chars},[]);const indexNameValidator=value=>{if(input_validation_isEmpty(value)){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.errors.nameMissingMessage",defaultMessage:"Name is required."})]}if(beginsWithPeriod(value)){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.errors.nameBeginsWithPeriodMessage",defaultMessage:"Name can't begin with a period."})]}const illegalCharacters=findIllegalCharacters(value);if(illegalCharacters.length){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.errors.nameIllegalCharactersMessage",defaultMessage:"Remove the characters {characterList} from your name.",values:{characterList:external_kbnSharedDeps_React_default.a.createElement("strong",null,illegalCharacters.join(" "))}})]}if(hasSpaces(value)){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndex.indexNameValidation.noEmptySpace",defaultMessage:"Spaces are not allowed in the name."})]}return undefined};const leaderIndexValidator=value=>{if(input_validation_isEmpty(value)){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.errors.leaderIndexMissingMessage",defaultMessage:"Leader index is required."})]}const illegalCharacters=findIllegalCharacters(value);if(illegalCharacters.length){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.errors.leaderIndexIllegalCharactersMessage",defaultMessage:"Remove the characters {characterList} from your leader index.",values:{characterList:external_kbnSharedDeps_React_default.a.createElement("strong",null,illegalCharacters.join(" "))}})]}if(hasSpaces(value)){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndex.leaderIndexValidation.noEmptySpace",defaultMessage:"Spaces are not allowed in the leader index."})]}return undefined};function form_entry_row_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const updateFields=newValues=>({fields:fields})=>({fields:{...fields,...newValues}});class form_entry_row_FormEntryRow extends external_kbnSharedDeps_React_["PureComponent"]{constructor(...args){super(...args);form_entry_row_defineProperty(this,"onFieldChange",value=>{const{field:field,onValueUpdate:onValueUpdate,type:type}=this.props;const isNumber=type==="number";let valueParsed=value;if(isNumber){valueParsed=!!value?Math.max(0,parseInt(value,10)):value}onValueUpdate({[field]:valueParsed})});form_entry_row_defineProperty(this,"renderField",isInvalid=>{const{value:value,type:type,disabled:disabled,isLoading:isLoading,testSubj:testSubj}=this.props;switch(type){case"number":return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldNumber"],{isInvalid:isInvalid,value:value,onChange:e=>this.onFieldChange(e.target.value),disabled:disabled===true,isLoading:isLoading,fullWidth:true,"data-test-subj":testSubj});default:return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldText"],{isInvalid:isInvalid,value:value,onChange:e=>this.onFieldChange(e.target.value),disabled:disabled===true,isLoading:isLoading,fullWidth:true,"data-test-subj":testSubj})}})}render(){const{field:field,error:error,title:title,label:label,description:description,helpText:helpText,areErrorsVisible:areErrorsVisible,value:value,defaultValue:defaultValue}=this.props;const hasError=!!error;const isInvalid=hasError&&(error.alwaysVisible||areErrorsVisible);const canBeResetToDefault=defaultValue!==undefined;const isResetToDefaultVisible=value!==defaultValue;const fieldHelpText=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,helpText,canBeResetToDefault&&isResetToDefaultVisible&&external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{onClick:()=>this.onFieldChange(defaultValue)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.resetFieldButtonLabel",defaultMessage:"Reset to default"}))));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescribedFormGroup"],{title:title,description:description,fullWidth:true,key:field},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:label,helpText:fieldHelpText,error:error&&error.message?error.message:error,isInvalid:isInvalid,fullWidth:true},this.renderField(isInvalid)))}}const byteUnitsHelpText=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.byteUnitsHelpText",defaultMessage:"Example values: 10b, 1024kb, 1mb, 5gb, 2tb, 1pb. {link}",values:{link:external_kbnSharedDeps_React_default.a.createElement("a",{href:getByteUnitsUrl(),target:"_blank"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.byteUnitsHelpTextLinkMessage",defaultMessage:"Learn more"}))}});const timeUnitsHelpText=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.timeUnitsHelpText",defaultMessage:"Example values: 2d, 24h, 20m, 30s, 500ms, 10000micros, 80000nanos. {link}",values:{link:external_kbnSharedDeps_React_default.a.createElement("a",{href:getTimeUnitsUrl(),target:"_blank"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.timeUnitsHelpTextLinkMessage",defaultMessage:"Learn more"}))}});const advancedSettingsFields=[{field:"maxReadRequestOperationCount",testSubject:"maxReadRequestOperationCountInput",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxReadRequestOperationCountTitle",{defaultMessage:"Max read request operation count"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxReadRequestOperationCountDescription",{defaultMessage:"The maximum number of operations to pull per read from the remote cluster."}),label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxReadRequestOperationCountLabel",{defaultMessage:"Max read request operation count"}),defaultValue:Object(follower_index_default_settings["b"])("maxReadRequestOperationCount"),type:"number"},{field:"maxOutstandingReadRequests",testSubject:"maxOutstandingReadRequestsInput",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxOutstandingReadRequestsTitle",{defaultMessage:"Max outstanding read requests"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxOutstandingReadRequestsDescription",{defaultMessage:"The maximum number of outstanding read requests from the remote cluster."}),label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxOutstandingReadRequestsLabel",{defaultMessage:"Max outstanding read requests"}),defaultValue:Object(follower_index_default_settings["b"])("maxOutstandingReadRequests"),type:"number"},{field:"maxReadRequestSize",testSubject:"maxReadRequestSizeInput",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxReadRequestSizeTitle",{defaultMessage:"Max read request size"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxReadRequestSizeDescription",{defaultMessage:"The maximum size in bytes of per read of a batch of operations pulled from the remote cluster."}),label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxReadRequestSizeLabel",{defaultMessage:"Max read request size"}),defaultValue:Object(follower_index_default_settings["b"])("maxReadRequestSize"),helpText:byteUnitsHelpText},{field:"maxWriteRequestOperationCount",testSubject:"maxWriteRequestOperationCountInput",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteRequestOperationCountTitle",{defaultMessage:"Max write request operation count"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteRequestOperationCountDescription",{defaultMessage:"The maximum number of operations per bulk write request executed on the follower."}),label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteRequestOperationCountLabel",{defaultMessage:"Max write request operation count"}),defaultValue:Object(follower_index_default_settings["b"])("maxWriteRequestOperationCount"),type:"number"},{field:"maxWriteRequestSize",testSubject:"maxWriteRequestSizeInput",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteRequestSizeTitle",{defaultMessage:"Max write request size"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteRequestSizeDescription",{defaultMessage:"The maximum total bytes of operations per bulk write request executed on the follower."}),label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteRequestSizeLabel",{defaultMessage:"Max write request size"}),defaultValue:Object(follower_index_default_settings["b"])("maxWriteRequestSize"),helpText:byteUnitsHelpText},{field:"maxOutstandingWriteRequests",testSubject:"maxOutstandingWriteRequestsInput",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxOutstandingWriteRequestsTitle",{defaultMessage:"Max outstanding write requests"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxOutstandingWriteRequestsDescription",{defaultMessage:"The maximum number of outstanding write requests on the follower."}),label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxOutstandingWriteRequestsLabel",{defaultMessage:"Max outstanding write requests"}),defaultValue:Object(follower_index_default_settings["b"])("maxOutstandingWriteRequests"),type:"number"},{field:"maxWriteBufferCount",testSubject:"maxWriteBufferCountInput",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteBufferCountTitle",{defaultMessage:"Max write buffer count"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteBufferCountDescription",{defaultMessage:"The maximum number of operations that can be queued for writing; when this "+"limit is reached, reads from the remote cluster will be deferred until the number of queued "+"operations goes below the limit."}),label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteBufferCountLabel",{defaultMessage:"Max write buffer count"}),defaultValue:Object(follower_index_default_settings["b"])("maxWriteBufferCount"),type:"number"},{field:"maxWriteBufferSize",testSubject:"maxWriteBufferSizeInput",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteBufferSizeTitle",{defaultMessage:"Max write buffer size"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteBufferSizeDescription",{defaultMessage:"The maximum total bytes of operations that can be queued for writing; when "+"this limit is reached, reads from the remote cluster will be deferred until the total bytes "+"of queued operations goes below the limit."}),label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteBufferSizeLabel",{defaultMessage:"Max write buffer size"}),defaultValue:Object(follower_index_default_settings["b"])("maxWriteBufferSize"),helpText:byteUnitsHelpText},{field:"maxRetryDelay",testSubject:"maxRetryDelayInput",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxRetryDelayTitle",{defaultMessage:"Max retry delay"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxRetryDelayDescription",{defaultMessage:"The maximum time to wait before retrying an operation that failed exceptionally; "+"an exponential backoff strategy is employed when retrying."}),label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxRetryDelayLabel",{defaultMessage:"Max retry delay"}),defaultValue:Object(follower_index_default_settings["b"])("maxRetryDelay"),helpText:timeUnitsHelpText},{field:"readPollTimeout",testSubject:"readPollTimeoutInput",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.readPollTimeoutTitle",{defaultMessage:"Read poll timeout"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.readPollTimeoutDescription",{defaultMessage:"The maximum time to wait for new operations on the remote cluster when the "+"follower index is synchronized with the leader index; when the timeout has elapsed, the "+"poll for operations will return to the follower so that it can update some statistics, and "+"then the follower will immediately attempt to read from the leader again."}),label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.readPollTimeoutLabel",{defaultMessage:"Read poll timeout"}),defaultValue:Object(follower_index_default_settings["b"])("readPollTimeout"),helpText:timeUnitsHelpText}];const emptyAdvancedSettings=advancedSettingsFields.reduce((obj,advancedSetting)=>{const{field:field,defaultValue:defaultValue}=advancedSetting;return{...obj,[field]:defaultValue}},{});function areAdvancedSettingsEdited(followerIndex){return advancedSettingsFields.some(advancedSetting=>{const{field:field}=advancedSetting;return followerIndex[field]!==emptyAdvancedSettings[field]})}const deserializeShard=({remote_cluster:remote_cluster,leader_index:leader_index,shard_id:shard_id,leader_global_checkpoint:leader_global_checkpoint,leader_max_seq_no:leader_max_seq_no,follower_global_checkpoint:follower_global_checkpoint,follower_max_seq_no:follower_max_seq_no,last_requested_seq_no:last_requested_seq_no,outstanding_read_requests:outstanding_read_requests,outstanding_write_requests:outstanding_write_requests,write_buffer_operation_count:write_buffer_operation_count,write_buffer_size_in_bytes:write_buffer_size_in_bytes,follower_mapping_version:follower_mapping_version,follower_settings_version:follower_settings_version,total_read_time_millis:total_read_time_millis,total_read_remote_exec_time_millis:total_read_remote_exec_time_millis,successful_read_requests:successful_read_requests,failed_read_requests:failed_read_requests,operations_read:operations_read,bytes_read:bytes_read,total_write_time_millis:total_write_time_millis,successful_write_requests:successful_write_requests,failed_write_requests:failed_write_requests,operations_written:operations_written,read_exceptions:read_exceptions,time_since_last_read_millis:time_since_last_read_millis})=>({id:shard_id,remoteCluster:remote_cluster,leaderIndex:leader_index,leaderGlobalCheckpoint:leader_global_checkpoint,leaderMaxSequenceNum:leader_max_seq_no,followerGlobalCheckpoint:follower_global_checkpoint,followerMaxSequenceNum:follower_max_seq_no,lastRequestedSequenceNum:last_requested_seq_no,outstandingReadRequestsCount:outstanding_read_requests,outstandingWriteRequestsCount:outstanding_write_requests,writeBufferOperationsCount:write_buffer_operation_count,writeBufferSizeBytes:write_buffer_size_in_bytes,followerMappingVersion:follower_mapping_version,followerSettingsVersion:follower_settings_version,totalReadTimeMs:total_read_time_millis,totalReadRemoteExecTimeMs:total_read_remote_exec_time_millis,successfulReadRequestCount:successful_read_requests,failedReadRequestsCount:failed_read_requests,operationsReadCount:operations_read,bytesReadCount:bytes_read,totalWriteTimeMs:total_write_time_millis,successfulWriteRequestsCount:successful_write_requests,failedWriteRequestsCount:failed_write_requests,operationsWrittenCount:operations_written,readExceptions:read_exceptions,timeSinceLastReadMs:time_since_last_read_millis});const deserializeFollowerIndex=({follower_index:follower_index,remote_cluster:remote_cluster,leader_index:leader_index,status:status,parameters:{max_read_request_operation_count:max_read_request_operation_count,max_outstanding_read_requests:max_outstanding_read_requests,max_read_request_size:max_read_request_size,max_write_request_operation_count:max_write_request_operation_count,max_write_request_size:max_write_request_size,max_outstanding_write_requests:max_outstanding_write_requests,max_write_buffer_count:max_write_buffer_count,max_write_buffer_size:max_write_buffer_size,max_retry_delay:max_retry_delay,read_poll_timeout:read_poll_timeout}={},shards:shards})=>({name:follower_index,remoteCluster:remote_cluster,leaderIndex:leader_index,status:status,maxReadRequestOperationCount:max_read_request_operation_count,maxOutstandingReadRequests:max_outstanding_read_requests,maxReadRequestSize:max_read_request_size,maxWriteRequestOperationCount:max_write_request_operation_count,maxWriteRequestSize:max_write_request_size,maxOutstandingWriteRequests:max_outstanding_write_requests,maxWriteBufferCount:max_write_buffer_count,maxWriteBufferSize:max_write_buffer_size,maxRetryDelay:max_retry_delay,readPollTimeout:read_poll_timeout,shards:shards&&shards.map(deserializeShard)});const deserializeListFollowerIndices=followerIndices=>followerIndices.map(deserializeFollowerIndex);const serializeAdvancedSettings=({maxReadRequestOperationCount:maxReadRequestOperationCount,maxOutstandingReadRequests:maxOutstandingReadRequests,maxReadRequestSize:maxReadRequestSize,maxWriteRequestOperationCount:maxWriteRequestOperationCount,maxWriteRequestSize:maxWriteRequestSize,maxOutstandingWriteRequests:maxOutstandingWriteRequests,maxWriteBufferCount:maxWriteBufferCount,maxWriteBufferSize:maxWriteBufferSize,maxRetryDelay:maxRetryDelay,readPollTimeout:readPollTimeout})=>({max_read_request_operation_count:maxReadRequestOperationCount,max_outstanding_read_requests:maxOutstandingReadRequests,max_read_request_size:maxReadRequestSize,max_write_request_operation_count:maxWriteRequestOperationCount,max_write_request_size:maxWriteRequestSize,max_outstanding_write_requests:maxOutstandingWriteRequests,max_write_buffer_count:maxWriteBufferCount,max_write_buffer_size:maxWriteBufferSize,max_retry_delay:maxRetryDelay,read_poll_timeout:readPollTimeout});const serializeFollowerIndex=followerIndex=>({remote_cluster:followerIndex.remoteCluster,leader_index:followerIndex.leaderIndex,...serializeAdvancedSettings(followerIndex)});class follower_index_request_flyout_FollowerIndexRequestFlyout extends external_kbnSharedDeps_React_["PureComponent"]{render(){const{name:name,followerIndex:followerIndex,close:close}=this.props;const endpoint=`PUT /${name?name:"<followerIndexName>"}/_ccr/follow`;const payload=JSON.stringify(serializeFollowerIndex(followerIndex),null,2);const request=`${endpoint}\n${payload}`;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyout"],{maxWidth:480,onClose:close},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutHeader"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],null,external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.requestFlyout.title",defaultMessage:"Request"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.requestFlyout.descriptionText",defaultMessage:"This Elasticsearch request will create this follower index."}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],{language:"json",isCopyable:true},request)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutFooter"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{iconType:"cross",onClick:close,flush:"left"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.requestFlyout.closeButtonLabel",defaultMessage:"Close"}))))}}function follower_index_form_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const follower_index_form_indexNameIllegalCharacters=esUiShared_public_["indices"].INDEX_ILLEGAL_CHARACTERS_VISIBLE.join(" ");const fieldToValidatorMap=advancedSettingsFields.reduce((map,advancedSetting)=>{const{field:field,validator:validator}=advancedSetting;map[field]=validator;return map},{name:indexNameValidator,leaderIndex:leaderIndexValidator});const getEmptyFollowerIndex=(remoteClusterName="")=>({name:"",remoteCluster:remoteClusterName,leaderIndex:"",...emptyAdvancedSettings});const follower_index_form_updateFields=fields=>({followerIndex:followerIndex})=>({followerIndex:{...followerIndex,...fields}});const follower_index_form_updateFormErrors=errors=>({fieldsErrors:fieldsErrors})=>({fieldsErrors:{...fieldsErrors,...errors}});class follower_index_form_FollowerIndexForm extends external_kbnSharedDeps_React_["PureComponent"]{constructor(props){super(props);follower_index_form_defineProperty(this,"toggleRequest",()=>{this.setState(({isRequestVisible:isRequestVisible})=>({isRequestVisible:!isRequestVisible}))});follower_index_form_defineProperty(this,"onFieldsChange",fields=>{this.setState(follower_index_form_updateFields(fields));const newFields={...this.state.fields,...fields};this.setState(follower_index_form_updateFormErrors(this.getFieldsErrors(newFields)));if(this.props.apiError){this.props.clearApiError()}});follower_index_form_defineProperty(this,"getFieldsErrors",newFields=>Object.keys(newFields).reduce((errors,field)=>{const validator=fieldToValidatorMap[field];const value=newFields[field];if(validator){const error=validator(value);errors[field]=error}return errors},{}));follower_index_form_defineProperty(this,"onIndexNameChange",({name:name})=>{this.onFieldsChange({name:name});const error=indexNameValidator(name);if(error){return}if(!name||!name.trim()){this.setState({isValidatingIndexName:false});return}this.setState({isValidatingIndexName:true});this.validateIndexName(name)});follower_index_form_defineProperty(this,"validateIndexName",async name=>{try{const indices=await Object(api["i"])();const doesExist=indices.some(index=>index.name===name);if(doesExist){const error={message:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.indexAlreadyExistError",defaultMessage:"An index with the same name already exists."}),alwaysVisible:true};this.setState(follower_index_form_updateFormErrors({name:error}))}this.setState({isValidatingIndexName:false})}catch(error){if(error){if(error.name==="AbortError"){return}if(error.body){return this.setState({isValidatingIndexName:false})}}Object(notifications["a"])().add(error,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.indexNameValidationFatalErrorTitle",{defaultMessage:"Follower Index Form index name validation"}))}});follower_index_form_defineProperty(this,"onClusterChange",remoteCluster=>{this.onFieldsChange({remoteCluster:remoteCluster})});follower_index_form_defineProperty(this,"getFields",()=>this.state.followerIndex);follower_index_form_defineProperty(this,"toggleAdvancedSettings",event=>{if(event.target.checked){this.onFieldsChange(this.cachedAdvancedSettings);this.cachedAdvancedSettings={};return this.setState({areAdvancedSettingsVisible:true})}this.onFieldsChange(emptyAdvancedSettings);const fields=this.getFields();this.cachedAdvancedSettings=advancedSettingsFields.reduce((cache,{field:field})=>{const value=fields[field];if(value!==""){cache[field]=value}return cache},{});this.setState({areAdvancedSettingsVisible:false})});follower_index_form_defineProperty(this,"sendForm",()=>{const isFormValid=this.isFormValid();this.setState({areErrorsVisible:!isFormValid});if(!isFormValid){return}const{name:name,...followerIndex}=this.getFields();this.props.saveFollowerIndex(name,followerIndex)});follower_index_form_defineProperty(this,"cancelForm",()=>{routing.navigate("/follower_indices")});follower_index_form_defineProperty(this,"renderForm",()=>{const{followerIndex:followerIndex,isNew:isNew,areErrorsVisible:areErrorsVisible,areAdvancedSettingsVisible:areAdvancedSettingsVisible,fieldsErrors:fieldsErrors,isValidatingIndexName:isValidatingIndexName}=this.state;const indexNameHelpText=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,isValidatingIndexName&&external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.indexNameValidatingLabel",defaultMessage:"Checking availability…"})),external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.indexNameHelpLabel",defaultMessage:"Spaces and the characters {characterList} are not allowed.",values:{characterList:external_kbnSharedDeps_React_default.a.createElement("strong",null,follower_index_form_indexNameIllegalCharacters)}})));const indexNameLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.sectionFollowerIndexNameTitle",{defaultMessage:"Follower index"});const renderFollowerIndexName=()=>external_kbnSharedDeps_React_default.a.createElement(form_entry_row_FormEntryRow,{field:"name",value:followerIndex.name,error:fieldsErrors.name,title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h2",null,indexNameLabel)),label:indexNameLabel,description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.sectionFollowerIndexNameDescription",{defaultMessage:"A unique name for your index."}),helpText:indexNameHelpText,isLoading:isValidatingIndexName,disabled:!isNew,areErrorsVisible:areErrorsVisible,onValueUpdate:this.onIndexNameChange,testSubj:"followerIndexInput"});const renderRemoteClusterField=()=>{const{remoteClusters:remoteClusters,currentUrl:currentUrl}=this.props;const errorMessages={noClusterFound:()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.emptyRemoteClustersCallOutDescription",defaultMessage:"Replication requires a leader index on a remote cluster."}),remoteClusterNotConnectedNotEditable:name=>({title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.currentRemoteClusterNotConnectedCallOutTitle",defaultMessage:"Can't edit follower index because remote cluster '{name}' is not connected",values:{name:name}}),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.currentRemoteClusterNotConnectedCallOutDescription",defaultMessage:"You can address this by editing the remote cluster."})}),remoteClusterDoesNotExist:name=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.currentRemoteClusterNotFoundCallOutDescription",defaultMessage:"To edit this follower index, you must add a remote cluster named '{name}'.",values:{name:name}})};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescribedFormGroup"],{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.sectionRemoteClusterTitle",defaultMessage:"Remote cluster"}))),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.sectionRemoteClusterDescription",defaultMessage:"The cluster that contains the index to replicate."}),fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(remote_clusters_form_field_RemoteClustersFormField,{selected:followerIndex.remoteCluster?followerIndex.remoteCluster:null,remoteClusters:remoteClusters||[],currentUrl:currentUrl,isEditable:isNew,areErrorsVisible:areErrorsVisible,onChange:this.onClusterChange,onError:error=>{this.setState(follower_index_form_updateFormErrors({remoteCluster:error}))},errorMessages:errorMessages}))};const leaderIndexLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.sectionLeaderIndexTitle",{defaultMessage:"Leader index"});const renderLeaderIndex=()=>external_kbnSharedDeps_React_default.a.createElement(form_entry_row_FormEntryRow,{field:"leaderIndex",value:followerIndex.leaderIndex,error:fieldsErrors.leaderIndex,title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h2",null,leaderIndexLabel)),label:leaderIndexLabel,description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.sectionLeaderIndexDescription",defaultMessage:"The index on the remote cluster to replicate to the follower index."})),external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.sectionLeaderIndexDescription2",defaultMessage:"{note} The leader index must already exist.",values:{note:external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.sectionLeaderIndexDescription2.noteLabel",defaultMessage:"Note:"}))}}))),helpText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.indexNameHelpLabel",defaultMessage:"Spaces and the characters {characterList} are not allowed.",values:{characterList:external_kbnSharedDeps_React_default.a.createElement("strong",null,follower_index_form_indexNameIllegalCharacters)}}),disabled:!isNew,areErrorsVisible:areErrorsVisible,onValueUpdate:this.onFieldsChange,testSubj:"leaderIndexInput"});const renderAdvancedSettings=()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescribedFormGroup"],{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettingsTitle",defaultMessage:"Advanced settings (optional)"}))),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettingsDescription",defaultMessage:"Advanced settings control the rate of replication. You can customize these settings or use the default values."})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSwitch"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndex.advancedSettingsForm.showSwitchLabel",defaultMessage:"Customize advanced settings"}),checked:areAdvancedSettingsVisible,onChange:this.toggleAdvancedSettings,"data-test-subj":"advancedSettingsToggle"})),fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null)," "),areAdvancedSettingsVisible&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),advancedSettingsFields.map(advancedSetting=>{const{field:field,testSubject:testSubject,title:title,description:description,label:label,helpText:helpText,defaultValue:defaultValue,type:type}=advancedSetting;return external_kbnSharedDeps_React_default.a.createElement(form_entry_row_FormEntryRow,{key:field,field:field,value:followerIndex[field],defaultValue:defaultValue,error:fieldsErrors[field],title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h3",null,title)),description:description,label:label,helpText:helpText,type:type,areErrorsVisible:areErrorsVisible,onValueUpdate:this.onFieldsChange,testSubj:testSubject})})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],null));const renderFormErrorWarning=()=>{const{areErrorsVisible:areErrorsVisible}=this.state;const isFormValid=this.isFormValid();if(!areErrorsVisible||isFormValid){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.validationErrorTitle",defaultMessage:"Fix errors before continuing."}),color:"danger",iconType:"cross","data-test-subj":"formError"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}))};const renderActions=()=>{const{apiStatus:apiStatus,saveButtonLabel:saveButtonLabel}=this.props;const{areErrorsVisible:areErrorsVisible,isRequestVisible:isRequestVisible}=this.state;if(apiStatus===app_constants["a"].SAVING){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexStart",gutterSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"l"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.actions.savingText",defaultMessage:"Saving"}))))}const isSaveDisabled=areErrorsVisible&&!this.isFormValid();return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"m",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{color:"secondary",iconType:"check",onClick:this.sendForm,fill:true,disabled:isSaveDisabled,"data-test-subj":"submitButton"},saveButtonLabel)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{color:"primary",onClick:this.cancelForm,"data-test-subj":"cancelButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.cancelButtonLabel",defaultMessage:"Cancel"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{onClick:this.toggleRequest},isRequestVisible?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.hideRequestButtonLabel",defaultMessage:"Hide request"}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.showRequestButtonLabel",defaultMessage:"Show request"}))))};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiForm"],{"data-test-subj":"followerIndexForm"},renderRemoteClusterField(),renderLeaderIndex(),renderFollowerIndexName(),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),renderAdvancedSettings()),renderFormErrorWarning(),this.renderApiErrors(),renderActions())});follower_index_form_defineProperty(this,"renderLoading",()=>{const{apiStatus:apiStatus}=this.props;if(apiStatus===app_constants["a"].SAVING){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiOverlayMask"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingKibana"],{size:"xl"}))}return null});const{route:{location:{search:search}}}=routing.reactRouter;const queryParams=Object(esUiShared_public_["extractQueryParams"])(search);const _isNew=this.props.followerIndex===undefined;const remoteClusterName=getRemoteClusterName(this.props.remoteClusters,queryParams.cluster);const _followerIndex=_isNew?getEmptyFollowerIndex(remoteClusterName):{...getEmptyFollowerIndex(),...this.props.followerIndex};const _areAdvancedSettingsVisible=_isNew?false:areAdvancedSettingsEdited(_followerIndex)?true:false;const _fieldsErrors=this.getFieldsErrors(_followerIndex);this.state={isNew:_isNew,followerIndex:_followerIndex,fieldsErrors:_fieldsErrors,areErrorsVisible:false,areAdvancedSettingsVisible:_areAdvancedSettingsVisible,isValidatingIndexName:false,isRequestVisible:false};this.cachedAdvancedSettings={};this.validateIndexName=Object(external_kbnSharedDeps_Lodash_["debounce"])(this.validateIndexName,500,{trailing:true})}isFormValid(){return Object.values(this.state.fieldsErrors).every(error=>error===undefined||error===null)}renderApiErrors(){const{apiError:apiError}=this.props;if(apiError){const title=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.savingErrorTitle",{defaultMessage:`Can't create follower index`});const{leaderIndex:leaderIndex}=this.state.followerIndex;const error=apiError.status===404?{data:{message:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexForm.leaderIndexNotFoundError",{defaultMessage:`The leader index '{leaderIndex}' does not exist.`,values:{leaderIndex:leaderIndex}})}}:apiError;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(SectionError,{title:title,error:error}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}))}return null}render(){const{followerIndex:followerIndex,isRequestVisible:isRequestVisible}=this.state;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,this.renderForm(),this.renderLoading(),isRequestVisible?external_kbnSharedDeps_React_default.a.createElement(follower_index_request_flyout_FollowerIndexRequestFlyout,{name:followerIndex.name,followerIndex:this.getFields(),close:()=>this.setState({isRequestVisible:false})}):null)}}const FollowerIndexPageTitle=({title:title})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"xs"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContentHeader"],{"data-test-subj":"pageTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"l"},external_kbnSharedDeps_React_default.a.createElement("h1",null,title))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{size:"s",flush:"right",href:getFollowerIndexUrl(),target:"_blank",iconType:"help","data-test-subj":"docsButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.readDocsFollowerIndexButtonLabel",defaultMessage:"Follower index docs"}))))));function auto_follow_pattern_action_menu_extends(){auto_follow_pattern_action_menu_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return auto_follow_pattern_action_menu_extends.apply(this,arguments)}const actionsAriaLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowActionMenu.autoFollowPatternActionMenuButtonAriaLabel",{defaultMessage:"Auto-follow pattern options"});const allValuesSame=values=>{if(!values.length){return false}const[firstValue,...restValues]=values;for(const value of restValues){if(firstValue!==value){return false}}return true};const AutoFollowPatternActionMenuUI=({patterns:patterns,deleteAutoFollowPattern:deleteAutoFollowPattern,pauseAutoFollowPattern:pauseAutoFollowPattern,resumeAutoFollowPattern:resumeAutoFollowPattern,arrowDirection:arrowDirection,edit:edit})=>{const[showPopover,setShowPopover]=Object(external_kbnSharedDeps_React_["useState"])(false);const allActiveValuesSame=allValuesSame(patterns.filter(Boolean).map(({active:active})=>active));const closePopoverViaAction=()=>{setShowPopover(false)};const panelItems=[allActiveValuesSame?patterns[0].active?{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.pauseAutoFollowPatternsLabel",{defaultMessage:"Pause {total, plural, one {replication} other {replications}}",values:{total:patterns.length}}),icon:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"pause"}),onClick:()=>{pauseAutoFollowPattern(patterns.map(({name:name})=>name));closePopoverViaAction()}}:{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.resumeAutoFollowPatternsLabel",{defaultMessage:"Resume {total, plural, one {replication} other {replications}}",values:{total:patterns.length}}),icon:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"play"}),onClick:()=>{resumeAutoFollowPattern(patterns.map(({name:name})=>name));closePopoverViaAction()}}:null,edit&&patterns.length===1?{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.editAutoFollowPatternButtonLabel",{defaultMessage:"Edit pattern"}),icon:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"pencil"}),onClick:()=>{routing.navigate(routing.getAutoFollowPatternPath(patterns[0].name))}}:null,{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.deleteAutoFollowPatternButtonLabel",{defaultMessage:"Delete {total, plural, one {pattern} other {patterns}}",values:{total:patterns.length}}),icon:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"trash"}),onClick:()=>{deleteAutoFollowPattern(patterns.map(({name:name})=>name));closePopoverViaAction()}}].filter(Boolean);const button=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{"data-test-subj":"autoFollowPatternActionMenuButton","aria-label":actionsAriaLabel,onClick:()=>setShowPopover(!showPopover),iconType:arrowDirection==="up"?"arrowUp":"arrowDown",iconSide:"right",fill:true},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPatternActionMenu.buttonLabel",{defaultMessage:"Manage {patterns, plural, one {pattern} other {patterns}}",values:{patterns:patterns.length}}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopover"],{isOpen:showPopover,closePopover:()=>setShowPopover(false),button:button,panelPaddingSize:"none",repositionOnScroll:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiContextMenu"],{initialPanelId:0,"data-test-subj":"autoFollowPatternActionContextMenu",panels:[{id:0,title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPatternActionMenu.panelTitle",{defaultMessage:"Pattern options"}),items:panelItems}]}))};const AutoFollowPatternActionMenu=props=>external_kbnSharedDeps_React_default.a.createElement(AutoFollowPatternDeleteProvider,null,deleteAutoFollowPattern=>external_kbnSharedDeps_React_default.a.createElement(AutoFollowPatternActionMenuUI,auto_follow_pattern_action_menu_extends({},props,{deleteAutoFollowPattern:deleteAutoFollowPattern})));const auto_follow_pattern_action_menu_container_mapDispatchToProps=dispatch=>({pauseAutoFollowPattern:ids=>{dispatch(auto_follow_pattern_pauseAutoFollowPattern(ids))},resumeAutoFollowPattern:ids=>{dispatch(auto_follow_pattern_resumeAutoFollowPattern(ids))}});const auto_follow_pattern_action_menu_container_AutoFollowPatternActionMenu=Object(lib["connect"])(null,auto_follow_pattern_action_menu_container_mapDispatchToProps)(AutoFollowPatternActionMenu);var track_ui_metric=__webpack_require__(2);function auto_follow_pattern_table_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const actionI18nTexts={pause:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPatternList.table.actionPauseDescription",{defaultMessage:"Pause replication"}),resume:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPatternList.table.actionResumeDescription",{defaultMessage:"Resume replication"}),edit:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPatternList.table.actionEditDescription",{defaultMessage:"Edit auto-follow pattern"}),delete:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPatternList.table.actionDeleteDescription",{defaultMessage:"Delete auto-follow pattern"})};const getFilteredPatterns=(autoFollowPatterns,queryText)=>{if(queryText){const normalizedSearchText=queryText.toLowerCase();return autoFollowPatterns.filter(autoFollowPattern=>{const{name:name,remoteCluster:remoteCluster,followIndexPatternPrefix:followIndexPatternPrefix,followIndexPatternSuffix:followIndexPatternSuffix}=autoFollowPattern;const inName=name.toLowerCase().includes(normalizedSearchText);const inRemoteCluster=remoteCluster.toLowerCase().includes(normalizedSearchText);const inPrefix=followIndexPatternPrefix.toLowerCase().includes(normalizedSearchText);const inSuffix=followIndexPatternSuffix.toLowerCase().includes(normalizedSearchText);return inName||inRemoteCluster||inPrefix||inSuffix})}return autoFollowPatterns};class auto_follow_pattern_table_AutoFollowPatternTable extends external_kbnSharedDeps_React_["PureComponent"]{static getDerivedStateFromProps(props,state){const{autoFollowPatterns:autoFollowPatterns}=props;const{prevAutoFollowPatterns:prevAutoFollowPatterns,queryText:queryText}=state;if(prevAutoFollowPatterns!==autoFollowPatterns){return{prevAutoFollowPatterns:autoFollowPatterns,filteredAutoFollowPatterns:getFilteredPatterns(autoFollowPatterns,queryText)}}return null}constructor(props){super(props);auto_follow_pattern_table_defineProperty(this,"onSearch",({query:query})=>{const{autoFollowPatterns:autoFollowPatterns}=this.props;const{text:text}=query;this.setState({queryText:text,filteredAutoFollowPatterns:getFilteredPatterns(autoFollowPatterns,text)})});auto_follow_pattern_table_defineProperty(this,"renderLoading",()=>{const{apiStatusDelete:apiStatusDelete}=this.props;if(apiStatusDelete===app_constants["a"].DELETING){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiOverlayMask"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingKibana"],{size:"xl"}))}return null});this.state={prevAutoFollowPatterns:props.autoFollowPatterns,selectedItems:[],filteredAutoFollowPatterns:props.autoFollowPatterns,queryText:""}}getTableColumns(deleteAutoFollowPattern){const{selectAutoFollowPattern:selectAutoFollowPattern}=this.props;return[{field:"name",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPatternList.table.nameColumnTitle",{defaultMessage:"Name"}),sortable:true,truncateText:false,render:name=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{onClick:()=>{Object(track_ui_metric["c"])("click",app_constants["l"]);selectAutoFollowPattern(name)},"data-test-subj":"autoFollowPatternLink"},name)},{field:"active",dataType:"boolean",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPatternList.table.statusTitle",{defaultMessage:"Status"}),render:active=>{const statusText=active?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPatternList.table.statusTextActive",{defaultMessage:"Active"}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPatternList.table.statusTextPaused",{defaultMessage:"Paused"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:active?"success":"subdued"})," ",statusText)},sortable:true},{field:"remoteCluster",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPatternList.table.clusterColumnTitle",{defaultMessage:"Remote cluster"}),truncateText:true,sortable:true},{field:"leaderIndexPatterns",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPatternList.table.leaderPatternsColumnTitle",{defaultMessage:"Leader patterns"}),render:leaderIndexPatterns=>leaderIndexPatterns.join(", ")},{field:"followIndexPatternPrefix",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPatternList.table.prefixColumnTitle",{defaultMessage:"Follower index prefix"}),sortable:true},{field:"followIndexPatternSuffix",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPatternList.table.suffixColumnTitle",{defaultMessage:"Follower index suffix"}),sortable:true},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPatternList.table.actionsColumnTitle",{defaultMessage:"Actions"}),actions:[{name:actionI18nTexts.pause,description:actionI18nTexts.pause,icon:"pause",onClick:item=>this.props.pauseAutoFollowPattern(item.name),available:item=>item.active,"data-test-subj":"contextMenuPauseButton"},{name:actionI18nTexts.resume,description:actionI18nTexts.resume,icon:"play",onClick:item=>this.props.resumeAutoFollowPattern(item.name),available:item=>!item.active,"data-test-subj":"contextMenuResumeButton"},{name:actionI18nTexts.edit,description:actionI18nTexts.edit,icon:"pencil",onClick:item=>routing.navigate(routing.getAutoFollowPatternPath(item.name)),"data-test-subj":"contextMenuEditButton"},{name:actionI18nTexts.delete,description:actionI18nTexts.delete,icon:"trash",onClick:item=>deleteAutoFollowPattern(item.name),"data-test-subj":"contextMenuDeleteButton"}],width:"100px"}]}render(){const{selectedItems:selectedItems,filteredAutoFollowPatterns:filteredAutoFollowPatterns}=this.state;const sorting={sort:{field:"name",direction:"asc"}};const pagination={initialPageSize:20,pageSizeOptions:[10,20,50]};const selection={onSelectionChange:selectedItems=>this.setState({selectedItems:selectedItems.map(({name:name})=>name)})};const search={toolsLeft:selectedItems.length?external_kbnSharedDeps_React_default.a.createElement(auto_follow_pattern_action_menu_container_AutoFollowPatternActionMenu,{arrowDirection:"down",patterns:this.state.selectedItems.map(name=>filteredAutoFollowPatterns.find(item=>item.name===name))}):undefined,onChange:this.onSearch,box:{incremental:true,"data-test-subj":"autoFollowPatternSearch"}};return external_kbnSharedDeps_React_default.a.createElement(AutoFollowPatternDeleteProvider,null,deleteAutoFollowPattern=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiInMemoryTable"],{items:filteredAutoFollowPatterns,itemId:"name",columns:this.getTableColumns(deleteAutoFollowPattern),search:search,pagination:pagination,sorting:sorting,selection:selection,isSelectable:true,rowProps:()=>({"data-test-subj":"row"}),cellProps:(item,column)=>({"data-test-subj":`cell_${column.field}`}),"data-test-subj":"autoFollowPatternListTable"}),this.renderLoading()))}}const auto_follow_pattern_table_container_scope=app_constants["b"].AUTO_FOLLOW_PATTERN;const mapStateToProps=state=>({apiStatusDelete:getApiStatus(`${auto_follow_pattern_table_container_scope}-delete`)(state)});const auto_follow_pattern_table_container_mapDispatchToProps=dispatch=>({selectAutoFollowPattern:name=>dispatch(selectDetailAutoFollowPattern(name)),pauseAutoFollowPattern:name=>dispatch(auto_follow_pattern_pauseAutoFollowPattern(name)),resumeAutoFollowPattern:name=>dispatch(auto_follow_pattern_resumeAutoFollowPattern(name))});const auto_follow_pattern_table_container_AutoFollowPatternTable=Object(lib["connect"])(mapStateToProps,auto_follow_pattern_table_container_mapDispatchToProps)(auto_follow_pattern_table_AutoFollowPatternTable);var indexManagement_public_=__webpack_require__(23);class detail_panel_DetailPanel extends external_kbnSharedDeps_React_["Component"]{renderAutoFollowPattern({followIndexPatternPrefix:followIndexPatternPrefix,followIndexPatternSuffix:followIndexPatternSuffix,remoteCluster:remoteCluster,leaderIndexPatterns:leaderIndexPatterns,active:active}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement("section",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.statusLabel",defaultMessage:"Status"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"status"},!active?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.pausedStatus",defaultMessage:"Paused"})):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:"success"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.activeStatus",defaultMessage:"Active"}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement("section",{"aria-labelledby":"ccrAutoFollowPatternDetailSettingsTitle","data-test-subj":"settingsSection"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",{id:"ccrAutoFollowPatternDetailSettingsTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.statusTitle",defaultMessage:"Settings"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{"data-test-subj":"settingsValues"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.remoteClusterLabel",defaultMessage:"Remote cluster"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"remoteCluster"},remoteCluster)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.leaderPatternsLabel",defaultMessage:"Leader patterns"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"leaderIndexPatterns"},leaderIndexPatterns.join(", ")))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.prefixLabel",defaultMessage:"Prefix"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"patternPrefix"},followIndexPatternPrefix||external_kbnSharedDeps_React_default.a.createElement("em",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.prefixEmptyValue",defaultMessage:"No prefix"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.suffixLabel",defaultMessage:"Suffix"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"patternSuffix"},followIndexPatternSuffix||external_kbnSharedDeps_React_default.a.createElement("em",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.suffixEmptyValue",defaultMessage:"No suffix"}))))))))}renderIndicesPreview(prefix,suffix,leaderIndexPatterns){return external_kbnSharedDeps_React_default.a.createElement("section",{"data-test-subj":"indicesPreviewSection"},external_kbnSharedDeps_React_default.a.createElement(AutoFollowPatternIndicesPreview,{prefix:prefix,suffix:suffix,leaderIndexPatterns:leaderIndexPatterns}))}renderAutoFollowPatternNotFound(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{size:"m",type:"alert",color:"danger"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.notFoundLabel",defaultMessage:"Auto-follow pattern not found"}))))))}renderAutoFollowPatternErrors(autoFollowPattern){if(!autoFollowPattern.errors.length){return null}return external_kbnSharedDeps_React_default.a.createElement("section",{"data-test-subj":"errors"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"alert",color:"danger"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s","data-test-subj":"titleErrors"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.recentErrorsTitle",defaultMessage:"Recent errors"}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("ul",null,autoFollowPattern.errors.map((error,i)=>external_kbnSharedDeps_React_default.a.createElement("li",{key:i,"data-test-subj":"recentError"},external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_Moment_default()(error.timestamp).format("MMMM Do, YYYY h:mm:ss A")),":"," ",error.autoFollowException.reason)))))}renderFlyoutBody(){const{autoFollowPattern:autoFollowPattern}=this.props;if(!autoFollowPattern){return this.renderAutoFollowPatternNotFound()}const{followIndexPatternPrefix:followIndexPatternPrefix,followIndexPatternSuffix:followIndexPatternSuffix,leaderIndexPatterns:leaderIndexPatterns}=autoFollowPattern;let indexManagementFilter;if(followIndexPatternPrefix){indexManagementFilter=`name:${followIndexPatternPrefix}`}else if(followIndexPatternSuffix){indexManagementFilter=`name:${followIndexPatternSuffix}`}const indexManagementUri=Object(indexManagement_public_["getIndexListUri"])(indexManagementFilter);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],null,this.renderAutoFollowPattern(autoFollowPattern),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),this.renderIndicesPreview(followIndexPatternPrefix,followIndexPatternSuffix,leaderIndexPatterns),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:routing._reactRouter.getUrlForApp("management",{path:`data/index_management${indexManagementUri}`}),"data-test-subj":"viewIndexManagementLink"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.viewIndicesLink",defaultMessage:"View your follower indices in Index Management"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),this.renderAutoFollowPatternErrors(autoFollowPattern))}renderFlyoutFooter(){const{autoFollowPattern:autoFollowPattern,closeDetailPanel:closeDetailPanel}=this.props;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutFooter"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{iconType:"cross",flush:"left",onClick:closeDetailPanel,"data-test-subj":"closeFlyoutButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.closeButtonLabel",defaultMessage:"Close"}))),autoFollowPattern&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(auto_follow_pattern_action_menu_container_AutoFollowPatternActionMenu,{edit:true,arrowDirection:"up",patterns:[autoFollowPattern]}))))))}render(){const{autoFollowPatternId:autoFollowPatternId,closeDetailPanel:closeDetailPanel}=this.props;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyout"],{"data-test-subj":"autoFollowPatternDetail",onClose:closeDetailPanel,"aria-labelledby":"autoFollowPatternDetailsFlyoutTitle",size:"m",maxWidth:400},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutHeader"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"m",id:"autoFollowPatternDetailsFlyoutTitle","data-test-subj":"title"},external_kbnSharedDeps_React_default.a.createElement("h2",null,autoFollowPatternId))),this.renderFlyoutBody(),this.renderFlyoutFooter())}}const detail_panel_container_scope=app_constants["b"].AUTO_FOLLOW_PATTERN;const detail_panel_container_mapStateToProps=state=>({autoFollowPatternId:getSelectedAutoFollowPatternId("detail")(state),autoFollowPattern:getSelectedAutoFollowPattern("detail")(state),apiStatus:getApiStatus(detail_panel_container_scope)(state)});const detail_panel_container_DetailPanel=Object(lib["connect"])(detail_panel_container_mapStateToProps)(detail_panel_DetailPanel);function auto_follow_pattern_list_extends(){auto_follow_pattern_list_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return auto_follow_pattern_list_extends.apply(this,arguments)}function auto_follow_pattern_list_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const REFRESH_RATE_MS=3e4;const getQueryParamPattern=({location:{search:search}})=>{const{pattern:pattern}=Object(esUiShared_public_["extractQueryParams"])(search);return pattern?decodeURIComponent(pattern):null};class auto_follow_pattern_list_AutoFollowPatternList extends external_kbnSharedDeps_React_["PureComponent"]{constructor(...args){super(...args);auto_follow_pattern_list_defineProperty(this,"state",{lastAutoFollowPatternId:null,isDetailPanelOpen:false})}static getDerivedStateFromProps({autoFollowPatternId:autoFollowPatternId},{lastAutoFollowPatternId:lastAutoFollowPatternId}){if(autoFollowPatternId!==lastAutoFollowPatternId){return{lastAutoFollowPatternId:autoFollowPatternId,isDetailPanelOpen:!!autoFollowPatternId}}return null}componentDidMount(){const{loadAutoFollowPatterns:loadAutoFollowPatterns,loadAutoFollowStats:loadAutoFollowStats,selectAutoFollowPattern:selectAutoFollowPattern,history:history}=this.props;Object(track_ui_metric["c"])(track_ui_metric["a"].LOADED,app_constants["g"]);loadAutoFollowPatterns();loadAutoFollowStats();selectAutoFollowPattern(getQueryParamPattern(history));this.interval=setInterval(()=>loadAutoFollowPatterns(true),REFRESH_RATE_MS)}componentDidUpdate(prevProps,prevState){const{history:history,loadAutoFollowStats:loadAutoFollowStats}=this.props;const{lastAutoFollowPatternId:lastAutoFollowPatternId}=this.state;if(lastAutoFollowPatternId!==prevState.lastAutoFollowPatternId){if(!lastAutoFollowPatternId){history.replace({search:""})}else{history.replace({search:`?pattern=${encodeURIComponent(lastAutoFollowPatternId)}`});loadAutoFollowStats()}}}componentWillUnmount(){clearInterval(this.interval)}renderHeader(){const{isAuthorized:isAuthorized,history:history}=this.props;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween",alignItems:"flexStart"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternList.autoFollowPatternsDescription",defaultMessage:"An auto-follow pattern replicates leader indices from a remote cluster and copies them to follower indices on the local cluster."})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},isAuthorized&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],auto_follow_pattern_list_extends({},Object(kibanaReact_public_["reactRouterNavigate"])(history,`/auto_follow_patterns/add`),{fill:true,iconType:"plusInCircle","data-test-subj":"createAutoFollowPatternButton"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternList.addAutoFollowPatternButtonLabel",defaultMessage:"Create an auto-follow pattern"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}))}renderContent(isEmpty){const{apiError:apiError,apiStatus:apiStatus,isAuthorized:isAuthorized}=this.props;if(!isAuthorized){return external_kbnSharedDeps_React_default.a.createElement(SectionUnauthorized,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternList.permissionErrorTitle",defaultMessage:"Permission error"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternList.noPermissionText",defaultMessage:"You do not have permission to view or add auto-follow patterns."}))}if(apiError){const title=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPatternList.loadingErrorTitle",{defaultMessage:"Error loading auto-follow patterns"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(SectionError,{title:title,error:apiError}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}))}if(isEmpty){return this.renderEmpty()}if(apiStatus===app_constants["a"].LOADING){return external_kbnSharedDeps_React_default.a.createElement(SectionLoading,{dataTestSubj:"autoFollowPatternLoading"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternList.loadingTitle",defaultMessage:"Loading auto-follow patterns..."}))}return this.renderList()}renderEmpty(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiEmptyPrompt"],{iconType:"managementApp",title:external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternList.emptyPromptTitle",defaultMessage:"Create your first auto-follow pattern"})),body:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternList.emptyPromptDescription",defaultMessage:"Use an auto-follow pattern to automatically replicate indices from a remote cluster."}))),actions:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],auto_follow_pattern_list_extends({},Object(kibanaReact_public_["reactRouterNavigate"])(this.props.history,`/auto_follow_patterns/add`),{fill:true,iconType:"plusInCircle","data-test-subj":"createAutoFollowPatternButton"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.addAutoFollowPatternButtonLabel",defaultMessage:"Create auto-follow pattern"})),"data-test-subj":"emptyPrompt"})}renderList(){const{selectAutoFollowPattern:selectAutoFollowPattern,autoFollowPatterns:autoFollowPatterns}=this.props;const{isDetailPanelOpen:isDetailPanelOpen}=this.state;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(auto_follow_pattern_table_container_AutoFollowPatternTable,{autoFollowPatterns:autoFollowPatterns}),isDetailPanelOpen&&external_kbnSharedDeps_React_default.a.createElement(detail_panel_container_DetailPanel,{closeDetailPanel:()=>selectAutoFollowPattern(null)}))}render(){const{autoFollowPatterns:autoFollowPatterns,apiStatus:apiStatus}=this.props;const isEmpty=apiStatus===app_constants["a"].IDLE&&!autoFollowPatterns.length;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,!isEmpty&&this.renderHeader(),this.renderContent(isEmpty))}}const auto_follow_pattern_list_container_scope=app_constants["b"].AUTO_FOLLOW_PATTERN;const auto_follow_pattern_list_container_mapStateToProps=state=>({autoFollowPatterns:getListAutoFollowPatterns(state),autoFollowPatternId:getSelectedAutoFollowPatternId("detail")(state),apiStatus:getApiStatus(auto_follow_pattern_list_container_scope)(state),apiError:getApiError(auto_follow_pattern_list_container_scope)(state),isAuthorized:isApiAuthorized(auto_follow_pattern_list_container_scope)(state)});const auto_follow_pattern_list_container_mapDispatchToProps=dispatch=>({loadAutoFollowPatterns:inBackground=>dispatch(auto_follow_pattern_loadAutoFollowPatterns(inBackground)),selectAutoFollowPattern:id=>dispatch(selectDetailAutoFollowPattern(id)),loadAutoFollowStats:()=>dispatch(ccr_loadAutoFollowStats())});const auto_follow_pattern_list_container_AutoFollowPatternList=Object(lib["connect"])(auto_follow_pattern_list_container_mapStateToProps,auto_follow_pattern_list_container_mapDispatchToProps)(auto_follow_pattern_list_AutoFollowPatternList);function context_menu_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class context_menu_ContextMenu extends external_kbnSharedDeps_React_["PureComponent"]{constructor(...args){super(...args);context_menu_defineProperty(this,"state",{isPopoverOpen:false});context_menu_defineProperty(this,"onButtonClick",()=>{this.setState(prevState=>({isPopoverOpen:!prevState.isPopoverOpen}))});context_menu_defineProperty(this,"closePopover",()=>{this.setState({isPopoverOpen:false})});context_menu_defineProperty(this,"editFollowerIndex",id=>{const uri=routing.getFollowerIndexPath(id);routing.navigate(uri)})}render(){const{followerIndices:followerIndices}=this.props;const followerIndicesLength=followerIndices.length;const followerIndexNames=followerIndices.map(index=>index.name);const{iconSide:iconSide="right",iconType:iconType="arrowDown",anchorPosition:anchorPosition="rightUp",label:label=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndex.contextMenu.buttonLabel",defaultMessage:"Manage follower {followerIndicesLength, plural, one {index} other {indices}}",values:{followerIndicesLength:followerIndicesLength}}),testSubj:testSubj}=this.props;const button=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{"data-test-subj":testSubj,iconSide:iconSide,onClick:this.onButtonClick,iconType:iconType,fill:true},label);const pausedFollowerIndexNames=followerIndices.filter(({isPaused:isPaused})=>isPaused).map(index=>index.name);const activeFollowerIndices=followerIndices.filter(({isPaused:isPaused})=>!isPaused);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopover"],{button:button,isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,panelPaddingSize:"none",anchorPosition:anchorPosition,repositionOnScroll:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopoverTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndex.contextMenu.title",defaultMessage:"Follower {followerIndicesLength, plural, one {index} other {indices}} options",values:{followerIndicesLength:followerIndicesLength}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiContextMenuPanel"],{"data-test-subj":"contextMenu"},activeFollowerIndices.length?external_kbnSharedDeps_React_default.a.createElement(FollowerIndexPauseProvider,{onConfirm:this.closePopover},pauseFollowerIndex=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiContextMenuItem"],{icon:"pause",onClick:()=>pauseFollowerIndex(activeFollowerIndices),"data-test-subj":"pauseButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndex.contextMenu.pauseLabel",defaultMessage:"Pause replication"}))):null,pausedFollowerIndexNames.length?external_kbnSharedDeps_React_default.a.createElement(FollowerIndexResumeProvider,{onConfirm:this.closePopover},resumeFollowerIndex=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiContextMenuItem"],{icon:"play",onClick:()=>resumeFollowerIndex(pausedFollowerIndexNames),"data-test-subj":"resumeButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndex.contextMenu.resumeLabel",defaultMessage:"Resume replication"}))):null,followerIndexNames.length===1&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiContextMenuItem"],{icon:"pencil",onClick:()=>this.editFollowerIndex(followerIndexNames[0]),"data-test-subj":"editButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndex.contextMenu.editLabel","data-test-subj":"editButton",defaultMessage:"Edit follower index"}))),external_kbnSharedDeps_React_default.a.createElement(FollowerIndexUnfollowProvider,{onConfirm:this.closePopover},unfollowLeaderIndex=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiContextMenuItem"],{icon:"indexFlush",onClick:()=>unfollowLeaderIndex(followerIndexNames),"data-test-subj":"unfollowButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndex.contextMenu.unfollowLabel",defaultMessage:"Unfollow leader {followerIndicesLength, plural, one {index} other {indices}}",values:{followerIndicesLength:followerIndicesLength}})))))}}function follower_indices_table_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const follower_indices_table_actionI18nTexts={pause:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexList.table.actionPauseDescription",{defaultMessage:"Pause replication"}),resume:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexList.table.actionResumeDescription",{defaultMessage:"Resume replication"}),edit:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexList.table.actionEditDescription",{defaultMessage:"Edit follower index"}),unfollow:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexList.table.actionUnfollowDescription",{defaultMessage:"Unfollow leader index"})};const getFilteredIndices=(followerIndices,queryText)=>{if(queryText){const normalizedSearchText=queryText.toLowerCase();return followerIndices.filter(followerIndex=>{const{name:name,remoteCluster:remoteCluster,leaderIndex:leaderIndex}=followerIndex;if(name.toLowerCase().includes(normalizedSearchText)){return true}if(leaderIndex.toLowerCase().includes(normalizedSearchText)){return true}if(remoteCluster.toLowerCase().includes(normalizedSearchText)){return true}return false})}return followerIndices};class follower_indices_table_FollowerIndicesTable extends external_kbnSharedDeps_React_["PureComponent"]{static getDerivedStateFromProps(props,state){const{followerIndices:followerIndices}=props;const{prevFollowerIndices:prevFollowerIndices,queryText:queryText}=state;if(prevFollowerIndices!==followerIndices){return{prevFollowerIndices:followerIndices,filteredIndices:getFilteredIndices(followerIndices,queryText)}}return null}constructor(props){super(props);follower_indices_table_defineProperty(this,"onSearch",({query:query})=>{const{followerIndices:followerIndices}=this.props;const{text:text}=query;this.setState({queryText:text,filteredIndices:getFilteredIndices(followerIndices,text)})});follower_indices_table_defineProperty(this,"editFollowerIndex",id=>{const uri=routing.getFollowerIndexPath(id);routing.navigate(uri)});follower_indices_table_defineProperty(this,"renderLoading",()=>{const{apiStatusDelete:apiStatusDelete}=this.props;if(apiStatusDelete===app_constants["a"].DELETING){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiOverlayMask"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingKibana"],{size:"xl"}))}return null});this.state={prevFollowerIndices:props.followerIndices,selectedItems:[],filteredIndices:props.followerIndices,queryText:""}}getTableColumns(actionHandlers){const{selectFollowerIndex:selectFollowerIndex}=this.props;const actions=[{name:follower_indices_table_actionI18nTexts.pause,description:follower_indices_table_actionI18nTexts.pause,icon:"pause",onClick:item=>actionHandlers.pauseFollowerIndex(item),available:item=>!item.isPaused,"data-test-subj":"pauseButton"},{name:follower_indices_table_actionI18nTexts.resume,description:follower_indices_table_actionI18nTexts.resume,icon:"play",onClick:item=>actionHandlers.resumeFollowerIndex(item.name),available:item=>item.isPaused,"data-test-subj":"resumeButton"},{name:follower_indices_table_actionI18nTexts.edit,description:follower_indices_table_actionI18nTexts.edit,onClick:item=>this.editFollowerIndex(item.name),icon:"pencil","data-test-subj":"editButton"},{name:follower_indices_table_actionI18nTexts.unfollow,description:follower_indices_table_actionI18nTexts.unfollow,onClick:item=>actionHandlers.unfollowLeaderIndex(item.name),icon:"indexFlush","data-test-subj":"unfollowButton"}];return[{field:"name",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexList.table.nameColumnTitle",{defaultMessage:"Name"}),sortable:true,truncateText:false,render:name=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{onClick:()=>{Object(track_ui_metric["c"])("click",app_constants["t"]);selectFollowerIndex(name)},"data-test-subj":"followerIndexLink"},name)},{field:"isPaused",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexList.table.statusColumnTitle",{defaultMessage:"Status"}),truncateText:true,sortable:true,render:isPaused=>isPaused?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexList.table.statusColumn.pausedLabel",defaultMessage:"Paused"})):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:"success"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexList.table.statusColumn.activeLabel",defaultMessage:"Active"}))},{field:"remoteCluster",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexList.table.clusterColumnTitle",{defaultMessage:"Remote cluster"}),truncateText:true,sortable:true},{field:"leaderIndex",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexList.table.leaderIndexColumnTitle",{defaultMessage:"Leader index"}),truncateText:true,sortable:true},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexList.table.actionsColumnTitle",{defaultMessage:"Actions"}),actions:actions,width:"100px"}]}render(){const{selectedItems:selectedItems,filteredIndices:filteredIndices}=this.state;const sorting={sort:{field:"name",direction:"asc"}};const pagination={initialPageSize:20,pageSizeOptions:[10,20,50]};const selection={onSelectionChange:newSelectedItems=>this.setState({selectedItems:newSelectedItems})};const search={toolsLeft:selectedItems.length?external_kbnSharedDeps_React_default.a.createElement(context_menu_ContextMenu,{followerIndices:selectedItems,testSubj:"contextMenuButton"}):undefined,onChange:this.onSearch,box:{incremental:true,"data-test-subj":"followerIndexSearch"}};return external_kbnSharedDeps_React_default.a.createElement(FollowerIndexActionsProvider,null,getActionHandlers=>{const actionHandlers=getActionHandlers();return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiInMemoryTable"],{items:filteredIndices,itemId:"name",columns:this.getTableColumns(actionHandlers),search:search,pagination:pagination,sorting:sorting,selection:selection,isSelectable:true,rowProps:()=>({"data-test-subj":"row"}),cellProps:(item,column)=>({"data-test-subj":`cell-${column.field}`}),"data-test-subj":"followerIndexListTable"}),this.renderLoading())})}}const follower_indices_table_container_scope=app_constants["b"].FOLLOWER_INDEX;const follower_indices_table_container_mapStateToProps=state=>({apiStatusDelete:getApiStatus(`${follower_indices_table_container_scope}-delete`)(state)});const follower_indices_table_container_mapDispatchToProps=dispatch=>({selectFollowerIndex:name=>dispatch(selectDetailFollowerIndex(name))});const follower_indices_table_container_FollowerIndicesTable=Object(lib["connect"])(follower_indices_table_container_mapStateToProps,follower_indices_table_container_mapDispatchToProps)(follower_indices_table_FollowerIndicesTable);var textmate=__webpack_require__(68);class detail_panel_detail_panel_DetailPanel extends external_kbnSharedDeps_React_["Component"]{renderFollowerIndex(){const{followerIndex:{remoteCluster:remoteCluster,leaderIndex:leaderIndex,isPaused:isPaused,shards:shards,maxReadRequestOperationCount:maxReadRequestOperationCount,maxOutstandingReadRequests:maxOutstandingReadRequests,maxReadRequestSize:maxReadRequestSize,maxWriteRequestOperationCount:maxWriteRequestOperationCount,maxWriteRequestSize:maxWriteRequestSize,maxOutstandingWriteRequests:maxOutstandingWriteRequests,maxWriteBufferCount:maxWriteBufferCount,maxWriteBufferSize:maxWriteBufferSize,maxRetryDelay:maxRetryDelay,readPollTimeout:readPollTimeout}}=this.props;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],null,external_kbnSharedDeps_React_default.a.createElement("section",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexDetailPanel.statusLabel",defaultMessage:"Status"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"status"},isPaused?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexDetailPanel.pausedStatus",defaultMessage:"Paused"})):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:"success"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexDetailPanel.activeStatus",defaultMessage:"Active"}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexDetailPanel.remoteClusterLabel",defaultMessage:"Remote cluster"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"remoteCluster"},remoteCluster)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexDetailPanel.leaderIndexLabel",defaultMessage:"Leader index"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"leaderIndex"},leaderIndex))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),external_kbnSharedDeps_React_default.a.createElement("section",{"aria-labelledby":"ccrFollowerIndexDetailSettingsTitle","data-test-subj":"settingsSection"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",{id:"ccrFollowerIndexDetailSettingsTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexDetailPanel.settingsTitle",defaultMessage:"Settings"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),isPaused?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{size:"s",title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexDetailPanel.pausedFollowerCalloutTitle",defaultMessage:"A paused follower index does not have settings or shard statistics."})}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{"data-test-subj":"settingsValues"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxReadRequestOperationCountTitle",defaultMessage:"Max read request operation count"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"maxReadReqOpCount"},maxReadRequestOperationCount)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxOutstandingReadRequestsTitle",defaultMessage:"Max outstanding read requests"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"maxOutstandingReadReq"},maxOutstandingReadRequests))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxReadRequestSizeTitle",defaultMessage:"Max read request size"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"maxReadReqSize"},maxReadRequestSize)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteRequestOperationCountTitle",defaultMessage:"Max write request operation count"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"maxWriteReqOpCount"},maxWriteRequestOperationCount))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteRequestSizeTitle",defaultMessage:"Max write request size"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"maxWriteReqSize"},maxWriteRequestSize)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxOutstandingWriteRequestsTitle",defaultMessage:"Max outstanding write requests"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"maxOutstandingWriteReq"},maxOutstandingWriteRequests))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteBufferCountTitle",defaultMessage:"Max write buffer count"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"maxWriteBufferCount"},maxWriteBufferCount)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteBufferSizeTitle",defaultMessage:"Max write buffer size"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"maxWriteBufferSize"},maxWriteBufferSize))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxRetryDelayTitle",defaultMessage:"Max retry delay"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"maxRetryDelay"},maxRetryDelay)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.readPollTimeoutTitle",defaultMessage:"Read poll timeout"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"readPollTimeout"},readPollTimeout))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),external_kbnSharedDeps_React_default.a.createElement("section",{"data-test-subj":"shardsStatsSection"},shards&&shards.map((shard,i)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],{key:i},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexDetailPanel.shardStatsTitle",defaultMessage:"Shard {id} stats",values:{id:shard.id}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeEditor"],{mode:"json",theme:"textmate",width:"100%",isReadOnly:true,setOptions:{maxLines:Infinity},value:JSON.stringify(shard,null,2),editorProps:{$blockScrolling:Infinity},"data-test-subj":`shardsStats${i}`}))))))}renderContent(){const{apiStatus:apiStatus,followerIndex:followerIndex}=this.props;if(apiStatus===app_constants["a"].LOADING){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"m"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexDetailPanel.loadingLabel",defaultMessage:"Loading follower index…"}))))))}if(!followerIndex){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{size:"m",type:"alert",color:"danger"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexDetailPanel.notFoundLabel",defaultMessage:"Follower index not found"}))))))}return this.renderFollowerIndex()}renderFooter(){const{followerIndexId:followerIndexId,followerIndex:followerIndex,closeDetailPanel:closeDetailPanel}=this.props;const indexManagementUri=Object(indexManagement_public_["getIndexListUri"])(`name:${followerIndexId}`);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutFooter"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{iconType:"cross",flush:"left",onClick:closeDetailPanel,"data-test-subj":"closeFlyoutButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexDetailPanel.closeButtonLabel",defaultMessage:"Close"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{href:routing._reactRouter.getUrlForApp("management",{path:`data/index_management${indexManagementUri}`}),"data-test-subj":"viewIndexManagementButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexDetailPanel.viewIndexLink",defaultMessage:"View in Index Management"}))),followerIndex&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(context_menu_ContextMenu,{iconSide:"left",iconType:"arrowUp",anchorPosition:"upRight",label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexDetailPanel.manageButtonLabel",defaultMessage:"Manage"}),followerIndices:[followerIndex],testSubj:"manageButton"}))))))}render(){const{followerIndexId:followerIndexId,closeDetailPanel:closeDetailPanel}=this.props;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyout"],{"data-test-subj":"followerIndexDetail",onClose:closeDetailPanel,"aria-labelledby":"followerIndexDetailsFlyoutTitle",size:"m",maxWidth:600},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutHeader"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"m",id:"followerIndexDetailsFlyoutTitle","data-test-subj":"title"},external_kbnSharedDeps_React_default.a.createElement("h2",null,followerIndexId))),this.renderContent(),this.renderFooter())}}const detail_panel_detail_panel_container_scope=app_constants["b"].FOLLOWER_INDEX;const detail_panel_detail_panel_container_mapStateToProps=state=>({followerIndexId:getSelectedFollowerIndexId("detail")(state),followerIndex:getSelectedFollowerIndex("detail")(state),apiStatus:getApiStatus(detail_panel_detail_panel_container_scope)(state)});const detail_panel_detail_panel_container_DetailPanel=Object(lib["connect"])(detail_panel_detail_panel_container_mapStateToProps)(detail_panel_detail_panel_DetailPanel);function follower_indices_list_extends(){follower_indices_list_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return follower_indices_list_extends.apply(this,arguments)}function follower_indices_list_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const follower_indices_list_REFRESH_RATE_MS=3e4;const getQueryParamName=({location:{search:search}})=>{const{name:name}=Object(esUiShared_public_["extractQueryParams"])(search);return name?decodeURIComponent(name):null};class follower_indices_list_FollowerIndicesList extends external_kbnSharedDeps_React_["PureComponent"]{constructor(...args){super(...args);follower_indices_list_defineProperty(this,"state",{lastFollowerIndexId:null,isDetailPanelOpen:false})}static getDerivedStateFromProps({followerIndexId:followerIndexId},{lastFollowerIndexId:lastFollowerIndexId}){if(followerIndexId!==lastFollowerIndexId){return{lastFollowerIndexId:followerIndexId,isDetailPanelOpen:!!followerIndexId}}return null}componentDidMount(){const{loadFollowerIndices:loadFollowerIndices,selectFollowerIndex:selectFollowerIndex,history:history}=this.props;Object(track_ui_metric["c"])(track_ui_metric["a"].LOADED,app_constants["o"]);loadFollowerIndices();selectFollowerIndex(getQueryParamName(history));this.interval=setInterval(()=>loadFollowerIndices(true),follower_indices_list_REFRESH_RATE_MS)}componentDidUpdate(prevProps,prevState){const{history:history}=this.props;const{lastFollowerIndexId:lastFollowerIndexId}=this.state;if(lastFollowerIndexId!==prevState.lastFollowerIndexId){if(!lastFollowerIndexId){history.replace({search:""})}else{history.replace({search:`?name=${encodeURIComponent(lastFollowerIndexId)}`})}}}componentWillUnmount(){clearInterval(this.interval)}renderHeader(){const{isAuthorized:isAuthorized,history:history}=this.props;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween",alignItems:"flexStart"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexList.followerIndicesDescription",defaultMessage:"A follower index replicates a leader index on a remote cluster."})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},isAuthorized&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],follower_indices_list_extends({},Object(kibanaReact_public_["reactRouterNavigate"])(history,`/follower_indices/add`),{fill:true,iconType:"plusInCircle","data-test-subj":"createFollowerIndexButton"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexList.addFollowerButtonLabel",defaultMessage:"Create a follower index"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}))}renderContent(isEmpty){const{apiError:apiError,isAuthorized:isAuthorized,apiStatus:apiStatus}=this.props;if(!isAuthorized){return external_kbnSharedDeps_React_default.a.createElement(SectionUnauthorized,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexList.permissionErrorTitle",defaultMessage:"Permission error"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexList.noPermissionText",defaultMessage:"You do not have permission to view or add follower indices."}))}if(apiError){const title=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexList.loadingErrorTitle",{defaultMessage:"Error loading follower indices"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(SectionError,{title:title,error:apiError}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}))}if(isEmpty){return this.renderEmpty()}if(apiStatus===app_constants["a"].LOADING){return this.renderLoading()}return this.renderList()}renderEmpty(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiEmptyPrompt"],{iconType:"managementApp",title:external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexList.emptyPromptTitle",defaultMessage:"Create your first follower index"})),body:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexList.emptyPromptDescription",defaultMessage:"Use a follower index to replicate a leader index on a remote cluster."}))),actions:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],follower_indices_list_extends({},Object(kibanaReact_public_["reactRouterNavigate"])(this.props.history,`/follower_indices/add`),{fill:true,iconType:"plusInCircle","data-test-subj":"createFollowerIndexButton"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.addFollowerButtonLabel",defaultMessage:"Create a follower index"})),"data-test-subj":"emptyPrompt"})}renderLoading(){return external_kbnSharedDeps_React_default.a.createElement(SectionLoading,{dataTestSubj:"followerIndexLoading"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexList.loadingTitle",defaultMessage:"Loading follower indices..."}))}renderList(){const{selectFollowerIndex:selectFollowerIndex,followerIndices:followerIndices}=this.props;const{isDetailPanelOpen:isDetailPanelOpen}=this.state;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(follower_indices_table_container_FollowerIndicesTable,{followerIndices:followerIndices}),isDetailPanelOpen&&external_kbnSharedDeps_React_default.a.createElement(detail_panel_detail_panel_container_DetailPanel,{closeDetailPanel:()=>selectFollowerIndex(null)}))}render(){const{followerIndices:followerIndices,apiStatus:apiStatus}=this.props;const isEmpty=apiStatus===app_constants["a"].IDLE&&!followerIndices.length;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,!isEmpty&&this.renderHeader(),this.renderContent(isEmpty))}}const follower_indices_list_container_scope=app_constants["b"].FOLLOWER_INDEX;const follower_indices_list_container_mapStateToProps=state=>({followerIndices:getListFollowerIndices(state),followerIndexId:getSelectedFollowerIndexId("detail")(state),apiStatus:getApiStatus(follower_indices_list_container_scope)(state),apiError:getApiError(follower_indices_list_container_scope)(state),isAuthorized:isApiAuthorized(follower_indices_list_container_scope)(state)});const follower_indices_list_container_mapDispatchToProps=dispatch=>({loadFollowerIndices:inBackground=>dispatch(follower_index_loadFollowerIndices(inBackground)),selectFollowerIndex:id=>dispatch(selectDetailFollowerIndex(id))});const follower_indices_list_container_FollowerIndicesList=Object(lib["connect"])(follower_indices_list_container_mapStateToProps,follower_indices_list_container_mapDispatchToProps)(follower_indices_list_FollowerIndicesList);function home_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class home_CrossClusterReplicationHome extends external_kbnSharedDeps_React_["PureComponent"]{constructor(...args){super(...args);home_defineProperty(this,"state",{activeSection:"follower_indices"});home_defineProperty(this,"tabs",[{id:"follower_indices",name:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternList.followerIndicesTitle",defaultMessage:"Follower indices"}),testSubj:"followerIndicesTab"},{id:"auto_follow_patterns",name:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternList.autoFollowPatternsTitle",defaultMessage:"Auto-follow patterns"}),testSubj:"autoFollowPatternsTab"}]);home_defineProperty(this,"onSectionChange",section=>{breadcrumbs_setBreadcrumbs([listBreadcrumb(`/${section}`)]);routing.navigate(`/${section}`)})}componentDidMount(){breadcrumbs_setBreadcrumbs([listBreadcrumb()])}static getDerivedStateFromProps(props){const{match:{params:{section:section}}}=props;return{activeSection:section}}render(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"l","data-test-subj":"appTitle"},external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternList.crossClusterReplicationTitle",defaultMessage:"Cross-Cluster Replication"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTabs"],null,this.tabs.map(tab=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTab"],{onClick:()=>this.onSectionChange(tab.id),isSelected:tab.id===this.state.activeSection,key:tab.id,"data-test-subj":tab.testSubj},tab.name))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_["Switch"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_["Route"],{exact:true,path:`/follower_indices`,component:follower_indices_list_container_FollowerIndicesList}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_["Route"],{exact:true,path:`/auto_follow_patterns`,component:auto_follow_pattern_list_container_AutoFollowPatternList}))))}}const home_container_mapStateToProps=state=>({autoFollowPatterns:getListAutoFollowPatterns(state),isAutoFollowApiAuthorized:isApiAuthorized(app_constants["b"].AUTO_FOLLOW_PATTERN)(state),followerIndices:getListFollowerIndices(state),isFollowerIndexApiAuthorized:isApiAuthorized(app_constants["b"].FOLLOWER_INDEX)(state)});const home_container_CrossClusterReplicationHome=Object(lib["connect"])(home_container_mapStateToProps,null)(home_CrossClusterReplicationHome);class auto_follow_pattern_add_AutoFollowPatternAdd extends external_kbnSharedDeps_React_["PureComponent"]{componentDidMount(){breadcrumbs_setBreadcrumbs([listBreadcrumb("/auto_follow_patterns"),addBreadcrumb])}componentWillUnmount(){this.props.clearApiError()}render(){const{saveAutoFollowPattern:saveAutoFollowPattern,apiStatus:apiStatus,apiError:apiError,match:{url:currentUrl}}=this.props;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,external_kbnSharedDeps_React_default.a.createElement(AutoFollowPatternPageTitle,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPattern.addTitle",defaultMessage:"Add auto-follow pattern"})}),external_kbnSharedDeps_React_default.a.createElement(remote_clusters_provider_RemoteClustersProvider,null,({isLoading:isLoading,error:error,remoteClusters:remoteClusters})=>{if(isLoading){return external_kbnSharedDeps_React_default.a.createElement(SectionLoading,{dataTestSubj:"remoteClustersLoading"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternCreateForm.loadingRemoteClustersMessage",defaultMessage:"Loading remote clusters…"}))}return external_kbnSharedDeps_React_default.a.createElement(auto_follow_pattern_form_AutoFollowPatternForm,{apiStatus:apiStatus,apiError:apiError,currentUrl:currentUrl,remoteClusters:error?[]:remoteClusters,saveAutoFollowPattern:saveAutoFollowPattern,saveButtonLabel:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternCreateForm.saveButtonLabel",defaultMessage:"Create"})})}))}}const auto_follow_pattern_add_container_scope=app_constants["b"].AUTO_FOLLOW_PATTERN;const auto_follow_pattern_add_container_mapStateToProps=state=>({apiStatus:getApiStatus(`${auto_follow_pattern_add_container_scope}-save`)(state),apiError:getApiError(`${auto_follow_pattern_add_container_scope}-save`)(state)});const auto_follow_pattern_add_container_mapDispatchToProps=dispatch=>({saveAutoFollowPattern:(id,autoFollowPattern)=>dispatch(auto_follow_pattern_saveAutoFollowPattern(id,autoFollowPattern)),clearApiError:()=>dispatch(api_clearApiError(auto_follow_pattern_add_container_scope))});const auto_follow_pattern_add_container_AutoFollowPatternAdd=Object(lib["connect"])(auto_follow_pattern_add_container_mapStateToProps,auto_follow_pattern_add_container_mapDispatchToProps)(auto_follow_pattern_add_AutoFollowPatternAdd);function auto_follow_pattern_edit_extends(){auto_follow_pattern_edit_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return auto_follow_pattern_edit_extends.apply(this,arguments)}function auto_follow_pattern_edit_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class auto_follow_pattern_edit_AutoFollowPatternEdit extends external_kbnSharedDeps_React_["PureComponent"]{constructor(...args){super(...args);auto_follow_pattern_edit_defineProperty(this,"state",{lastAutoFollowPatternId:undefined})}static getDerivedStateFromProps({autoFollowPatternId:autoFollowPatternId},{lastAutoFollowPatternId:lastAutoFollowPatternId}){if(lastAutoFollowPatternId!==autoFollowPatternId){return{lastAutoFollowPatternId:autoFollowPatternId}}return null}componentDidMount(){const{match:{params:{id:id}},selectAutoFollowPattern:selectAutoFollowPattern}=this.props;const decodedId=decodeURIComponent(id);selectAutoFollowPattern(decodedId);breadcrumbs_setBreadcrumbs([listBreadcrumb("/auto_follow_patterns"),editBreadcrumb])}componentDidUpdate(prevProps,prevState){const{autoFollowPattern:autoFollowPattern,getAutoFollowPattern:getAutoFollowPattern}=this.props;if(!autoFollowPattern&&prevState.lastAutoFollowPatternId!==this.state.lastAutoFollowPatternId){getAutoFollowPattern(this.state.lastAutoFollowPatternId)}}componentWillUnmount(){this.props.clearApiError()}renderGetAutoFollowPatternError(error){const{match:{params:{id:name}}}=this.props;const title=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPatternEditForm.loadingErrorTitle",{defaultMessage:"Error loading auto-follow pattern"});const errorMessage=error.status===404?{data:{error:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.autoFollowPatternEditForm.loadingErrorMessage",{defaultMessage:`The auto-follow pattern '{name}' does not exist.`,values:{name:name}})}}:error;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(SectionError,{title:title,error:errorMessage}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],auto_follow_pattern_edit_extends({},Object(kibanaReact_public_["reactRouterNavigate"])(this.props.history,`/auto_follow_patterns`),{iconType:"arrowLeft",flush:"left","data-test-subj":"viewAutoFollowPatternListButton"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternEditForm.viewAutoFollowPatternsButtonLabel",defaultMessage:"View auto-follow patterns"})))))}renderLoadingAutoFollowPattern(){return external_kbnSharedDeps_React_default.a.createElement(SectionLoading,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternEditForm.loadingTitle",defaultMessage:"Loading auto-follow pattern…"}))}render(){const{saveAutoFollowPattern:saveAutoFollowPattern,apiStatus:apiStatus,apiError:apiError,autoFollowPattern:autoFollowPattern,match:{url:currentUrl}}=this.props;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],{horizontalPosition:"center",className:"ccrPageContent"},external_kbnSharedDeps_React_default.a.createElement(AutoFollowPatternPageTitle,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPattern.editTitle",defaultMessage:"Edit auto-follow pattern"})}),apiStatus.get===app_constants["a"].LOADING&&this.renderLoadingAutoFollowPattern(),apiError.get&&this.renderGetAutoFollowPatternError(apiError.get),autoFollowPattern&&external_kbnSharedDeps_React_default.a.createElement(remote_clusters_provider_RemoteClustersProvider,null,({isLoading:isLoading,error:error,remoteClusters:remoteClusters})=>{if(isLoading){return external_kbnSharedDeps_React_default.a.createElement(SectionLoading,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternEditForm.loadingRemoteClustersMessage",defaultMessage:"Loading remote clusters…"}))}return external_kbnSharedDeps_React_default.a.createElement(auto_follow_pattern_form_AutoFollowPatternForm,{apiStatus:apiStatus.save,apiError:apiError.save,currentUrl:currentUrl,remoteClusters:error?[]:remoteClusters,autoFollowPattern:autoFollowPattern,saveAutoFollowPattern:saveAutoFollowPattern,saveButtonLabel:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.autoFollowPatternEditForm.saveButtonLabel",defaultMessage:"Update"})})}))}}const auto_follow_pattern_edit_container_scope=app_constants["b"].AUTO_FOLLOW_PATTERN;const auto_follow_pattern_edit_container_mapStateToProps=state=>({apiStatus:{get:getApiStatus(`${auto_follow_pattern_edit_container_scope}-get`)(state),save:getApiStatus(`${auto_follow_pattern_edit_container_scope}-save`)(state)},apiError:{get:getApiError(`${auto_follow_pattern_edit_container_scope}-get`)(state),save:getApiError(`${auto_follow_pattern_edit_container_scope}-save`)(state)},autoFollowPatternId:getSelectedAutoFollowPatternId("edit")(state),autoFollowPattern:getSelectedAutoFollowPattern("edit")(state)});const auto_follow_pattern_edit_container_mapDispatchToProps=dispatch=>({getAutoFollowPattern:id=>dispatch(getAutoFollowPattern(id)),selectAutoFollowPattern:id=>dispatch(selectEditAutoFollowPattern(id)),saveAutoFollowPattern:(id,autoFollowPattern)=>{const{active:active,remoteCluster:remoteCluster,leaderIndexPatterns:leaderIndexPatterns,followIndexPattern:followIndexPattern}=autoFollowPattern;dispatch(auto_follow_pattern_saveAutoFollowPattern(id,{active:active,remoteCluster:remoteCluster,leaderIndexPatterns:leaderIndexPatterns,followIndexPattern:followIndexPattern},true))},clearApiError:()=>{dispatch(api_clearApiError(`${auto_follow_pattern_edit_container_scope}-get`));dispatch(api_clearApiError(`${auto_follow_pattern_edit_container_scope}-save`))}});const auto_follow_pattern_edit_container_AutoFollowPatternEdit=Object(lib["connect"])(auto_follow_pattern_edit_container_mapStateToProps,auto_follow_pattern_edit_container_mapDispatchToProps)(auto_follow_pattern_edit_AutoFollowPatternEdit);class follower_index_add_FollowerIndexAdd extends external_kbnSharedDeps_React_["PureComponent"]{componentDidMount(){breadcrumbs_setBreadcrumbs([listBreadcrumb("/follower_indices"),addBreadcrumb])}componentWillUnmount(){this.props.clearApiError()}render(){const{saveFollowerIndex:saveFollowerIndex,clearApiError:clearApiError,apiStatus:apiStatus,apiError:apiError,match:{url:currentUrl}}=this.props;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],{horizontalPosition:"center",className:"ccrPageContent"},external_kbnSharedDeps_React_default.a.createElement(FollowerIndexPageTitle,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndex.addTitle",defaultMessage:"Add follower index"})}),external_kbnSharedDeps_React_default.a.createElement(remote_clusters_provider_RemoteClustersProvider,null,({isLoading:isLoading,error:error,remoteClusters:remoteClusters})=>{if(isLoading){return external_kbnSharedDeps_React_default.a.createElement(SectionLoading,{dataTestSubj:"remoteClustersLoading"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexCreateForm.loadingRemoteClustersMessage",defaultMessage:"Loading remote clusters…"}))}return external_kbnSharedDeps_React_default.a.createElement(follower_index_form_FollowerIndexForm,{apiStatus:apiStatus,apiError:apiError,currentUrl:currentUrl,remoteClusters:error?[]:remoteClusters,saveFollowerIndex:saveFollowerIndex,clearApiError:clearApiError,saveButtonLabel:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexCreateForm.saveButtonLabel",defaultMessage:"Create"})})}))}}const follower_index_add_container_scope=app_constants["b"].FOLLOWER_INDEX;const follower_index_add_container_mapStateToProps=state=>({apiStatus:getApiStatus(`${follower_index_add_container_scope}-save`)(state),apiError:getApiError(`${follower_index_add_container_scope}-save`)(state)});const follower_index_add_container_mapDispatchToProps=dispatch=>({saveFollowerIndex:(id,followerIndex)=>dispatch(follower_index_saveFollowerIndex(id,followerIndex)),clearApiError:()=>dispatch(api_clearApiError(`${follower_index_add_container_scope}-save`))});const follower_index_add_container_FollowerIndexAdd=Object(lib["connect"])(follower_index_add_container_mapStateToProps,follower_index_add_container_mapDispatchToProps)(follower_index_add_FollowerIndexAdd);function follower_index_edit_extends(){follower_index_edit_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return follower_index_edit_extends.apply(this,arguments)}function follower_index_edit_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class follower_index_edit_FollowerIndexEdit extends external_kbnSharedDeps_React_["PureComponent"]{constructor(...args){super(...args);follower_index_edit_defineProperty(this,"state",{lastFollowerIndexId:undefined,showConfirmModal:false});follower_index_edit_defineProperty(this,"saveFollowerIndex",(name,followerIndex)=>{this.editedFollowerIndexPayload={name:name,followerIndex:followerIndex};this.showConfirmModal()});follower_index_edit_defineProperty(this,"confirmSaveFollowerIhdex",()=>{const{name:name,followerIndex:followerIndex}=this.editedFollowerIndexPayload;this.props.saveFollowerIndex(name,followerIndex);this.closeConfirmModal()});follower_index_edit_defineProperty(this,"showConfirmModal",()=>this.setState({showConfirmModal:true}));follower_index_edit_defineProperty(this,"closeConfirmModal",()=>this.setState({showConfirmModal:false}));follower_index_edit_defineProperty(this,"renderConfirmModal",()=>{const{followerIndexId:followerIndexId,followerIndex:{isPaused:isPaused}}=this.props;const title=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexEditForm.confirmModal.title",{defaultMessage:`Update follower index '{id}'?`,values:{id:followerIndexId}});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiConfirmModal"],{title:title,onCancel:this.closeConfirmModal,onConfirm:this.confirmSaveFollowerIhdex,cancelButtonText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexEditForm.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),confirmButtonText:isPaused?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexEditForm.confirmModal.confirmAndResumeButtonText",defaultMessage:"Update and resume"}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexEditForm.confirmModal.confirmButtonText",defaultMessage:"Update"})},external_kbnSharedDeps_React_default.a.createElement("p",null,isPaused?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexEditForm.confirmModal.resumeDescription",defaultMessage:"Updating a follower index resumes replication of its leader index."}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexEditForm.confirmModal.description",defaultMessage:"The follower index is paused, then resumed. If the update fails, try manually resuming replication."})))})}static getDerivedStateFromProps({followerIndexId:followerIndexId},{lastFollowerIndexId:lastFollowerIndexId}){if(lastFollowerIndexId!==followerIndexId){return{lastFollowerIndexId:followerIndexId}}return null}componentDidMount(){const{match:{params:{id:id}},selectFollowerIndex:selectFollowerIndex}=this.props;let decodedId;try{decodedId=decodeURI(id);decodedId=decodeURIComponent(decodedId)}catch(e){decodedId=decodeURIComponent(id)}selectFollowerIndex(decodedId);breadcrumbs_setBreadcrumbs([listBreadcrumb("/follower_indices"),editBreadcrumb])}componentDidUpdate(prevProps,prevState){const{followerIndex:followerIndex,getFollowerIndex:getFollowerIndex}=this.props;if(!followerIndex&&prevState.lastFollowerIndexId!==this.state.lastFollowerIndexId){getFollowerIndex(this.state.lastFollowerIndexId)}}componentWillUnmount(){this.props.clearApiError()}renderLoadingFollowerIndex(){return external_kbnSharedDeps_React_default.a.createElement(SectionLoading,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexEditForm.loadingFollowerIndexTitle",defaultMessage:"Loading follower index…"}))}renderGetFollowerIndexError(error){const{match:{params:{id:name}}}=this.props;const title=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexEditForm.loadingErrorTitle",{defaultMessage:"Error loading follower index"});const errorMessage=error.status===404?{data:{error:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.followerIndexEditForm.loadingErrorMessage",{defaultMessage:`The follower index '{name}' does not exist.`,values:{name:name}})}}:error;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(SectionError,{title:title,error:errorMessage}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],follower_index_edit_extends({},Object(kibanaReact_public_["reactRouterNavigate"])(this.props.history,`/follower_indices`),{iconType:"arrowLeft",flush:"left","data-test-subj":"viewListFollowerIndexButton"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexEditForm.viewFollowerIndicesButtonLabel",defaultMessage:"View follower indices"})))))}render(){const{clearApiError:clearApiError,apiStatus:apiStatus,apiError:apiError,followerIndex:followerIndex,match:{url:currentUrl}}=this.props;const{showConfirmModal:showConfirmModal}=this.state;const{shards:shards,...rest}=followerIndex||{};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],{horizontalPosition:"center",className:"ccrPageContent"},external_kbnSharedDeps_React_default.a.createElement(FollowerIndexPageTitle,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndex.editTitle",defaultMessage:"Edit follower index"})}),apiStatus.get===app_constants["a"].LOADING&&this.renderLoadingFollowerIndex(),apiError.get&&this.renderGetFollowerIndexError(apiError.get),followerIndex&&external_kbnSharedDeps_React_default.a.createElement(remote_clusters_provider_RemoteClustersProvider,null,({isLoading:isLoading,error:error,remoteClusters:remoteClusters})=>{if(isLoading){return external_kbnSharedDeps_React_default.a.createElement(SectionLoading,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexEditForm.loadingRemoteClustersMessage",defaultMessage:"Loading remote clusters…"}))}return external_kbnSharedDeps_React_default.a.createElement(follower_index_form_FollowerIndexForm,{followerIndex:rest,apiStatus:apiStatus.save,apiError:apiError.save,currentUrl:currentUrl,remoteClusters:error?[]:remoteClusters,saveFollowerIndex:this.saveFollowerIndex,clearApiError:clearApiError,saveButtonLabel:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.followerIndexEditForm.saveButtonLabel",defaultMessage:"Update"})})}),showConfirmModal&&this.renderConfirmModal())}}const follower_index_edit_container_scope=app_constants["b"].FOLLOWER_INDEX;const follower_index_edit_container_mapStateToProps=state=>({apiStatus:{get:getApiStatus(`${follower_index_edit_container_scope}-get`)(state),save:getApiStatus(`${follower_index_edit_container_scope}-save`)(state)},apiError:{get:getApiError(`${follower_index_edit_container_scope}-get`)(state),save:getApiError(`${follower_index_edit_container_scope}-save`)(state)},followerIndexId:getSelectedFollowerIndexId("edit")(state),followerIndex:getSelectedFollowerIndex("edit")(state)});const follower_index_edit_container_mapDispatchToProps=dispatch=>({getFollowerIndex:id=>dispatch(getFollowerIndex(id)),selectFollowerIndex:id=>dispatch(selectEditFollowerIndex(id)),saveFollowerIndex:(id,followerIndex)=>dispatch(follower_index_saveFollowerIndex(id,followerIndex,true)),clearApiError:()=>{dispatch(api_clearApiError(`${follower_index_edit_container_scope}-get`));dispatch(api_clearApiError(`${follower_index_edit_container_scope}-save`))}});const follower_index_edit_container_FollowerIndexEdit=Object(lib["connect"])(follower_index_edit_container_mapStateToProps,follower_index_edit_container_mapDispatchToProps)(follower_index_edit_FollowerIndexEdit);class app_AppComponent extends external_kbnSharedDeps_React_["Component"]{constructor(props){super(props);this.registerRouter();this.state={isFetchingPermissions:false,fetchPermissionError:undefined,hasPermission:false,missingClusterPrivileges:[]}}componentDidMount(){this.checkPermissions()}async checkPermissions(){this.setState({isFetchingPermissions:true});try{const{hasPermission:hasPermission,missingClusterPrivileges:missingClusterPrivileges}=await Object(api["j"])();this.setState({isFetchingPermissions:false,hasPermission:hasPermission,missingClusterPrivileges:missingClusterPrivileges})}catch(error){if(error&&error.body){return this.setState({isFetchingPermissions:false,fetchPermissionError:error})}Object(notifications["a"])().add(error,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.crossClusterReplication.app.checkPermissionsFatalErrorTitle",{defaultMessage:"Cross-Cluster Replication app"}))}}registerRouter(){const{history:history,getUrlForApp:getUrlForApp}=this.props;routing.reactRouter={history:history,route:{location:history.location},getUrlForApp:getUrlForApp}}render(){const{isFetchingPermissions:isFetchingPermissions,fetchPermissionError:fetchPermissionError,hasPermission:hasPermission,missingClusterPrivileges:missingClusterPrivileges}=this.state;if(isFetchingPermissions){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],{horizontalPosition:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center",gutterSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"l"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.app.permissionCheckTitle",defaultMessage:"Checking permissions…"}))))))}if(fetchPermissionError){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(SectionError,{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.app.permissionCheckErrorTitle",defaultMessage:"Error checking permissions"}),error:fetchPermissionError}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}))}if(!hasPermission){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],{horizontalPosition:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiEmptyPrompt"],{iconType:"securityApp",title:external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.app.deniedPermissionTitle",defaultMessage:"You're missing cluster privileges"})),body:external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.crossClusterReplication.app.deniedPermissionDescription",defaultMessage:"To use Cross-Cluster Replication, you must have {clusterPrivilegesCount, plural, one {this cluster privilege} other {these cluster privileges}}: {clusterPrivileges}.",values:{clusterPrivileges:missingClusterPrivileges.join(", "),clusterPrivilegesCount:missingClusterPrivileges.length}}))}))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_["Router"],{history:this.props.history},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_["Switch"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_["Redirect"],{exact:true,from:"/",to:"/follower_indices"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_["Route"],{exact:true,path:"/auto_follow_patterns/add",component:auto_follow_pattern_add_container_AutoFollowPatternAdd}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_["Route"],{exact:true,path:"/auto_follow_patterns/edit/:id",component:auto_follow_pattern_edit_container_AutoFollowPatternEdit}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_["Route"],{exact:true,path:"/follower_indices/add",component:follower_index_add_container_FollowerIndexAdd}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_["Route"],{exact:true,path:"/follower_indices/edit/:id",component:follower_index_edit_container_FollowerIndexEdit}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_["Route"],{exact:true,path:["/:section"],component:home_container_CrossClusterReplicationHome})))}}const App=app_AppComponent;var redux=__webpack_require__(30);var redux_thunk_lib=__webpack_require__(69);var redux_thunk_lib_default=__webpack_require__.n(redux_thunk_lib);const api_initialState={status:{[app_constants["b"].AUTO_FOLLOW_PATTERN]:app_constants["a"].IDLE,[app_constants["b"].FOLLOWER_INDEX]:app_constants["a"].IDLE},error:{[app_constants["b"].AUTO_FOLLOW_PATTERN]:null,[app_constants["b"].FOLLOWER_INDEX]:null}};const reducer=(state=api_initialState,action)=>{const payload=action.payload||{};const{scope:scope,status:status,error:error}=payload;switch(action.type){case API_REQUEST_START:{return{...state,status:{...state.status,[scope]:status}}}case API_REQUEST_END:{return{...state,status:{...state.status,[scope]:app_constants["a"].IDLE}}}case API_ERROR_SET:{return{...state,error:{...state.error,[scope]:error}}}default:return state}};const auto_follow_pattern_initialState={byId:{},selectedDetailId:null,selectedEditId:null};const success=action=>`${action}_SUCCESS`;const setActiveForIds=(ids,byId,active)=>{const shallowCopyByIds={...byId};ids.forEach(id=>{shallowCopyByIds[id].active=active});return shallowCopyByIds};const parseAutoFollowPattern=autoFollowPattern=>{const{followIndexPatternPrefix:followIndexPatternPrefix,followIndexPatternSuffix:followIndexPatternSuffix}=getPrefixSuffixFromFollowPattern(autoFollowPattern.followIndexPattern);return{...autoFollowPattern,followIndexPatternPrefix:followIndexPatternPrefix,followIndexPatternSuffix:followIndexPatternSuffix}};const auto_follow_pattern_reducer=(state=auto_follow_pattern_initialState,action)=>{switch(action.type){case success(AUTO_FOLLOW_PATTERN_LOAD):{return{...state,byId:arrayToObject(action.payload.patterns.map(parseAutoFollowPattern),"name")}}case success(AUTO_FOLLOW_PATTERN_GET):{return{...state,byId:{...state.byId,[action.payload.name]:parseAutoFollowPattern(action.payload)}}}case AUTO_FOLLOW_PATTERN_SELECT_DETAIL:{return{...state,selectedDetailId:action.payload}}case AUTO_FOLLOW_PATTERN_SELECT_EDIT:{return{...state,selectedEditId:action.payload}}case success(AUTO_FOLLOW_PATTERN_DELETE):{const byId={...state.byId};const{itemsDeleted:itemsDeleted}=action.payload;itemsDeleted.forEach(id=>delete byId[id]);return{...state,byId:byId}}case success(AUTO_FOLLOW_PATTERN_PAUSE):{const{itemsPaused:itemsPaused}=action.payload;return{...state,byId:setActiveForIds(itemsPaused,state.byId,false)}}case success(AUTO_FOLLOW_PATTERN_RESUME):{const{itemsResumed:itemsResumed}=action.payload;return{...state,byId:setActiveForIds(itemsResumed,state.byId,true)}}default:return state}};const follower_index_initialState={byId:{},selectedDetailId:null,selectedEditId:null};const follower_index_success=action=>`${action}_SUCCESS`;const parseFollowerIndex=followerIndex=>({...followerIndex,isPaused:followerIndex.status==="paused"});const follower_index_reducer=(state=follower_index_initialState,action)=>{switch(action.type){case follower_index_success(FOLLOWER_INDEX_LOAD):{return{...state,byId:arrayToObject(action.payload.indices.map(parseFollowerIndex),"name")}}case follower_index_success(FOLLOWER_INDEX_GET):{return{...state,byId:{...state.byId,[action.payload.name]:parseFollowerIndex(action.payload)}}}case FOLLOWER_INDEX_SELECT_DETAIL:{return{...state,selectedDetailId:action.payload}}case FOLLOWER_INDEX_SELECT_EDIT:{return{...state,selectedEditId:action.payload}}case follower_index_success(FOLLOWER_INDEX_UNFOLLOW):{const byId={...state.byId};const{itemsUnfollowed:itemsUnfollowed}=action.payload;itemsUnfollowed.forEach(id=>delete byId[id]);return{...state,byId:byId}}default:return state}};const parseAutoFollowError=error=>{if(!error.leaderIndex){return null}const{leaderIndex:leaderIndex,autoFollowException:autoFollowException,timestamp:timestamp}=error;const id=leaderIndex.substring(0,leaderIndex.lastIndexOf(":"));return{id:id,timestamp:timestamp,leaderIndex:leaderIndex,autoFollowException:autoFollowException}};const parseAutoFollowErrors=(recentAutoFollowErrors,maxErrorsToShow=5)=>recentAutoFollowErrors.map(parseAutoFollowError).filter(error=>error!==null).reduce((byId,error)=>{if(!byId[error.id]){byId[error.id]=[]}if(byId[error.id].length===maxErrorsToShow){return byId}byId[error.id].push(error);return byId},{});const stats_initialState={autoFollow:null};const stats_success=action=>`${action}_SUCCESS`;const stats_reducer=(state=stats_initialState,action)=>{switch(action.type){case stats_success(AUTO_FOLLOW_STATS_LOAD):{const{recentAutoFollowErrors:recentAutoFollowErrors,...rest}=action.payload;return{...state,autoFollow:{...rest,recentAutoFollowErrors:parseAutoFollowErrors(recentAutoFollowErrors)}}}default:return state}};const ccr=Object(redux["combineReducers"])({autoFollowPattern:auto_follow_pattern_reducer,followerIndex:follower_index_reducer,api:reducer,stats:stats_reducer});function createCrossClusterReplicationStore(initialState={}){const enhancers=[Object(redux["applyMiddleware"])(redux_thunk_lib_default.a)];if(window.__REDUX_DEVTOOLS_EXTENSION__){enhancers.push(window.__REDUX_DEVTOOLS_EXTENSION__())}return Object(redux["createStore"])(ccr,initialState,Object(redux["compose"])(...enhancers))}const ccrStore=createCrossClusterReplicationStore();const renderApp=(element,I18nContext,history,getUrlForApp)=>{Object(external_kbnSharedDeps_ReactDom_["render"])(external_kbnSharedDeps_React_default.a.createElement(I18nContext,null,external_kbnSharedDeps_React_default.a.createElement(lib["Provider"],{store:ccrStore},external_kbnSharedDeps_React_default.a.createElement(App,{history:history,getUrlForApp:getUrlForApp}))),element);return()=>Object(external_kbnSharedDeps_ReactDom_["unmountComponentAtNode"])(element)};async function mountApp({element:element,setBreadcrumbs:setBreadcrumbs,I18nContext:I18nContext,ELASTIC_WEBSITE_URL:ELASTIC_WEBSITE_URL,DOC_LINK_VERSION:DOC_LINK_VERSION,history:history,getUrlForApp:getUrlForApp}){init(setBreadcrumbs);documentation_links_init(`${ELASTIC_WEBSITE_URL}guide/en/elasticsearch/reference/${DOC_LINK_VERSION}/`);return renderApp(element,I18nContext,history,getUrlForApp)}}])]);