/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=13)})([function(module,exports){module.exports=__kbnSharedDeps__.React},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEui},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18n},function(module,__webpack_exports__,__webpack_require__){"use strict";var _src_plugins_es_ui_shared_static_forms_hook_form_lib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4);var _src_plugins_es_ui_shared_static_forms_hook_form_lib__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_src_plugins_es_ui_shared_static_forms_hook_form_lib__WEBPACK_IMPORTED_MODULE_0__);__webpack_require__.d(__webpack_exports__,"h",(function(){return _src_plugins_es_ui_shared_static_forms_hook_form_lib__WEBPACK_IMPORTED_MODULE_0__["useForm"]}));__webpack_require__.d(__webpack_exports__,"i",(function(){return _src_plugins_es_ui_shared_static_forms_hook_form_lib__WEBPACK_IMPORTED_MODULE_0__["useFormData"]}));__webpack_require__.d(__webpack_exports__,"b",(function(){return _src_plugins_es_ui_shared_static_forms_hook_form_lib__WEBPACK_IMPORTED_MODULE_0__["Form"]}));__webpack_require__.d(__webpack_exports__,"d",(function(){return _src_plugins_es_ui_shared_static_forms_hook_form_lib__WEBPACK_IMPORTED_MODULE_0__["UseField"]}));var _src_plugins_es_ui_shared_static_forms_helpers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(10);var _src_plugins_es_ui_shared_static_forms_helpers__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_src_plugins_es_ui_shared_static_forms_helpers__WEBPACK_IMPORTED_MODULE_1__);__webpack_require__.d(__webpack_exports__,"f",(function(){return _src_plugins_es_ui_shared_static_forms_helpers__WEBPACK_IMPORTED_MODULE_1__["fieldValidators"]}));var _src_plugins_es_ui_shared_static_forms_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11);var _src_plugins_es_ui_shared_static_forms_components__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_src_plugins_es_ui_shared_static_forms_components__WEBPACK_IMPORTED_MODULE_2__);__webpack_require__.d(__webpack_exports__,"c",(function(){return _src_plugins_es_ui_shared_static_forms_components__WEBPACK_IMPORTED_MODULE_2__["TextField"]}));var _src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7);var _src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_3__);__webpack_require__.d(__webpack_exports__,"a",(function(){return _src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_3__["CodeEditor"]}));__webpack_require__.d(__webpack_exports__,"g",(function(){return _src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_3__["toMountPoint"]}));__webpack_require__.d(__webpack_exports__,"e",(function(){return _src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_3__["createKibanaReactContext"]}))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/esUiShared/static/forms/hook_form_lib");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return RUNTIME_FIELD_OPTIONS}));const RUNTIME_FIELD_TYPES=["keyword","long","double","date","ip","boolean"];const RUNTIME_FIELD_OPTIONS=[{label:"Keyword",value:"keyword"},{label:"Long",value:"long"},{label:"Double",value:"double"},{label:"Date",value:"date"},{label:"IP",value:"ip"},{label:"Boolean",value:"boolean"}]},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"RuntimeFieldForm",(function(){return RuntimeFieldForm}));__webpack_require__.d(__webpack_exports__,"RuntimeFieldFormState",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"RuntimeFieldEditor",(function(){return RuntimeFieldEditor}));__webpack_require__.d(__webpack_exports__,"RuntimeFieldEditorFlyoutContent",(function(){return RuntimeFieldEditorFlyoutContent}));__webpack_require__.d(__webpack_exports__,"RuntimeFieldEditorFlyoutContentProps",(function(){return undefined}));var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(2);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(12);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(1);var external_kbnSharedDeps_KbnMonaco_=__webpack_require__(9);var shared_imports=__webpack_require__(3);var constants=__webpack_require__(5);const{emptyField:emptyField}=shared_imports["f"];const schema={name:{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.form.nameLabel",{defaultMessage:"Name"}),validations:[{validator:emptyField(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.form.validations.nameIsRequiredErrorMessage",{defaultMessage:"Give a name to the field."}))}]},type:{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.form.runtimeTypeLabel",{defaultMessage:"Type"}),defaultValue:"keyword",deserializer:fieldType=>{var _RUNTIME_FIELD_OPTION;if(!fieldType){return[]}const label=(_RUNTIME_FIELD_OPTION=constants["a"].find(({value:value})=>value===fieldType))===null||_RUNTIME_FIELD_OPTION===void 0?void 0:_RUNTIME_FIELD_OPTION.label;return[{label:label!==null&&label!==void 0?label:fieldType,value:fieldType}]},serializer:value=>value[0].value},script:{source:{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.form.defineFieldLabel",{defaultMessage:"Define script (optional)"})}}};const createNameNotAllowedValidator=namesNotAllowed=>({value:value})=>{if(namesNotAllowed.includes(value)){return{message:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.runtimeFieldsEditor.existRuntimeFieldNamesValidationErrorMessage",{defaultMessage:"There is already a field with this name."})}}};const getNameFieldConfig=(namesNotAllowed,defaultValue)=>{var _nameFieldConfig$vali;const nameFieldConfig=schema.name;if(!namesNotAllowed){return nameFieldConfig}return{...nameFieldConfig,validations:[...(_nameFieldConfig$vali=nameFieldConfig.validations)!==null&&_nameFieldConfig$vali!==void 0?_nameFieldConfig$vali:[],{validator:createNameNotAllowedValidator(namesNotAllowed.filter(name=>name!==(defaultValue===null||defaultValue===void 0?void 0:defaultValue.name)))}]}};const mapReturnTypeToPainlessContext=runtimeType=>{switch(runtimeType){case"keyword":return"string_script_field_script_field";case"long":return"long_script_field_script_field";case"double":return"double_script_field_script_field";case"date":return"date_script_field";case"ip":return"ip_script_field_script_field";case"boolean":return"boolean_script_field_script_field";default:return"string_script_field_script_field"}};const RuntimeFieldFormComp=({defaultValue:defaultValue,onChange:onChange,links:links,ctx:{namesNotAllowed:namesNotAllowed,existingConcreteFields:existingConcreteFields=[]}={}})=>{const typeFieldConfig=schema.type;const[painlessContext,setPainlessContext]=Object(external_kbnSharedDeps_React_["useState"])(mapReturnTypeToPainlessContext(typeFieldConfig.defaultValue));const{form:form}=Object(shared_imports["h"])({defaultValue:defaultValue,schema:schema});const{submit:submit,isValid:isFormValid,isSubmitted:isSubmitted}=form;const[{name:name}]=Object(shared_imports["i"])({form:form,watch:"name"});const nameFieldConfig=getNameFieldConfig(namesNotAllowed,defaultValue);const onTypeChange=Object(external_kbnSharedDeps_React_["useCallback"])(newType=>{setPainlessContext(mapReturnTypeToPainlessContext(newType[0].value))},[]);const suggestionProvider=external_kbnSharedDeps_KbnMonaco_["PainlessLang"].getSuggestionProvider(painlessContext,existingConcreteFields);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(onChange){onChange({isValid:isFormValid,isSubmitted:isSubmitted,submit:submit})}},[onChange,isFormValid,isSubmitted,submit]);return external_kbnSharedDeps_React_default.a.createElement(shared_imports["b"],{form:form,className:"runtimeFieldEditor_form"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(shared_imports["d"],{path:"name",config:nameFieldConfig,component:shared_imports["c"],"data-test-subj":"nameField",componentProps:{euiFieldProps:{"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.form.nameAriaLabel",{defaultMessage:"Name field"})}}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(shared_imports["d"],{path:"type",onChange:onTypeChange},({label:label,value:value,setValue:setValue})=>{if(value===undefined){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:label,fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiComboBox"],{placeholder:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.form.runtimeType.placeholderLabel",{defaultMessage:"Select a type"}),singleSelection:{asPlainText:true},options:constants["a"],selectedOptions:value,onChange:newValue=>{if(newValue.length===0){return}setValue(newValue)},isClearable:false,"data-test-subj":"typeField","aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.form.typeSelectAriaLabel",{defaultMessage:"Type select"}),fullWidth:true})))}))),existingConcreteFields.find(field=>field.name===name)&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.form.fieldShadowingCalloutTitle",{defaultMessage:"Field shadowing"}),color:"warning",iconType:"pin",size:"s","data-test-subj":"shadowingFieldCallout"},external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.form.fieldShadowingCalloutDescription",{defaultMessage:"This field shares the name of a mapped field. Values for this field will be returned in search results."})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(shared_imports["d"],{path:"script.source"},({value:value,setValue:setValue,label:label,isValid:isValid,getErrorsMessages:getErrorsMessages})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:label,error:getErrorsMessages(),isInvalid:!isValid,helpText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.runtimeFields.form.source.scriptFieldHelpText",defaultMessage:"Runtime fields without a script retrieve values from a field with the same name in {source}. If a field with the same name doesn’t exist, no values return when a search request includes the runtime field. {learnMoreLink}",values:{learnMoreLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:links.runtimePainless,target:"_blank",external:true,"data-test-subj":"painlessSyntaxLearnMoreLink"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.form.script.learnMoreLinkText",{defaultMessage:"Learn about script syntax."})),source:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,"_source")}}),fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(shared_imports["a"],{languageId:external_kbnSharedDeps_KbnMonaco_["PainlessLang"].ID,suggestionProvider:suggestionProvider,width:"100%",height:"300px",value:value,onChange:setValue,options:{fontSize:12,minimap:{enabled:false},scrollBeyondLastLine:false,wordWrap:"on",wrappingIndent:"indent",automaticLayout:true,suggest:{snippetsPreventQuickSuggestions:false}},"data-test-subj":"scriptField","aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.form.scriptEditorAriaLabel",{defaultMessage:"Script editor"})}))))};const RuntimeFieldForm=external_kbnSharedDeps_React_default.a.memo(RuntimeFieldFormComp);const getLinks=docLinks=>{const{DOC_LINK_VERSION:DOC_LINK_VERSION,ELASTIC_WEBSITE_URL:ELASTIC_WEBSITE_URL}=docLinks;const docsBase=`${ELASTIC_WEBSITE_URL}guide/en`;const esDocsBase=`${docsBase}/elasticsearch/reference/${DOC_LINK_VERSION}`;const painlessDocsBase=`${docsBase}/elasticsearch/painless/${DOC_LINK_VERSION}`;return{runtimePainless:`${esDocsBase}/runtime.html#runtime-mapping-fields`,painlessSyntax:`${painlessDocsBase}/painless-lang-spec.html`}};const RuntimeFieldEditor=({defaultValue:defaultValue,onChange:onChange,docLinks:docLinks,ctx:ctx})=>{const links=getLinks(docLinks);return external_kbnSharedDeps_React_default.a.createElement(RuntimeFieldForm,{links:links,defaultValue:defaultValue,onChange:onChange,ctx:ctx})};const geti18nTexts=field=>({flyoutTitle:field?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.editor.flyoutEditFieldTitle",{defaultMessage:"Edit {fieldName} field",values:{fieldName:field.name}}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.editor.flyoutDefaultTitle",{defaultMessage:"Create new field"}),closeButtonLabel:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.editor.flyoutCloseButtonLabel",{defaultMessage:"Close"}),saveButtonLabel:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.editor.flyoutSaveButtonLabel",{defaultMessage:"Save"}),formErrorsCalloutTitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.runtimeFields.editor.validationErrorTitle",{defaultMessage:"Fix errors in form before continuing."})});const RuntimeFieldEditorFlyoutContent=({onSave:onSave,onCancel:onCancel,docLinks:docLinks,defaultValue:field,ctx:ctx})=>{const i18nTexts=geti18nTexts(field);const[formState,setFormState]=Object(external_kbnSharedDeps_React_["useState"])({isSubmitted:false,isValid:field?true:undefined,submit:field?async()=>({isValid:true,data:field}):async()=>({isValid:false,data:{}})});const{submit:submit,isValid:isFormValid,isSubmitted:isSubmitted}=formState;const onSaveField=Object(external_kbnSharedDeps_React_["useCallback"])(async()=>{const{isValid:isValid,data:data}=await submit();if(isValid){onSave(data)}},[submit,onSave]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutHeader"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"m","data-test-subj":"flyoutTitle"},external_kbnSharedDeps_React_default.a.createElement("h2",{id:"runtimeFieldEditorEditTitle"},i18nTexts.flyoutTitle))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],null,external_kbnSharedDeps_React_default.a.createElement(RuntimeFieldEditor,{docLinks:docLinks,defaultValue:field,onChange:setFormState,ctx:ctx})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutFooter"],null,isSubmitted&&!isFormValid&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:i18nTexts.formErrorsCalloutTitle,color:"danger",iconType:"cross","data-test-subj":"formError"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{iconType:"cross",flush:"left",onClick:()=>onCancel(),"data-test-subj":"closeFlyoutButton"},i18nTexts.closeButtonLabel)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{color:"primary",onClick:()=>onSaveField(),"data-test-subj":"saveFieldButton",disabled:isSubmitted&&!isFormValid,fill:true},i18nTexts.saveButtonLabel)))))}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){},function(module,exports){module.exports=__kbnSharedDeps__.KbnMonaco},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/esUiShared/static/forms/helpers");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/esUiShared/static/forms/components");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nReact},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_val_loader_dist_cjs_js_key_runtimeFields_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14);var _node_modules_val_loader_dist_cjs_js_key_runtimeFields_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_val_loader_dist_cjs_js_key_runtimeFields_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__);__kbnBundles__.define("plugin/runtimeFields/public",__webpack_require__,15)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__kbnPublicPath__["runtimeFields"]},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"RuntimeFieldEditorFlyoutContent",(function(){return components["RuntimeFieldEditorFlyoutContent"]}));__webpack_require__.d(__webpack_exports__,"RuntimeFieldEditorFlyoutContentProps",(function(){return components["RuntimeFieldEditorFlyoutContentProps"]}));__webpack_require__.d(__webpack_exports__,"RuntimeFieldEditor",(function(){return components["RuntimeFieldEditor"]}));__webpack_require__.d(__webpack_exports__,"RuntimeFieldFormState",(function(){return components["RuntimeFieldFormState"]}));__webpack_require__.d(__webpack_exports__,"RUNTIME_FIELD_OPTIONS",(function(){return constants["a"]}));__webpack_require__.d(__webpack_exports__,"RuntimeField",(function(){return types["RuntimeField"]}));__webpack_require__.d(__webpack_exports__,"RuntimeType",(function(){return types["RuntimeType"]}));__webpack_require__.d(__webpack_exports__,"RuntimeFieldsSetup",(function(){return types["PluginSetup"]}));__webpack_require__.d(__webpack_exports__,"plugin",(function(){return public_plugin}));var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var shared_imports=__webpack_require__(3);const getRuntimeFieldEditorLoader=coreSetup=>async()=>{const{RuntimeFieldEditorFlyoutContent:RuntimeFieldEditorFlyoutContent}=await Promise.resolve().then(__webpack_require__.bind(null,6));const[core]=await coreSetup.getStartServices();const{uiSettings:uiSettings,overlays:overlays,docLinks:docLinks}=core;const{Provider:KibanaReactContextProvider}=Object(shared_imports["e"])({uiSettings:uiSettings});let overlayRef=null;const openEditor=({onSave:onSave,defaultValue:defaultValue,ctx:ctx})=>{const closeEditor=()=>{if(overlayRef){overlayRef.close();overlayRef=null}};const onSaveField=field=>{closeEditor();onSave(field)};overlayRef=overlays.openFlyout(Object(shared_imports["g"])(external_kbnSharedDeps_React_default.a.createElement(KibanaReactContextProvider,null,external_kbnSharedDeps_React_default.a.createElement(RuntimeFieldEditorFlyoutContent,{onSave:onSaveField,onCancel:()=>{var _overlayRef;return(_overlayRef=overlayRef)===null||_overlayRef===void 0?void 0:_overlayRef.close()},docLinks:docLinks,defaultValue:defaultValue,ctx:ctx}))));return closeEditor};return{openEditor:openEditor}};class plugin_RuntimeFieldsPlugin{setup(core,plugins){return{loadEditor:getRuntimeFieldEditorLoader(core)}}start(core,plugins){return{}}stop(){return{}}}var components=__webpack_require__(6);var constants=__webpack_require__(5);var types=__webpack_require__(8);function public_plugin(){return new plugin_RuntimeFieldsPlugin}}]);