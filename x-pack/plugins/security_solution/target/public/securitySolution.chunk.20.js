/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window["securitySolution_bundle_jsonpfunction"]=window["securitySolution_bundle_jsonpfunction"]||[]).push([[20],{1175:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"EndpointPolicyEditExtension",(function(){return EndpointPolicyEditExtension}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _elastic_eui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(72);var _elastic_eui__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__);var react_redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(105);var react_redux__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_redux__WEBPACK_IMPORTED_MODULE_2__);var _common_routing__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(148);var _policy_details_form__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(748);var _policy_hooks__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(215);var _store_policy_details_selectors__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(172);const EndpointPolicyEditExtension=Object(react__WEBPACK_IMPORTED_MODULE_0__["memo"])(({policy:policy,onChange:onChange})=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiSpacer"],{size:"m"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WrappedPolicyDetailsForm,{policyId:policy.id,onChange:onChange})));EndpointPolicyEditExtension.displayName="EndpointPolicyEditExtension";const WrappedPolicyDetailsForm=Object(react__WEBPACK_IMPORTED_MODULE_0__["memo"])(({policyId:policyId,onChange:onChange})=>{const dispatch=Object(react_redux__WEBPACK_IMPORTED_MODULE_2__["useDispatch"])();const updatedPolicy=Object(_policy_hooks__WEBPACK_IMPORTED_MODULE_5__["a"])(_store_policy_details_selectors__WEBPACK_IMPORTED_MODULE_6__["k"]);const[,setLastUpdatedPolicy]=Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(updatedPolicy);Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(()=>{dispatch({type:"userChangedUrl",payload:{hash:"",pathname:Object(_common_routing__WEBPACK_IMPORTED_MODULE_3__["e"])(policyId,""),search:""}});return()=>{dispatch({type:"userChangedUrl",payload:{hash:"",pathname:"/",search:""}})}},[dispatch,policyId]);Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(()=>{setLastUpdatedPolicy(prevState=>{if(prevState===updatedPolicy){return prevState}if(updatedPolicy){onChange({isValid:true,updatedPolicy:{inputs:updatedPolicy.inputs}})}return updatedPolicy})},[onChange,updatedPolicy]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{"data-test-subj":"endpointIntegrationPolicyForm"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_policy_details_form__WEBPACK_IMPORTED_MODULE_4__["a"],null))});WrappedPolicyDetailsForm.displayName="WrappedPolicyDetailsForm"},169:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return appendSearch}));var lodash_fp__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7);var lodash_fp__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_fp__WEBPACK_IMPORTED_MODULE_0__);const appendSearch=search=>Object(lodash_fp__WEBPACK_IMPORTED_MODULE_0__["isEmpty"])(search)?"":`${search!==null&&search!==void 0&&search.startsWith("?")?search:`?${search}`}`}}]);