/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window["monitoring_bundle_jsonpfunction"]=window["monitoring_bundle_jsonpfunction"]||[]).push([[1],Array(28).concat([function(module,exports,__webpack_require__){"use strict";var isOldIE=function isOldIE(){var memo;return function memorize(){if(typeof memo==="undefined"){memo=Boolean(window&&document&&document.all&&!window.atob)}return memo}}();var getTarget=function getTarget(){var memo={};return function memorize(target){if(typeof memo[target]==="undefined"){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement){try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}}memo[target]=styleTarget}return memo[target]}}();var stylesInDom=[];function getIndexByIdentifier(identifier){var result=-1;for(var i=0;i<stylesInDom.length;i++){if(stylesInDom[i].identifier===identifier){result=i;break}}return result}function modulesToDom(list,options){var idCountMap={};var identifiers=[];for(var i=0;i<list.length;i++){var item=list[i];var id=options.base?item[0]+options.base:item[0];var count=idCountMap[id]||0;var identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier);var obj={css:item[1],media:item[2],sourceMap:item[3]};if(index!==-1){stylesInDom[index].references++;stylesInDom[index].updater(obj)}else{stylesInDom.push({identifier:identifier,updater:addStyle(obj,options),references:1})}identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement("style");var attributes=options.attributes||{};if(typeof attributes.nonce==="undefined"){var nonce=true?__webpack_require__.nc:undefined;if(nonce){attributes.nonce=nonce}}Object.keys(attributes).forEach((function(key){style.setAttribute(key,attributes[key])}));if(typeof options.insert==="function"){options.insert(style)}else{var target=getTarget(options.insert||"head");if(!target){throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.")}target.appendChild(style)}return style}function removeStyleElement(style){if(style.parentNode===null){return false}style.parentNode.removeChild(style)}var replaceText=function replaceText(){var textStore=[];return function replace(index,replacement){textStore[index]=replacement;return textStore.filter(Boolean).join("\n")}}();function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.media?"@media ".concat(obj.media," {").concat(obj.css,"}"):obj.css;if(style.styleSheet){style.styleSheet.cssText=replaceText(index,css)}else{var cssNode=document.createTextNode(css);var childNodes=style.childNodes;if(childNodes[index]){style.removeChild(childNodes[index])}if(childNodes.length){style.insertBefore(cssNode,childNodes[index])}else{style.appendChild(cssNode)}}}function applyToTag(style,options,obj){var css=obj.css;var media=obj.media;var sourceMap=obj.sourceMap;if(media){style.setAttribute("media",media)}else{style.removeAttribute("media")}if(sourceMap&&btoa){css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")}if(style.styleSheet){style.styleSheet.cssText=css}else{while(style.firstChild){style.removeChild(style.firstChild)}style.appendChild(document.createTextNode(css))}}var singleton=null;var singletonCounter=0;function addStyle(obj,options){var style;var update;var remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options));update=applyToSingletonTag.bind(null,style,styleIndex,false);remove=applyToSingletonTag.bind(null,style,styleIndex,true)}else{style=insertStyleElement(options);update=applyToTag.bind(null,style,options);remove=function remove(){removeStyleElement(style)}}update(obj);return function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap){return}update(obj=newObj)}else{remove()}}}module.exports=function(list,options){options=options||{};if(!options.singleton&&typeof options.singleton!=="boolean"){options.singleton=isOldIE()}list=list||[];var lastIdentifiers=modulesToDom(list,options);return function update(newList){newList=newList||[];if(Object.prototype.toString.call(newList)!=="[object Array]"){return}for(var i=0;i<lastIdentifiers.length;i++){var identifier=lastIdentifiers[i];var index=getIndexByIdentifier(identifier);stylesInDom[index].references--}var newLastIdentifiers=modulesToDom(newList,options);for(var _i=0;_i<lastIdentifiers.length;_i++){var _identifier=lastIdentifiers[_i];var _index=getIndexByIdentifier(_identifier);if(stylesInDom[_index].references===0){stylesInDom[_index].updater();stylesInDom.splice(_index,1)}}lastIdentifiers=newLastIdentifiers}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(useSourceMap){var list=[];list.toString=function toString(){return this.map((function(item){var content=cssWithMappingToString(item,useSourceMap);if(item[2]){return"@media ".concat(item[2]," {").concat(content,"}")}return content})).join("")};list.i=function(modules,mediaQuery,dedupe){if(typeof modules==="string"){modules=[[null,modules,""]]}var alreadyImportedModules={};if(dedupe){for(var i=0;i<this.length;i++){var id=this[i][0];if(id!=null){alreadyImportedModules[id]=true}}}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);if(dedupe&&alreadyImportedModules[item[0]]){continue}if(mediaQuery){if(!item[2]){item[2]=mediaQuery}else{item[2]="".concat(mediaQuery," and ").concat(item[2])}}list.push(item)}};return list};function cssWithMappingToString(item,useSourceMap){var content=item[1]||"";var cssMapping=item[3];if(!cssMapping){return content}if(useSourceMap&&typeof btoa==="function"){var sourceMapping=toComment(cssMapping);var sourceURLs=cssMapping.sources.map((function(source){return"/*# sourceURL=".concat(cssMapping.sourceRoot||"").concat(source," */")}));return[content].concat(sourceURLs).concat([sourceMapping]).join("\n")}return[content].join("\n")}function toComment(sourceMap){var base64=btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));var data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);return"/*# ".concat(data," */")}},function(module,exports,__webpack_require__){var getNative=__webpack_require__(33);var nativeCreate=getNative(Object,"create");module.exports=nativeCreate},function(module,exports,__webpack_require__){var eq=__webpack_require__(43);function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length}}return-1}module.exports=assocIndexOf},function(module,exports,__webpack_require__){var isKeyable=__webpack_require__(109);function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=="string"?"string":"hash"]:data.map}module.exports=getMapData},function(module,exports,__webpack_require__){var baseIsNative=__webpack_require__(78),getValue=__webpack_require__(86);function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined}module.exports=getNative},function(module,exports,__webpack_require__){var root=__webpack_require__(35);var Symbol=root.Symbol;module.exports=Symbol},function(module,exports,__webpack_require__){var freeGlobal=__webpack_require__(79);var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function("return this")();module.exports=root},function(module,exports){function isObject(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}module.exports=isObject},function(module,exports){var isArray=Array.isArray;module.exports=isArray},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(42),isObjectLike=__webpack_require__(89);var symbolTag="[object Symbol]";function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&baseGetTag(value)==symbolTag}module.exports=isSymbol},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*! Moment Duration Format v2.2.2
 *  https://github.com/jsmreese/moment-duration-format
 *  Date: 2018-02-16
 *
 *  Duration format plugin function for the Moment.js library
 *  http://momentjs.com/
 *
 *  Copyright 2018 John Madhavan-Reese
 *  Released under the MIT license
 */(function(root,factory){if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(12)],__WEBPACK_AMD_DEFINE_FACTORY__=factory,__WEBPACK_AMD_DEFINE_RESULT__=typeof __WEBPACK_AMD_DEFINE_FACTORY__==="function"?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{}if(root){root.momentDurationFormatSetup=root.moment?factory(root.moment):factory}})(this,(function(moment){var toLocaleStringWorks=false;var toLocaleStringRoundingWorks=false;var intlNumberFormatWorks=false;var intlNumberFormatRoundingWorks=false;var types="escape years months weeks days hours minutes seconds milliseconds general".split(" ");var bubbles=[{type:"seconds",targets:[{type:"minutes",value:60},{type:"hours",value:3600},{type:"days",value:86400},{type:"weeks",value:604800},{type:"months",value:2678400},{type:"years",value:31536e3}]},{type:"minutes",targets:[{type:"hours",value:60},{type:"days",value:1440},{type:"weeks",value:10080},{type:"months",value:44640},{type:"years",value:525600}]},{type:"hours",targets:[{type:"days",value:24},{type:"weeks",value:168},{type:"months",value:744},{type:"years",value:8760}]},{type:"days",targets:[{type:"weeks",value:7},{type:"months",value:31},{type:"years",value:365}]},{type:"months",targets:[{type:"years",value:12}]}];function stringIncludes(str,search){if(search.length>str.length){return false}return str.indexOf(search)!==-1}function repeatZero(qty){var result="";while(qty){result+="0";qty-=1}return result}function stringRound(digits){var digitsArray=digits.split("").reverse();var i=0;var carry=true;while(carry&&i<digitsArray.length){if(i){if(digitsArray[i]==="9"){digitsArray[i]="0"}else{digitsArray[i]=(parseInt(digitsArray[i],10)+1).toString();carry=false}}else{if(parseInt(digitsArray[i],10)<5){carry=false}digitsArray[i]="0"}i+=1}if(carry){digitsArray.push("1")}return digitsArray.reverse().join("")}function cachedNumberFormat(locale,options){var optionsString=map(keys(options).sort(),(function(key){return key+":"+options[key]})).join(",");var cacheKey=locale+"+"+optionsString;if(!cachedNumberFormat.cache[cacheKey]){cachedNumberFormat.cache[cacheKey]=Intl.NumberFormat(locale,options)}return cachedNumberFormat.cache[cacheKey]}cachedNumberFormat.cache={};function formatNumber(number,options,userLocale){var useToLocaleString=options.useToLocaleString;var useGrouping=options.useGrouping;var grouping=useGrouping&&options.grouping.slice();var maximumSignificantDigits=options.maximumSignificantDigits;var minimumIntegerDigits=options.minimumIntegerDigits||1;var fractionDigits=options.fractionDigits||0;var groupingSeparator=options.groupingSeparator;var decimalSeparator=options.decimalSeparator;if(useToLocaleString&&userLocale){var localeStringOptions={minimumIntegerDigits:minimumIntegerDigits,useGrouping:useGrouping};if(fractionDigits){localeStringOptions.maximumFractionDigits=fractionDigits;localeStringOptions.minimumFractionDigits=fractionDigits}if(maximumSignificantDigits&&number>0){localeStringOptions.maximumSignificantDigits=maximumSignificantDigits}if(intlNumberFormatWorks){if(!intlNumberFormatRoundingWorks){var roundingOptions=extend({},options);roundingOptions.useGrouping=false;roundingOptions.decimalSeparator=".";number=parseFloat(formatNumber(number,roundingOptions),10)}return cachedNumberFormat(userLocale,localeStringOptions).format(number)}else{if(!toLocaleStringRoundingWorks){var roundingOptions=extend({},options);roundingOptions.useGrouping=false;roundingOptions.decimalSeparator=".";number=parseFloat(formatNumber(number,roundingOptions),10)}return number.toLocaleString(userLocale,localeStringOptions)}}var numberString;if(maximumSignificantDigits){numberString=number.toPrecision(maximumSignificantDigits+1)}else{numberString=number.toFixed(fractionDigits+1)}var integerString;var fractionString;var exponentString;var temp=numberString.split("e");exponentString=temp[1]||"";temp=temp[0].split(".");fractionString=temp[1]||"";integerString=temp[0]||"";var integerLength=integerString.length;var fractionLength=fractionString.length;var digitCount=integerLength+fractionLength;var digits=integerString+fractionString;if(maximumSignificantDigits&&digitCount===maximumSignificantDigits+1||!maximumSignificantDigits&&fractionLength===fractionDigits+1){digits=stringRound(digits);if(digits.length===digitCount+1){integerLength=integerLength+1}if(fractionLength){digits=digits.slice(0,-1)}integerString=digits.slice(0,integerLength);fractionString=digits.slice(integerLength)}if(maximumSignificantDigits){fractionString=fractionString.replace(/0*$/,"")}var exponent=parseInt(exponentString,10);if(exponent>0){if(fractionString.length<=exponent){fractionString=fractionString+repeatZero(exponent-fractionString.length);integerString=integerString+fractionString;fractionString=""}else{integerString=integerString+fractionString.slice(0,exponent);fractionString=fractionString.slice(exponent)}}else if(exponent<0){fractionString=repeatZero(Math.abs(exponent)-integerString.length)+integerString+fractionString;integerString="0"}if(!maximumSignificantDigits){fractionString=fractionString.slice(0,fractionDigits);if(fractionString.length<fractionDigits){fractionString=fractionString+repeatZero(fractionDigits-fractionString.length)}if(integerString.length<minimumIntegerDigits){integerString=repeatZero(minimumIntegerDigits-integerString.length)+integerString}}var formattedString="";if(useGrouping){temp=integerString;var group;while(temp.length){if(grouping.length){group=grouping.shift()}if(formattedString){formattedString=groupingSeparator+formattedString}formattedString=temp.slice(-group)+formattedString;temp=temp.slice(0,-group)}}else{formattedString=integerString}if(fractionString){formattedString=formattedString+decimalSeparator+fractionString}return formattedString}function durationLabelCompare(a,b){if(a.label.length>b.label.length){return-1}if(a.label.length<b.label.length){return 1}return 0}function durationGetLabels(token,localeData){var labels=[];each(keys(localeData),(function(localeDataKey){if(localeDataKey.slice(0,15)!=="_durationLabels"){return}var labelType=localeDataKey.slice(15).toLowerCase();each(keys(localeData[localeDataKey]),(function(labelKey){if(labelKey.slice(0,1)===token){labels.push({type:labelType,key:labelKey,label:localeData[localeDataKey][labelKey]})}}))}));return labels}function durationPluralKey(token,integerValue,decimalValue){if(integerValue===1&&decimalValue===null){return token}return token+token}var engLocale={durationLabelsStandard:{S:"millisecond",SS:"milliseconds",s:"second",ss:"seconds",m:"minute",mm:"minutes",h:"hour",hh:"hours",d:"day",dd:"days",w:"week",ww:"weeks",M:"month",MM:"months",y:"year",yy:"years"},durationLabelsShort:{S:"msec",SS:"msecs",s:"sec",ss:"secs",m:"min",mm:"mins",h:"hr",hh:"hrs",d:"dy",dd:"dys",w:"wk",ww:"wks",M:"mo",MM:"mos",y:"yr",yy:"yrs"},durationTimeTemplates:{HMS:"h:mm:ss",HM:"h:mm",MS:"m:ss"},durationLabelTypes:[{type:"standard",string:"__"},{type:"short",string:"_"}],durationPluralKey:durationPluralKey};function isArray(array){return Object.prototype.toString.call(array)==="[object Array]"}function isObject(obj){return Object.prototype.toString.call(obj)==="[object Object]"}function findLast(array,callback){var index=array.length;while(index-=1){if(callback(array[index])){return array[index]}}}function find(array,callback){var index=0;var max=array&&array.length||0;var match;if(typeof callback!=="function"){match=callback;callback=function(item){return item===match}}while(index<max){if(callback(array[index])){return array[index]}index+=1}}function each(array,callback){var index=0,max=array.length;if(!array||!max){return}while(index<max){if(callback(array[index],index)===false){return}index+=1}}function map(array,callback){var index=0,max=array.length,ret=[];if(!array||!max){return ret}while(index<max){ret[index]=callback(array[index],index);index+=1}return ret}function pluck(array,prop){return map(array,(function(item){return item[prop]}))}function compact(array){var ret=[];each(array,(function(item){if(item){ret.push(item)}}));return ret}function unique(array){var ret=[];each(array,(function(_a){if(!find(ret,_a)){ret.push(_a)}}));return ret}function intersection(a,b){var ret=[];each(a,(function(_a){each(b,(function(_b){if(_a===_b){ret.push(_a)}}))}));return unique(ret)}function rest(array,callback){var ret=[];each(array,(function(item,index){if(!callback(item)){ret=array.slice(index);return false}}));return ret}function initial(array,callback){var reversed=array.slice().reverse();return rest(reversed,callback).reverse()}function extend(a,b){for(var key in b){if(b.hasOwnProperty(key)){a[key]=b[key]}}return a}function keys(a){var ret=[];for(var key in a){if(a.hasOwnProperty(key)){ret.push(key)}}return ret}function any(array,callback){var index=0,max=array.length;if(!array||!max){return false}while(index<max){if(callback(array[index],index)===true){return true}index+=1}return false}function flatten(array){var ret=[];each(array,(function(child){ret=ret.concat(child)}));return ret}function toLocaleStringSupportsLocales(){var number=0;try{number.toLocaleString("i")}catch(e){return e.name==="RangeError"}return false}function featureTestFormatterRounding(formatter){return formatter(3.55,"en",{useGrouping:false,minimumIntegerDigits:1,minimumFractionDigits:1,maximumFractionDigits:1})==="3.6"}function featureTestFormatter(formatter){var passed=true;passed=passed&&formatter(1,"en",{minimumIntegerDigits:1})==="1";passed=passed&&formatter(1,"en",{minimumIntegerDigits:2})==="01";passed=passed&&formatter(1,"en",{minimumIntegerDigits:3})==="001";if(!passed){return false}passed=passed&&formatter(99.99,"en",{maximumFractionDigits:0,minimumFractionDigits:0})==="100";passed=passed&&formatter(99.99,"en",{maximumFractionDigits:1,minimumFractionDigits:1})==="100.0";passed=passed&&formatter(99.99,"en",{maximumFractionDigits:2,minimumFractionDigits:2})==="99.99";passed=passed&&formatter(99.99,"en",{maximumFractionDigits:3,minimumFractionDigits:3})==="99.990";if(!passed){return false}passed=passed&&formatter(99.99,"en",{maximumSignificantDigits:1})==="100";passed=passed&&formatter(99.99,"en",{maximumSignificantDigits:2})==="100";passed=passed&&formatter(99.99,"en",{maximumSignificantDigits:3})==="100";passed=passed&&formatter(99.99,"en",{maximumSignificantDigits:4})==="99.99";passed=passed&&formatter(99.99,"en",{maximumSignificantDigits:5})==="99.99";if(!passed){return false}passed=passed&&formatter(1e3,"en",{useGrouping:true})==="1,000";passed=passed&&formatter(1e3,"en",{useGrouping:false})==="1000";if(!passed){return false}return true}function durationsFormat(){var args=[].slice.call(arguments);var settings={};var durations;each(args,(function(arg,index){if(!index){if(!isArray(arg)){throw"Expected array as the first argument to durationsFormat."}durations=arg}if(typeof arg==="string"||typeof arg==="function"){settings.template=arg;return}if(typeof arg==="number"){settings.precision=arg;return}if(isObject(arg)){extend(settings,arg)}}));if(!durations||!durations.length){return[]}settings.returnMomentTypes=true;var formattedDurations=map(durations,(function(dur){return dur.format(settings)}));var outputTypes=intersection(types,unique(pluck(flatten(formattedDurations),"type")));var largest=settings.largest;if(largest){outputTypes=outputTypes.slice(0,largest)}settings.returnMomentTypes=false;settings.outputTypes=outputTypes;return map(durations,(function(dur){return dur.format(settings)}))}function durationFormat(){var args=[].slice.call(arguments);var settings=extend({},this.format.defaults);var asMilliseconds=this.asMilliseconds();var asMonths=this.asMonths();if(typeof this.isValid==="function"&&this.isValid()===false){asMilliseconds=0;asMonths=0}var isNegative=asMilliseconds<0;var remainder=moment.duration(Math.abs(asMilliseconds),"milliseconds");var remainderMonths=moment.duration(Math.abs(asMonths),"months");each(args,(function(arg){if(typeof arg==="string"||typeof arg==="function"){settings.template=arg;return}if(typeof arg==="number"){settings.precision=arg;return}if(isObject(arg)){extend(settings,arg)}}));var momentTokens={years:"y",months:"M",weeks:"w",days:"d",hours:"h",minutes:"m",seconds:"s",milliseconds:"S"};var tokenDefs={escape:/\[(.+?)\]/,years:/\*?[Yy]+/,months:/\*?M+/,weeks:/\*?[Ww]+/,days:/\*?[Dd]+/,hours:/\*?[Hh]+/,minutes:/\*?m+/,seconds:/\*?s+/,milliseconds:/\*?S+/,general:/.+?/};settings.types=types;var typeMap=function(token){return find(types,(function(type){return tokenDefs[type].test(token)}))};var tokenizer=new RegExp(map(types,(function(type){return tokenDefs[type].source})).join("|"),"g");settings.duration=this;var template=typeof settings.template==="function"?settings.template.apply(settings):settings.template;var outputTypes=settings.outputTypes;var returnMomentTypes=settings.returnMomentTypes;var largest=settings.largest;var stopTrim=[];if(!outputTypes){if(isArray(settings.stopTrim)){settings.stopTrim=settings.stopTrim.join("")}if(settings.stopTrim){each(settings.stopTrim.match(tokenizer),(function(token){var type=typeMap(token);if(type==="escape"||type==="general"){return}stopTrim.push(type)}))}}var localeData=moment.localeData();if(!localeData){localeData={}}each(keys(engLocale),(function(key){if(typeof engLocale[key]==="function"){if(!localeData[key]){localeData[key]=engLocale[key]}return}if(!localeData["_"+key]){localeData["_"+key]=engLocale[key]}}));each(keys(localeData._durationTimeTemplates),(function(item){template=template.replace("_"+item+"_",localeData._durationTimeTemplates[item])}));var userLocale=settings.userLocale||moment.locale();var useLeftUnits=settings.useLeftUnits;var usePlural=settings.usePlural;var precision=settings.precision;var forceLength=settings.forceLength;var useGrouping=settings.useGrouping;var trunc=settings.trunc;var useSignificantDigits=settings.useSignificantDigits&&precision>0;var significantDigits=useSignificantDigits?settings.precision:0;var significantDigitsCache=significantDigits;var minValue=settings.minValue;var isMinValue=false;var maxValue=settings.maxValue;var isMaxValue=false;var useToLocaleString=settings.useToLocaleString;var groupingSeparator=settings.groupingSeparator;var decimalSeparator=settings.decimalSeparator;var grouping=settings.grouping;useToLocaleString=useToLocaleString&&(toLocaleStringWorks||intlNumberFormatWorks);var trim=settings.trim;if(isArray(trim)){trim=trim.join(" ")}if(trim===null&&(largest||maxValue||useSignificantDigits)){trim="all"}if(trim===null||trim===true||trim==="left"||trim==="right"){trim="large"}if(trim===false){trim=""}var trimIncludes=function(item){return item.test(trim)};var rLarge=/large/;var rSmall=/small/;var rBoth=/both/;var rMid=/mid/;var rAll=/^all|[^sm]all/;var rFinal=/final/;var trimLarge=largest>0||any([rLarge,rBoth,rAll],trimIncludes);var trimSmall=any([rSmall,rBoth,rAll],trimIncludes);var trimMid=any([rMid,rAll],trimIncludes);var trimFinal=any([rFinal,rAll],trimIncludes);var rawTokens=map(template.match(tokenizer),(function(token,index){var type=typeMap(token);if(token.slice(0,1)==="*"){token=token.slice(1);if(type!=="escape"&&type!=="general"){stopTrim.push(type)}}return{index:index,length:token.length,text:"",token:type==="escape"?token.replace(tokenDefs.escape,"$1"):token,type:type==="escape"||type==="general"?null:type}}));var currentToken={index:0,length:0,token:"",text:"",type:null};var tokens=[];if(useLeftUnits){rawTokens.reverse()}each(rawTokens,(function(token){if(token.type){if(currentToken.type||currentToken.text){tokens.push(currentToken)}currentToken=token;return}if(useLeftUnits){currentToken.text=token.token+currentToken.text}else{currentToken.text+=token.token}}));if(currentToken.type||currentToken.text){tokens.push(currentToken)}if(useLeftUnits){tokens.reverse()}var momentTypes=intersection(types,unique(compact(pluck(tokens,"type"))));if(!momentTypes.length){return pluck(tokens,"text").join("")}momentTypes=map(momentTypes,(function(momentType,index){var isSmallest=index+1===momentTypes.length;var isLargest=!index;var rawValue;if(momentType==="years"||momentType==="months"){rawValue=remainderMonths.as(momentType)}else{rawValue=remainder.as(momentType)}var wholeValue=Math.floor(rawValue);var decimalValue=rawValue-wholeValue;var token=find(tokens,(function(token){return momentType===token.type}));if(isLargest&&maxValue&&rawValue>maxValue){isMaxValue=true}if(isSmallest&&minValue&&Math.abs(settings.duration.as(momentType))<minValue){isMinValue=true}if(isLargest&&forceLength===null&&token.length>1){forceLength=true}remainder.subtract(wholeValue,momentType);remainderMonths.subtract(wholeValue,momentType);return{rawValue:rawValue,wholeValue:wholeValue,decimalValue:isSmallest?decimalValue:0,isSmallest:isSmallest,isLargest:isLargest,type:momentType,tokenLength:token.length}}));var truncMethod=trunc?Math.floor:Math.round;var truncate=function(value,places){var factor=Math.pow(10,places);return truncMethod(value*factor)/factor};var foundFirst=false;var bubbled=false;var formatValue=function(momentType,index){var formatOptions={useGrouping:useGrouping,groupingSeparator:groupingSeparator,decimalSeparator:decimalSeparator,grouping:grouping,useToLocaleString:useToLocaleString};if(useSignificantDigits){if(significantDigits<=0){momentType.rawValue=0;momentType.wholeValue=0;momentType.decimalValue=0}else{formatOptions.maximumSignificantDigits=significantDigits;momentType.significantDigits=significantDigits}}if(isMaxValue&&!bubbled){if(momentType.isLargest){momentType.wholeValue=maxValue;momentType.decimalValue=0}else{momentType.wholeValue=0;momentType.decimalValue=0}}if(isMinValue&&!bubbled){if(momentType.isSmallest){momentType.wholeValue=minValue;momentType.decimalValue=0}else{momentType.wholeValue=0;momentType.decimalValue=0}}if(momentType.isSmallest||momentType.significantDigits&&momentType.significantDigits-momentType.wholeValue.toString().length<=0){if(precision<0){momentType.value=truncate(momentType.wholeValue,precision)}else if(precision===0){momentType.value=truncMethod(momentType.wholeValue+momentType.decimalValue)}else{if(useSignificantDigits){if(trunc){momentType.value=truncate(momentType.rawValue,significantDigits-momentType.wholeValue.toString().length)}else{momentType.value=momentType.rawValue}if(momentType.wholeValue){significantDigits-=momentType.wholeValue.toString().length}}else{formatOptions.fractionDigits=precision;if(trunc){momentType.value=momentType.wholeValue+truncate(momentType.decimalValue,precision)}else{momentType.value=momentType.wholeValue+momentType.decimalValue}}}}else{if(useSignificantDigits&&momentType.wholeValue){momentType.value=Math.round(truncate(momentType.wholeValue,momentType.significantDigits-momentType.wholeValue.toString().length));significantDigits-=momentType.wholeValue.toString().length}else{momentType.value=momentType.wholeValue}}if(momentType.tokenLength>1&&(forceLength||foundFirst)){formatOptions.minimumIntegerDigits=momentType.tokenLength;if(bubbled&&formatOptions.maximumSignificantDigits<momentType.tokenLength){delete formatOptions.maximumSignificantDigits}}if(!foundFirst&&(momentType.value>0||trim===""||find(stopTrim,momentType.type)||find(outputTypes,momentType.type))){foundFirst=true}momentType.formattedValue=formatNumber(momentType.value,formatOptions,userLocale);formatOptions.useGrouping=false;formatOptions.decimalSeparator=".";momentType.formattedValueEn=formatNumber(momentType.value,formatOptions,"en");if(momentType.tokenLength===2&&momentType.type==="milliseconds"){momentType.formattedValueMS=formatNumber(momentType.value,{minimumIntegerDigits:3,useGrouping:false},"en").slice(0,2)}return momentType};momentTypes=map(momentTypes,formatValue);momentTypes=compact(momentTypes);if(momentTypes.length>1){var findType=function(type){return find(momentTypes,(function(momentType){return momentType.type===type}))};var bubbleTypes=function(bubble){var bubbleMomentType=findType(bubble.type);if(!bubbleMomentType){return}each(bubble.targets,(function(target){var targetMomentType=findType(target.type);if(!targetMomentType){return}if(parseInt(bubbleMomentType.formattedValueEn,10)===target.value){bubbleMomentType.rawValue=0;bubbleMomentType.wholeValue=0;bubbleMomentType.decimalValue=0;targetMomentType.rawValue+=1;targetMomentType.wholeValue+=1;targetMomentType.decimalValue=0;targetMomentType.formattedValueEn=targetMomentType.wholeValue.toString();bubbled=true}}))};each(bubbles,bubbleTypes)}if(bubbled){foundFirst=false;significantDigits=significantDigitsCache;momentTypes=map(momentTypes,formatValue);momentTypes=compact(momentTypes)}if(outputTypes&&!(isMaxValue&&!settings.trim)){momentTypes=map(momentTypes,(function(momentType){if(find(outputTypes,(function(outputType){return momentType.type===outputType}))){return momentType}return null}));momentTypes=compact(momentTypes)}else{if(trimLarge){momentTypes=rest(momentTypes,(function(momentType){return!momentType.isSmallest&&!momentType.wholeValue&&!find(stopTrim,momentType.type)}))}if(largest&&momentTypes.length){momentTypes=momentTypes.slice(0,largest)}if(trimSmall&&momentTypes.length>1){momentTypes=initial(momentTypes,(function(momentType){return!momentType.wholeValue&&!find(stopTrim,momentType.type)&&!momentType.isLargest}))}if(trimMid){momentTypes=map(momentTypes,(function(momentType,index){if(index>0&&index<momentTypes.length-1&&!momentType.wholeValue){return null}return momentType}));momentTypes=compact(momentTypes)}if(trimFinal&&momentTypes.length===1&&!momentTypes[0].wholeValue&&!(!trunc&&momentTypes[0].isSmallest&&momentTypes[0].rawValue<minValue)){momentTypes=[]}}if(returnMomentTypes){return momentTypes}each(tokens,(function(token){var key=momentTokens[token.type];var momentType=find(momentTypes,(function(momentType){return momentType.type===token.type}));if(!key||!momentType){return}var values=momentType.formattedValueEn.split(".");values[0]=parseInt(values[0],10);if(values[1]){values[1]=parseFloat("0."+values[1],10)}else{values[1]=null}var pluralKey=localeData.durationPluralKey(key,values[0],values[1]);var labels=durationGetLabels(key,localeData);var autoLocalized=false;var pluralizedLabels={};each(localeData._durationLabelTypes,(function(labelType){var label=find(labels,(function(label){return label.type===labelType.type&&label.key===pluralKey}));if(label){pluralizedLabels[label.type]=label.label;if(stringIncludes(token.text,labelType.string)){token.text=token.text.replace(labelType.string,label.label);autoLocalized=true}}}));if(usePlural&&!autoLocalized){labels.sort(durationLabelCompare);each(labels,(function(label){if(pluralizedLabels[label.type]===label.label){if(stringIncludes(token.text,label.label)){return false}return}if(stringIncludes(token.text,label.label)){token.text=token.text.replace(label.label,pluralizedLabels[label.type]);return false}}))}}));tokens=map(tokens,(function(token){if(!token.type){return token.text}var momentType=find(momentTypes,(function(momentType){return momentType.type===token.type}));if(!momentType){return""}var out="";if(useLeftUnits){out+=token.text}if(isNegative&&isMaxValue||!isNegative&&isMinValue){out+="< ";isMaxValue=false;isMinValue=false}if(isNegative&&isMinValue||!isNegative&&isMaxValue){out+="> ";isMaxValue=false;isMinValue=false}if(isNegative&&(momentType.value>0||trim===""||find(stopTrim,momentType.type)||find(outputTypes,momentType.type))){out+="-";isNegative=false}if(token.type==="milliseconds"&&momentType.formattedValueMS){out+=momentType.formattedValueMS}else{out+=momentType.formattedValue}if(!useLeftUnits){out+=token.text}return out}));return tokens.join("").replace(/(,| |:|\.)*$/,"").replace(/^(,| |:|\.)*/,"")}function defaultFormatTemplate(){var dur=this.duration;var findType=function findType(type){return dur._data[type]};var firstType=find(this.types,findType);var lastType=findLast(this.types,findType);switch(firstType){case"milliseconds":return"S __";case"seconds":case"minutes":return"*_MS_";case"hours":return"_HMS_";case"days":if(firstType===lastType){return"d __"}case"weeks":if(firstType===lastType){return"w __"}if(this.trim===null){this.trim="both"}return"w __, d __, h __";case"months":if(firstType===lastType){return"M __"}case"years":if(firstType===lastType){return"y __"}if(this.trim===null){this.trim="both"}return"y __, M __, d __";default:if(this.trim===null){this.trim="both"}return"y __, d __, h __, m __, s __"}}function init(context){if(!context){throw"Moment Duration Format init cannot find moment instance."}context.duration.format=durationsFormat;context.duration.fn.format=durationFormat;context.duration.fn.format.defaults={trim:null,stopTrim:null,largest:null,maxValue:null,minValue:null,precision:0,trunc:false,forceLength:null,userLocale:null,usePlural:true,useLeftUnits:false,useGrouping:true,useSignificantDigits:false,template:defaultFormatTemplate,useToLocaleString:true,groupingSeparator:",",decimalSeparator:".",grouping:[3]};context.updateLocale("en",engLocale)}var toLocaleStringFormatter=function(number,locale,options){return number.toLocaleString(locale,options)};toLocaleStringWorks=toLocaleStringSupportsLocales()&&featureTestFormatter(toLocaleStringFormatter);toLocaleStringRoundingWorks=toLocaleStringWorks&&featureTestFormatterRounding(toLocaleStringFormatter);var intlNumberFormatFormatter=function(number,locale,options){if(typeof window!=="undefined"&&window&&window.Intl&&window.Intl.NumberFormat){return window.Intl.NumberFormat(locale,options).format(number)}};intlNumberFormatWorks=featureTestFormatter(intlNumberFormatFormatter);intlNumberFormatRoundingWorks=intlNumberFormatWorks&&featureTestFormatterRounding(intlNumberFormatFormatter);init(moment);return init}))},function(module,exports,__webpack_require__){var assignValue=__webpack_require__(75),castPath=__webpack_require__(87),isFunction=__webpack_require__(41),isIndex=__webpack_require__(116),isObject=__webpack_require__(36),toKey=__webpack_require__(117);function baseSet(object,path,value,customizer){if(!isObject(object)){return object}path=castPath(path,object);var index=-1,length=path.length,lastIndex=length-1,nested=object;while(nested!=null&&++index<length){var key=toKey(path[index]),newValue=value;if(key=="prototype"&&isFunction(nested)){throw new Error("Illegal access of function prototype")}if(index!=lastIndex){var objValue=hasOwnProperty.call(nested,key)?nested[key]:undefined;newValue=customizer?customizer(objValue,key,nested):undefined;if(newValue===undefined){newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{}}}assignValue(nested,key,newValue);nested=nested[key]}return object}module.exports=baseSet},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(42),isObject=__webpack_require__(36);var asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(value){if(!isObject(value)){return false}var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}module.exports=isFunction},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(34),getRawTag=__webpack_require__(81),objectToString=__webpack_require__(82);var nullTag="[object Null]",undefinedTag="[object Undefined]";var symToStringTag=Symbol?Symbol.toStringTag:undefined;function baseGetTag(value){if(value==null){return value===undefined?undefinedTag:nullTag}return symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}module.exports=baseGetTag},function(module,exports){function eq(value,other){return value===other||value!==value&&other!==other}module.exports=eq},function(module,exports,__webpack_require__){(function(process){const debug=typeof process==="object"&&Object({IS_KIBANA_DISTRIBUTABLE:"true"})&&Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG&&/\bsemver\b/i.test(Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG)?(...args)=>console.error("SEMVER",...args):()=>{};module.exports=debug}).call(this,__webpack_require__(193))},function(module,exports){const SEMVER_SPEC_VERSION="2.0.0";const MAX_LENGTH=256;const MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991;const MAX_SAFE_COMPONENT_LENGTH=16;module.exports={SEMVER_SPEC_VERSION:SEMVER_SPEC_VERSION,MAX_LENGTH:MAX_LENGTH,MAX_SAFE_INTEGER:MAX_SAFE_INTEGER,MAX_SAFE_COMPONENT_LENGTH:MAX_SAFE_COMPONENT_LENGTH}},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(47);case"v7light":return __webpack_require__(49);case"v8dark":return __webpack_require__(51);case"v8light":return __webpack_require__(53)}},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(48);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monSetupModeEnterButton__buttonWrapper {\n  padding: 12px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(50);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monSetupModeEnterButton__buttonWrapper {\n  padding: 12px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(52);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monSetupModeEnterButton__buttonWrapper {\n  padding: 12px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(54);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monSetupModeEnterButton__buttonWrapper {\n  padding: 12px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(56);case"v7light":return __webpack_require__(58);case"v8dark":return __webpack_require__(60);case"v8light":return __webpack_require__(62)}},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(57);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monNoData__content {\n  max-width: 600px;\n  text-align: center;\n  position: relative; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(59);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monNoData__content {\n  max-width: 600px;\n  text-align: center;\n  position: relative; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(61);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monNoData__content {\n  max-width: 600px;\n  text-align: center;\n  position: relative; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(63);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monNoData__content {\n  max-width: 600px;\n  text-align: center;\n  position: relative; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(65);case"v7light":return __webpack_require__(67);case"v8dark":return __webpack_require__(69);case"v8light":return __webpack_require__(71)}},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(66);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monSummaryStatusNoWrap {\n  margin-left: 12px;\n  margin-right: 12px; }\n  .monSummaryStatusNoWrap .monSummaryStatusNoWrap__stat p {\n    max-width: 100%;\n    overflow: hidden !important;\n    text-overflow: ellipsis !important;\n    white-space: nowrap !important;\n    word-wrap: normal !important; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(68);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monSummaryStatusNoWrap {\n  margin-left: 12px;\n  margin-right: 12px; }\n  .monSummaryStatusNoWrap .monSummaryStatusNoWrap__stat p {\n    max-width: 100%;\n    overflow: hidden !important;\n    text-overflow: ellipsis !important;\n    white-space: nowrap !important;\n    word-wrap: normal !important; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(70);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monSummaryStatusNoWrap {\n  margin-left: 12px;\n  margin-right: 12px; }\n  .monSummaryStatusNoWrap .monSummaryStatusNoWrap__stat p {\n    max-width: 100%;\n    overflow: hidden !important;\n    text-overflow: ellipsis !important;\n    white-space: nowrap !important;\n    word-wrap: normal !important; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(72);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monSummaryStatusNoWrap {\n  margin-left: 12px;\n  margin-right: 12px; }\n  .monSummaryStatusNoWrap .monSummaryStatusNoWrap__stat p {\n    max-width: 100%;\n    overflow: hidden !important;\n    text-overflow: ellipsis !important;\n    white-space: nowrap !important;\n    word-wrap: normal !important; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){exports.set=__webpack_require__(74);exports.setWith=__webpack_require__(118)},function(module,exports,__webpack_require__){var baseSet=__webpack_require__(40);function set(object,path,value){return object==null?object:baseSet(object,path,value)}module.exports=set},function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__(76),eq=__webpack_require__(43);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object)){baseAssignValue(object,key,value)}}module.exports=assignValue},function(module,exports,__webpack_require__){var defineProperty=__webpack_require__(77);function baseAssignValue(object,key,value){if(key=="__proto__"&&defineProperty){defineProperty(object,key,{configurable:true,enumerable:true,value:value,writable:true})}else{object[key]=value}}module.exports=baseAssignValue},function(module,exports,__webpack_require__){var getNative=__webpack_require__(33);var defineProperty=function(){try{var func=getNative(Object,"defineProperty");func({},"",{});return func}catch(e){}}();module.exports=defineProperty},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(41),isMasked=__webpack_require__(83),isObject=__webpack_require__(36),toSource=__webpack_require__(85);var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reIsHostCtor=/^\[object .+?Constructor\]$/;var funcProto=Function.prototype,objectProto=Object.prototype;var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(value){if(!isObject(value)||isMasked(value)){return false}var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}module.exports=baseIsNative},function(module,exports,__webpack_require__){(function(global){var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;module.exports=freeGlobal}).call(this,__webpack_require__(80))},function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){if(typeof window==="object")g=window}module.exports=g},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(34);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var nativeObjectToString=objectProto.toString;var symToStringTag=Symbol?Symbol.toStringTag:undefined;function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=true}catch(e){}var result=nativeObjectToString.call(value);if(unmasked){if(isOwn){value[symToStringTag]=tag}else{delete value[symToStringTag]}}return result}module.exports=getRawTag},function(module,exports){var objectProto=Object.prototype;var nativeObjectToString=objectProto.toString;function objectToString(value){return nativeObjectToString.call(value)}module.exports=objectToString},function(module,exports,__webpack_require__){var coreJsData=__webpack_require__(84);var maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}();function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}module.exports=isMasked},function(module,exports,__webpack_require__){var root=__webpack_require__(35);var coreJsData=root["__core-js_shared__"];module.exports=coreJsData},function(module,exports){var funcProto=Function.prototype;var funcToString=funcProto.toString;function toSource(func){if(func!=null){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}module.exports=toSource},function(module,exports){function getValue(object,key){return object==null?undefined:object[key]}module.exports=getValue},function(module,exports,__webpack_require__){var isArray=__webpack_require__(37),isKey=__webpack_require__(88),stringToPath=__webpack_require__(90),toString=__webpack_require__(113);function castPath(value,object){if(isArray(value)){return value}return isKey(value,object)?[value]:stringToPath(toString(value))}module.exports=castPath},function(module,exports,__webpack_require__){var isArray=__webpack_require__(37),isSymbol=__webpack_require__(38);var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(value,object){if(isArray(value)){return false}var type=typeof value;if(type=="number"||type=="symbol"||type=="boolean"||value==null||isSymbol(value)){return true}return reIsPlainProp.test(value)||!reIsDeepProp.test(value)||object!=null&&value in Object(object)}module.exports=isKey},function(module,exports){function isObjectLike(value){return value!=null&&typeof value=="object"}module.exports=isObjectLike},function(module,exports,__webpack_require__){var memoizeCapped=__webpack_require__(91);var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var reEscapeChar=/\\(\\)?/g;var stringToPath=memoizeCapped((function(string){var result=[];if(string.charCodeAt(0)===46){result.push("")}string.replace(rePropName,(function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)}));return result}));module.exports=stringToPath},function(module,exports,__webpack_require__){var memoize=__webpack_require__(92);var MAX_MEMOIZE_SIZE=500;function memoizeCapped(func){var result=memoize(func,(function(key){if(cache.size===MAX_MEMOIZE_SIZE){cache.clear()}return key}));var cache=result.cache;return result}module.exports=memoizeCapped},function(module,exports,__webpack_require__){var MapCache=__webpack_require__(93);var FUNC_ERROR_TEXT="Expected a function";function memoize(func,resolver){if(typeof func!="function"||resolver!=null&&typeof resolver!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key)}var result=func.apply(this,args);memoized.cache=cache.set(key,result)||cache;return result};memoized.cache=new(memoize.Cache||MapCache);return memoized}memoize.Cache=MapCache;module.exports=memoize},function(module,exports,__webpack_require__){var mapCacheClear=__webpack_require__(94),mapCacheDelete=__webpack_require__(108),mapCacheGet=__webpack_require__(110),mapCacheHas=__webpack_require__(111),mapCacheSet=__webpack_require__(112);function MapCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype["delete"]=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;module.exports=MapCache},function(module,exports,__webpack_require__){var Hash=__webpack_require__(95),ListCache=__webpack_require__(101),Map=__webpack_require__(107);function mapCacheClear(){this.size=0;this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}module.exports=mapCacheClear},function(module,exports,__webpack_require__){var hashClear=__webpack_require__(96),hashDelete=__webpack_require__(97),hashGet=__webpack_require__(98),hashHas=__webpack_require__(99),hashSet=__webpack_require__(100);function Hash(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}Hash.prototype.clear=hashClear;Hash.prototype["delete"]=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;module.exports=Hash},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(30);function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{};this.size=0}module.exports=hashClear},function(module,exports){function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];this.size-=result?1:0;return result}module.exports=hashDelete},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(30);var HASH_UNDEFINED="__lodash_hash_undefined__";var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(data,key)?data[key]:undefined}module.exports=hashGet},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(30);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key)}module.exports=hashHas},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(30);var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(key,value){var data=this.__data__;this.size+=this.has(key)?0:1;data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value;return this}module.exports=hashSet},function(module,exports,__webpack_require__){var listCacheClear=__webpack_require__(102),listCacheDelete=__webpack_require__(103),listCacheGet=__webpack_require__(104),listCacheHas=__webpack_require__(105),listCacheSet=__webpack_require__(106);function ListCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype["delete"]=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;module.exports=ListCache},function(module,exports){function listCacheClear(){this.__data__=[];this.size=0}module.exports=listCacheClear},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(31);var arrayProto=Array.prototype;var splice=arrayProto.splice;function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){return false}var lastIndex=data.length-1;if(index==lastIndex){data.pop()}else{splice.call(data,index,1)}--this.size;return true}module.exports=listCacheDelete},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(31);function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]}module.exports=listCacheGet},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(31);function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}module.exports=listCacheHas},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(31);function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){++this.size;data.push([key,value])}else{data[index][1]=value}return this}module.exports=listCacheSet},function(module,exports,__webpack_require__){var getNative=__webpack_require__(33),root=__webpack_require__(35);var Map=getNative(root,"Map");module.exports=Map},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(32);function mapCacheDelete(key){var result=getMapData(this,key)["delete"](key);this.size-=result?1:0;return result}module.exports=mapCacheDelete},function(module,exports){function isKeyable(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}module.exports=isKeyable},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(32);function mapCacheGet(key){return getMapData(this,key).get(key)}module.exports=mapCacheGet},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(32);function mapCacheHas(key){return getMapData(this,key).has(key)}module.exports=mapCacheHas},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(32);function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;data.set(key,value);this.size+=data.size==size?0:1;return this}module.exports=mapCacheSet},function(module,exports,__webpack_require__){var baseToString=__webpack_require__(114);function toString(value){return value==null?"":baseToString(value)}module.exports=toString},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(34),arrayMap=__webpack_require__(115),isArray=__webpack_require__(37),isSymbol=__webpack_require__(38);var INFINITY=1/0;var symbolProto=Symbol?Symbol.prototype:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function baseToString(value){if(typeof value=="string"){return value}if(isArray(value)){return arrayMap(value,baseToString)+""}if(isSymbol(value)){return symbolToString?symbolToString.call(value):""}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}module.exports=baseToString},function(module,exports){function arrayMap(array,iteratee){var index=-1,length=array==null?0:array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array)}return result}module.exports=arrayMap},function(module,exports){var MAX_SAFE_INTEGER=9007199254740991;var reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(value,length){var type=typeof value;length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(type=="number"||type!="symbol"&&reIsUint.test(value))&&(value>-1&&value%1==0&&value<length)}module.exports=isIndex},function(module,exports,__webpack_require__){var isSymbol=__webpack_require__(38);var INFINITY=1/0;function toKey(value){if(typeof value=="string"||isSymbol(value)){return value}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}module.exports=toKey},function(module,exports,__webpack_require__){var baseSet=__webpack_require__(40);function setWith(object,path,value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return object==null?object:baseSet(object,path,value,customizer)}module.exports=setWith},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(120);case"v7light":return __webpack_require__(122);case"v8dark":return __webpack_require__(124);case"v8light":return __webpack_require__(126)}},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(121);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monRhythmChart__legendItem {\n  font-size: 12px;\n  cursor: pointer;\n  color: #DFE5EF;\n  display: flex;\n  flex-direction: row;\n  align-items: center; }\n  .monRhythmChart__legendItem-isDisabled {\n    opacity: .5; }\n\n.monRhythmChart__legendHorizontal {\n  margin-top: 4px; }\n\n.monRhythmChart__legendLabel {\n  overflow: hidden;\n  white-space: nowrap;\n  display: flex;\n  flex-direction: row;\n  align-items: center; }\n\n.monRhythmChart__legendValue {\n  overflow: hidden;\n  white-space: nowrap;\n  margin-left: 4px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(123);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monRhythmChart__legendItem {\n  font-size: 12px;\n  cursor: pointer;\n  color: #343741;\n  display: flex;\n  flex-direction: row;\n  align-items: center; }\n  .monRhythmChart__legendItem-isDisabled {\n    opacity: .5; }\n\n.monRhythmChart__legendHorizontal {\n  margin-top: 4px; }\n\n.monRhythmChart__legendLabel {\n  overflow: hidden;\n  white-space: nowrap;\n  display: flex;\n  flex-direction: row;\n  align-items: center; }\n\n.monRhythmChart__legendValue {\n  overflow: hidden;\n  white-space: nowrap;\n  margin-left: 4px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(125);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monRhythmChart__legendItem {\n  font-size: 12px;\n  cursor: pointer;\n  color: #DFE5EF;\n  display: flex;\n  flex-direction: row;\n  align-items: center; }\n  .monRhythmChart__legendItem-isDisabled {\n    opacity: .5; }\n\n.monRhythmChart__legendHorizontal {\n  margin-top: 4px; }\n\n.monRhythmChart__legendLabel {\n  overflow: hidden;\n  white-space: nowrap;\n  display: flex;\n  flex-direction: row;\n  align-items: center; }\n\n.monRhythmChart__legendValue {\n  overflow: hidden;\n  white-space: nowrap;\n  margin-left: 4px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(127);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monRhythmChart__legendItem {\n  font-size: 12px;\n  cursor: pointer;\n  color: #343741;\n  display: flex;\n  flex-direction: row;\n  align-items: center; }\n  .monRhythmChart__legendItem-isDisabled {\n    opacity: .5; }\n\n.monRhythmChart__legendHorizontal {\n  margin-top: 4px; }\n\n.monRhythmChart__legendLabel {\n  overflow: hidden;\n  white-space: nowrap;\n  display: flex;\n  flex-direction: row;\n  align-items: center; }\n\n.monRhythmChart__legendValue {\n  overflow: hidden;\n  white-space: nowrap;\n  margin-left: 4px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(129);case"v7light":return __webpack_require__(131);case"v8dark":return __webpack_require__(133);case"v8light":return __webpack_require__(135)}},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(130);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monRhythmChart {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  flex: 1 0 auto; }\n\n.monRhythmChart__content {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  flex: 1 0 auto; }\n\n.monRhythmChart__visualization {\n  display: flex;\n  flex-direction: column;\n  flex: 1 0 auto;\n  position: relative; }\n  .monRhythmChart__visualization > div {\n    min-width: 1px;\n    width: 100%;\n    height: 100%; }\n  .monRhythmChart__visualization div {\n    -webkit-user-select: none;\n            user-select: none; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(132);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monRhythmChart {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  flex: 1 0 auto; }\n\n.monRhythmChart__content {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  flex: 1 0 auto; }\n\n.monRhythmChart__visualization {\n  display: flex;\n  flex-direction: column;\n  flex: 1 0 auto;\n  position: relative; }\n  .monRhythmChart__visualization > div {\n    min-width: 1px;\n    width: 100%;\n    height: 100%; }\n  .monRhythmChart__visualization div {\n    -webkit-user-select: none;\n            user-select: none; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(134);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monRhythmChart {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  flex: 1 0 auto; }\n\n.monRhythmChart__content {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  flex: 1 0 auto; }\n\n.monRhythmChart__visualization {\n  display: flex;\n  flex-direction: column;\n  flex: 1 0 auto;\n  position: relative; }\n  .monRhythmChart__visualization > div {\n    min-width: 1px;\n    width: 100%;\n    height: 100%; }\n  .monRhythmChart__visualization div {\n    -webkit-user-select: none;\n            user-select: none; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(136);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monRhythmChart {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  flex: 1 0 auto; }\n\n.monRhythmChart__content {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  flex: 1 0 auto; }\n\n.monRhythmChart__visualization {\n  display: flex;\n  flex-direction: column;\n  flex: 1 0 auto;\n  position: relative; }\n  .monRhythmChart__visualization > div {\n    min-width: 1px;\n    width: 100%;\n    height: 100%; }\n  .monRhythmChart__visualization div {\n    -webkit-user-select: none;\n            user-select: none; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(138);case"v7light":return __webpack_require__(140);case"v8dark":return __webpack_require__(142);case"v8light":return __webpack_require__(144)}},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(139);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monChart__tooltipLabel,\n.monChart__tooltipValue {\n  text-align: left;\n  font-size: 12px;\n  padding: 4px;\n  word-wrap: break-word;\n  white-space: normal; }\n\n.monChart__tooltipLabel {\n  font-weight: 700; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(141);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monChart__tooltipLabel,\n.monChart__tooltipValue {\n  text-align: left;\n  font-size: 12px;\n  padding: 4px;\n  word-wrap: break-word;\n  white-space: normal; }\n\n.monChart__tooltipLabel {\n  font-weight: 700; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(143);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monChart__tooltipLabel,\n.monChart__tooltipValue {\n  text-align: left;\n  font-size: 12px;\n  padding: 4px;\n  word-wrap: break-word;\n  white-space: normal; }\n\n.monChart__tooltipLabel {\n  font-weight: 700; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(145);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monChart__tooltipLabel,\n.monChart__tooltipValue {\n  text-align: left;\n  font-size: 12px;\n  padding: 4px;\n  word-wrap: break-word;\n  white-space: normal; }\n\n.monChart__tooltipLabel {\n  font-weight: 700; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(147);case"v7light":return __webpack_require__(149);case"v8dark":return __webpack_require__(151);case"v8light":return __webpack_require__(153)}},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(148);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monRhythmChart__wrapper .monRhythmChart__zoom {\n  visibility: hidden;\n  padding-right: 12px; }\n\n.monRhythmChart__wrapper:hover .monRhythmChart__zoom {\n  visibility: visible; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(150);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monRhythmChart__wrapper .monRhythmChart__zoom {\n  visibility: hidden;\n  padding-right: 12px; }\n\n.monRhythmChart__wrapper:hover .monRhythmChart__zoom {\n  visibility: visible; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(152);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monRhythmChart__wrapper .monRhythmChart__zoom {\n  visibility: hidden;\n  padding-right: 12px; }\n\n.monRhythmChart__wrapper:hover .monRhythmChart__zoom {\n  visibility: visible; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(154);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monRhythmChart__wrapper .monRhythmChart__zoom {\n  visibility: hidden;\n  padding-right: 12px; }\n\n.monRhythmChart__wrapper:hover .monRhythmChart__zoom {\n  visibility: visible; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(156);case"v7light":return __webpack_require__(158);case"v8dark":return __webpack_require__(160);case"v8light":return __webpack_require__(162)}},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(157);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monElasticsearchIndicesTable__status {\n  display: flex;\n  align-items: center; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(159);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monElasticsearchIndicesTable__status {\n  display: flex;\n  align-items: center; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(161);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monElasticsearchIndicesTable__status {\n  display: flex;\n  align-items: center; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(163);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monElasticsearchIndicesTable__status {\n  display: flex;\n  align-items: center; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(165);case"v7light":return __webpack_require__(167);case"v8dark":return __webpack_require__(169);case"v8light":return __webpack_require__(171)}},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(166);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,"/*\n * A table that stretches the full window width and columns size appropriately to content.\n * The .monitoringTable class is on the KuiControlledTable instance.\n * The table within it requires the shrinkToContent flag as well as width set to 100%\n */\n.monTableCell__clusterCellExpired,\n.monTableCell__offline {\n  color: #DFE5EF; }\n\n.monTableCell__clusterCellLicense {\n  font-size: 16px; }\n\n.monTableCell__clusterCellExpiration {\n  color: #98A2B3; }\n\n.monTableCell__name,\n.monTableCell__status {\n  font-size: 18px;\n  font-size: 1.125rem;\n  line-height: 1.5; }\n\n.monTableCell__status {\n  overflow-x: hidden;\n  white-space: nowrap; }\n\n.monTableCell__transportAddress {\n  font-size: 14px;\n  font-size: 0.875rem;\n  line-height: 1.5;\n  color: #98A2B3; }\n\n.monTableCell__number {\n  font-size: 20px;\n  font-size: 1.25rem;\n  line-height: 1.5; }\n\n.monTableCell__splitNumber {\n  font-size: 18px;\n  font-size: 1.125rem;\n  line-height: 1.5; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(168);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,"/*\n * A table that stretches the full window width and columns size appropriately to content.\n * The .monitoringTable class is on the KuiControlledTable instance.\n * The table within it requires the shrinkToContent flag as well as width set to 100%\n */\n.monTableCell__clusterCellExpired,\n.monTableCell__offline {\n  color: #343741; }\n\n.monTableCell__clusterCellLicense {\n  font-size: 16px; }\n\n.monTableCell__clusterCellExpiration {\n  color: #69707D; }\n\n.monTableCell__name,\n.monTableCell__status {\n  font-size: 18px;\n  font-size: 1.125rem;\n  line-height: 1.5; }\n\n.monTableCell__status {\n  overflow-x: hidden;\n  white-space: nowrap; }\n\n.monTableCell__transportAddress {\n  font-size: 14px;\n  font-size: 0.875rem;\n  line-height: 1.5;\n  color: #69707D; }\n\n.monTableCell__number {\n  font-size: 20px;\n  font-size: 1.25rem;\n  line-height: 1.5; }\n\n.monTableCell__splitNumber {\n  font-size: 18px;\n  font-size: 1.125rem;\n  line-height: 1.5; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(170);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,"/*\n * A table that stretches the full window width and columns size appropriately to content.\n * The .monitoringTable class is on the KuiControlledTable instance.\n * The table within it requires the shrinkToContent flag as well as width set to 100%\n */\n.monTableCell__clusterCellExpired,\n.monTableCell__offline {\n  color: #DFE5EF; }\n\n.monTableCell__clusterCellLicense {\n  font-size: 14px; }\n\n.monTableCell__clusterCellExpiration {\n  color: #98A2B3; }\n\n.monTableCell__name,\n.monTableCell__status {\n  font-size: 16px;\n  font-size: 1.14286rem;\n  line-height: 1.71429rem; }\n\n.monTableCell__status {\n  overflow-x: hidden;\n  white-space: nowrap; }\n\n.monTableCell__transportAddress {\n  font-size: 14px;\n  font-size: 1rem;\n  line-height: 1.71429rem;\n  color: #98A2B3; }\n\n.monTableCell__number {\n  font-size: 22px;\n  font-size: 1.57143rem;\n  line-height: 2.28571rem; }\n\n.monTableCell__splitNumber {\n  font-size: 16px;\n  font-size: 1.14286rem;\n  line-height: 1.71429rem; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(172);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,"/*\n * A table that stretches the full window width and columns size appropriately to content.\n * The .monitoringTable class is on the KuiControlledTable instance.\n * The table within it requires the shrinkToContent flag as well as width set to 100%\n */\n.monTableCell__clusterCellExpired,\n.monTableCell__offline {\n  color: #343741; }\n\n.monTableCell__clusterCellLicense {\n  font-size: 14px; }\n\n.monTableCell__clusterCellExpiration {\n  color: #69707D; }\n\n.monTableCell__name,\n.monTableCell__status {\n  font-size: 16px;\n  font-size: 1.14286rem;\n  line-height: 1.71429rem; }\n\n.monTableCell__status {\n  overflow-x: hidden;\n  white-space: nowrap; }\n\n.monTableCell__transportAddress {\n  font-size: 14px;\n  font-size: 1rem;\n  line-height: 1.71429rem;\n  color: #69707D; }\n\n.monTableCell__number {\n  font-size: 22px;\n  font-size: 1.57143rem;\n  line-height: 2.28571rem; }\n\n.monTableCell__splitNumber {\n  font-size: 16px;\n  font-size: 1.14286rem;\n  line-height: 1.71429rem; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(174);case"v7light":return __webpack_require__(176);case"v8dark":return __webpack_require__(178);case"v8light":return __webpack_require__(180)}},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(175);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monClusterTitle {\n  font-size: 20px;\n  margin: 0; }\n\n.monCluster .monUnassigned {\n  vertical-align: middle;\n  width: 160px; }\n\n.monCluster .monUnassigned__children,\n.monCluster .monAssigned__children {\n  padding-top: 24px; }\n\n.monCluster .monChild {\n  float: left;\n  align-self: center;\n  background-color: #25262E;\n  margin: 8px;\n  border: 1px solid #535966;\n  border-radius: 4px;\n  padding: 2px 0; }\n  .monCluster .monChild.monChild--index {\n    border-left: 4px solid #7DE2D1; }\n    .monCluster .monChild.monChild--index.monChild--danger {\n      border-left: 4px solid #F66; }\n    .monCluster .monChild.monChild--index.monChild--warning {\n      border-left: 4px solid #FFCE7A; }\n  .monCluster .monChild .monChild__title {\n    padding: 4px 8px;\n    text-align: center;\n    font-size: 12px;\n    color: #FFF;\n    display: flex;\n    flex-direction: row;\n    align-items: center; }\n  .monCluster .monChild.monClusterUnassigned .title {\n    display: none; }\n\n.monCluster th {\n  text-align: left; }\n\n.monCluster td:first-child {\n  width: 200px; }\n\n.monCluster .monShard {\n  align-self: center;\n  padding: 4px 8px;\n  font-size: 12px;\n  position: relative;\n  display: inline-block; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(177);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monClusterTitle {\n  font-size: 20px;\n  margin: 0; }\n\n.monCluster .monUnassigned {\n  vertical-align: middle;\n  width: 160px; }\n\n.monCluster .monUnassigned__children,\n.monCluster .monAssigned__children {\n  padding-top: 24px; }\n\n.monCluster .monChild {\n  float: left;\n  align-self: center;\n  background-color: #F5F7FA;\n  margin: 8px;\n  border: 1px solid #98A2B3;\n  border-radius: 4px;\n  padding: 2px 0; }\n  .monCluster .monChild.monChild--index {\n    border-left: 4px solid #017D73; }\n    .monCluster .monChild.monChild--index.monChild--danger {\n      border-left: 4px solid #BD271E; }\n    .monCluster .monChild.monChild--index.monChild--warning {\n      border-left: 4px solid #F5A700; }\n  .monCluster .monChild .monChild__title {\n    padding: 4px 8px;\n    text-align: center;\n    font-size: 12px;\n    color: #FFF;\n    display: flex;\n    flex-direction: row;\n    align-items: center; }\n  .monCluster .monChild.monClusterUnassigned .title {\n    display: none; }\n\n.monCluster th {\n  text-align: left; }\n\n.monCluster td:first-child {\n  width: 200px; }\n\n.monCluster .monShard {\n  align-self: center;\n  padding: 4px 8px;\n  font-size: 12px;\n  position: relative;\n  display: inline-block; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(179);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monClusterTitle {\n  font-size: 22px;\n  margin: 0; }\n\n.monCluster .monUnassigned {\n  vertical-align: middle;\n  width: 160px; }\n\n.monCluster .monUnassigned__children,\n.monCluster .monAssigned__children {\n  padding-top: 24px; }\n\n.monCluster .monChild {\n  float: left;\n  align-self: center;\n  background-color: #25262E;\n  margin: 8px;\n  border: 1px solid #535966;\n  border-radius: 4px;\n  padding: 2px 0; }\n  .monCluster .monChild.monChild--index {\n    border-left: 4px solid #7DDED8; }\n    .monCluster .monChild.monChild--index.monChild--danger {\n      border-left: 4px solid #F86B63; }\n    .monCluster .monChild.monChild--index.monChild--warning {\n      border-left: 4px solid #F3D371; }\n  .monCluster .monChild .monChild__title {\n    padding: 4px 8px;\n    text-align: center;\n    font-size: 12px;\n    color: #FFF;\n    display: flex;\n    flex-direction: row;\n    align-items: center; }\n  .monCluster .monChild.monClusterUnassigned .title {\n    display: none; }\n\n.monCluster th {\n  text-align: left; }\n\n.monCluster td:first-child {\n  width: 200px; }\n\n.monCluster .monShard {\n  align-self: center;\n  padding: 4px 8px;\n  font-size: 12px;\n  position: relative;\n  display: inline-block; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(181);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monClusterTitle {\n  font-size: 22px;\n  margin: 0; }\n\n.monCluster .monUnassigned {\n  vertical-align: middle;\n  width: 160px; }\n\n.monCluster .monUnassigned__children,\n.monCluster .monAssigned__children {\n  padding-top: 24px; }\n\n.monCluster .monChild {\n  float: left;\n  align-self: center;\n  background-color: #F5F7FA;\n  margin: 8px;\n  border: 1px solid #98A2B3;\n  border-radius: 4px;\n  padding: 2px 0; }\n  .monCluster .monChild.monChild--index {\n    border-left: 4px solid #00BFB3; }\n    .monCluster .monChild.monChild--index.monChild--danger {\n      border-left: 4px solid #BD271E; }\n    .monCluster .monChild.monChild--index.monChild--warning {\n      border-left: 4px solid #FEC514; }\n  .monCluster .monChild .monChild__title {\n    padding: 4px 8px;\n    text-align: center;\n    font-size: 12px;\n    color: #FFF;\n    display: flex;\n    flex-direction: row;\n    align-items: center; }\n  .monCluster .monChild.monClusterUnassigned .title {\n    display: none; }\n\n.monCluster th {\n  text-align: left; }\n\n.monCluster td:first-child {\n  width: 200px; }\n\n.monCluster .monShard {\n  align-self: center;\n  padding: 4px 8px;\n  font-size: 12px;\n  position: relative;\n  display: inline-block; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(183);case"v7light":return __webpack_require__(185);case"v8dark":return __webpack_require__(187);case"v8light":return __webpack_require__(189)}},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(184);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,"/**\n * [1] - We want the collapsed table (that shows the shard data) to be inline\n *       with the columns from the main table so we need to remove the padding\n */\n.monitoringElasticsearchCcrListingTable .euiTableRow-isExpandedRow > .euiTableRowCell > .euiTableCellContent {\n  padding: 0;\n  /* [1] */ }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(186);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,"/**\n * [1] - We want the collapsed table (that shows the shard data) to be inline\n *       with the columns from the main table so we need to remove the padding\n */\n.monitoringElasticsearchCcrListingTable .euiTableRow-isExpandedRow > .euiTableRowCell > .euiTableCellContent {\n  padding: 0;\n  /* [1] */ }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(188);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,"/**\n * [1] - We want the collapsed table (that shows the shard data) to be inline\n *       with the columns from the main table so we need to remove the padding\n */\n.monitoringElasticsearchCcrListingTable .euiTableRow-isExpandedRow > .euiTableRowCell > .euiTableCellContent {\n  padding: 0;\n  /* [1] */ }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(190);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,"/**\n * [1] - We want the collapsed table (that shows the shard data) to be inline\n *       with the columns from the main table so we need to remove the padding\n */\n.monitoringElasticsearchCcrListingTable .euiTableRow-isExpandedRow > .euiTableRowCell > .euiTableCellContent {\n  padding: 0;\n  /* [1] */ }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(192);const major=(a,loose)=>new SemVer(a,loose).major;module.exports=major},function(module,exports,__webpack_require__){const debug=__webpack_require__(44);const{MAX_LENGTH:MAX_LENGTH,MAX_SAFE_INTEGER:MAX_SAFE_INTEGER}=__webpack_require__(45);const{re:re,t:t}=__webpack_require__(194);const{compareIdentifiers:compareIdentifiers}=__webpack_require__(195);class SemVer{constructor(version,options){if(!options||typeof options!=="object"){options={loose:!!options,includePrerelease:false}}if(version instanceof SemVer){if(version.loose===!!options.loose&&version.includePrerelease===!!options.includePrerelease){return version}else{version=version.version}}else if(typeof version!=="string"){throw new TypeError(`Invalid Version: ${version}`)}if(version.length>MAX_LENGTH){throw new TypeError(`version is longer than ${MAX_LENGTH} characters`)}debug("SemVer",version,options);this.options=options;this.loose=!!options.loose;this.includePrerelease=!!options.includePrerelease;const m=version.trim().match(options.loose?re[t.LOOSE]:re[t.FULL]);if(!m){throw new TypeError(`Invalid Version: ${version}`)}this.raw=version;this.major=+m[1];this.minor=+m[2];this.patch=+m[3];if(this.major>MAX_SAFE_INTEGER||this.major<0){throw new TypeError("Invalid major version")}if(this.minor>MAX_SAFE_INTEGER||this.minor<0){throw new TypeError("Invalid minor version")}if(this.patch>MAX_SAFE_INTEGER||this.patch<0){throw new TypeError("Invalid patch version")}if(!m[4]){this.prerelease=[]}else{this.prerelease=m[4].split(".").map(id=>{if(/^[0-9]+$/.test(id)){const num=+id;if(num>=0&&num<MAX_SAFE_INTEGER){return num}}return id})}this.build=m[5]?m[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;if(this.prerelease.length){this.version+=`-${this.prerelease.join(".")}`}return this.version}toString(){return this.version}compare(other){debug("SemVer.compare",this.version,this.options,other);if(!(other instanceof SemVer)){if(typeof other==="string"&&other===this.version){return 0}other=new SemVer(other,this.options)}if(other.version===this.version){return 0}return this.compareMain(other)||this.comparePre(other)}compareMain(other){if(!(other instanceof SemVer)){other=new SemVer(other,this.options)}return compareIdentifiers(this.major,other.major)||compareIdentifiers(this.minor,other.minor)||compareIdentifiers(this.patch,other.patch)}comparePre(other){if(!(other instanceof SemVer)){other=new SemVer(other,this.options)}if(this.prerelease.length&&!other.prerelease.length){return-1}else if(!this.prerelease.length&&other.prerelease.length){return 1}else if(!this.prerelease.length&&!other.prerelease.length){return 0}let i=0;do{const a=this.prerelease[i];const b=other.prerelease[i];debug("prerelease compare",i,a,b);if(a===undefined&&b===undefined){return 0}else if(b===undefined){return 1}else if(a===undefined){return-1}else if(a===b){continue}else{return compareIdentifiers(a,b)}}while(++i)}compareBuild(other){if(!(other instanceof SemVer)){other=new SemVer(other,this.options)}let i=0;do{const a=this.build[i];const b=other.build[i];debug("prerelease compare",i,a,b);if(a===undefined&&b===undefined){return 0}else if(b===undefined){return 1}else if(a===undefined){return-1}else if(a===b){continue}else{return compareIdentifiers(a,b)}}while(++i)}inc(release,identifier){switch(release){case"premajor":this.prerelease.length=0;this.patch=0;this.minor=0;this.major++;this.inc("pre",identifier);break;case"preminor":this.prerelease.length=0;this.patch=0;this.minor++;this.inc("pre",identifier);break;case"prepatch":this.prerelease.length=0;this.inc("patch",identifier);this.inc("pre",identifier);break;case"prerelease":if(this.prerelease.length===0){this.inc("patch",identifier)}this.inc("pre",identifier);break;case"major":if(this.minor!==0||this.patch!==0||this.prerelease.length===0){this.major++}this.minor=0;this.patch=0;this.prerelease=[];break;case"minor":if(this.patch!==0||this.prerelease.length===0){this.minor++}this.patch=0;this.prerelease=[];break;case"patch":if(this.prerelease.length===0){this.patch++}this.prerelease=[];break;case"pre":if(this.prerelease.length===0){this.prerelease=[0]}else{let i=this.prerelease.length;while(--i>=0){if(typeof this.prerelease[i]==="number"){this.prerelease[i]++;i=-2}}if(i===-1){this.prerelease.push(0)}}if(identifier){if(this.prerelease[0]===identifier){if(isNaN(this.prerelease[1])){this.prerelease=[identifier,0]}}else{this.prerelease=[identifier,0]}}break;default:throw new Error(`invalid increment argument: ${release}`)}this.format();this.raw=this.version;return this}}module.exports=SemVer},function(module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[]};process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},function(module,exports,__webpack_require__){const{MAX_SAFE_COMPONENT_LENGTH:MAX_SAFE_COMPONENT_LENGTH}=__webpack_require__(45);const debug=__webpack_require__(44);exports=module.exports={};const re=exports.re=[];const src=exports.src=[];const t=exports.t={};let R=0;const createToken=(name,value,isGlobal)=>{const index=R++;debug(index,value);t[name]=index;src[index]=value;re[index]=new RegExp(value,isGlobal?"g":undefined)};createToken("NUMERICIDENTIFIER","0|[1-9]\\d*");createToken("NUMERICIDENTIFIERLOOSE","[0-9]+");createToken("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");createToken("MAINVERSION",`(${src[t.NUMERICIDENTIFIER]})\\.`+`(${src[t.NUMERICIDENTIFIER]})\\.`+`(${src[t.NUMERICIDENTIFIER]})`);createToken("MAINVERSIONLOOSE",`(${src[t.NUMERICIDENTIFIERLOOSE]})\\.`+`(${src[t.NUMERICIDENTIFIERLOOSE]})\\.`+`(${src[t.NUMERICIDENTIFIERLOOSE]})`);createToken("PRERELEASEIDENTIFIER",`(?:${src[t.NUMERICIDENTIFIER]}|${src[t.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASEIDENTIFIERLOOSE",`(?:${src[t.NUMERICIDENTIFIERLOOSE]}|${src[t.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASE",`(?:-(${src[t.PRERELEASEIDENTIFIER]}(?:\\.${src[t.PRERELEASEIDENTIFIER]})*))`);createToken("PRERELEASELOOSE",`(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`);createToken("BUILDIDENTIFIER","[0-9A-Za-z-]+");createToken("BUILD",`(?:\\+(${src[t.BUILDIDENTIFIER]}(?:\\.${src[t.BUILDIDENTIFIER]})*))`);createToken("FULLPLAIN",`v?${src[t.MAINVERSION]}${src[t.PRERELEASE]}?${src[t.BUILD]}?`);createToken("FULL",`^${src[t.FULLPLAIN]}$`);createToken("LOOSEPLAIN",`[v=\\s]*${src[t.MAINVERSIONLOOSE]}${src[t.PRERELEASELOOSE]}?${src[t.BUILD]}?`);createToken("LOOSE",`^${src[t.LOOSEPLAIN]}$`);createToken("GTLT","((?:<|>)?=?)");createToken("XRANGEIDENTIFIERLOOSE",`${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);createToken("XRANGEIDENTIFIER",`${src[t.NUMERICIDENTIFIER]}|x|X|\\*`);createToken("XRANGEPLAIN",`[v=\\s]*(${src[t.XRANGEIDENTIFIER]})`+`(?:\\.(${src[t.XRANGEIDENTIFIER]})`+`(?:\\.(${src[t.XRANGEIDENTIFIER]})`+`(?:${src[t.PRERELEASE]})?${src[t.BUILD]}?`+`)?)?`);createToken("XRANGEPLAINLOOSE",`[v=\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${src[t.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${src[t.XRANGEIDENTIFIERLOOSE]})`+`(?:${src[t.PRERELEASELOOSE]})?${src[t.BUILD]}?`+`)?)?`);createToken("XRANGE",`^${src[t.GTLT]}\\s*${src[t.XRANGEPLAIN]}$`);createToken("XRANGELOOSE",`^${src[t.GTLT]}\\s*${src[t.XRANGEPLAINLOOSE]}$`);createToken("COERCE",`${"(^|[^\\d])"+"(\\d{1,"}${MAX_SAFE_COMPONENT_LENGTH}})`+`(?:\\.(\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`+`(?:\\.(\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`+`(?:$|[^\\d])`);createToken("COERCERTL",src[t.COERCE],true);createToken("LONETILDE","(?:~>?)");createToken("TILDETRIM",`(\\s*)${src[t.LONETILDE]}\\s+`,true);exports.tildeTrimReplace="$1~";createToken("TILDE",`^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`);createToken("TILDELOOSE",`^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`);createToken("LONECARET","(?:\\^)");createToken("CARETTRIM",`(\\s*)${src[t.LONECARET]}\\s+`,true);exports.caretTrimReplace="$1^";createToken("CARET",`^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`);createToken("CARETLOOSE",`^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`);createToken("COMPARATORLOOSE",`^${src[t.GTLT]}\\s*(${src[t.LOOSEPLAIN]})$|^$`);createToken("COMPARATOR",`^${src[t.GTLT]}\\s*(${src[t.FULLPLAIN]})$|^$`);createToken("COMPARATORTRIM",`(\\s*)${src[t.GTLT]}\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`,true);exports.comparatorTrimReplace="$1$2$3";createToken("HYPHENRANGE",`^\\s*(${src[t.XRANGEPLAIN]})`+`\\s+-\\s+`+`(${src[t.XRANGEPLAIN]})`+`\\s*$`);createToken("HYPHENRANGELOOSE",`^\\s*(${src[t.XRANGEPLAINLOOSE]})`+`\\s+-\\s+`+`(${src[t.XRANGEPLAINLOOSE]})`+`\\s*$`);createToken("STAR","(<|>)?=?\\s*\\*");createToken("GTE0","^\\s*>=\\s*0.0.0\\s*$");createToken("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},function(module,exports){const numeric=/^[0-9]+$/;const compareIdentifiers=(a,b)=>{const anum=numeric.test(a);const bnum=numeric.test(b);if(anum&&bnum){a=+a;b=+b}return a===b?0:anum&&!bnum?-1:bnum&&!anum?1:a<b?-1:1};const rcompareIdentifiers=(a,b)=>compareIdentifiers(b,a);module.exports={compareIdentifiers:compareIdentifiers,rcompareIdentifiers:rcompareIdentifiers}},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(197);case"v7light":return __webpack_require__(199);case"v8dark":return __webpack_require__(201);case"v8light":return __webpack_require__(203)}},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(198);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monSparkline {\n  height: 2em; }\n\n.monSparklineTooltip {\n  font-weight: normal;\n  background: rgba(212, 218, 229, 0.7);\n  font-size: 12px;\n  padding: 4px;\n  border-radius: 4px;\n  pointer-events: none; }\n\n.monSparklineTooltip__xValue {\n  color: rgba(255, 255, 255, 0.7); }\n\n.monSparklineTooltip__yValue {\n  color: #FFF; }\n\n.monSparklineTooltip__caret {\n  font-size: 20px;\n  color: rgba(212, 218, 229, 0.7);\n  display: none; }\n\n.monSparklineTooltip__container {\n  position: fixed;\n  z-index: 2000;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(200);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monSparkline {\n  height: 2em; }\n\n.monSparklineTooltip {\n  font-weight: normal;\n  background: rgba(52, 55, 65, 0.7);\n  font-size: 12px;\n  padding: 4px;\n  border-radius: 4px;\n  pointer-events: none; }\n\n.monSparklineTooltip__xValue {\n  color: rgba(255, 255, 255, 0.7); }\n\n.monSparklineTooltip__yValue {\n  color: #FFF; }\n\n.monSparklineTooltip__caret {\n  font-size: 20px;\n  color: rgba(52, 55, 65, 0.7);\n  display: none; }\n\n.monSparklineTooltip__container {\n  position: fixed;\n  z-index: 2000;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(202);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monSparkline {\n  height: 2em; }\n\n.monSparklineTooltip {\n  font-weight: normal;\n  background: rgba(212, 218, 229, 0.7);\n  font-size: 12px;\n  padding: 4px;\n  border-radius: 6px;\n  pointer-events: none; }\n\n.monSparklineTooltip__xValue {\n  color: rgba(255, 255, 255, 0.7); }\n\n.monSparklineTooltip__yValue {\n  color: #FFF; }\n\n.monSparklineTooltip__caret {\n  font-size: 22px;\n  color: rgba(212, 218, 229, 0.7);\n  display: none; }\n\n.monSparklineTooltip__container {\n  position: fixed;\n  z-index: 2000;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(204);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monSparkline {\n  height: 2em; }\n\n.monSparklineTooltip {\n  font-weight: normal;\n  background: rgba(52, 55, 65, 0.7);\n  font-size: 12px;\n  padding: 4px;\n  border-radius: 6px;\n  pointer-events: none; }\n\n.monSparklineTooltip__xValue {\n  color: rgba(255, 255, 255, 0.7); }\n\n.monSparklineTooltip__yValue {\n  color: #FFF; }\n\n.monSparklineTooltip__caret {\n  font-size: 22px;\n  color: rgba(52, 55, 65, 0.7);\n  display: none; }\n\n.monSparklineTooltip__container {\n  position: fixed;\n  z-index: 2000;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(206);case"v7light":return __webpack_require__(208);case"v8dark":return __webpack_require__(210);case"v8light":return __webpack_require__(212)}},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(207);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".lspvDetailDrawerSparklineContainer {\n  width: 7vw; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(209);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".lspvDetailDrawerSparklineContainer {\n  width: 7vw; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(211);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".lspvDetailDrawerSparklineContainer {\n  width: 7vw; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(213);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".lspvDetailDrawerSparklineContainer {\n  width: 7vw; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(215);case"v7light":return __webpack_require__(217);case"v8dark":return __webpack_require__(219);case"v8light":return __webpack_require__(221)}},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(216);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monPipelineViewer__queueMessage {\n  margin-left: 24px;\n  color: #98A2B3; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(218);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monPipelineViewer__queueMessage {\n  margin-left: 24px;\n  color: #69707D; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(220);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monPipelineViewer__queueMessage {\n  margin-left: 24px;\n  color: #98A2B3; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(222);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monPipelineViewer__queueMessage {\n  margin-left: 24px;\n  color: #69707D; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(224);case"v7light":return __webpack_require__(226);case"v8dark":return __webpack_require__(228);case"v8light":return __webpack_require__(230)}},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(225);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monPipelineViewer__collapsibleStatement {\n  padding-left: 12px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(227);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monPipelineViewer__collapsibleStatement {\n  padding-left: 12px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(229);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monPipelineViewer__collapsibleStatement {\n  padding-left: 12px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(231);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monPipelineViewer__collapsibleStatement {\n  padding-left: 12px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){var classes=[];for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(!arg)continue;var argType=typeof arg;if(argType==="string"||argType==="number"){classes.push(arg)}else if(Array.isArray(arg)&&arg.length){var inner=classNames.apply(null,arg);if(inner){classes.push(inner)}}else if(argType==="object"){for(var key in arg){if(hasOwn.call(arg,key)&&arg[key]){classes.push(key)}}}}return classes.join(" ")}if(true&&module.exports){classNames.default=classNames;module.exports=classNames}else if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{}})()},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(234);case"v7light":return __webpack_require__(236);case"v8dark":return __webpack_require__(238);case"v8light":return __webpack_require__(240)}},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(235);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monPipelineViewer__metric {\n  text-align: right; }\n  .monPipelineViewer__metric--cpuTime {\n    width: 40px; }\n  .monPipelineViewer__metric--events, .monPipelineViewer__metric--eventsEmitted {\n    width: 160px; }\n  .monPipelineViewer__metric--eventMillis {\n    width: 80px; }\n\n@media only screen and (min-width: 768px) and (max-width: 991px) {\n  .monPipelineViewer__metricFlexItem {\n    margin-bottom: 4px !important; }\n  .monPipelineViewer__metric {\n    text-align: left;\n    padding-left: 32px; } }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(237);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monPipelineViewer__metric {\n  text-align: right; }\n  .monPipelineViewer__metric--cpuTime {\n    width: 40px; }\n  .monPipelineViewer__metric--events, .monPipelineViewer__metric--eventsEmitted {\n    width: 160px; }\n  .monPipelineViewer__metric--eventMillis {\n    width: 80px; }\n\n@media only screen and (min-width: 768px) and (max-width: 991px) {\n  .monPipelineViewer__metricFlexItem {\n    margin-bottom: 4px !important; }\n  .monPipelineViewer__metric {\n    text-align: left;\n    padding-left: 32px; } }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(239);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monPipelineViewer__metric {\n  text-align: right; }\n  .monPipelineViewer__metric--cpuTime {\n    width: 40px; }\n  .monPipelineViewer__metric--events, .monPipelineViewer__metric--eventsEmitted {\n    width: 160px; }\n  .monPipelineViewer__metric--eventMillis {\n    width: 80px; }\n\n@media only screen and (min-width: 768px) and (max-width: 991px) {\n  .monPipelineViewer__metricFlexItem {\n    margin-bottom: 4px !important; }\n  .monPipelineViewer__metric {\n    text-align: left;\n    padding-left: 32px; } }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(241);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monPipelineViewer__metric {\n  text-align: right; }\n  .monPipelineViewer__metric--cpuTime {\n    width: 40px; }\n  .monPipelineViewer__metric--events, .monPipelineViewer__metric--eventsEmitted {\n    width: 160px; }\n  .monPipelineViewer__metric--eventMillis {\n    width: 80px; }\n\n@media only screen and (min-width: 768px) and (max-width: 991px) {\n  .monPipelineViewer__metricFlexItem {\n    margin-bottom: 4px !important; }\n  .monPipelineViewer__metric {\n    text-align: left;\n    padding-left: 32px; } }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(243);case"v7light":return __webpack_require__(245);case"v8dark":return __webpack_require__(247);case"v8light":return __webpack_require__(249)}},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(244);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monPipelineViewer__plugin {\n  margin-left: 4px; }\n\n.monPipelineViewer__pluginStatement {\n  padding-left: 12px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(246);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monPipelineViewer__plugin {\n  margin-left: 4px; }\n\n.monPipelineViewer__pluginStatement {\n  padding-left: 12px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(248);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monPipelineViewer__plugin {\n  margin-left: 4px; }\n\n.monPipelineViewer__pluginStatement {\n  padding-left: 12px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(250);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monPipelineViewer__plugin {\n  margin-left: 4px; }\n\n.monPipelineViewer__pluginStatement {\n  padding-left: 12px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(252);case"v7light":return __webpack_require__(254);case"v8dark":return __webpack_require__(256);case"v8light":return __webpack_require__(258)}},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(253);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monPipelineViewer__spaceContainer {\n  background-color: #1D1E24;\n  align-self: stretch;\n  display: flex;\n  border-bottom: solid 2px #1D1E24; }\n\n.monPipelineViewer__spacer {\n  width: 12px;\n  align-self: stretch;\n  margin-left: 12px;\n  border-left: 1px #343741 dashed; }\n  .monPipelineViewer__spacer:last-child {\n    width: 0; }\n  .monPipelineViewer__spacer:first-child {\n    margin-left: 23px; }\n\n.monPipelineViewer__list .monPipelineViewer__listItem {\n  display: flex;\n  min-height: 32px;\n  align-items: center;\n  padding-right: 12px; }\n  .monPipelineViewer__list .monPipelineViewer__listItem:nth-child(2n + 1) {\n    background: #24252d; }\n\n.monPipelineViewer__conditional {\n  font-weight: bold; }\n\n@media only screen and (min-width: 768px) and (max-width: 991px) {\n  .monPipelineViewer__spacer {\n    border: none; } }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(255);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monPipelineViewer__spaceContainer {\n  background-color: #FFF;\n  align-self: stretch;\n  display: flex;\n  border-bottom: solid 2px #FFF; }\n\n.monPipelineViewer__spacer {\n  width: 12px;\n  align-self: stretch;\n  margin-left: 12px;\n  border-left: 1px #D3DAE6 dashed; }\n  .monPipelineViewer__spacer:last-child {\n    width: 0; }\n  .monPipelineViewer__spacer:first-child {\n    margin-left: 23px; }\n\n.monPipelineViewer__list .monPipelineViewer__listItem {\n  display: flex;\n  min-height: 32px;\n  align-items: center;\n  padding-right: 12px; }\n  .monPipelineViewer__list .monPipelineViewer__listItem:nth-child(2n + 1) {\n    background: #f5f7fa; }\n\n.monPipelineViewer__conditional {\n  font-weight: bold; }\n\n@media only screen and (min-width: 768px) and (max-width: 991px) {\n  .monPipelineViewer__spacer {\n    border: none; } }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(257);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monPipelineViewer__spaceContainer {\n  background-color: #1D1E24;\n  align-self: stretch;\n  display: flex;\n  border-bottom: solid 2px #1D1E24; }\n\n.monPipelineViewer__spacer {\n  width: 12px;\n  align-self: stretch;\n  margin-left: 12px;\n  border-left: 1px #343741 dashed; }\n  .monPipelineViewer__spacer:last-child {\n    width: 0; }\n  .monPipelineViewer__spacer:first-child {\n    margin-left: 23px; }\n\n.monPipelineViewer__list .monPipelineViewer__listItem {\n  display: flex;\n  min-height: 32px;\n  align-items: center;\n  padding-right: 12px; }\n  .monPipelineViewer__list .monPipelineViewer__listItem:nth-child(2n + 1) {\n    background: #24252d; }\n\n.monPipelineViewer__conditional {\n  font-weight: bold; }\n\n@media only screen and (min-width: 768px) and (max-width: 991px) {\n  .monPipelineViewer__spacer {\n    border: none; } }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(259);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monPipelineViewer__spaceContainer {\n  background-color: #FFF;\n  align-self: stretch;\n  display: flex;\n  border-bottom: solid 2px #FFF; }\n\n.monPipelineViewer__spacer {\n  width: 12px;\n  align-self: stretch;\n  margin-left: 12px;\n  border-left: 1px #D3DAE6 dashed; }\n  .monPipelineViewer__spacer:last-child {\n    width: 0; }\n  .monPipelineViewer__spacer:first-child {\n    margin-left: 23px; }\n\n.monPipelineViewer__list .monPipelineViewer__listItem {\n  display: flex;\n  min-height: 32px;\n  align-items: center;\n  padding-right: 12px; }\n  .monPipelineViewer__list .monPipelineViewer__listItem:nth-child(2n + 1) {\n    background: #f5f7fa; }\n\n.monPipelineViewer__conditional {\n  font-weight: bold; }\n\n@media only screen and (min-width: 768px) and (max-width: 991px) {\n  .monPipelineViewer__spacer {\n    border: none; } }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){__webpack_require__(261);module.exports="ngSanitize"},function(module,exports){
/**
 * @license AngularJS v1.8.0
 * (c) 2010-2020 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(window,angular){"use strict";var $sanitizeMinErr=angular.$$minErr("$sanitize");var bind;var extend;var forEach;var isArray;var isDefined;var lowercase;var noop;var nodeContains;var htmlParser;var htmlSanitizeWriter;function $SanitizeProvider(){var hasBeenInstantiated=false;var svgEnabled=false;this.$get=["$$sanitizeUri",function($$sanitizeUri){hasBeenInstantiated=true;if(svgEnabled){extend(validElements,svgElements)}return function(html){var buf=[];htmlParser(html,htmlSanitizeWriter(buf,(function(uri,isImage){return!/^unsafe:/.test($$sanitizeUri(uri,isImage))})));return buf.join("")}}];this.enableSvg=function(enableSvg){if(isDefined(enableSvg)){svgEnabled=enableSvg;return this}else{return svgEnabled}};this.addValidElements=function(elements){if(!hasBeenInstantiated){if(isArray(elements)){elements={htmlElements:elements}}addElementsTo(svgElements,elements.svgElements);addElementsTo(voidElements,elements.htmlVoidElements);addElementsTo(validElements,elements.htmlVoidElements);addElementsTo(validElements,elements.htmlElements)}return this};this.addValidAttrs=function(attrs){if(!hasBeenInstantiated){extend(validAttrs,arrayToMap(attrs,true))}return this};bind=angular.bind;extend=angular.extend;forEach=angular.forEach;isArray=angular.isArray;isDefined=angular.isDefined;lowercase=angular.$$lowercase;noop=angular.noop;htmlParser=htmlParserImpl;htmlSanitizeWriter=htmlSanitizeWriterImpl;nodeContains=window.Node.prototype.contains||function(arg){return!!(this.compareDocumentPosition(arg)&16)};var SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^#-~ |!])/g;var voidElements=stringToMap("area,br,col,hr,img,wbr");var optionalEndTagBlockElements=stringToMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),optionalEndTagInlineElements=stringToMap("rp,rt"),optionalEndTagElements=extend({},optionalEndTagInlineElements,optionalEndTagBlockElements);var blockElements=extend({},optionalEndTagBlockElements,stringToMap("address,article,"+"aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,"+"h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul"));var inlineElements=extend({},optionalEndTagInlineElements,stringToMap("a,abbr,acronym,b,"+"bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,"+"samp,small,span,strike,strong,sub,sup,time,tt,u,var"));var svgElements=stringToMap("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,"+"hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,"+"radialGradient,rect,stop,svg,switch,text,title,tspan");var blockedElements=stringToMap("script,style");var validElements=extend({},voidElements,blockElements,inlineElements,optionalEndTagElements);var uriAttrs=stringToMap("background,cite,href,longdesc,src,xlink:href,xml:base");var htmlAttrs=stringToMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,"+"color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,"+"ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,"+"scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,"+"valign,value,vspace,width");var svgAttrs=stringToMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,"+"baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,"+"cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,"+"font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,"+"height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,"+"marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,"+"max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,"+"path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,"+"requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,"+"stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,"+"stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,"+"stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,"+"underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,"+"width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,"+"xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",true);var validAttrs=extend({},uriAttrs,svgAttrs,htmlAttrs);function stringToMap(str,lowercaseKeys){return arrayToMap(str.split(","),lowercaseKeys)}function arrayToMap(items,lowercaseKeys){var obj={},i;for(i=0;i<items.length;i++){obj[lowercaseKeys?lowercase(items[i]):items[i]]=true}return obj}function addElementsTo(elementsMap,newElements){if(newElements&&newElements.length){extend(elementsMap,arrayToMap(newElements))}}var getInertBodyElement=function(window,document){var inertDocument;if(document&&document.implementation){inertDocument=document.implementation.createHTMLDocument("inert")}else{throw $sanitizeMinErr("noinert","Can't create an inert html document")}var inertBodyElement=(inertDocument.documentElement||inertDocument.getDocumentElement()).querySelector("body");inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>';if(!inertBodyElement.querySelector("svg")){return getInertBodyElement_XHR}else{inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">';if(inertBodyElement.querySelector("svg img")){return getInertBodyElement_DOMParser}else{return getInertBodyElement_InertDocument}}function getInertBodyElement_XHR(html){html="<remove></remove>"+html;try{html=encodeURI(html)}catch(e){return undefined}var xhr=new window.XMLHttpRequest;xhr.responseType="document";xhr.open("GET","data:text/html;charset=utf-8,"+html,false);xhr.send(null);var body=xhr.response.body;body.firstChild.remove();return body}function getInertBodyElement_DOMParser(html){html="<remove></remove>"+html;try{var body=(new window.DOMParser).parseFromString(html,"text/html").body;body.firstChild.remove();return body}catch(e){return undefined}}function getInertBodyElement_InertDocument(html){inertBodyElement.innerHTML=html;if(document.documentMode){stripCustomNsAttrs(inertBodyElement)}return inertBodyElement}}(window,window.document);function htmlParserImpl(html,handler){if(html===null||html===undefined){html=""}else if(typeof html!=="string"){html=""+html}var inertBodyElement=getInertBodyElement(html);if(!inertBodyElement)return"";var mXSSAttempts=5;do{if(mXSSAttempts===0){throw $sanitizeMinErr("uinput","Failed to sanitize html because the input is unstable")}mXSSAttempts--;html=inertBodyElement.innerHTML;inertBodyElement=getInertBodyElement(html)}while(html!==inertBodyElement.innerHTML);var node=inertBodyElement.firstChild;while(node){switch(node.nodeType){case 1:handler.start(node.nodeName.toLowerCase(),attrToMap(node.attributes));break;case 3:handler.chars(node.textContent);break}var nextNode;if(!(nextNode=node.firstChild)){if(node.nodeType===1){handler.end(node.nodeName.toLowerCase())}nextNode=getNonDescendant("nextSibling",node);if(!nextNode){while(nextNode==null){node=getNonDescendant("parentNode",node);if(node===inertBodyElement)break;nextNode=getNonDescendant("nextSibling",node);if(node.nodeType===1){handler.end(node.nodeName.toLowerCase())}}}}node=nextNode}while(node=inertBodyElement.firstChild){inertBodyElement.removeChild(node)}}function attrToMap(attrs){var map={};for(var i=0,ii=attrs.length;i<ii;i++){var attr=attrs[i];map[attr.name]=attr.value}return map}function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,(function(value){var hi=value.charCodeAt(0);var low=value.charCodeAt(1);return"&#"+((hi-55296)*1024+(low-56320)+65536)+";"})).replace(NON_ALPHANUMERIC_REGEXP,(function(value){return"&#"+value.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlSanitizeWriterImpl(buf,uriValidator){var ignoreCurrentElement=false;var out=bind(buf,buf.push);return{start:function(tag,attrs){tag=lowercase(tag);if(!ignoreCurrentElement&&blockedElements[tag]){ignoreCurrentElement=tag}if(!ignoreCurrentElement&&validElements[tag]===true){out("<");out(tag);forEach(attrs,(function(value,key){var lkey=lowercase(key);var isImage=tag==="img"&&lkey==="src"||lkey==="background";if(validAttrs[lkey]===true&&(uriAttrs[lkey]!==true||uriValidator(value,isImage))){out(" ");out(key);out('="');out(encodeEntities(value));out('"')}}));out(">")}},end:function(tag){tag=lowercase(tag);if(!ignoreCurrentElement&&validElements[tag]===true&&voidElements[tag]!==true){out("</");out(tag);out(">")}if(tag==ignoreCurrentElement){ignoreCurrentElement=false}},chars:function(chars){if(!ignoreCurrentElement){out(encodeEntities(chars))}}}}function stripCustomNsAttrs(node){while(node){if(node.nodeType===window.Node.ELEMENT_NODE){var attrs=node.attributes;for(var i=0,l=attrs.length;i<l;i++){var attrNode=attrs[i];var attrName=attrNode.name.toLowerCase();if(attrName==="xmlns:ns1"||attrName.lastIndexOf("ns1:",0)===0){node.removeAttributeNode(attrNode);i--;l--}}}var nextNode=node.firstChild;if(nextNode){stripCustomNsAttrs(nextNode)}node=getNonDescendant("nextSibling",node)}}function getNonDescendant(propName,node){var nextNode=node[propName];if(nextNode&&nodeContains.call(node,nextNode)){throw $sanitizeMinErr("elclob","Failed to sanitize html because the element is clobbered: {0}",node.outerHTML||node.outerText)}return nextNode}}function sanitizeText(chars){var buf=[];var writer=htmlSanitizeWriter(buf,noop);writer.chars(chars);return buf.join("")}angular.module("ngSanitize",[]).provider("$sanitize",$SanitizeProvider).info({angularVersion:"1.8.0"});angular.module("ngSanitize").filter("linky",["$sanitize",function($sanitize){var LINKY_URL_REGEXP=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,MAILTO_REGEXP=/^mailto:/i;var linkyMinErr=angular.$$minErr("linky");var isDefined=angular.isDefined;var isFunction=angular.isFunction;var isObject=angular.isObject;var isString=angular.isString;return function(text,target,attributes){if(text==null||text==="")return text;if(!isString(text))throw linkyMinErr("notstring","Expected string but received: {0}",text);var attributesFn=isFunction(attributes)?attributes:isObject(attributes)?function getAttributesObject(){return attributes}:function getEmptyAttributesObject(){return{}};var match;var raw=text;var html=[];var url;var i;while(match=raw.match(LINKY_URL_REGEXP)){url=match[0];if(!match[2]&&!match[4]){url=(match[3]?"http://":"mailto:")+url}i=match.index;addText(raw.substr(0,i));addLink(url,match[0].replace(MAILTO_REGEXP,""));raw=raw.substring(i+match[0].length)}addText(raw);return $sanitize(html.join(""));function addText(text){if(!text){return}html.push(sanitizeText(text))}function addLink(url,text){var key,linkAttributes=attributesFn(url);html.push("<a ");for(key in linkAttributes){html.push(key+'="'+linkAttributes[key]+'" ')}if(isDefined(target)&&!("target"in linkAttributes)){html.push('target="',target,'" ')}html.push('href="',url.replace(/"/g,"&quot;"),'">');addText(text);html.push("</a>")}}}])})(window,window.angular)},function(module,exports,__webpack_require__){__webpack_require__(263);module.exports="ngRoute"},function(module,exports){
/**
 * @license AngularJS v1.8.0
 * (c) 2010-2020 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(window,angular){"use strict";function shallowCopy(src,dst){if(isArray(src)){dst=dst||[];for(var i=0,ii=src.length;i<ii;i++){dst[i]=src[i]}}else if(isObject(src)){dst=dst||{};for(var key in src){if(!(key.charAt(0)==="$"&&key.charAt(1)==="$")){dst[key]=src[key]}}}return dst||src}function routeToRegExp(path,opts){var keys=[];var pattern=path.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,(function(_,slash,key,option){var optional=option==="?"||option==="*?";var star=option==="*"||option==="*?";keys.push({name:key,optional:optional});slash=slash||"";return(optional?"(?:"+slash:slash+"(?:")+(star?"(.+?)":"([^/]+)")+(optional?"?)?":")")})).replace(/([/$*])/g,"\\$1");if(opts.ignoreTrailingSlashes){pattern=pattern.replace(/\/+$/,"")+"/*"}return{keys:keys,regexp:new RegExp("^"+pattern+"(?:[?#]|$)",opts.caseInsensitiveMatch?"i":"")}}var isArray;var isObject;var isDefined;var noop;var ngRouteModule=angular.module("ngRoute",[]).info({angularVersion:"1.8.0"}).provider("$route",$RouteProvider).run(instantiateRoute);var $routeMinErr=angular.$$minErr("ngRoute");var isEagerInstantiationEnabled;function $RouteProvider(){isArray=angular.isArray;isObject=angular.isObject;isDefined=angular.isDefined;noop=angular.noop;function inherit(parent,extra){return angular.extend(Object.create(parent),extra)}var routes={};this.when=function(path,route){var routeCopy=shallowCopy(route);if(angular.isUndefined(routeCopy.reloadOnUrl)){routeCopy.reloadOnUrl=true}if(angular.isUndefined(routeCopy.reloadOnSearch)){routeCopy.reloadOnSearch=true}if(angular.isUndefined(routeCopy.caseInsensitiveMatch)){routeCopy.caseInsensitiveMatch=this.caseInsensitiveMatch}routes[path]=angular.extend(routeCopy,{originalPath:path},path&&routeToRegExp(path,routeCopy));if(path){var redirectPath=path[path.length-1]==="/"?path.substr(0,path.length-1):path+"/";routes[redirectPath]=angular.extend({originalPath:path,redirectTo:path},routeToRegExp(redirectPath,routeCopy))}return this};this.caseInsensitiveMatch=false;this.otherwise=function(params){if(typeof params==="string"){params={redirectTo:params}}this.when(null,params);return this};isEagerInstantiationEnabled=true;this.eagerInstantiationEnabled=function eagerInstantiationEnabled(enabled){if(isDefined(enabled)){isEagerInstantiationEnabled=enabled;return this}return isEagerInstantiationEnabled};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function($rootScope,$location,$routeParams,$q,$injector,$templateRequest,$sce,$browser){var forceReload=false,preparedRoute,preparedRouteIsUpdateOnly,$route={routes:routes,reload:function(){forceReload=true;var fakeLocationEvent={defaultPrevented:false,preventDefault:function fakePreventDefault(){this.defaultPrevented=true;forceReload=false}};$rootScope.$evalAsync((function(){prepareRoute(fakeLocationEvent);if(!fakeLocationEvent.defaultPrevented)commitRoute()}))},updateParams:function(newParams){if(this.current&&this.current.$$route){newParams=angular.extend({},this.current.params,newParams);$location.path(interpolate(this.current.$$route.originalPath,newParams));$location.search(newParams)}else{throw $routeMinErr("norout","Tried updating route with no current route")}}};$rootScope.$on("$locationChangeStart",prepareRoute);$rootScope.$on("$locationChangeSuccess",commitRoute);return $route;function switchRouteMatcher(on,route){var keys=route.keys,params={};if(!route.regexp)return null;var m=route.regexp.exec(on);if(!m)return null;for(var i=1,len=m.length;i<len;++i){var key=keys[i-1];var val=m[i];if(key&&val){params[key.name]=val}}return params}function prepareRoute($locationEvent){var lastRoute=$route.current;preparedRoute=parseRoute();preparedRouteIsUpdateOnly=isNavigationUpdateOnly(preparedRoute,lastRoute);if(!preparedRouteIsUpdateOnly&&(lastRoute||preparedRoute)){if($rootScope.$broadcast("$routeChangeStart",preparedRoute,lastRoute).defaultPrevented){if($locationEvent){$locationEvent.preventDefault()}}}}function commitRoute(){var lastRoute=$route.current;var nextRoute=preparedRoute;if(preparedRouteIsUpdateOnly){lastRoute.params=nextRoute.params;angular.copy(lastRoute.params,$routeParams);$rootScope.$broadcast("$routeUpdate",lastRoute)}else if(nextRoute||lastRoute){forceReload=false;$route.current=nextRoute;var nextRoutePromise=$q.resolve(nextRoute);$browser.$$incOutstandingRequestCount("$route");nextRoutePromise.then(getRedirectionData).then(handlePossibleRedirection).then((function(keepProcessingRoute){return keepProcessingRoute&&nextRoutePromise.then(resolveLocals).then((function(locals){if(nextRoute===$route.current){if(nextRoute){nextRoute.locals=locals;angular.copy(nextRoute.params,$routeParams)}$rootScope.$broadcast("$routeChangeSuccess",nextRoute,lastRoute)}}))})).catch((function(error){if(nextRoute===$route.current){$rootScope.$broadcast("$routeChangeError",nextRoute,lastRoute,error)}})).finally((function(){$browser.$$completeOutstandingRequest(noop,"$route")}))}}function getRedirectionData(route){var data={route:route,hasRedirection:false};if(route){if(route.redirectTo){if(angular.isString(route.redirectTo)){data.path=interpolate(route.redirectTo,route.params);data.search=route.params;data.hasRedirection=true}else{var oldPath=$location.path();var oldSearch=$location.search();var newUrl=route.redirectTo(route.pathParams,oldPath,oldSearch);if(angular.isDefined(newUrl)){data.url=newUrl;data.hasRedirection=true}}}else if(route.resolveRedirectTo){return $q.resolve($injector.invoke(route.resolveRedirectTo)).then((function(newUrl){if(angular.isDefined(newUrl)){data.url=newUrl;data.hasRedirection=true}return data}))}}return data}function handlePossibleRedirection(data){var keepProcessingRoute=true;if(data.route!==$route.current){keepProcessingRoute=false}else if(data.hasRedirection){var oldUrl=$location.url();var newUrl=data.url;if(newUrl){$location.url(newUrl).replace()}else{newUrl=$location.path(data.path).search(data.search).replace().url()}if(newUrl!==oldUrl){keepProcessingRoute=false}}return keepProcessingRoute}function resolveLocals(route){if(route){var locals=angular.extend({},route.resolve);angular.forEach(locals,(function(value,key){locals[key]=angular.isString(value)?$injector.get(value):$injector.invoke(value,null,null,key)}));var template=getTemplateFor(route);if(angular.isDefined(template)){locals["$template"]=template}return $q.all(locals)}}function getTemplateFor(route){var template,templateUrl;if(angular.isDefined(template=route.template)){if(angular.isFunction(template)){template=template(route.params)}}else if(angular.isDefined(templateUrl=route.templateUrl)){if(angular.isFunction(templateUrl)){templateUrl=templateUrl(route.params)}if(angular.isDefined(templateUrl)){route.loadedTemplateUrl=$sce.valueOf(templateUrl);template=$templateRequest(templateUrl)}}return template}function parseRoute(){var params,match;angular.forEach(routes,(function(route,path){if(!match&&(params=switchRouteMatcher($location.path(),route))){match=inherit(route,{params:angular.extend({},$location.search(),params),pathParams:params});match.$$route=route}}));return match||routes[null]&&inherit(routes[null],{params:{},pathParams:{}})}function isNavigationUpdateOnly(newRoute,oldRoute){return!forceReload&&newRoute&&oldRoute&&newRoute.$$route===oldRoute.$$route&&(!newRoute.reloadOnUrl||!newRoute.reloadOnSearch&&angular.equals(newRoute.pathParams,oldRoute.pathParams))}function interpolate(string,params){var result=[];angular.forEach((string||"").split(":"),(function(segment,i){if(i===0){result.push(segment)}else{var segmentMatch=segment.match(/(\w+)(?:[?*])?(.*)/);var key=segmentMatch[1];result.push(params[key]);result.push(segmentMatch[2]||"");delete params[key]}}));return result.join("")}}]}instantiateRoute.$inject=["$injector"];function instantiateRoute($injector){if(isEagerInstantiationEnabled){$injector.get("$route")}}ngRouteModule.provider("$routeParams",$RouteParamsProvider);function $RouteParamsProvider(){this.$get=function(){return{}}}ngRouteModule.directive("ngView",ngViewFactory);ngRouteModule.directive("ngView",ngViewFillContentFactory);ngViewFactory.$inject=["$route","$anchorScroll","$animate"];function ngViewFactory($route,$anchorScroll,$animate){return{restrict:"ECA",terminal:true,priority:400,transclude:"element",link:function(scope,$element,attr,ctrl,$transclude){var currentScope,currentElement,previousLeaveAnimation,autoScrollExp=attr.autoscroll,onloadExp=attr.onload||"";scope.$on("$routeChangeSuccess",update);update();function cleanupLastView(){if(previousLeaveAnimation){$animate.cancel(previousLeaveAnimation);previousLeaveAnimation=null}if(currentScope){currentScope.$destroy();currentScope=null}if(currentElement){previousLeaveAnimation=$animate.leave(currentElement);previousLeaveAnimation.done((function(response){if(response!==false)previousLeaveAnimation=null}));currentElement=null}}function update(){var locals=$route.current&&$route.current.locals,template=locals&&locals.$template;if(angular.isDefined(template)){var newScope=scope.$new();var current=$route.current;var clone=$transclude(newScope,(function(clone){$animate.enter(clone,null,currentElement||$element).done((function onNgViewEnter(response){if(response!==false&&angular.isDefined(autoScrollExp)&&(!autoScrollExp||scope.$eval(autoScrollExp))){$anchorScroll()}}));cleanupLastView()}));currentElement=clone;currentScope=current.scope=newScope;currentScope.$emit("$viewContentLoaded");currentScope.$eval(onloadExp)}else{cleanupLastView()}}}}}ngViewFillContentFactory.$inject=["$compile","$controller","$route"];function ngViewFillContentFactory($compile,$controller,$route){return{restrict:"ECA",priority:-400,link:function(scope,$element){var current=$route.current,locals=current.locals;$element.html(locals.$template);var link=$compile($element.contents());if(current.controller){locals.$scope=scope;var controller=$controller(current.controller,locals);if(current.controllerAs){scope[current.controllerAs]=controller}$element.data("$ngControllerController",controller);$element.children().data("$ngControllerController",controller)}scope[current.resolveAs||"$resolve"]=locals;link(scope)}}}})(window,window.angular)},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(265);case"v7light":return __webpack_require__(267);case"v8dark":return __webpack_require__(269);case"v8light":return __webpack_require__(271)}},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(266);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monApplicationWrapper {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(268);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monApplicationWrapper {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(270);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monApplicationWrapper {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(272);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monApplicationWrapper {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){"use strict";if(true){module.exports=__webpack_require__(274)}else{}},function(module,exports,__webpack_require__){"use strict";function _interopDefault(n){return n&&"object"==typeof n&&"default"in n?n.default:n}Object.defineProperty(exports,"__esModule",{value:!0});var resolvePathname=_interopDefault(__webpack_require__(275)),valueEqual=_interopDefault(__webpack_require__(276));__webpack_require__(277);var invariant=_interopDefault(__webpack_require__(278));function _extends(){return(_extends=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n}).apply(this,arguments)}function addLeadingSlash(n){return"/"===n.charAt(0)?n:"/"+n}function stripLeadingSlash(n){return"/"===n.charAt(0)?n.substr(1):n}function hasBasename(n,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(n)}function stripBasename(n,t){return hasBasename(n,t)?n.substr(t.length):n}function stripTrailingSlash(n){return"/"===n.charAt(n.length-1)?n.slice(0,-1):n}function parsePath(n){var t=n||"/",e="",a="",o=t.indexOf("#");-1!==o&&(a=t.substr(o),t=t.substr(0,o));var r=t.indexOf("?");return-1!==r&&(e=t.substr(r),t=t.substr(0,r)),{pathname:t,search:"?"===e?"":e,hash:"#"===a?"":a}}function createPath(n){var t=n.pathname,e=n.search,a=n.hash,o=t||"/";return e&&"?"!==e&&(o+="?"===e.charAt(0)?e:"?"+e),a&&"#"!==a&&(o+="#"===a.charAt(0)?a:"#"+a),o}function createLocation(n,t,e,a){var o;"string"==typeof n?(o=parsePath(n)).state=t:(void 0===(o=_extends({},n)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(n){throw n instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):n}return e&&(o.key=e),a?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=resolvePathname(o.pathname,a.pathname)):o.pathname=a.pathname:o.pathname||(o.pathname="/"),o}function locationsAreEqual(n,t){return n.pathname===t.pathname&&n.search===t.search&&n.hash===t.hash&&n.key===t.key&&valueEqual(n.state,t.state)}function createTransitionManager(){var r=null;var a=[];return{setPrompt:function(n){return r=n,function(){r===n&&(r=null)}},confirmTransitionTo:function(n,t,e,a){if(null!=r){var o="function"==typeof r?r(n,t):r;"string"==typeof o?"function"==typeof e?e(o,a):a(!0):a(!1!==o)}else a(!0)},appendListener:function(n){var t=!0;function e(){t&&n.apply(void 0,arguments)}return a.push(e),function(){t=!1,a=a.filter((function(n){return n!==e}))}},notifyListeners:function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];a.forEach((function(n){return n.apply(void 0,t)}))}}}var canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement);function getConfirmation(n,t){t(window.confirm(n))}function supportsHistory(){var n=window.navigator.userAgent;return(-1===n.indexOf("Android 2.")&&-1===n.indexOf("Android 4.0")||-1===n.indexOf("Mobile Safari")||-1!==n.indexOf("Chrome")||-1!==n.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}function supportsPopStateOnHashChange(){return-1===window.navigator.userAgent.indexOf("Trident")}function supportsGoWithoutReloadUsingHash(){return-1===window.navigator.userAgent.indexOf("Firefox")}function isExtraneousPopstateEvent(n){void 0===n.state&&navigator.userAgent.indexOf("CriOS")}var PopStateEvent="popstate",HashChangeEvent="hashchange";function getHistoryState(){try{return window.history.state||{}}catch(n){return{}}}function createBrowserHistory(n){void 0===n&&(n={}),canUseDOM||invariant(!1);var c=window.history,s=supportsHistory(),t=!supportsPopStateOnHashChange(),e=n,a=e.forceRefresh,h=void 0!==a&&a,o=e.getUserConfirmation,u=void 0===o?getConfirmation:o,r=e.keyLength,i=void 0===r?6:r,f=n.basename?stripTrailingSlash(addLeadingSlash(n.basename)):"";function l(n){var t=n||{},e=t.key,a=t.state,o=window.location,r=o.pathname+o.search+o.hash;return f&&(r=stripBasename(r,f)),createLocation(r,a,e)}function d(){return Math.random().toString(36).substr(2,i)}var v=createTransitionManager();function p(n){_extends(T,n),T.length=c.length,v.notifyListeners(T.location,T.action)}function g(n){isExtraneousPopstateEvent(n)||w(l(n.state))}function P(){w(l(getHistoryState()))}var m=!1;function w(t){if(m)m=!1,p();else{v.confirmTransitionTo(t,"POP",u,(function(n){n?p({action:"POP",location:t}):function(n){var t=T.location,e=H.indexOf(t.key);-1===e&&(e=0);var a=H.indexOf(n.key);-1===a&&(a=0);var o=e-a;o&&(m=!0,L(o))}(t)}))}}var y=l(getHistoryState()),H=[y.key];function x(n){return f+createPath(n)}function L(n){c.go(n)}var O=0;function E(n){1===(O+=n)&&1===n?(window.addEventListener(PopStateEvent,g),t&&window.addEventListener(HashChangeEvent,P)):0===O&&(window.removeEventListener(PopStateEvent,g),t&&window.removeEventListener(HashChangeEvent,P))}var S=!1;var T={length:c.length,action:"POP",location:y,createHref:x,push:function(n,t){var i=createLocation(n,t,d(),T.location);v.confirmTransitionTo(i,"PUSH",u,(function(n){if(n){var t=x(i),e=i.key,a=i.state;if(s)if(c.pushState({key:e,state:a},null,t),h)window.location.href=t;else{var o=H.indexOf(T.location.key),r=H.slice(0,-1===o?0:o+1);r.push(i.key),H=r,p({action:"PUSH",location:i})}else window.location.href=t}}))},replace:function(n,t){var r="REPLACE",i=createLocation(n,t,d(),T.location);v.confirmTransitionTo(i,r,u,(function(n){if(n){var t=x(i),e=i.key,a=i.state;if(s)if(c.replaceState({key:e,state:a},null,t),h)window.location.replace(t);else{var o=H.indexOf(T.location.key);-1!==o&&(H[o]=i.key),p({action:r,location:i})}else window.location.replace(t)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(n){void 0===n&&(n=!1);var t=v.setPrompt(n);return S||(E(1),S=!0),function(){return S&&(S=!1,E(-1)),t()}},listen:function(n){var t=v.appendListener(n);return E(1),function(){E(-1),t()}}};return T}var HashChangeEvent$1="hashchange",HashPathCoders={hashbang:{encodePath:function(n){return"!"===n.charAt(0)?n:"!/"+stripLeadingSlash(n)},decodePath:function(n){return"!"===n.charAt(0)?n.substr(1):n}},noslash:{encodePath:stripLeadingSlash,decodePath:addLeadingSlash},slash:{encodePath:addLeadingSlash,decodePath:addLeadingSlash}};function getHashPath(){var n=window.location.href,t=n.indexOf("#");return-1===t?"":n.substring(t+1)}function pushHashPath(n){window.location.hash=n}function replaceHashPath(n){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,0<=t?t:0)+"#"+n)}function createHashHistory(n){void 0===n&&(n={}),canUseDOM||invariant(!1);var t=window.history,e=(supportsGoWithoutReloadUsingHash(),n),a=e.getUserConfirmation,i=void 0===a?getConfirmation:a,o=e.hashType,r=void 0===o?"slash":o,c=n.basename?stripTrailingSlash(addLeadingSlash(n.basename)):"",s=HashPathCoders[r],h=s.encodePath,u=s.decodePath;function f(){var n=u(getHashPath());return c&&(n=stripBasename(n,c)),createLocation(n)}var l=createTransitionManager();function d(n){_extends(E,n),E.length=t.length,l.notifyListeners(E.location,E.action)}var v=!1,p=null;function g(){var n=getHashPath(),t=h(n);if(n!==t)replaceHashPath(t);else{var e=f(),a=E.location;if(!v&&locationsAreEqual(a,e))return;if(p===createPath(e))return;p=null,function(t){if(v)v=!1,d();else{l.confirmTransitionTo(t,"POP",i,(function(n){n?d({action:"POP",location:t}):function(n){var t=E.location,e=y.lastIndexOf(createPath(t));-1===e&&(e=0);var a=y.lastIndexOf(createPath(n));-1===a&&(a=0);var o=e-a;o&&(v=!0,H(o))}(t)}))}}(e)}}var P=getHashPath(),m=h(P);P!==m&&replaceHashPath(m);var w=f(),y=[createPath(w)];function H(n){t.go(n)}var x=0;function L(n){1===(x+=n)&&1===n?window.addEventListener(HashChangeEvent$1,g):0===x&&window.removeEventListener(HashChangeEvent$1,g)}var O=!1;var E={length:t.length,action:"POP",location:w,createHref:function(n){return"#"+h(c+createPath(n))},push:function(n,t){var r=createLocation(n,void 0,void 0,E.location);l.confirmTransitionTo(r,"PUSH",i,(function(n){if(n){var t=createPath(r),e=h(c+t);if(getHashPath()!==e){p=t,pushHashPath(e);var a=y.lastIndexOf(createPath(E.location)),o=y.slice(0,-1===a?0:a+1);o.push(t),y=o,d({action:"PUSH",location:r})}else d()}}))},replace:function(n,t){var o="REPLACE",r=createLocation(n,void 0,void 0,E.location);l.confirmTransitionTo(r,o,i,(function(n){if(n){var t=createPath(r),e=h(c+t);getHashPath()!==e&&(p=t,replaceHashPath(e));var a=y.indexOf(createPath(E.location));-1!==a&&(y[a]=t),d({action:o,location:r})}}))},go:H,goBack:function(){H(-1)},goForward:function(){H(1)},block:function(n){void 0===n&&(n=!1);var t=l.setPrompt(n);return O||(L(1),O=!0),function(){return O&&(O=!1,L(-1)),t()}},listen:function(n){var t=l.appendListener(n);return L(1),function(){L(-1),t()}}};return E}function clamp(n,t,e){return Math.min(Math.max(n,t),e)}function createMemoryHistory(n){void 0===n&&(n={});var t=n,o=t.getUserConfirmation,e=t.initialEntries,a=void 0===e?["/"]:e,r=t.initialIndex,i=void 0===r?0:r,c=t.keyLength,s=void 0===c?6:c,h=createTransitionManager();function u(n){_extends(g,n),g.length=g.entries.length,h.notifyListeners(g.location,g.action)}function f(){return Math.random().toString(36).substr(2,s)}var l=clamp(i,0,a.length-1),d=a.map((function(n){return createLocation(n,void 0,"string"==typeof n?f():n.key||f())})),v=createPath;function p(n){var t=clamp(g.index+n,0,g.entries.length-1),e=g.entries[t];h.confirmTransitionTo(e,"POP",o,(function(n){n?u({action:"POP",location:e,index:t}):u()}))}var g={length:d.length,action:"POP",location:d[l],index:l,entries:d,createHref:v,push:function(n,t){var a=createLocation(n,t,f(),g.location);h.confirmTransitionTo(a,"PUSH",o,(function(n){if(n){var t=g.index+1,e=g.entries.slice(0);e.length>t?e.splice(t,e.length-t,a):e.push(a),u({action:"PUSH",location:a,index:t,entries:e})}}))},replace:function(n,t){var e="REPLACE",a=createLocation(n,t,f(),g.location);h.confirmTransitionTo(a,e,o,(function(n){n&&(g.entries[g.index]=a,u({action:e,location:a}))}))},go:p,goBack:function(){p(-1)},goForward:function(){p(1)},canGo:function(n){var t=g.index+n;return 0<=t&&t<g.entries.length},block:function(n){return void 0===n&&(n=!1),h.setPrompt(n)},listen:function(n){return h.appendListener(n)}};return g}exports.createBrowserHistory=createBrowserHistory,exports.createHashHistory=createHashHistory,exports.createMemoryHistory=createMemoryHistory,exports.createLocation=createLocation,exports.locationsAreEqual=locationsAreEqual,exports.parsePath=parsePath,exports.createPath=createPath},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function isAbsolute(pathname){return pathname.charAt(0)==="/"}function spliceOne(list,index){for(var i=index,k=i+1,n=list.length;k<n;i+=1,k+=1){list[i]=list[k]}list.pop()}function resolvePathname(to){var from=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var toParts=to&&to.split("/")||[];var fromParts=from&&from.split("/")||[];var isToAbs=to&&isAbsolute(to);var isFromAbs=from&&isAbsolute(from);var mustEndAbs=isToAbs||isFromAbs;if(to&&isAbsolute(to)){fromParts=toParts}else if(toParts.length){fromParts.pop();fromParts=fromParts.concat(toParts)}if(!fromParts.length)return"/";var hasTrailingSlash=void 0;if(fromParts.length){var last=fromParts[fromParts.length-1];hasTrailingSlash=last==="."||last===".."||last===""}else{hasTrailingSlash=false}var up=0;for(var i=fromParts.length;i>=0;i--){var part=fromParts[i];if(part==="."){spliceOne(fromParts,i)}else if(part===".."){spliceOne(fromParts,i);up++}else if(up){spliceOne(fromParts,i);up--}}if(!mustEndAbs)for(;up--;up){fromParts.unshift("..")}if(mustEndAbs&&fromParts[0]!==""&&(!fromParts[0]||!isAbsolute(fromParts[0])))fromParts.unshift("");var result=fromParts.join("/");if(hasTrailingSlash&&result.substr(-1)!=="/")result+="/";return result}exports.default=resolvePathname;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};function valueEqual(a,b){if(a===b)return true;if(a==null||b==null)return false;if(Array.isArray(a)){return Array.isArray(b)&&a.length===b.length&&a.every((function(item,index){return valueEqual(item,b[index])}))}var aType=typeof a==="undefined"?"undefined":_typeof(a);var bType=typeof b==="undefined"?"undefined":_typeof(b);if(aType!==bType)return false;if(aType==="object"){var aValue=a.valueOf();var bValue=b.valueOf();if(aValue!==a||bValue!==b)return valueEqual(aValue,bValue);var aKeys=Object.keys(a);var bKeys=Object.keys(b);if(aKeys.length!==bKeys.length)return false;return aKeys.every((function(key){return valueEqual(a[key],b[key])}))}return false}exports.default=valueEqual;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var isProduction="production"==="production";function warning(condition,message){if(!isProduction){if(condition){return}var text="Warning: "+message;if(typeof console!=="undefined"){console.warn(text)}try{throw Error(text)}catch(x){}}}module.exports=warning},function(module,exports,__webpack_require__){"use strict";var isProduction="production"==="production";var prefix="Invariant failed";function invariant(condition,message){if(condition){return}if(isProduction){throw new Error(prefix)}else{throw new Error(prefix+": "+(message||""))}}module.exports=invariant},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(280);case"v7light":return __webpack_require__(282);case"v8dark":return __webpack_require__(284);case"v8light":return __webpack_require__(286)}},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(281);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monTopNavSecondItem {\n  padding-left: 12px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(283);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monTopNavSecondItem {\n  padding-left: 12px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(285);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monTopNavSecondItem {\n  padding-left: 12px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(28);var content=__webpack_require__(287);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(29);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".monTopNavSecondItem {\n  padding-left: 12px; }\n",""]);module.exports=exports},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"AngularApp",(function(){return angular_AngularApp}));var external_kbnSharedDeps_Angular_=__webpack_require__(19);var external_kbnSharedDeps_Angular_default=__webpack_require__.n(external_kbnSharedDeps_Angular_);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class Routes{constructor(){_defineProperty(this,"routes",[]);_defineProperty(this,"redirect",{redirectTo:"/no-data"});_defineProperty(this,"when",(...args)=>{const[,routeOptions]=args;routeOptions.reloadOnSearch=false;this.routes.push(args);return this});_defineProperty(this,"otherwise",redirect=>{this.redirect=redirect;return this});_defineProperty(this,"addToProvider",$routeProvider=>{this.routes.forEach(args=>{$routeProvider.when.apply(this,args)});if(this.redirect){$routeProvider.otherwise(this.redirect)}})}}const uiRoutes=new Routes;function legacy_shims_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class Legacy{static init({core:core,data:data,isCloud:isCloud,triggersActionsUi:triggersActionsUi,usageCollection:usageCollection},ngInjector){this._shims={toastNotifications:core.notifications.toasts,capabilities:core.application.capabilities,getAngularInjector:()=>ngInjector,getBasePath:()=>core.http.basePath.get(),getInjected:(name,defaultValue)=>core.injectedMetadata.getInjectedVar(name,defaultValue),breadcrumbs:{set:breadcrumbs=>this._shims.breadcrumbs.update(breadcrumbs),update:breadcrumbs=>{var _breadcrumbs,_breadcrumbs$0$href;if(!breadcrumbs){var _core$chrome$getBread;const currentBreadcrumbs=(_core$chrome$getBread=core.chrome.getBreadcrumbs$())===null||_core$chrome$getBread===void 0?void 0:_core$chrome$getBread.source;breadcrumbs=currentBreadcrumbs===null||currentBreadcrumbs===void 0?void 0:currentBreadcrumbs.value}const globalStateStr=location.hash.split("?")[1];if(!((_breadcrumbs=breadcrumbs)!==null&&_breadcrumbs!==void 0&&_breadcrumbs.length)||(globalStateStr===null||globalStateStr===void 0?void 0:globalStateStr.indexOf("_g"))!==0||((_breadcrumbs$0$href=breadcrumbs[0].href)===null||_breadcrumbs$0$href===void 0?void 0:_breadcrumbs$0$href.split("?")[1])===globalStateStr){return}breadcrumbs.forEach(breadcrumb=>{var _breadcrumb$href;const breadcrumbHref=(_breadcrumb$href=breadcrumb.href)===null||_breadcrumb$href===void 0?void 0:_breadcrumb$href.split("?")[0];if(breadcrumbHref&&!breadcrumb.ignoreGlobalState){breadcrumb.href=`${breadcrumbHref}?${globalStateStr}`}delete breadcrumb.ignoreGlobalState});core.chrome.setBreadcrumbs(breadcrumbs.slice(0))}},I18nContext:core.i18n.Context,docLinks:core.docLinks,docTitle:core.chrome.docTitle,timefilter:data.query.timefilter.timefilter,actionTypeRegistry:triggersActionsUi===null||triggersActionsUi===void 0?void 0:triggersActionsUi.actionTypeRegistry,alertTypeRegistry:triggersActionsUi===null||triggersActionsUi===void 0?void 0:triggersActionsUi.alertTypeRegistry,uiSettings:core.uiSettings,http:core.http,kfetch:async({pathname:pathname,...options},kfetchOptions)=>await core.http.fetch(pathname,{prependBasePath:kfetchOptions===null||kfetchOptions===void 0?void 0:kfetchOptions.prependBasePath,...options}),isCloud:isCloud,triggersActionsUi:triggersActionsUi,usageCollection:usageCollection,kibanaServices:{...core,usageCollection:usageCollection}}}static get shims(){if(!Legacy._shims){throw new Error("Legacy needs to be initiated with Legacy.init(...) before use")}return Legacy._shims}}legacy_shims_defineProperty(Legacy,"_shims",void 0);var public_=__webpack_require__(16);var no_data='<monitoring-main name="no-data">\n  <div data-test-subj="noDataContainer">\n    <div id="noDataReact"></div>\n  </div>\n</monitoring-main>\n';var external_kbnSharedDeps_React_=__webpack_require__(1);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);class Enabler{constructor($http,updateModel){this.$http=$http;this.updateModel=updateModel;this.enableCollectionEnabled=this.enableCollectionEnabled.bind(this);this.enableCollectionInterval=this.enableCollectionInterval.bind(this)}async enableCollectionInterval(){try{this.updateModel({isCollectionIntervalUpdating:true});await this.$http.put("../api/monitoring/v1/elasticsearch_settings/set/collection_interval");this.updateModel({isCollectionIntervalUpdated:true,isCollectionIntervalUpdating:false})}catch(err){this.updateModel({errors:err.data,isCollectionIntervalUpdated:false,isCollectionIntervalUpdating:false})}}async enableCollectionEnabled(){try{this.updateModel({isCollectionEnabledUpdating:true});await this.$http.put("../api/monitoring/v1/elasticsearch_settings/set/collection_enabled");this.updateModel({isCollectionEnabledUpdated:true,isCollectionEnabledUpdating:false})}catch(err){this.updateModel({errors:err.data,isCollectionEnabledUpdated:false,isCollectionEnabledUpdating:false})}}}class SettingsChecker{constructor($http){this.$http=$http;this.message=null;this.api=null;this.next=null}setApi(api){this.api=api}setMessage(message){this.message=message}getApi(){return this.api}getMessage(){return this.message}hasNext(){return this.next!==null}setNext(checker){this.next=checker}getNext(){return this.next}async executeCheck(){try{const{data:data}=await this.$http.get(this.getApi(),{headers:{"kbn-system-request":"true"}});const{found:found,reason:reason}=data;return{found:found,reason:reason}}catch(err){const{data:data}=err;return{error:true,found:false,errorReason:data}}}}class cluster_settings_ClusterSettingsChecker extends SettingsChecker{constructor(params){super(params);this.setApi("../api/monitoring/v1/elasticsearch_settings/check/cluster");this.setMessage("Checking cluster settings API on production cluster")}}class node_settings_NodeSettingsChecker extends SettingsChecker{constructor(params){super(params);this.setApi("../api/monitoring/v1/elasticsearch_settings/check/nodes");this.setMessage("Checking nodes settings API on production cluster")}}const mapCheckers=_checkers=>_checkers.map((current,checkerIndex)=>{const next=_checkers[checkerIndex+1];if(next!==undefined){current.setNext(next)}return current});async function startChecks(checkers,updateModel){const runCheck=async currentChecker=>{updateModel({checkMessage:currentChecker.getMessage()});const{found:found,reason:reason,error:error,errorReason:errorReason}=await currentChecker.executeCheck();if(error){updateModel({errors:errorReason});if(currentChecker.hasNext()){return runCheck(currentChecker.getNext())}}else if(found){return updateModel({reason:reason,isLoading:false,checkMessage:null})}else if(currentChecker.hasNext()){return runCheck(currentChecker.getNext())}updateModel({reason:null,isLoading:false,checkMessage:null})};const _checkers=mapCheckers(checkers);return runCheck(_checkers[0])}class ModelUpdater{constructor($scope,model){this.$scope=$scope;this.model=model;this.updateModel=this.updateModel.bind(this)}updateModel(properties){const{$scope:$scope,model:model}=this;const keys=Object.keys(properties);$scope.$evalAsync(()=>{keys.forEach(key=>{if(Array.isArray(model[key])){model[key].push(properties[key])}else{model[key]=properties[key]}})})}}var external_kbnSharedDeps_ElasticEui_=__webpack_require__(3);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(10);var external_kbnSharedDeps_ReactDom_=__webpack_require__(13);var external_kbnSharedDeps_Lodash_=__webpack_require__(11);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(0);var kibanaReact_public_=__webpack_require__(14);function formatMonitoringError(err){if(err.status&&err.status!==-1&&err.data){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,err.data.message),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.ajaxErrorHandler.httpErrorMessage",defaultMessage:"HTTP {errStatus}",values:{errStatus:err.status}})))}return Object(public_["formatMsg"])(err)}function ajaxErrorHandlersProvider(){return err=>{if(err.status===403){history.replaceState(null,"","#/access-denied")}else if(err.status===404&&!Object(external_kbnSharedDeps_Lodash_["includes"])(window.location.hash,"no-data")){Legacy.shims.toastNotifications.addDanger({title:Object(kibanaReact_public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.ajaxErrorHandler.requestFailedNotificationTitle",defaultMessage:"Monitoring Request Failed"})),text:Object(kibanaReact_public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement("div",null,formatMonitoringError(err),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{size:"s",color:"danger",onClick:()=>window.location.reload()},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.ajaxErrorHandler.requestFailedNotification.retryButtonLabel",defaultMessage:"Retry"}))))})}else{Legacy.shims.toastNotifications.addDanger({title:Object(kibanaReact_public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.ajaxErrorHandler.requestErrorNotificationTitle",defaultMessage:"Monitoring Request Error"})),text:Object(kibanaReact_public_["toMountPoint"])(formatMonitoringError(err))})}return Promise.reject(err)}}var enter_button=__webpack_require__(46);var observability_public_=__webpack_require__(20);var constants=__webpack_require__(2);const SetupModeEnterButton=props=>{const[isLoading,setIsLoading]=external_kbnSharedDeps_React_default.a.useState(false);const trackStat=Object(observability_public_["useUiTracker"])({app:"stack_monitoring"});if(!props.enabled){return null}async function enterSetupMode(){setIsLoading(true);await props.toggleSetupMode(true);trackStat({metric:`${constants["V"]}setupmode_enter`,metricType:observability_public_["METRIC_TYPE"].CLICK});setIsLoading(false)}return external_kbnSharedDeps_React_default.a.createElement("div",{className:"monSetupModeEnterButton__buttonWrapper","data-test-subj":"monitoringSetupModeBtn"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{onClick:enterSetupMode,iconType:"flag",size:"s",iconSide:"right",isLoading:isLoading},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.enter",{defaultMessage:"Enter setup mode"})))};var enums=__webpack_require__(4);function setup_mode_isOnPage(hash){return Object(external_kbnSharedDeps_Lodash_["includes"])(window.location.hash,hash)}const angularState={injector:null,scope:null};const checkAngularState=()=>{if(!angularState.injector||!angularState.scope){throw new Error("Unable to interact with setup mode because the angular injector was not previously set."+" This needs to be set by calling `initSetupModeState`.")}};const setup_mode_setupModeState={enabled:false,data:null,callback:null,hideBottomBar:false};const getSetupModeState=()=>setup_mode_setupModeState;const setNewlyDiscoveredClusterUuid=clusterUuid=>{const globalState=angularState.injector.get("globalState");const executor=angularState.injector.get("$executor");angularState.scope.$apply(()=>{globalState.cluster_uuid=clusterUuid;globalState.save()});executor.run()};const fetchCollectionData=async(uuid,fetchWithoutClusterUuid=false)=>{checkAngularState();const http=angularState.injector.get("$http");const globalState=angularState.injector.get("globalState");const clusterUuid=globalState.cluster_uuid;const ccs=globalState.ccs;let url="../api/monitoring/v1/setup/collection";if(uuid){url+=`/node/${uuid}`}else if(!fetchWithoutClusterUuid&&clusterUuid){url+=`/cluster/${clusterUuid}`}else{url+="/cluster"}try{const response=await http.post(url,{ccs:ccs});return response.data}catch(err){const Private=angularState.injector.get("Private");const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}};const notifySetupModeDataChange=()=>setup_mode_setupModeState.callback&&setup_mode_setupModeState.callback();const updateSetupModeData=async(uuid,fetchWithoutClusterUuid=false)=>{const data=await fetchCollectionData(uuid,fetchWithoutClusterUuid);setup_mode_setupModeState.data=data;const hasPermissions=Object(external_kbnSharedDeps_Lodash_["get"])(data,"_meta.hasPermissions",false);if(!hasPermissions){let text="";if(!hasPermissions){text=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.notAvailablePermissions",{defaultMessage:"You do not have the necessary permissions to do this."})}angularState.scope.$evalAsync(()=>{Legacy.shims.toastNotifications.addDanger({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.notAvailableTitle",{defaultMessage:"Setup mode is not available"}),text:text})});return toggleSetupMode(false)}notifySetupModeDataChange();const globalState=angularState.injector.get("globalState");const clusterUuid=globalState.cluster_uuid;if(!clusterUuid){const liveClusterUuid=Object(external_kbnSharedDeps_Lodash_["get"])(data,"_meta.liveClusterUuid");const migratedEsNodes=Object.values(Object(external_kbnSharedDeps_Lodash_["get"])(data,"elasticsearch.byUuid",{})).filter(node=>node.isPartiallyMigrated||node.isFullyMigrated);if(liveClusterUuid&&migratedEsNodes.length>0){setNewlyDiscoveredClusterUuid(liveClusterUuid)}}};const hideBottomBar=()=>{setup_mode_setupModeState.hideBottomBar=true;notifySetupModeDataChange()};const showBottomBar=()=>{setup_mode_setupModeState.hideBottomBar=false;notifySetupModeDataChange()};const disableElasticsearchInternalCollection=async()=>{checkAngularState();const http=angularState.injector.get("$http");const globalState=angularState.injector.get("globalState");const clusterUuid=globalState.cluster_uuid;const url=`../api/monitoring/v1/setup/collection/${clusterUuid}/disable_internal_collection`;try{const response=await http.post(url);return response.data}catch(err){const Private=angularState.injector.get("Private");const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}};const toggleSetupMode=inSetupMode=>{checkAngularState();const globalState=angularState.injector.get("globalState");setup_mode_setupModeState.enabled=inSetupMode;globalState.inSetupMode=inSetupMode;globalState.save();setSetupModeMenuItem();notifySetupModeDataChange();if(inSetupMode){updateSetupModeData()}};const setSetupModeMenuItem=()=>{checkAngularState();if(setup_mode_isOnPage("no-data")){return}const globalState=angularState.injector.get("globalState");const enabled=!globalState.inSetupMode;const I18nContext=Legacy.shims.I18nContext;Object(external_kbnSharedDeps_ReactDom_["render"])(external_kbnSharedDeps_React_default.a.createElement(kibanaReact_public_["KibanaContextProvider"],{services:Legacy.shims.kibanaServices},external_kbnSharedDeps_React_default.a.createElement(I18nContext,null,external_kbnSharedDeps_React_default.a.createElement(SetupModeEnterButton,{enabled:enabled,toggleSetupMode:toggleSetupMode}))),document.getElementById("setupModeNav"))};const addSetupModeCallback=callback=>setup_mode_setupModeState.callback=callback;const initSetupModeState=async($scope,$injector,callback)=>{angularState.scope=$scope;angularState.injector=$injector;if(callback){setup_mode_setupModeState.callback=callback}const globalState=$injector.get("globalState");if(globalState.inSetupMode){toggleSetupMode(true)}};const isInSetupMode=context=>{if((context===null||context===void 0?void 0:context.setupModeSupported)===false){return false}if(setup_mode_setupModeState.enabled){return true}const $injector=angularState.injector||Legacy.shims.getAngularInjector();const globalState=$injector.get("globalState");return globalState.inSetupMode};const isSetupModeFeatureEnabled=feature=>{if(!setup_mode_setupModeState.enabled){return false}if(feature===enums["d"].MetricbeatMigration){if(Legacy.shims.isCloud){return false}}return true};const LookingFor=()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"l"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.blurbs.lookingForMonitoringDataTitle",defaultMessage:"We're looking for your monitoring data"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.blurbs.lookingForMonitoringDataDescription",defaultMessage:"Monitoring provides insight to your hardware performance and load."})))));const WhatIs=()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"l"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.blurbs.monitoringIsOffTitle",defaultMessage:"Monitoring is currently off"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.blurbs.monitoringIsOffDescription",defaultMessage:"Monitoring provides insight to your hardware performance and load."})))));const ChangesNeeded=()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"l"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.blurbs.changesNeededTitle",defaultMessage:"You need to make some adjustments"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.blurbs.changesNeededDescription",defaultMessage:"To run monitoring please perform the following steps"})))));const CloudDeployment=()=>{const{ELASTIC_WEBSITE_URL:ELASTIC_WEBSITE_URL}=Legacy.shims.docLinks;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.blurbs.cloudDeploymentDescription",defaultMessage:"Configure monitoring through "}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:"https://cloud.elastic.co/deployments",target:"_blank"},"Elasticsearch Service Console")," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.blurbs.cloudDeploymentDescription2",defaultMessage:"Go to "}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:"https://cloud.elastic.co/deployments",target:"_blank"},"Logs and metrics")," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.blurbs.cloudDeploymentDescription3",defaultMessage:"section for a deployment to configure monitoring. For more information visit "}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:`${ELASTIC_WEBSITE_URL}guide/en/cloud/current/ec-enable-logging-and-monitoring.html`,target:"_blank"},"the documentation page."))))};function CheckingSettings({checkMessage:checkMessage}){const message=checkMessage||external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.defaultLoadingMessage",defaultMessage:"Loading, please wait"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(LookingFor,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{size:"half"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"m"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},message,"...")))}class collection_enabled_ExplainCollectionEnabled extends external_kbnSharedDeps_React_default.a.Component{constructor(props){super(props);this.handleClick=this.handleClick.bind(this);this.waitedTooLongTimer=null;this.state={waitedTooLong:false}}componentWillUnmount(){clearInterval(this.waitedTooLongTimer)}handleClick(){const{enabler:enabler}=this.props;enabler.enableCollectionEnabled();this.waitedTooLongTimer=setTimeout(()=>{this.setState({waitedTooLong:true})},22*1e3)}render(){const{reason:reason,isCollectionEnabledUpdated:isCollectionEnabledUpdated,isCollectionEnabledUpdating:isCollectionEnabledUpdating}=this.props;const{property:property,data:data,context:context}=reason;const renderButton=()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(WhatIs,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{size:"half"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.explanations.collectionEnabledDescription",defaultMessage:"We checked the {context} settings and found that {property} is set to {data}.",values:{context:context,property:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,property),data:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,data)}})),external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.explanations.collectionEnabled.turnItOnDescription",defaultMessage:"Would you like to turn it on?"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center",justifyContent:"spaceAround",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{fill:true,onClick:this.handleClick,type:"button","data-test-subj":"enableCollectionEnabled",isLoading:isCollectionEnabledUpdating},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.explanations.collectionEnabled.turnOnMonitoringButtonLabel",defaultMessage:"Turn on monitoring"})))));const stillWaiting=this.state.waitedTooLong?external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement("a",{href:"#/"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.explanations.collectionEnabled.stillWaitingLinkText",defaultMessage:"Still waiting?"}))):null;const renderSuccess=()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"l","data-test-subj":"monitoringCollectionEnabledMessage"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.explanations.collectionEnabled.monitoringTurnedOnTitle",defaultMessage:"Success! Getting your monitoring data."}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{size:"half"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.explanations.collectionEnabled.monitoringTurnedOnDescription",defaultMessage:"When the data is in your cluster, your monitoring dashboard will show up here. This might take a few seconds."}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),stillWaiting);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,isCollectionEnabledUpdated?renderSuccess():renderButton())}}class collection_interval_ExplainCollectionInterval extends external_kbnSharedDeps_React_default.a.Component{constructor(props){super(props);this.handleClick=this.handleClick.bind(this)}handleClick(){const{enabler:enabler}=this.props;enabler.enableCollectionInterval()}render(){const{reason:reason,isCollectionIntervalUpdated:isCollectionIntervalUpdated,isCollectionIntervalUpdating:isCollectionIntervalUpdating}=this.props;const{context:context,property:property,data:data}=reason;const renderButton=()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(WhatIs,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{size:"half"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.explanations.collectionIntervalDescription",defaultMessage:"We checked the {context} settings and found that {property} is set to {data}.",values:{context:context,property:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,property),data:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,data)}})),external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.explanations.collectionInterval.wrongIntervalValueDescription",defaultMessage:"The collection interval setting needs to be a positive integer (10s is recommended) in order for the collection agents to be active."})),external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.explanations.collectionInterval.changeIntervalDescription",defaultMessage:"Would you like us to change it and enable monitoring?"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center",justifyContent:"spaceAround",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{fill:true,onClick:this.handleClick,type:"button","data-test-subj":"enableCollectionInterval",isLoading:isCollectionIntervalUpdating},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.explanations.collectionInterval.turnOnMonitoringButtonLabel",defaultMessage:"Turn on monitoring"})))));const renderSuccess=()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"l"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.explanations.collectionInterval.monitoringTurnedOnTitle",defaultMessage:"Success! Wait a moment please."}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{size:"half"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.explanations.collectionInterval.monitoringTurnedOnDescription",defaultMessage:"As soon as monitoring data appears in your cluster the page will automatically refresh with your monitoring dashboard. This only takes only a few seconds."}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"l"}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,isCollectionIntervalUpdated?renderSuccess():renderButton())}}function ExplainPluginEnabled({reason:reason}){const{context:context,property:property,data:data}=reason;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(ChangesNeeded,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{size:"half"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.explanations.pluginEnabledDescription",defaultMessage:"We checked the {context} settings and found that {property} is set to {data} set, which disables monitoring. Removing the {monitoringEnableFalse} setting from your configuration will put the default into effect and enable Monitoring.",values:{context:context,property:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,property),data:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,data),monitoringEnableFalse:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,"xpack.monitoring.enabled: false")}}))))}function ExplainExporters({reason:reason}){const{context:context,property:property,data:data}=reason;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(ChangesNeeded,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{size:"half"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{className:"eui-textLeft"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.explanations.exportersDescription",defaultMessage:"We checked the {context} settings for {property}, and found the reason: {data}.",values:{context:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,context),property:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,property),data:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,data)}})),external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.explanations.exporters.problemWithConfigDescription",defaultMessage:"Using monitoring exporters to ship the monitoring data to a remote monitoring cluster is highly recommended as it keeps the integrity of the monitoring data safe no matter what the state of the production cluster. However, as this instance of Kibana could not find any monitoring data, there seems to be a problem with the {property} configuration, or the {monitoringEs} settings in {kibanaConfig}.",values:{property:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,property),monitoringEs:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,"xpack.monitoring.elasticsearch"),kibanaConfig:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,"kibana.yml")}})),external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.explanations.exporters.checkConfigDescription",defaultMessage:"Check that the intended exporters are enabled for sending statistics to the monitoring cluster, and that the monitoring cluster host matches the {monitoringEs} setting in {kibanaConfig} to see monitoring data in this instance of Kibana.",values:{monitoringEs:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,"xpack.monitoring.elasticsearch"),kibanaConfig:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,"kibana.yml")}}))))}function ExplainExportersCloud(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(CloudDeployment,null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{size:"half"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{className:"eui-textLeft"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.explanations.exportersCloudDescription",defaultMessage:"In Elastic Cloud, your monitoring data is stored in your dedicated monitoring cluster."}))))}const ExplainWhyNoData=props=>{const{reason:reason}=props;const{property:property,data:data,context:context}=reason;switch(property){case"xpack.monitoring.collection.enabled":return external_kbnSharedDeps_React_default.a.createElement(collection_enabled_ExplainCollectionEnabled,props);case"xpack.monitoring.collection.interval":return external_kbnSharedDeps_React_default.a.createElement(collection_interval_ExplainCollectionInterval,props);case"xpack.monitoring.exporters":return external_kbnSharedDeps_React_default.a.createElement(ExplainExporters,props);case"xpack.monitoring.exporters.cloud_enabled":return external_kbnSharedDeps_React_default.a.createElement(ExplainExportersCloud,null);case"xpack.monitoring.enabled":return external_kbnSharedDeps_React_default.a.createElement(ExplainPluginEnabled,props);case"custom":return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,reason.message));default:return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.reasons.explainWhyNoDataDescription",defaultMessage:"There is a {context} setting that has {property} set to {data}.",values:{context:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,context),property:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,property),data:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCode"],null,data)}})))}};function ReasonFound(props){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(ExplainWhyNoData,props))}function WeTried(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"l"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.reasons.couldNotActivateMonitoringTitle",defaultMessage:"We couldn't activate monitoring"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{size:"half"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{className:"eui-textLeft"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.reasons.noMonitoringDataFoundDescription",defaultMessage:'No monitoring data found. Try setting the time filter to "Last 1 hour" or check if data is available for a different time period.'})),external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.reasons.ifDataInClusterDescription",defaultMessage:"If data is in your cluster, your monitoring dashboards will show up here."}))))}const ErrorList=({errors:errors})=>{const errorsMap={};return errors.filter(err=>{const{statusCode:statusCode,error:error,message:message}=err;const key=`${statusCode}${error}${message}`;if(!errorsMap[key]){errorsMap[key]=true;return true}}).map((error,errorIndex)=>{const{message:message,statusCode:statusCode,error:friendlyName}=error;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],{key:`checker-error-${errorIndex}`},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,statusCode," ",friendlyName),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],null,message))})};function CheckerErrors(props){if(props.errors===undefined||props.errors.length===0){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:"Errors found",color:"danger",className:"eui-textLeft"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.checkerErrors.checkEsSettingsErrorMessage",defaultMessage:"There were some errors encountered in trying to check Elasticsearch settings. You need administrator rights to check the settings and, if needed, to enable the monitoring collection setting."})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],null,external_kbnSharedDeps_React_default.a.createElement(ErrorList,props))))}function getSafeForExternalLink(url,globalState={},location=window.location){let hash=location.hash?location.hash.split("?")[1]:"";const globalStateExecResult=/_g=\((.+)\)$/.exec(hash);if(!globalStateExecResult||!globalStateExecResult.length){if(!hash){return url}return`${url.split("?")[0]}?${hash}`}let newGlobalState=globalStateExecResult[1];Object.keys(globalState).forEach(globalStateKey=>{let value=globalState[globalStateKey];if(globalStateKey==="cluster_uuid"){value=`'${value}'`}const keyRegExp=new RegExp(`${globalStateKey}:([^,]+)`);const execResult=keyRegExp.exec(newGlobalState);if(execResult&&execResult.length){newGlobalState=newGlobalState.replace(execResult[0],`${globalStateKey}:${value}`)}else{newGlobalState+=`,${globalStateKey}:${value}`}});hash=hash.replace(globalStateExecResult[0],`_g=(${newGlobalState})`);return`${url.split("?")[0]}?${hash}`}function NoDataMessage(props){const{isLoading:isLoading,reason:reason,checkMessage:checkMessage}=props;if(isLoading){return external_kbnSharedDeps_React_default.a.createElement(CheckingSettings,{checkMessage:checkMessage})}if(reason){return external_kbnSharedDeps_React_default.a.createElement(ReasonFound,props)}return external_kbnSharedDeps_React_default.a.createElement(WeTried,null)}function NoData(props){const[isLoading,setIsLoading]=Object(external_kbnSharedDeps_React_["useState"])(false);const[useInternalCollection,setUseInternalCollection]=Object(external_kbnSharedDeps_React_["useState"])(false);const isCloudEnabled=props.isCloudEnabled;async function startSetup(){setIsLoading(true);await toggleSetupMode(true);window.location.hash=getSafeForExternalLink("#/elasticsearch/nodes")}if(isCloudEnabled){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiScreenReaderOnly"],null,external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.cloud.heading",defaultMessage:"No monitoring data found."}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],{restrictWidth:600},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],{verticalPosition:"center",horizontalPosition:"center",className:"eui-textCenter"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"monitoringApp",size:"xxl"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"l"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.cloud.title",defaultMessage:"Monitoring data not available"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.cloud.description",defaultMessage:"Monitoring provides insight to your hardware performance and load."})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{size:"half"}),external_kbnSharedDeps_React_default.a.createElement(CloudDeployment,null))))}if(useInternalCollection){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],{restrictWidth:600},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],{verticalPosition:"center",horizontalPosition:"center",className:"eui-textCenter"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"monitoringApp",size:"xxl"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(NoDataMessage,props),external_kbnSharedDeps_React_default.a.createElement(CheckerErrors,{errors:props.errors}),!props.isCloudEnabled?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{size:"half"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{isDisabled:props.isCollectionEnabledUpdated,onClick:()=>setUseInternalCollection(false)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"default"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.setupMetricbeatInstead",defaultMessage:"Or, set up with Metricbeat (recommended)"})))):null)))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],{restrictWidth:600},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],{verticalPosition:"center",horizontalPosition:"center",className:"eui-textCenter"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"monitoringApp",size:"xxl"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"l"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.noMonitoringDetected",defaultMessage:"No monitoring data found"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{size:"half"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.noMonitoringDataFound",defaultMessage:"Have you set up monitoring yet? If so, make sure that the selected time period in the upper right includes monitoring data."}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center",justifyContent:"spaceAround",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{fill:true,onClick:startSetup,type:"button","data-test-subj":"enableCollectionInterval",isLoading:isLoading},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.collectionInterval.turnOnMonitoringButtonLabel",defaultMessage:"Set up monitoring with Metricbeat"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{size:"half"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{onClick:()=>setUseInternalCollection(true),"data-test-subj":"useInternalCollection"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.noData.setupInternalInstead",defaultMessage:"Or, set up with self monitoring"}))))))}const AddLicense=({uploadPath:uploadPath})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCard"],{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.updateLicenseTitle",defaultMessage:"Update your license"}),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.useAvailableLicenseDescription",defaultMessage:"If you already have a new license, upload it now."}),footer:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{"data-test-subj":"updateLicenseButton",href:uploadPath},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.updateLicenseButtonLabel",defaultMessage:"Update license"}))});class license_LicenseStatus extends external_kbnSharedDeps_React_default.a.PureComponent{render(){const{isExpired:isExpired,status:status,type:type,expiryDate:expiryDate}=this.props;const typeTitleCase=type.charAt(0).toUpperCase()+type.substr(1).toLowerCase();let icon;let title;let message;if(isExpired){icon=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{color:"danger",type:"alert"});message=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.expiredLicenseStatusDescription",defaultMessage:"Your license expired on {expiryDate}",values:{expiryDate:external_kbnSharedDeps_React_default.a.createElement("strong",null,expiryDate)}}));title=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.expiredLicenseStatusTitle",defaultMessage:"Your {typeTitleCase} license has expired",values:{typeTitleCase:typeTitleCase}})}else{icon=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{color:"success",type:"checkInCircleFilled",size:"l"});message=expiryDate?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.activeLicenseStatusDescription",defaultMessage:"Your license will expire on {expiryDate}",values:{expiryDate:external_kbnSharedDeps_React_default.a.createElement("strong",null,expiryDate)}})):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.permanentActiveLicenseStatusDescription",defaultMessage:"Your license will never expire."}));title=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.activeLicenseStatusTitle",defaultMessage:"Your {typeTitleCase} license is {status}",values:{typeTitleCase:typeTitleCase,status:status.toLowerCase()}})}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextAlign"],{textAlign:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"center",alignItems:"center",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},icon),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"m"},external_kbnSharedDeps_React_default.a.createElement("h1",{"data-test-subj":"licenseText"},title)))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{"data-test-subj":"licenseSubText"},message))}}const LicenseUpdateInfoForPrimary=({isPrimaryCluster:isPrimaryCluster,uploadLicensePath:uploadLicensePath})=>{if(!isPrimaryCluster){return null}return external_kbnSharedDeps_React_default.a.createElement(AddLicense,{uploadPath:uploadLicensePath})};const LicenseUpdateInfoForRemote=({isPrimaryCluster:isPrimaryCluster})=>{if(isPrimaryCluster){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.license.howToUpdateLicenseDescription",defaultMessage:"To update the license for this cluster, provide the license file through the Elasticsearch {apiText}:",values:{apiText:"API"}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],null,`curl -XPUT -u <user> 'https://<host>:<port>/_license' -H 'Content-Type: application/json' -d @license.json`))};function License(props){const{status:status,type:type,isExpired:isExpired,expiryDate:expiryDate}=props;const licenseManagement=`${Legacy.shims.getBasePath()}/app/management/stack/license_management`;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiScreenReaderOnly"],null,external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.license.heading",defaultMessage:"License"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(license_LicenseStatus,{isExpired:isExpired,status:status,type:type,expiryDate:expiryDate}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(LicenseUpdateInfoForPrimary,props),external_kbnSharedDeps_React_default.a.createElement(LicenseUpdateInfoForRemote,props))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s",textAlign:"center"},external_kbnSharedDeps_React_default.a.createElement("p",null,"For more license options please visit ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:licenseManagement},"License Management"),"."))))}var page_loading=__webpack_require__(55);function PageLoadingUI(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],{style:{height:"calc(100vh - 50px)"}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],{verticalPosition:"center",horizontalPosition:"center",className:"monNoData__content"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceAround"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"xl"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.pageLoadingTitle",defaultMessage:"Loading…"}))))))))}function PageLoadingTracking({pageViewTitle:pageViewTitle}){const path=pageViewTitle.toLowerCase().replace(/-/g,"").replace(/\s+/g,"_");Object(observability_public_["useTrackPageview"])({app:"stack_monitoring",path:path});Object(observability_public_["useTrackPageview"])({app:"stack_monitoring",path:path,delay:15e3});return external_kbnSharedDeps_React_default.a.createElement(PageLoadingUI,null)}function PageLoading({pageViewTitle:pageViewTitle}){if(pageViewTitle){return external_kbnSharedDeps_React_default.a.createElement(PageLoadingTracking,{pageViewTitle:pageViewTitle})}return external_kbnSharedDeps_React_default.a.createElement(PageLoadingUI,null)}function StatusIcon({type:type,label:label}){const typeToIconMap={[StatusIcon.TYPES.RED]:"danger",[StatusIcon.TYPES.YELLOW]:"warning",[StatusIcon.TYPES.GREEN]:"success",[StatusIcon.TYPES.GRAY]:"subdued"};const icon=typeToIconMap[type];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{alt:label,size:"l","data-test-subj":"statusIcon",type:"dot",color:icon})}StatusIcon.TYPES={RED:"RED",YELLOW:"YELLOW",GREEN:"GREEN",GRAY:"GRAY"};const SetupModeContext=external_kbnSharedDeps_React_default.a.createContext({setupModeSupported:false});const AlertsContext=external_kbnSharedDeps_React_default.a.createContext({allAlerts:{}});var external_kbnSharedDeps_Moment_=__webpack_require__(12);var external_kbnSharedDeps_Moment_default=__webpack_require__.n(external_kbnSharedDeps_Moment_);var moment_duration_format=__webpack_require__(39);function formatTimestampToDuration(timestamp,calculationFlag,initialTime){initialTime=initialTime||external_kbnSharedDeps_Moment_default()();let timeDuration;if(calculationFlag===constants["t"]){timeDuration=external_kbnSharedDeps_Moment_default.a.duration(initialTime-external_kbnSharedDeps_Moment_default()(timestamp))}else if(calculationFlag===constants["u"]){timeDuration=external_kbnSharedDeps_Moment_default.a.duration(external_kbnSharedDeps_Moment_default()(timestamp)-initialTime)}else{throw new Error('[formatTimestampToDuration] requires a [calculationFlag] parameter to specify format as "since" or "until" the given time.')}let duration;if(Math.abs(initialTime.diff(timestamp,"months"))>=1){duration=external_kbnSharedDeps_Moment_default.a.duration(timeDuration).format(constants["J"])}else if(Math.abs(initialTime.diff(timestamp,"minutes"))>=1){duration=external_kbnSharedDeps_Moment_default.a.duration(timeDuration).format(constants["K"])}else{duration=external_kbnSharedDeps_Moment_default.a.duration(timeDuration).format(constants["L"])}return duration.replace(/ -?0 mins$/,"").replace(/ -?0 hrs$/,"").replace(/ -?0 days$/,"")}function replaceTokens(alertMessage){if(!alertMessage){return null}let text=alertMessage.text;if(!alertMessage.tokens||!alertMessage.tokens.length){return text}const timeTokens=alertMessage.tokens.filter(token=>token.type===enums["a"].Time);const linkTokens=alertMessage.tokens.filter(token=>token.type===enums["a"].Link);const docLinkTokens=alertMessage.tokens.filter(token=>token.type===enums["a"].DocLink);for(const token of timeTokens){const timeToken=token;text=text.replace(timeToken.startToken,timeToken.isRelative?formatTimestampToDuration(timeToken.timestamp,constants["u"]):external_kbnSharedDeps_Moment_default.a.tz(timeToken.timestamp,external_kbnSharedDeps_Moment_default.a.tz.guess()).format("LLL z"))}let element=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,text);for(const token of linkTokens){const linkToken=token;const linkPart=new RegExp(`${linkToken.startToken}(.+?)${linkToken.endToken}`).exec(text);if(!linkPart||linkPart.length<2){continue}const index=text.indexOf(linkPart[0]);const preString=text.substring(0,index);const postString=text.substring(index+linkPart[0].length);const safeLink=getSafeForExternalLink(`#/${linkToken.url}`);element=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,preString,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:safeLink},linkPart[1]),postString)}for(const token of docLinkTokens){const linkToken=token;const linkPart=new RegExp(`${linkToken.startToken}(.+?)${linkToken.endToken}`).exec(text);if(!linkPart||linkPart.length<2){continue}const url=linkToken.partialUrl.replace("{basePath}",Legacy.shims.getBasePath()).replace("{elasticWebsiteUrl}",Legacy.shims.docLinks.ELASTIC_WEBSITE_URL).replace("{docLinkVersion}",Legacy.shims.docLinks.DOC_LINK_VERSION);const index=text.indexOf(linkPart[0]);const preString=text.substring(0,index);const postString=text.substring(index+linkPart[0].length);element=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,preString,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:url,target:"_blank",external:true},linkPart[1]),postString)}return element}var common_=__webpack_require__(23);const AlertConfiguration=props=>{const{alert:alert,compressed:compressed}=props;const[showFlyout,setShowFlyout]=external_kbnSharedDeps_React_default.a.useState(false);const[isEnabled,setIsEnabled]=external_kbnSharedDeps_React_default.a.useState(alert.enabled);const[isMuted,setIsMuted]=external_kbnSharedDeps_React_default.a.useState(alert.muteAll);const[isSaving,setIsSaving]=external_kbnSharedDeps_React_default.a.useState(false);async function disableAlert(){setIsSaving(true);try{await Legacy.shims.http.post(`${common_["BASE_ALERT_API_PATH"]}/alert/${alert.id}/_disable`)}catch(err){Legacy.shims.toastNotifications.addDanger({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.alerts.panel.disableAlert.errorTitle",{defaultMessage:`Unable to disable alert`}),text:err.message})}setIsSaving(false)}async function enableAlert(){setIsSaving(true);try{await Legacy.shims.http.post(`${common_["BASE_ALERT_API_PATH"]}/alert/${alert.id}/_enable`)}catch(err){Legacy.shims.toastNotifications.addDanger({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.alerts.panel.enableAlert.errorTitle",{defaultMessage:`Unable to enable alert`}),text:err.message})}setIsSaving(false)}async function muteAlert(){setIsSaving(true);try{await Legacy.shims.http.post(`${common_["BASE_ALERT_API_PATH"]}/alert/${alert.id}/_mute_all`)}catch(err){Legacy.shims.toastNotifications.addDanger({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.alerts.panel.muteAlert.errorTitle",{defaultMessage:`Unable to mute alert`}),text:err.message})}setIsSaving(false)}async function unmuteAlert(){setIsSaving(true);try{await Legacy.shims.http.post(`${common_["BASE_ALERT_API_PATH"]}/alert/${alert.id}/_unmute_all`)}catch(err){Legacy.shims.toastNotifications.addDanger({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.alerts.panel.ummuteAlert.errorTitle",{defaultMessage:`Unable to unmute alert`}),text:err.message})}setIsSaving(false)}const flyoutUi=Object(external_kbnSharedDeps_React_["useMemo"])(()=>showFlyout&&Legacy.shims.triggersActionsUi.getEditAlertFlyout({initialAlert:alert,onClose:()=>{setShowFlyout(false);showBottomBar()}}),[showFlyout]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:compressed?"flexStart":"spaceBetween",gutterSize:compressed?"m":"xs",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{size:compressed?"s":"m",onClick:()=>{setShowFlyout(true);hideBottomBar()}},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.alerts.panel.editAlert",{defaultMessage:`Edit alert`}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSwitch"],{name:"disable",disabled:isSaving,checked:!isEnabled,onChange:async()=>{if(isEnabled){setIsEnabled(false);await disableAlert()}else{setIsEnabled(true);await enableAlert()}},label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.alerts.panel.disableTitle",defaultMessage:"Disable"})})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSwitch"],{name:"mute",disabled:isSaving,checked:isMuted,"data-test-subj":"muteSwitch",onChange:async()=>{if(isMuted){setIsMuted(false);await unmuteAlert()}else{setIsMuted(true);await muteAlert()}},label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.alerts.panel.muteTitle",defaultMessage:"Mute"})}))),flyoutUi)};const AlertPanel=props=>{const{alert:alert,alertState:alertState}=props;const inSetupMode=isInSetupMode(external_kbnSharedDeps_React_default.a.useContext(SetupModeContext));if(!alert){return null}if(inSetupMode||!alertState){return external_kbnSharedDeps_React_default.a.createElement("div",{style:{padding:"1rem"}},external_kbnSharedDeps_React_default.a.createElement(AlertConfiguration,{alert:alert}))}const nextStepsUi=alertState.state.ui.message.nextSteps&&alertState.state.ui.message.nextSteps.length?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiListGroup"],null,alertState.state.ui.message.nextSteps.map((step,index)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiListGroupItem"],{size:"s",key:index,label:replaceTokens(step)}))):null;const{code:code}=alertState.state.ui.message;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement("div",{style:{padding:"1rem"}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h5",null,replaceTokens(alertState.state.ui.message))),code!==null&&code!==void 0&&code.length?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],{fontSize:"s",paddingSize:"s",language:"json",isCopyable:true,overflowHeight:150},code):null,nextStepsUi?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}):null,nextStepsUi),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"s"}),external_kbnSharedDeps_React_default.a.createElement("div",{style:{padding:"0 1rem 1rem 1rem"}},external_kbnSharedDeps_React_default.a.createElement(AlertConfiguration,{alert:alert})))};var external_kbnSharedDeps_MomentTimezone_=__webpack_require__(21);var external_kbnSharedDeps_MomentTimezone_default=__webpack_require__.n(external_kbnSharedDeps_MomentTimezone_);const LARGE_FLOAT="0,0.[00]";const SMALL_FLOAT="0.[00]";const LARGE_BYTES="0,0.0 b";const SMALL_BYTES="0.0 b";const LARGE_ABBREVIATED="0,0.[0]a";const ROUNDED_FLOAT="00.[00]";function formatDateTimeLocal(date,useUTC=false,timezone=null){return useUTC?external_kbnSharedDeps_MomentTimezone_default.a.utc(date).format("LL LTS"):external_kbnSharedDeps_MomentTimezone_default.a.tz(date,timezone||external_kbnSharedDeps_MomentTimezone_default.a.tz.guess()).format("LL LTS")}function shortenPipelineHash(hash){return hash.substr(0,6)}function getDateFromNow(timestamp,tz){return external_kbnSharedDeps_MomentTimezone_default()(timestamp).tz(tz==="Browser"?external_kbnSharedDeps_MomentTimezone_default.a.tz.guess():tz).fromNow()}function getCalendar(timestamp,tz){return external_kbnSharedDeps_MomentTimezone_default()(timestamp).tz(tz==="Browser"?external_kbnSharedDeps_MomentTimezone_default.a.tz.guess():tz).calendar()}function sortByNewestAlert(a,b){if(a.state.ui.triggeredMS===b.state.ui.triggeredMS){return 0}return a.state.ui.triggeredMS<b.state.ui.triggeredMS?1:-1}function getAlertPanelsByCategory(panelTitle,inSetupMode,alerts,alertsContext,stateFilter){const menu=[];for(const category of constants["n"]){let categoryFiringAlertCount=0;if(inSetupMode){const alertsInCategory=[];for(const categoryAlert of category.alerts){if(Boolean(alerts.find(({rawAlert:rawAlert})=>rawAlert.alertTypeId===categoryAlert.alertName))){alertsInCategory.push(categoryAlert)}}if(alertsInCategory.length>0){menu.push({...category,alerts:alertsInCategory.map(({alertName:alertName})=>{const alertStatus=alertsContext.allAlerts[alertName];return{alert:alertStatus.rawAlert,states:[],alertName:alertName}}),alertCount:0})}}else{const firingAlertsInCategory=[];for(const{alertName:alertName}of category.alerts){const foundAlert=alerts.find(({rawAlert:{alertTypeId:alertTypeId}})=>alertName===alertTypeId);if(foundAlert&&foundAlert.states.length>0){const states=foundAlert.states.filter(({state:state})=>stateFilter(state));if(states.length>0){firingAlertsInCategory.push({alert:foundAlert.rawAlert,states:foundAlert.states,alertName:alertName});categoryFiringAlertCount+=states.length}}}if(firingAlertsInCategory.length>0){menu.push({...category,alertCount:categoryFiringAlertCount,alerts:firingAlertsInCategory})}}}for(const item of menu){for(const alert of item.alerts){alert.states.sort(sortByNewestAlert)}}const panels=[{id:0,title:panelTitle,items:[...menu.map((category,index)=>{const name=inSetupMode?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,category.label):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,category.label," (",category.alertCount,")"));return{name:name,panel:index+1}})]}];if(inSetupMode){let secondaryPanelIndex=menu.length;let tertiaryPanelIndex=menu.length;let nodeIndex=0;for(const category of menu){panels.push({id:nodeIndex+1,title:`${category.label}`,items:category.alerts.map(({alertName:alertName})=>{const alertStatus=alertsContext.allAlerts[alertName];return{name:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,alertStatus.rawAlert.name),panel:++secondaryPanelIndex}})});nodeIndex++}for(const category of menu){for(const{alert:alert,alertName:alertName}of category.alerts){const alertStatus=alertsContext.allAlerts[alertName];panels.push({id:++tertiaryPanelIndex,title:`${alert.name}`,width:400,content:external_kbnSharedDeps_React_default.a.createElement(AlertPanel,{alert:alertStatus.rawAlert})})}}}else{let primaryPanelIndex=menu.length;let nodeIndex=0;for(const category of menu){panels.push({id:nodeIndex+1,title:`${category.label}`,items:category.alerts.map(({alertName:alertName,states:states})=>{const filteredStates=states.filter(({state:state})=>stateFilter(state));const alertStatus=alertsContext.allAlerts[alertName];const name=inSetupMode?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,alertStatus.rawAlert.name):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,alertStatus.rawAlert.name," (",filteredStates.length,")");return{name:name,panel:++primaryPanelIndex}})});nodeIndex++}let secondaryPanelIndex=menu.length;let tertiaryPanelIndex=menu.reduce((count,category)=>{count+=category.alerts.length;return count},menu.length);for(const category of menu){for(const{alert:alert,states:states}of category.alerts){const items=[];for(const alertState of states.filter(({state:state})=>stateFilter(state))){const{nodeName:nodeName,itemLabel:itemLabel}=alertState.state;items.push({name:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",content:getCalendar(alertState.state.ui.triggeredMS,Legacy.shims.uiSettings.get("dateFormat:tz"))},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},getDateFromNow(alertState.state.ui.triggeredMS,Legacy.shims.uiSettings.get("dateFormat:tz")))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},nodeName||itemLabel)),panel:++tertiaryPanelIndex});items.push({isSeparator:true})}panels.push({id:++secondaryPanelIndex,title:`${alert.name}`,items:items})}}let tertiaryPanelIndex2=menu.reduce((count,category)=>{count+=category.alerts.length;return count},menu.length);for(const category of menu){for(const{alert:alert,states:states}of category.alerts){for(const state of states.filter(({state:_state})=>stateFilter(_state))){panels.push({id:++tertiaryPanelIndex2,title:`${alert.name}`,width:400,content:external_kbnSharedDeps_React_default.a.createElement(AlertPanel,{alert:alert,alertState:state})})}}}}return panels}function getAlertPanelsByNode(panelTitle,alerts,stateFilter){const alertsByNodes={};const statesByNodes={};for(const{states:states,rawAlert:rawAlert}of alerts){const{alertTypeId:alertTypeId}=rawAlert;for(const alertState of states.filter(({state:_state})=>stateFilter(_state))){const{state:state}=alertState;statesByNodes[state.nodeId]=statesByNodes[state.nodeId]||[];statesByNodes[state.nodeId].push(alertState);alertsByNodes[state.nodeId]=alertsByNodes[state.nodeId]||{};alertsByNodes[state.nodeId][alertTypeId]=alertsByNodes[alertState.state.nodeId][alertTypeId]||{alert:rawAlert,states:[],count:0};alertsByNodes[state.nodeId][alertTypeId].count++;alertsByNodes[state.nodeId][alertTypeId].states.push(alertState)}}for(const types of Object.values(alertsByNodes)){for(const{states:states}of Object.values(types)){states.sort(sortByNewestAlert)}}const nodeCount=Object.keys(statesByNodes).length;let secondaryPanelIndex=nodeCount;let tertiaryPanelIndex=nodeCount;const panels=[{id:0,title:panelTitle,items:[...Object.keys(statesByNodes).map((nodeUuid,index)=>{const states=statesByNodes[nodeUuid].filter(({state:state})=>stateFilter(state));const{nodeName:nodeName,itemLabel:itemLabel}=states[0].state;return{name:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,nodeName||itemLabel," (",states.length,")"),panel:index+1}})]},...Object.keys(statesByNodes).reduce((accum,nodeUuid,nodeIndex)=>{const alertsForNode=Object.values(alertsByNodes[nodeUuid]);const panelItems=[];let title="";for(const{alert:alert,states:states}of alertsForNode){for(const alertState of states){const{nodeName:nodeName,itemLabel:itemLabel}=alertState.state;title=nodeName||itemLabel;panelItems.push({name:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",content:getCalendar(alertState.state.ui.triggeredMS,Legacy.shims.uiSettings.get("dateFormat:tz"))},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},getDateFromNow(alertState.state.ui.triggeredMS,Legacy.shims.uiSettings.get("dateFormat:tz")))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},alert.name)),panel:++secondaryPanelIndex})}}accum.push({id:nodeIndex+1,title:title,items:panelItems});return accum},[]),...Object.keys(statesByNodes).reduce((accum,nodeUuid,nodeIndex)=>{const alertsForNode=Object.values(alertsByNodes[nodeUuid]);for(const{alert:alert,states:states}of alertsForNode){for(const alertState of states){accum.push({id:++tertiaryPanelIndex,title:alert.name,width:400,content:external_kbnSharedDeps_React_default.a.createElement(AlertPanel,{alert:alert,alertState:alertState})})}}return accum},[])];return panels}const numberOfAlertsLabel=count=>`${count} alert${count>1?"s":""}`;const MAX_TO_SHOW_BY_CATEGORY=8;const PANEL_TITLE=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.alerts.badge.panelTitle",{defaultMessage:"Alerts"});const GROUP_BY_NODE=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.alerts.badge.groupByNode",{defaultMessage:"Group by node"});const GROUP_BY_TYPE=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.alerts.badge.groupByType",{defaultMessage:"Group by alert type"});const AlertsBadge=props=>{const{stateFilter:stateFilter=(()=>true)}=props;const alerts=Object.values(props.alerts).filter(alertItem=>Boolean(alertItem===null||alertItem===void 0?void 0:alertItem.rawAlert));const[showPopover,setShowPopover]=external_kbnSharedDeps_React_default.a.useState(null);const inSetupMode=isInSetupMode(external_kbnSharedDeps_React_default.a.useContext(SetupModeContext));const alertsContext=external_kbnSharedDeps_React_default.a.useContext(AlertsContext);const alertCount=inSetupMode?alerts.length:alerts.reduce((sum,{states:states})=>sum+states.filter(({state:state})=>stateFilter(state)).length,0);const[showByNode,setShowByNode]=external_kbnSharedDeps_React_default.a.useState(!inSetupMode&&alertCount>MAX_TO_SHOW_BY_CATEGORY);external_kbnSharedDeps_React_default.a.useEffect(()=>{if(inSetupMode&&showByNode){setShowByNode(false)}},[inSetupMode,showByNode]);if(alertCount===0){return null}const groupByType=GROUP_BY_NODE;const panels=showByNode?getAlertPanelsByNode(PANEL_TITLE,alerts,stateFilter):getAlertPanelsByCategory(PANEL_TITLE,inSetupMode,alerts,alertsContext,stateFilter);if(panels.length&&!inSetupMode&&panels[0].items){panels[0].items.push(...[{isSeparator:true},{name:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSwitch"],{checked:false,onChange:()=>setShowByNode(!showByNode),label:showByNode?GROUP_BY_TYPE:groupByType})}])}const button=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],{iconType:"bell",color:inSetupMode?"default":"danger",onClickAriaLabel:numberOfAlertsLabel(alertCount),onClick:()=>setShowPopover(true)},numberOfAlertsLabel(alertCount));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopover"],{id:"monitoringAlertMenu",button:button,isOpen:showPopover===true,closePopover:()=>setShowPopover(null),panelPaddingSize:"none",anchorPosition:"downLeft"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiContextMenu"],{key:`${showByNode?"byNode":"byType"}_${panels.length}`,initialPanelId:0,panels:panels}))};const AlertsStatus=props=>{const{alerts:alerts,showBadge:showBadge=false,showOnlyCount:showOnlyCount=false,stateFilter:stateFilter=(()=>true)}=props;const inSetupMode=isInSetupMode(external_kbnSharedDeps_React_default.a.useContext(SetupModeContext));if(!alerts){return null}let atLeastOneDanger=false;const count=Object.values(alerts).reduce((cnt,alertStatus)=>{const firingStates=alertStatus.states.filter(state=>state.firing);const firingAndFilterStates=firingStates.filter(state=>stateFilter(state.state));cnt+=firingAndFilterStates.length;if(firingStates.length){if(!atLeastOneDanger){for(const state of alertStatus.states){if(stateFilter(state.state)&&state.state.ui.severity===enums["c"].Danger){atLeastOneDanger=true;break}}}}return cnt},0);if(count===0&&(!inSetupMode||showOnlyCount)){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.alerts.status.clearToolip",{defaultMessage:"No alerts firing"}),position:"bottom"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:"success","data-test-subj":"alertIcon"},showOnlyCount?count:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.alerts.status.clearText",defaultMessage:"Clear"})))}if(showBadge||inSetupMode){return external_kbnSharedDeps_React_default.a.createElement(AlertsBadge,{alerts:alerts,stateFilter:stateFilter})}const severity=atLeastOneDanger?enums["c"].Danger:enums["c"].Warning;const tooltipText=(()=>{switch(severity){case enums["c"].Danger:return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.alerts.status.highSeverityTooltip",{defaultMessage:"There are some critical issues that require your immediate attention!"});case enums["c"].Warning:return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.alerts.status.mediumSeverityTooltip",{defaultMessage:"There are some issues that might have impact on the stack."});default:return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.alerts.status.lowSeverityTooltip",{defaultMessage:"There are some low-severity issues."})}})();return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:tooltipText,position:"bottom"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:severity,"data-test-subj":"alertIcon"},showOnlyCount?count:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.alerts.status.alertsTooltip",defaultMessage:"Alerts"})))};var summary_status=__webpack_require__(64);function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}const wrapChild=({label:label,value:value,...props},index)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],_extends({style:{maxWidth:200},key:`summary-status-item-${index}`,grow:false},props),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiStat"],{title:value,className:"monSummaryStatusNoWrap__stat",titleSize:"xxxs",textAlign:"left",description:label?`${label}`:""}));const DefaultIconComponent=({status:status})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.summaryStatus.statusIconTitle",defaultMessage:"Status: {statusIcon}",values:{statusIcon:external_kbnSharedDeps_React_default.a.createElement(StatusIcon,{type:status.toUpperCase(),label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.summaryStatus.statusIconLabel",{defaultMessage:"Status: {status}",values:{status:status}})})}}));const StatusIndicator=({status:status,isOnline:isOnline,IconComponent:IconComponent})=>{if(Object(external_kbnSharedDeps_Lodash_["isEmpty"])(status)){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{className:"eui-textTruncate",style:{maxWidth:200},key:`summary-status-item-status`,grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiStat"],{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(IconComponent,{status:status,isOnline:isOnline})," ",Object(external_kbnSharedDeps_Lodash_["capitalize"])(status)),titleSize:"xxxs",textAlign:"left",className:"monSummaryStatusNoWrap__stat",description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.summaryStatus.statusDescription",{defaultMessage:"Status"})}))};function SummaryStatus({metrics:metrics,status:status,alerts:alerts,isOnline:isOnline,IconComponent:IconComponent=DefaultIconComponent,...props}){return external_kbnSharedDeps_React_default.a.createElement("div",_extends({},props,{className:"monSummaryStatusNoWrap"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"m",alignItems:"center",justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(StatusIndicator,{status:status,IconComponent:IconComponent,isOnline:isOnline}),alerts?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiStat"],{title:external_kbnSharedDeps_React_default.a.createElement(AlertsStatus,{showOnlyCount:true,alerts:alerts}),titleSize:"xxxs",textAlign:"left",className:"monSummaryStatusNoWrap__stat",description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.summaryStatus.alertsDescription",{defaultMessage:"Alerts"})})):null,metrics.map(wrapChild)))}function ElasticsearchStatusIcon({status:status}){const type=(()=>{const statusKey=status.toUpperCase();return StatusIcon.TYPES[statusKey]||StatusIcon.TYPES.GRAY})();return external_kbnSharedDeps_React_default.a.createElement(StatusIcon,{type:type,label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.healthStatusLabel",{defaultMessage:"Health: {status}",values:{status:status}})})}var external_kbnSharedDeps_ElasticNumeral_=__webpack_require__(15);var external_kbnSharedDeps_ElasticNumeral_default=__webpack_require__.n(external_kbnSharedDeps_ElasticNumeral_);function formatBytesUsage(used,max){return formatNumber(used,"byte")+" / "+formatNumber(max,"byte")}function formatPercentageUsage(used,max){return formatNumber(used/max,"0.00%")}function formatNumber(num,which){const isNan=Number.isNaN(num);let format="0,0.0";if(typeof num!=="number"||isNan){if(num!==undefined&&!isNan){return num}num=0;format="0"}let postfix="";switch(which){case"time_since":return external_kbnSharedDeps_Moment_default()(external_kbnSharedDeps_Moment_default()()-num).from(external_kbnSharedDeps_Moment_default()(),true);case"time":return external_kbnSharedDeps_Moment_default()(num).format("H:mm:ss");case"int_commas":format="0,0";break;case"byte":case"bytes":format+=" b";break;case"ms":postfix="ms";break;default:if(which){format=which}}return external_kbnSharedDeps_ElasticNumeral_default()(num).format(format)+postfix}function formatMetric(value,format,suffix,options={}){const{prependSpace:prependSpace=true}=options;if(Boolean(value)||value===0){let _suffix="";if(suffix!==undefined){if(prependSpace){_suffix=` ${suffix}`}else{_suffix=suffix}}return formatNumber(value,format)+_suffix}return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.formatNumbers.notAvailableLabel",{defaultMessage:"N/A"})}function ClusterStatus({stats:stats,alerts:alerts}){const{dataSize:dataSize,nodesCount:nodesCount,indicesCount:indicesCount,memUsed:memUsed,memMax:memMax,totalShards:totalShards,unassignedShards:unassignedShards,documentCount:documentCount,status:status}=stats;const metrics=[{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.clusterStatus.nodesLabel",{defaultMessage:"Nodes"}),value:nodesCount,"data-test-subj":"nodesCount"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.clusterStatus.indicesLabel",{defaultMessage:"Indices"}),value:indicesCount,"data-test-subj":"indicesCount"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.clusterStatus.memoryLabel",{defaultMessage:"JVM Heap"}),value:formatMetric(memUsed,"byte")+" / "+formatMetric(memMax,"byte"),"data-test-subj":"memory"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.clusterStatus.totalShardsLabel",{defaultMessage:"Total shards"}),value:totalShards,"data-test-subj":"totalShards"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.clusterStatus.unassignedShardsLabel",{defaultMessage:"Unassigned shards"}),value:unassignedShards,"data-test-subj":"unassignedShards"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.clusterStatus.documentsLabel",{defaultMessage:"Documents"}),value:formatMetric(documentCount,"int_commas"),"data-test-subj":"documentCount"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.clusterStatus.dataLabel",{defaultMessage:"Data"}),value:formatMetric(dataSize,"byte"),"data-test-subj":"dataSize"}];const IconComponent=({status:status})=>external_kbnSharedDeps_React_default.a.createElement(ElasticsearchStatusIcon,{status:status});return external_kbnSharedDeps_React_default.a.createElement(SummaryStatus,{metrics:metrics,status:status,alerts:alerts,IconComponent:IconComponent,"data-test-subj":"elasticsearchClusterStatus"})}const NODE_IDENTIFIER_SINGULAR=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.node",{defaultMessage:`node`});const NODE_IDENTIFIER_PLURAL=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.nodes",{defaultMessage:`nodes`});const INSTANCE_IDENTIFIER_SINGULAR=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.instance",{defaultMessage:`instance`});const INSTANCE_IDENTIFIER_PLURAL=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.instances",{defaultMessage:`instances`});const SERVER_IDENTIFIER_SINGULAR=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.server",{defaultMessage:`server`});const SERVER_IDENTIFIER_PLURAL=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.servers",{defaultMessage:`servers`});function formatProductName(productName){if(productName===constants["r"]){return productName.toUpperCase()}return Object(external_kbnSharedDeps_Lodash_["capitalize"])(productName)}const PRODUCTS_THAT_USE_NODES=[constants["R"],constants["H"]];const PRODUCTS_THAT_USE_INSTANCES=[constants["N"],constants["s"]];function getIdentifier(productName,usePlural=false){if(PRODUCTS_THAT_USE_INSTANCES.includes(productName)){return usePlural?INSTANCE_IDENTIFIER_PLURAL:INSTANCE_IDENTIFIER_SINGULAR}if(PRODUCTS_THAT_USE_NODES.includes(productName)){return usePlural?NODE_IDENTIFIER_PLURAL:NODE_IDENTIFIER_SINGULAR}if(productName===constants["r"]){return usePlural?SERVER_IDENTIFIER_PLURAL:SERVER_IDENTIFIER_SINGULAR}return productName}function eui_table_extends(){eui_table_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return eui_table_extends.apply(this,arguments)}function EuiMonitoringTable({rows:items,search:search={},columns:_columns,setupMode:setupMode,productName:productName,...props}){const[hasItems,setHasItem]=external_kbnSharedDeps_React_default.a.useState(items.length>0);if(search.box&&!search.box["data-test-subj"]){search.box["data-test-subj"]="monitoringTableToolBar"}if(search.box&&!search.box.schema){search.box.schema=true}if(search){const oldOnChange=search.onChange;search.onChange=arg=>{const filteredItems=external_kbnSharedDeps_ElasticEui_["EuiSearchBar"].Query.execute(arg.query,items,props.executeQueryOptions);setHasItem(filteredItems.length>0);oldOnChange&&oldOnChange(arg);return true}}const columns=_columns.map(column=>{if(!("sortable"in column)){column.sortable=true}return column});let footerContent=null;if(setupMode&&isSetupModeFeatureEnabled(enums["d"].MetricbeatMigration)){footerContent=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{iconType:"flag",onClick:()=>setupMode.openFlyout({},true)},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.euiTable.setupNewButtonLabel",{defaultMessage:"Monitor another {identifier} with Metricbeat",values:{identifier:getIdentifier(productName)}})))}return external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":`${props.className}Container`},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiInMemoryTable"],eui_table_extends({"data-test-subj":items.length&&hasItems===true?"monitoringTableHasData":"monitoringTableNoData",items:items,search:search,columns:columns},props)),footerContent)}function eui_table_ssp_extends(){eui_table_ssp_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return eui_table_ssp_extends.apply(this,arguments)}function EuiMonitoringSSPTable({rows:items,search:search={},pagination:pagination,columns:_columns,onTableChange:onTableChange,setupMode:setupMode,productName:productName,fetchMoreData:fetchMoreData,...props}){const[isLoading,setIsLoading]=external_kbnSharedDeps_React_default.a.useState(false);const[queryText,setQueryText]=external_kbnSharedDeps_React_default.a.useState("");const[page,setPage]=external_kbnSharedDeps_React_default.a.useState({index:pagination.pageIndex,size:pagination.pageSize});if(!pagination.totalItemCount){pagination.totalItemCount=items&&items.length||0}const[sort,setSort]=external_kbnSharedDeps_React_default.a.useState(props.sorting);if(search.box&&!search.box["data-test-subj"]){search.box["data-test-subj"]="monitoringTableToolBar"}const columns=_columns.map(column=>{if(!("sortable"in column)){column.sortable=true}return column});let footerContent=null;if(setupMode&&setupMode.enabled&&isSetupModeFeatureEnabled(enums["d"].MetricbeatMigration)){footerContent=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{iconType:"flag",onClick:()=>setupMode.openFlyout({},true)},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.euiSSPTable.setupNewButtonLabel",{defaultMessage:"Set up monitoring for new {identifier}",values:{identifier:getIdentifier(productName)}})))}const onChange=async({page:page,sort:sort})=>{setPage(page);setSort({sort:sort});setIsLoading(true);await fetchMoreData({page:page,sort:{sort:sort},queryText:queryText});setIsLoading(false);onTableChange({page:page,sort:sort})};const onQueryChange=async({queryText:queryText})=>{const newPage={...page,index:0};setPage(newPage);setQueryText(queryText);setIsLoading(true);await fetchMoreData({page:newPage,sort:sort,queryText:queryText});setIsLoading(false)};return external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":`${props.className}Container`},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSearchBar"],eui_table_ssp_extends({},search,{onChange:onQueryChange})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBasicTable"],eui_table_ssp_extends({},props,{"data-test-subj":items.length?"monitoringTableHasData":"monitoringTableNoData",items:items,pagination:pagination,onChange:onChange,loading:isLoading,columns:columns})),footerContent)}var elastic_safer_lodash_set=__webpack_require__(73);const tableStorageGetter=keyPrefix=>storage=>{const localStorageData=storage.get(constants["U"])||{};const filterText=Object(external_kbnSharedDeps_Lodash_["get"])(localStorageData,[keyPrefix,"filterText"]);const pageIndex=Object(external_kbnSharedDeps_Lodash_["get"])(localStorageData,[keyPrefix,"pageIndex"]);const sortKey=Object(external_kbnSharedDeps_Lodash_["get"])(localStorageData,[keyPrefix,"sortKey"]);const sortOrder=Object(external_kbnSharedDeps_Lodash_["get"])(localStorageData,[keyPrefix,"sortOrder"]);return{pageIndex:pageIndex,filterText:filterText,sortKey:sortKey,sortOrder:sortOrder}};const tableStorageSetter=keyPrefix=>(storage,{filterText:filterText,pageIndex:pageIndex,sortKey:sortKey,sortOrder:sortOrder})=>{const localStorageData=storage.get(constants["U"])||{};Object(elastic_safer_lodash_set["set"])(localStorageData,[keyPrefix,"filterText"],filterText||undefined);Object(elastic_safer_lodash_set["set"])(localStorageData,[keyPrefix,"pageIndex"],pageIndex||undefined);Object(elastic_safer_lodash_set["set"])(localStorageData,[keyPrefix,"sortKey"],sortKey||undefined);Object(elastic_safer_lodash_set["set"])(localStorageData,[keyPrefix,"sortOrder"],sortOrder||undefined);storage.set(constants["U"],localStorageData);return localStorageData};const euiTableStorageGetter=keyPrefix=>storage=>{const localStorageData=storage.get(constants["U"])||{};const sort=Object(external_kbnSharedDeps_Lodash_["get"])(localStorageData,[keyPrefix,"sort"]);const page=Object(external_kbnSharedDeps_Lodash_["get"])(localStorageData,[keyPrefix,"page"]);return{page:page,sort:sort}};const euiTableStorageSetter=keyPrefix=>(storage,{sort:sort,page:page})=>{const localStorageData=storage.get(constants["U"])||{};Object(elastic_safer_lodash_set["set"])(localStorageData,[keyPrefix,"sort"],sort||undefined);Object(elastic_safer_lodash_set["set"])(localStorageData,[keyPrefix,"page"],page||undefined);storage.set(constants["U"],localStorageData);return localStorageData};const Snapshot=({isSnapshot:isSnapshot,repo:repo,snapshot:snapshot})=>isSnapshot?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.elasticsearch.shardActivity.snapshotTitle",defaultMessage:"Repo: {repo} / Snapshot: {snapshot}",values:{repo:repo,snapshot:snapshot}})):null;const RecoveryIndex=props=>{const{name:name,shard:shard,relocationType:relocationType}=props;return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:getSafeForExternalLink(`#/elasticsearch/indices/${name}`)},name),external_kbnSharedDeps_React_default.a.createElement("br",null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.elasticsearch.shardActivity.recoveryIndex.shardDescription",defaultMessage:"Shard: {shard}",values:{shard:shard}}),external_kbnSharedDeps_React_default.a.createElement("br",null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.elasticsearch.shardActivity.recoveryIndex.recoveryTypeDescription",defaultMessage:"Recovery type: {relocationType}",values:{relocationType:relocationType}}),external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(Snapshot,props)))};const TotalTime=({startTime:startTime,totalTime:totalTime})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.elasticsearch.shardActivity.totalTimeTooltip",defaultMessage:"Started: {startTime}",values:{startTime:startTime}}),position:"bottom"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],null,totalTime));const SourceTooltip=({isCopiedFromPrimary:isCopiedFromPrimary,sourceTransportAddress:sourceTransportAddress,children:children})=>{if(!sourceTransportAddress){return children}const tipText=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,sourceTransportAddress,external_kbnSharedDeps_React_default.a.createElement("br",null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.elasticsearch.shardActivity.sourceTooltip",defaultMessage:"Copied from {copiedFrom} shard",values:{copiedFrom:isCopiedFromPrimary?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.elasticsearch.shardActivity.sourceTooltip.primarySourceText",defaultMessage:"primary"}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.elasticsearch.shardActivity.sourceTooltip.replicaSourceText",defaultMessage:"replica"})}}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:tipText,position:"bottom"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],null,children))};const SourceDestination=props=>{const{sourceName:sourceName,targetName:targetName,targetTransportAddress:targetTransportAddress}=props;const targetTransportAddressContent=targetTransportAddress||external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.shardActivity.unknownTargetAddressContent",{defaultMessage:"Unknown"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s",alignItems:"center",wrap:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(SourceTooltip,props,sourceName)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"arrowRight",size:"s"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:targetTransportAddressContent,position:"bottom"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],null,targetName))))};const FilesProgress=({filesPercent:filesPercent,filesDone:filesDone,filesTotal:filesTotal})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,filesPercent,external_kbnSharedDeps_React_default.a.createElement("br",null),filesDone," / ",filesTotal);const BytesProgress=({bytesPercent:bytesPercent,bytesDone:bytesDone,bytesTotal:bytesTotal})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,bytesPercent,external_kbnSharedDeps_React_default.a.createElement("br",null),bytesDone," / ",bytesTotal);const TranslogProgress=({hasTranslog:hasTranslog,translogPercent:translogPercent,translogDone:translogDone,translogTotal:translogTotal})=>hasTranslog?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,translogPercent,external_kbnSharedDeps_React_default.a.createElement("br",null),translogDone," / ",translogTotal):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.elasticsearch.shardActivity.progress.noTranslogProgressLabel",defaultMessage:"n/a"});const getIpAndPort=transport=>{if(transport!==undefined){const matches=transport.match(/([\d\.:]+)\]$/);if(matches){return matches[1]}}return transport};const normalizeString=text=>Object(external_kbnSharedDeps_Lodash_["capitalize"])(text.toLowerCase());const parseProps=props=>{const{id:id,stage:stage,index:index,index_name:indexName,primary:isPrimary,start_time_in_millis:startTimeInMillis,total_time_in_millis:totalTimeInMillis,source:source,target:target,translog:translog,type:type}=props;const{files:files,size:size}=index;const injector=Legacy.shims.getAngularInjector();const timezone=injector.get("config").get("dateFormat:tz");return{name:indexName||index.name,shard:`${id} / ${isPrimary?"Primary":"Replica"}`,relocationType:type==="PRIMARY_RELOCATION"?"Primary Relocation":normalizeString(type),stage:normalizeString(stage),startTime:formatDateTimeLocal(startTimeInMillis,timezone),totalTime:formatMetric(Math.floor(totalTimeInMillis/1e3),"00:00:00"),isCopiedFromPrimary:!isPrimary||type==="PRIMARY_RELOCATION",sourceName:source.name===undefined?"n/a":source.name,targetName:target.name,sourceTransportAddress:getIpAndPort(source.transport_address),targetTransportAddress:getIpAndPort(target.transport_address),isSnapshot:type==="SNAPSHOT",repo:source.repository,snapshot:source.snapshot,filesPercent:files.percent,filesDone:files.reused?files.reused:files.recovered,filesTotal:files.total,bytesPercent:size.percent,bytesDone:formatMetric(size.recovered_in_bytes+size.reused_in_bytes,"byte"),bytesTotal:formatMetric(size.total_in_bytes,"byte"),hasTranslog:translog.total>0,translogPercent:translog.percent,translogDone:translog.total,translogTotal:translog.total_on_start}};const shard_activity_columns=[{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.shardActivity.indexTitle",{defaultMessage:"Index"}),field:"name",render:(_name,shard)=>external_kbnSharedDeps_React_default.a.createElement(RecoveryIndex,shard)},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.shardActivity.stageTitle",{defaultMessage:"Stage"}),field:"stage"},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.shardActivity.totalTimeTitle",{defaultMessage:"Total Time"}),field:null,render:shard=>external_kbnSharedDeps_React_default.a.createElement(TotalTime,shard)},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.shardActivity.sourceDestinationTitle",{defaultMessage:"Source / Destination"}),field:null,render:shard=>external_kbnSharedDeps_React_default.a.createElement(SourceDestination,shard)},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.shardActivity.filesTitle",{defaultMessage:"Files"}),field:null,render:shard=>external_kbnSharedDeps_React_default.a.createElement(FilesProgress,shard)},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.shardActivity.bytesTitle",{defaultMessage:"Bytes"}),field:null,render:shard=>external_kbnSharedDeps_React_default.a.createElement(BytesProgress,shard)},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.shardActivity.translogTitle",{defaultMessage:"Translog"}),field:null,render:shard=>external_kbnSharedDeps_React_default.a.createElement(TranslogProgress,shard)}];class shard_activity_ShardActivity extends external_kbnSharedDeps_React_default.a.Component{constructor(props){super(props);this.getNoDataMessage=this.getNoDataMessage.bind(this)}getNoDataMessage(){if(this.props.showShardActivityHistory){return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.shardActivity.noDataMessage",{defaultMessage:"There are no historical shard activity records for the selected time range."})}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.elasticsearch.shardActivity.noActiveShardRecoveriesMessage.completedRecoveriesLinkTextProblem",defaultMessage:"There are no active shard recoveries for this cluster."}),external_kbnSharedDeps_React_default.a.createElement("br",null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.elasticsearch.shardActivity.noActiveShardRecoveriesMessage.completedRecoveriesLinkTextSolution",defaultMessage:"Try viewing {shardActivityHistoryLink}.",values:{shardActivityHistoryLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{onClick:this.props.toggleShardActivityHistory},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.elasticsearch.shardActivity.noActiveShardRecoveriesMessage.completedRecoveriesLinkText",defaultMessage:"completed recoveries"}))}}))}render(){const{data:rawData,sorting:sorting,pagination:pagination,onTableChange:onTableChange,toggleShardActivityHistory:toggleShardActivityHistory,showShardActivityHistory:showShardActivityHistory}=this.props;if(rawData===null){return null}const rows=rawData.map(parseProps);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.elasticsearch.shardActivityTitle",defaultMessage:"Shard Activity"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSwitch"],{id:"monitoring_completed_recoveries",label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.elasticsearch.shardActivity.completedRecoveriesLabel",defaultMessage:"Completed recoveries"}),onChange:toggleShardActivityHistory,checked:showShardActivityHistory}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(EuiMonitoringTable,{className:"esShardActivityTable",rows:rows,columns:shard_activity_columns,message:this.getNoDataMessage(),sorting:sorting,search:false,pagination:pagination,onTableChange:onTableChange,executeQueryOptions:{defaultFields:["name"]}}))}}var external_kbnSharedDeps_ElasticEuiLibServices_=__webpack_require__(24);function getColor(app,index){let seriesColors;if(app==="elasticsearch"){seriesColors=["#3ebeb0","#3b73ac","#f08656","#6c478f"]}else if(app==="apm"){seriesColors=Object(external_kbnSharedDeps_ElasticEuiLibServices_["euiPaletteColorBlind"])()}else{seriesColors=["#e8488b","#3b73ac","#3cab63","#6c478f"]}if(seriesColors[index]){return seriesColors[index]}return"#000"}function getLastValue(data){if(Object(external_kbnSharedDeps_Lodash_["isNumber"])(data)){return data}if(!Array.isArray(data)){return null}const lastValue=Object(external_kbnSharedDeps_Lodash_["get"])(Object(external_kbnSharedDeps_Lodash_["last"])(data),"[1]");if(Object(external_kbnSharedDeps_Lodash_["isNumber"])(lastValue)){return lastValue}return null}var external_kbnSharedDeps_Jquery_=__webpack_require__(17);var external_kbnSharedDeps_Jquery_default=__webpack_require__.n(external_kbnSharedDeps_Jquery_);const eventBus=external_kbnSharedDeps_Jquery_default()({});async function getChartOptions(axisOptions){const $injector=Legacy.shims.getAngularInjector();const timezone=$injector.get("config").get("dateFormat:tz");const opts={legend:{show:false},xaxis:{color:constants["v"],timezone:timezone==="Browser"?"browser":"utc",mode:"time",font:{color:constants["w"]}},yaxis:{color:constants["v"],font:{color:constants["w"]}},series:{points:{show:true,radius:1},lines:{show:true,lineWidth:2},shadowSize:0},grid:{margin:0,borderWidth:1,borderColor:constants["v"],hoverable:true},crosshair:{mode:"x",color:"#c66",lineWidth:2},selection:{mode:"x",color:constants["w"]}};return Object(external_kbnSharedDeps_Lodash_["merge"])(opts,axisOptions)}class chart_target_ChartTarget extends external_kbnSharedDeps_React_default.a.Component{shouldComponentUpdate(){return!this.plot}shutdownChart(){if(!this.plot){return}const{target:target}=this.refs;external_kbnSharedDeps_Jquery_default()(target).off("plothover");external_kbnSharedDeps_Jquery_default()(target).off("mouseleave");external_kbnSharedDeps_Jquery_default()(target).off("plotselected");external_kbnSharedDeps_Jquery_default()(target).off("plotselecting");this.plot.shutdown();eventBus.off("thorPlotHover");eventBus.off("thorPlotLeave");eventBus.off("thorPlotSelecting");eventBus.off("thorPlotBrush")}componentWillUnmount(){this.shutdownChart();window.removeEventListener("resize",this._handleResize);this.componentUnmounted=true}filterByShow(seriesToShow){if(seriesToShow){return metric=>seriesToShow.some(id=>id.toLowerCase()===metric.id.toLowerCase())}return()=>true}UNSAFE_componentWillReceiveProps(newProps){if(this.plot&&!Object(external_kbnSharedDeps_Lodash_["isEqual"])(newProps,this.props)){const{series:series,timeRange:timeRange}=newProps;const xaxisOptions=this.plot.getAxes().xaxis.options;xaxisOptions.min=Object(external_kbnSharedDeps_Lodash_["get"])(timeRange,"min");xaxisOptions.max=Object(external_kbnSharedDeps_Lodash_["get"])(timeRange,"max");this.plot.setData(this.filterData(series,newProps.seriesToShow));this.plot.setupGrid();this.plot.draw()}}componentDidMount(){this.renderChart()}componentDidUpdate(){this.shutdownChart();this.renderChart()}filterData(data,seriesToShow){return Object(external_kbnSharedDeps_Lodash_["filter"])(data,this.filterByShow(seriesToShow))}async getOptions(){const opts=await getChartOptions({yaxis:{tickFormatter:this.props.tickFormatter},xaxis:this.props.timeRange});return{...opts,...this.props.options}}async renderChart(){const{target:target}=this.refs;const{series:series}=this.props;const data=this.filterData(series,this.props.seriesToShow);this.plot=external_kbnSharedDeps_Jquery_default.a.plot(target,data,await this.getOptions());if(this.componentUnmounted||!this.plot){return}this._handleResize=()=>{if(!this.plot){return}try{this.plot.resize();this.plot.setupGrid();this.plot.draw()}catch(e){}};window.addEventListener("resize",this._handleResize,false);this.handleMouseLeave=()=>{eventBus.trigger("thorPlotLeave",[])};this.handlePlotHover=(_event,pos,item)=>{eventBus.trigger("thorPlotHover",[pos,item,this.plot])};this.handleThorPlotHover=(_event,pos,item,originalPlot)=>{if(this.plot!==originalPlot){this.plot.setCrosshair({x:Object(external_kbnSharedDeps_Lodash_["get"])(pos,"x")})}this.props.updateLegend(pos,item)};this.handleThorPlotLeave=()=>{this.plot.clearCrosshair();this.props.updateLegend()};this.handleThorPlotSelecting=(_event,xaxis,originalPlot)=>{if(this.plot!==originalPlot){const preventEvent=true;this.plot.setSelection({xaxis:xaxis},preventEvent)}};this.handleThorPlotBrush=()=>{this.plot.clearSelection()};this.selectingChart=(_event,ranges)=>{if(ranges){const xaxis=ranges.xaxis;eventBus.trigger("thorPlotSelecting",[xaxis,this.plot])}};this.brushChart=(_event,ranges)=>{this.props.onBrush(ranges);eventBus.trigger("thorPlotBrush")};external_kbnSharedDeps_Jquery_default()(target).on("plothover",this.handlePlotHover);external_kbnSharedDeps_Jquery_default()(target).on("mouseleave",this.handleMouseLeave);external_kbnSharedDeps_Jquery_default()(target).on("plotselected",this.brushChart);external_kbnSharedDeps_Jquery_default()(target).on("plotselecting",this.selectingChart);eventBus.on("thorPlotHover",this.handleThorPlotHover);eventBus.on("thorPlotLeave",this.handleThorPlotLeave);eventBus.on("thorPlotSelecting",this.handleThorPlotSelecting);eventBus.on("thorPlotBrush",this.handleThorPlotBrush)}render(){const style={position:"relative",display:"flex",rowDirection:"column",flex:"1 0 auto"};return external_kbnSharedDeps_React_default.a.createElement("div",{ref:"target",style:style})}}function TimeseriesContainer(props){const container={display:"flex",rowDirection:"column",flex:"1 0 auto",position:"relative"};return external_kbnSharedDeps_React_default.a.createElement("div",{style:container},external_kbnSharedDeps_React_default.a.createElement(chart_target_ChartTarget,props))}var horizontal_legend=__webpack_require__(119);class horizontal_legend_HorizontalLegend extends external_kbnSharedDeps_React_default.a.Component{constructor(){super();this.formatter=this.formatter.bind(this);this.createSeries=this.createSeries.bind(this)}displayValue(value){return external_kbnSharedDeps_React_default.a.createElement("span",{className:"monRhythmChart__legendValue"},value)}validValue(value){return value!==null&&value!==undefined&&(typeof value==="string"||!isNaN(value))}formatter(value,row){if(!this.validValue(value)){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.chart.horizontalLegend.notAvailableLabel",defaultMessage:"N/A"})}if(row&&row.tickFormatter){return this.displayValue(row.tickFormatter(value))}if(Object(external_kbnSharedDeps_Lodash_["isFunction"])(this.props.tickFormatter)){return this.displayValue(this.props.tickFormatter(value))}return this.displayValue(value)}createSeries(row,rowIdx){const classes=["monRhythmChart__legendItem"];if(!Object(external_kbnSharedDeps_Lodash_["includes"])(this.props.seriesFilter,row.id)){classes.push("monRhythmChart__legendItem-isDisabled")}if(!row.label||row.legend===false){return external_kbnSharedDeps_React_default.a.createElement("div",{key:rowIdx,style:{display:"none"}})}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiKeyboardAccessible"],{key:rowIdx},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement("button",{className:classes.join(" "),onClick:event=>this.props.onToggle(event,row.id)},external_kbnSharedDeps_React_default.a.createElement("span",{className:"monRhythmChart__legendLabel"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{className:"monRhythmChart__legendIndicator","aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.chart.horizontalLegend.toggleButtonAriaLabel",{defaultMessage:"toggle button"}),size:"l",type:"dot",color:row.color})," "+row.label+" "),this.formatter(this.props.seriesValues[row.id],row))))}render(){const rows=this.props.series.map(this.createSeries);return external_kbnSharedDeps_React_default.a.createElement("div",{className:"monRhythmChart__legendHorizontal"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{wrap:true,gutterSize:"s",className:"monRhythmChart__legendSeries"},rows))}}function getValuesForSeriesIndex(datasets,index,callback){for(let i=0;i<datasets.length;i++){const series=datasets[i];const data=series.data;let y=null;if(data.length>index&&data[index]){y=data[index][1]}callback(series.id,y)}}function getValuesByX(datasets,x,callback){for(let i=0;i<datasets.length;i++){const index=findIndexByX(datasets[i].data,x);if(index!==-1){getValuesForSeriesIndex(datasets,index,callback);break}}}function findIndexByX(data,x){const length=data.length;if(length===1){return 0}else if(length!==0){let prev=null;if(data[0]){prev=0}for(let j=1;j<length;++j){if(data[j]){if(data[j][0]>x){const currentDistance=data[j][0]-x;if(prev!==null&&currentDistance>Math.abs(x-data[prev][0])){return prev}return j}prev=j}}}return length-1}var timeseries_visualization=__webpack_require__(128);function timeseries_visualization_extends(){timeseries_visualization_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return timeseries_visualization_extends.apply(this,arguments)}class timeseries_visualization_TimeseriesVisualization extends external_kbnSharedDeps_React_default.a.Component{constructor(props){super(props);this.debouncedUpdateLegend=Object(external_kbnSharedDeps_Lodash_["debounce"])(this.updateLegend,constants["G"]);this.debouncedUpdateLegend=this.debouncedUpdateLegend.bind(this);this.toggleFilter=this.toggleFilter.bind(this);const values=this.getLastValues(props);this.state={values:{},seriesToShow:Object(external_kbnSharedDeps_Lodash_["keys"])(values),ignoreVisibilityUpdates:false}}filterLegend(id){if(!Object(external_kbnSharedDeps_Lodash_["has"])(this.state.values,id)){return[]}const notAllShown=Object(external_kbnSharedDeps_Lodash_["keys"])(this.state.values).length!==this.state.seriesToShow.length;const isCurrentlyShown=Object(external_kbnSharedDeps_Lodash_["includes"])(this.state.seriesToShow,id);const seriesToShow=[];if(notAllShown&&isCurrentlyShown){this.setState({ignoreVisibilityUpdates:false,seriesToShow:Object.keys(this.state.values)})}else{seriesToShow.push(id);this.setState({ignoreVisibilityUpdates:true,seriesToShow:[id]})}return seriesToShow}toggleFilter(_event,id){const seriesToShow=this.filterLegend(id);if(Object(external_kbnSharedDeps_Lodash_["isFunction"])(this.props.onFilter)){this.props.onFilter(seriesToShow)}}getLastValues(props){props=props||this.props;const values={};props.series.forEach(row=>{if(!row.id){row.id=row.label}values[row.id]=getLastValue(row.data)});return values}updateLegend(pos,item){const values={};if(pos){const setValueCallback=(seriesId,value)=>{values[seriesId]=value};if(item){getValuesForSeriesIndex(this.props.series,item.dataIndex,setValueCallback)}else{getValuesByX(this.props.series,pos.x,setValueCallback)}}else{Object(external_kbnSharedDeps_Lodash_["assign"])(values,this.getLastValues())}this.setState({values:values})}UNSAFE_componentWillReceiveProps(props){const values=this.getLastValues(props);const currentKeys=Object(external_kbnSharedDeps_Lodash_["keys"])(this.state.values);const valueKeys=Object(external_kbnSharedDeps_Lodash_["keys"])(values);const diff=Object(external_kbnSharedDeps_Lodash_["difference"])(valueKeys,currentKeys);const nextState={values:values};if(diff.length&&!this.state.ignoreVisibilityUpdates){nextState.seriesToShow=valueKeys}this.setState(nextState)}render(){const className="monRhythmChart";const style={flexDirection:"column"};const legend=this.props.hasLegend?external_kbnSharedDeps_React_default.a.createElement(horizontal_legend_HorizontalLegend,timeseries_visualization_extends({seriesFilter:this.state.seriesToShow,seriesValues:this.state.values,onToggle:this.toggleFilter},this.props)):null;return external_kbnSharedDeps_React_default.a.createElement("div",{className:className},external_kbnSharedDeps_React_default.a.createElement("div",{style:style,className:"monRhythmChart__content"},external_kbnSharedDeps_React_default.a.createElement("div",{className:"monRhythmChart__visualization"},external_kbnSharedDeps_React_default.a.createElement(TimeseriesContainer,timeseries_visualization_extends({seriesToShow:this.state.seriesToShow,updateLegend:this.debouncedUpdateLegend},this.props))),legend))}}timeseries_visualization_TimeseriesVisualization.defaultProps={hasLegend:true};function formatTicksFor(series){const format=Object(external_kbnSharedDeps_Lodash_["get"])(series,"metric.format","0,0.0");const units=Object(external_kbnSharedDeps_Lodash_["get"])(series,"metric.units","");return function formatTicks(val){let formatted=external_kbnSharedDeps_ElasticNumeral_default()(val).format(format);if(units!=="B"&&units!==""){formatted+=" "+units}return formatted}}function MonitoringTimeseries({series:series,onBrush:onBrush}){const dataset=series.map((s,index)=>({color:getColor(s.metric.app,index),data:s.data,label:s.metric.label}));const firstSeries=Object(external_kbnSharedDeps_Lodash_["first"])(series);const timeRange=Object(external_kbnSharedDeps_Lodash_["get"])(firstSeries,"timeRange");const formatTicks=formatTicksFor(firstSeries);return external_kbnSharedDeps_React_default.a.createElement(timeseries_visualization_TimeseriesVisualization,{series:dataset,timeRange:timeRange,tickFormatter:formatTicks,onBrush:onBrush})}var info_tooltip=__webpack_require__(137);function InfoTooltip({series:series,bucketSize:bucketSize}){const tableRows=series.map((item,index)=>external_kbnSharedDeps_React_default.a.createElement("tr",{key:`chart-tooltip-${index}`,"data-debug-metric-agg":item.metric.metricAgg,"data-debug-metric-field":item.metric.field,"data-debug-metric-is-derivative":item.metric.isDerivative,"data-debug-metric-has-calculation":item.metric.hasCalculation},external_kbnSharedDeps_React_default.a.createElement("td",{className:"monChart__tooltipLabel"},item.metric.label),external_kbnSharedDeps_React_default.a.createElement("td",{className:"monChart__tooltipValue"},item.metric.description)));return external_kbnSharedDeps_React_default.a.createElement("table",null,external_kbnSharedDeps_React_default.a.createElement("tbody",null,external_kbnSharedDeps_React_default.a.createElement("tr",null,external_kbnSharedDeps_React_default.a.createElement("td",{className:"monChart__tooltipLabel"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.chart.infoTooltip.intervalLabel",defaultMessage:"Interval"})),external_kbnSharedDeps_React_default.a.createElement("td",{className:"monChart__tooltipValue"},bucketSize)),tableRows))}function getTitle(series=[]){return Object(external_kbnSharedDeps_Lodash_["chain"])(series.map(s=>s.metric.title||s.metric.label)).first().value()}function getUnits(series){let units=Object(external_kbnSharedDeps_Lodash_["get"])(series,"[0].metric.units");if(units==="B"){let maxLastBytes=0;Object(external_kbnSharedDeps_Lodash_["forEach"])(series,s=>{const lastDataPoint=Object(external_kbnSharedDeps_Lodash_["last"])(s.data)||[null,0];maxLastBytes=Math.max(maxLastBytes,lastDataPoint[1])});units=external_kbnSharedDeps_ElasticNumeral_default()(maxLastBytes).byteUnits()}return units}var monitoring_timeseries_container=__webpack_require__(146);const zoomOutBtn=zoomInfo=>{if(!zoomInfo||!zoomInfo.showZoomOutBtn()){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{className:"monRhythmChart__zoom"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextAlign"],{textAlign:"right"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{color:"primary",size:"s",iconType:"magnifyWithMinus",onClick:zoomInfo.zoomOutHandler},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.chart.timeSeries.zoomOut",defaultMessage:"Zoom out"}))))};function MonitoringTimeseriesContainer({series:series,onBrush:onBrush,zoomInfo:zoomInfo}){if(series===undefined){return null}const title=getTitle(series);const titleForAriaIds=title.replace(/\s+/,"--");const units=getUnits(series);const bucketSize=Object(external_kbnSharedDeps_Lodash_["get"])(Object(external_kbnSharedDeps_Lodash_["first"])(series),"bucket_size");const seriesScreenReaderTextList=[external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.chart.seriesScreenReaderListDescription",{defaultMessage:"Interval: {bucketSize}",values:{bucketSize:bucketSize}})].concat(series.map(item=>`${item.metric.label}: ${item.metric.description}`));let alertStatus=null;if(series.alerts){alertStatus=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(AlertsBadge,{alerts:series.alerts}))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{direction:"column",gutterSize:"s",className:`monRhythmChart__wrapper`},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center",justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s",tabIndex:"0"},external_kbnSharedDeps_React_default.a.createElement("h2",null,getTitle(series),units?` (${units})`:"",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiScreenReaderOnly"],null,external_kbnSharedDeps_React_default.a.createElement("span",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.chart.screenReaderUnaccessibleTitle",defaultMessage:"This chart is not screen reader accessible"})))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIconTip"],{anchorClassName:"eui-textRight eui-alignMiddle monChart__tooltipTrigger",type:"iInCircle",position:"right",content:external_kbnSharedDeps_React_default.a.createElement(InfoTooltip,{series:series,bucketSize:bucketSize})}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiScreenReaderOnly"],null,external_kbnSharedDeps_React_default.a.createElement("span",{id:`monitoringChart${titleForAriaIds}`},seriesScreenReaderTextList.join(". "))))),zoomOutBtn(zoomInfo))),alertStatus)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{style:{minHeight:"200px"}},external_kbnSharedDeps_React_default.a.createElement(MonitoringTimeseries,{series:series,onBrush:onBrush})))}const Monospace=({children:children})=>external_kbnSharedDeps_React_default.a.createElement("span",{style:{fontFamily:"monospace"}},children);const Reason=({reason:reason})=>{const filebeatUrl=Legacy.shims.docLinks.links.filebeat.installation;const elasticsearchUrl=Legacy.shims.docLinks.links.filebeat.elasticsearchModule;const troubleshootUrl=Legacy.shims.docLinks.links.monitoring.troubleshootKibana;let title=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.reason.defaultTitle",{defaultMessage:"No log data found"});let message=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.logs.reason.defaultMessage",defaultMessage:"We did not find any log data and we are unable to diagnose why. {link}",values:{link:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{target:"_blank",href:filebeatUrl},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.logs.reason.defaultMessageLink",defaultMessage:"Please verify your setup is correct."}))}});if(false===reason.indexPatternExists){title=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.reason.noIndexPatternTitle",{defaultMessage:"No log data found"});message=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.logs.reason.noIndexPatternMessage",defaultMessage:"Set up {link}, then configure your Elasticsearch output to your monitoring cluster.",values:{link:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{target:"_blank",href:filebeatUrl},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.reason.noIndexPatternLink",{defaultMessage:"Filebeat"}))}})}else if(false===reason.indexPatternInTimeRangeExists||false===reason.typeExists&&reason.typeExistsAtAnyTime){title=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.reason.noIndexPatternInTimePeriodTitle",{defaultMessage:"No logs for the selected time"});message=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.logs.reason.noIndexPatternInTimePeriodMessage",defaultMessage:"Use the time filter to adjust your timeframe."})}else if(false===reason.typeExists){title=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.reason.noTypeTitle",{defaultMessage:"No logs for Elasticsearch"});message=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.logs.reason.noTypeMessage",defaultMessage:"Follow {link} to set up Elasticsearch.",values:{link:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{target:"_blank",href:elasticsearchUrl},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.reason.noTypeLink",{defaultMessage:"these directions"}))}})}else if(false===reason.usingStructuredLogs){title=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.reason.notUsingStructuredLogsTitle",{defaultMessage:"No structured logs found"});message=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.logs.reason.notUsingStructuredLogsMessage",defaultMessage:"Check if the {varPaths} setting {link}.",values:{varPaths:external_kbnSharedDeps_React_default.a.createElement(Monospace,null,"var.paths"),link:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{target:"_blank",href:elasticsearchUrl},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.reason.notUsingStructuredLogsLink",{defaultMessage:"points to JSON logs"}))}})}else if(false===reason.clusterExists){title=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.reason.noClusterTitle",{defaultMessage:"No logs for this cluster"});message=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.logs.reason.noClusterMessage",defaultMessage:"Check that your {link} is correct.",values:{link:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{target:"_blank",href:elasticsearchUrl},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.reason.noClusterLink",{defaultMessage:"setup"}))}})}else if(false===reason.nodeExists){title=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.reason.noNodeTitle",{defaultMessage:"No logs for this Elasticsearch node"});message=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.logs.reason.noNodeMessage",defaultMessage:"Check that your {link} is correct.",values:{link:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{target:"_blank",href:elasticsearchUrl},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.reason.noNodeLink",{defaultMessage:"setup"}))}})}else if(false===reason.indexExists){title=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.reason.noIndexTitle",{defaultMessage:"No logs for this index"});message=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.logs.reason.noIndexMessage",defaultMessage:"We found logs, but none for this index. If this problem continues, check that your {link} is correct.",values:{link:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{target:"_blank",href:elasticsearchUrl},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.reason.noIndexLink",{defaultMessage:"setup"}))}})}else if(false===reason.correctIndexName){title=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.reason.correctIndexNameTitle",{defaultMessage:"Corrupted filebeat index"});message=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.logs.reason.correctIndexNameMessage",defaultMessage:"There is an issue reading from your filebeat indices.  {link}.",values:{link:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{target:"_blank",href:troubleshootUrl},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.reason.correctIndexNameLink",{defaultMessage:"Click here for more information"}))}})}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:title,color:"warning",iconType:"help"},external_kbnSharedDeps_React_default.a.createElement("p",null,message))};const getFormattedDateTimeLocal=timestamp=>{const injector=Legacy.shims.getAngularInjector();const timezone=injector.get("config").get("dateFormat:tz");return formatDateTimeLocal(timestamp,timezone)};const columnTimestampTitle=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.listing.timestampTitle",{defaultMessage:"Timestamp"});const columnLevelTitle=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.listing.levelTitle",{defaultMessage:"Level"});const columnTypeTitle=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.listing.typeTitle",{defaultMessage:"Type"});const columnMessageTitle=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.listing.messageTitle",{defaultMessage:"Message"});const columnComponentTitle=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.listing.componentTitle",{defaultMessage:"Component"});const columnNodeTitle=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.listing.nodeTitle",{defaultMessage:"Node"});const logs_columns=[{field:"timestamp",name:columnTimestampTitle,width:"12%",render:timestamp=>getFormattedDateTimeLocal(timestamp)},{field:"level",name:columnLevelTitle,width:"5%"},{field:"type",name:columnTypeTitle,width:"10%",render:type=>Object(external_kbnSharedDeps_Lodash_["upperFirst"])(type)},{field:"message",name:columnMessageTitle,width:"55%"},{field:"component",name:columnComponentTitle,width:"18%"}];const clusterColumns=[{field:"timestamp",name:columnTimestampTitle,width:"12%",render:timestamp=>getFormattedDateTimeLocal(timestamp)},{field:"level",name:columnLevelTitle,width:"5%"},{field:"type",name:columnTypeTitle,width:"10%",render:type=>Object(external_kbnSharedDeps_Lodash_["upperFirst"])(type)},{field:"message",name:columnMessageTitle,width:"45%"},{field:"component",name:columnComponentTitle,width:"15%"},{field:"node",name:columnNodeTitle,width:"13%"}];function getLogsUiLink(clusterUuid,nodeId,indexUuid){const base=`${Legacy.shims.getBasePath()}/app/logs/link-to/${constants["M"]}/logs`;const params=[];if(clusterUuid){params.push(`elasticsearch.cluster.uuid:${clusterUuid}`)}if(nodeId){params.push(`elasticsearch.node.id:${nodeId}`)}if(indexUuid){params.push(`elasticsearch.index.name:${indexUuid}`)}if(params.length===0){return base}return`${base}?filter=${params.join(" and ")}`}class logs_Logs extends external_kbnSharedDeps_React_["PureComponent"]{renderLogs(){const{logs:{enabled:enabled,logs:logs},nodeId:nodeId,indexUuid:indexUuid}=this.props;if(!enabled){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBasicTable"],{items:logs||[],columns:nodeId||indexUuid?logs_columns:clusterColumns})}renderNoLogs(){const{logs:{enabled:enabled,reason:reason}}=this.props;if(enabled){return null}return external_kbnSharedDeps_React_default.a.createElement(Reason,{reason:reason})}renderCallout(){const uiCapabilities=Legacy.shims.capabilities;const show=uiCapabilities.logs&&uiCapabilities.logs.show;const{logs:{enabled:enabled},nodeId:nodeId,clusterUuid:clusterUuid,indexUuid:indexUuid}=this.props;if(!enabled||!show){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{size:"m",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.listing.calloutTitle",{defaultMessage:"Want to see more log entries?"}),iconType:"logsApp"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.logs.listing.linkText",defaultMessage:"Visit {link} to dive deeper.",values:{link:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:getLogsUiLink(clusterUuid,nodeId,indexUuid)},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.listing.calloutLinkText",{defaultMessage:"Logs"}))}})))}render(){const{nodeId:nodeId,indexUuid:indexUuid,logs:{limit:limit}}=this.props;let description;if(nodeId){description=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.listing.nodePageDescription",{defaultMessage:"Showing the most recent log entries for this node, up to {limit} total log entries.",values:{limit:limit}})}else if(indexUuid){description=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.listing.indexPageDescription",{defaultMessage:"Showing the most recent log entries for this index, up to {limit} total log entries.",values:{limit:limit}})}else{description=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.listing.clusterPageDescription",{defaultMessage:"Showing the most recent log entries for this cluster, up to {limit} total log entries.",values:{limit:limit}})}return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],null,external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logs.listing.pageTitle",{defaultMessage:"Recent Log Entries"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("p",null,description)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),this.renderLogs(),this.renderNoLogs(),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),this.renderCallout())}}function overview_extends(){overview_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return overview_extends.apply(this,arguments)}function ElasticsearchOverview({clusterStatus:clusterStatus,metrics:metrics,logs:logs,cluster:cluster,shardActivity:shardActivity,...props}){const metricsToShow=[metrics.cluster_search_request_rate,metrics.cluster_query_latency,metrics.cluster_index_request_rate,metrics.cluster_index_latency];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(ClusterStatus,{stats:clusterStatus})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGrid"],{columns:2,gutterSize:"s"},metricsToShow.map((metric,index)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{key:index},external_kbnSharedDeps_React_default.a.createElement(MonitoringTimeseriesContainer,overview_extends({series:metric},props)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(logs_Logs,{logs:logs,clusterUuid:cluster.cluster_uuid})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(shard_activity_ShardActivity,overview_extends({data:shardActivity},props)))))}function extractIp(transport){if(typeof transport!=="string"){return null}const matches=transport.match(/inet\[[^\/]*\/([^\/\]]+)\]/);if(matches){return matches[1]}return transport}const TRENDING_DOWN=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.node.cells.trendingDownText",{defaultMessage:"down"});const TRENDING_UP=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.node.cells.trendingUpText",{defaultMessage:"up"});function OfflineCell(){return external_kbnSharedDeps_React_default.a.createElement("div",{className:"monTableCell__number monTableCell__offline"},"N/A")}const getDirection=slope=>{if(slope||slope===0){return slope>0?TRENDING_UP:TRENDING_DOWN}return null};const getIcon=slope=>{if(slope||slope===0){return slope>0?"arrowUp":"arrowDown"}return null};const metricVal=(metric,format,isPercent)=>{if(isPercent){return formatMetric(metric,format,"%",{prependSpace:false})}return formatMetric(metric,format)};function MetricCell({isOnline:isOnline,metric:metric={},isPercent:isPercent,...props}){const[isPopoverOpen,setIsPopoverOpen]=Object(external_kbnSharedDeps_React_["useState"])(false);const onButtonClick=()=>setIsPopoverOpen(isPopoverOpen=>!isPopoverOpen);const closePopover=()=>setIsPopoverOpen(false);if(isOnline){const{lastVal:lastVal,maxVal:maxVal,minVal:minVal,slope:slope}=Object(external_kbnSharedDeps_Lodash_["get"])(metric,"summary",{});const format=Object(external_kbnSharedDeps_Lodash_["get"])(metric,"metric.format");const units=Object(external_kbnSharedDeps_Lodash_["get"])(metric,"metric.units");const tooltipItems=[{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.node.cells.tooltip.trending",{defaultMessage:"Trending"}),description:getDirection(slope)},{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.node.cells.tooltip.max",{defaultMessage:"Max value"}),description:metricVal(maxVal,format,isPercent,units)},{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.node.cells.tooltip.min",{defaultMessage:"Min value"}),description:metricVal(minVal,format,isPercent,units)}];const button=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiKeyboardAccessible"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{onClick:onButtonClick,type:getIcon(slope),"data-test-subj":`monitoringCellIcon-${props["data-test-subj"]}`,title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.node.cells.tooltip.iconLabel",{defaultMessage:"More information about this metric"})}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{"data-test-subj":props["data-test-subj"],gutterSize:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopover"],{ownFocus:true,button:button,isOpen:isPopoverOpen,closePopover:closePopover},external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":`monitoringCellPopover-${props["data-test-subj"]}`},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{type:"column",compressed:true,listItems:tooltipItems,style:{maxWidth:"150px"}}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"xs"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.node.cells.tooltip.preface",{defaultMessage:"Applies to current time period"}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,metricVal(lastVal,format,isPercent))))))}return external_kbnSharedDeps_React_default.a.createElement(OfflineCell,null)}function badge_extends(){badge_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return badge_extends.apply(this,arguments)}const clickToMonitorWithMetricbeat=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.clickToMonitorWithMetricbeat",{defaultMessage:"Monitor with Metricbeat"});const clickToDisableInternalCollection=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.clickToDisableInternalCollection",{defaultMessage:"Disable self monitoring"});const monitoredWithMetricbeat=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.usingMetricbeatCollection",{defaultMessage:"Monitored with Metricbeat"});const unknown=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.unknown",{defaultMessage:"N/A"});function SetupModeBadge({setupMode:setupMode,productName:productName,status:status,instance:instance,clusterUuid:clusterUuid}){let customAction=null;let customText=null;const setupModeData=setupMode.data||{};const setupModeMeta=setupMode.meta||{};const allPartiallyMigrated=setupModeData.totalUniquePartiallyMigratedCount===setupModeData.totalUniqueInstanceCount;if(status.isPartiallyMigrated&&productName===constants["H"]){if(allPartiallyMigrated){customText=clickToDisableInternalCollection;if(setupModeMeta.liveClusterUuid===clusterUuid){customAction=setupMode.shortcutToFinishMigration}}else{return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"flag"})," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"warning",size:"xs"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.monitorAllNodes",{defaultMessage:"Some nodes use only self monitoring"})))}}const badgeProps={};if(status.isInternalCollector||status.isPartiallyMigrated||status.isNetNewUser){badgeProps.onClick=customAction?customAction:()=>setupMode.openFlyout(instance)}let statusText=null;if(status.isInternalCollector){if(badgeProps.onClick){badgeProps.onClickAriaLabel=customText||clickToMonitorWithMetricbeat}statusText=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],badge_extends({color:"danger",iconType:"flag"},badgeProps),customText||clickToMonitorWithMetricbeat)}else if(status.isPartiallyMigrated){if(badgeProps.onClick){badgeProps.onClickAriaLabel=customText||clickToDisableInternalCollection}statusText=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],badge_extends({color:"warning",iconType:"flag"},badgeProps),customText||clickToDisableInternalCollection)}else if(status.isFullyMigrated){if(badgeProps.onClick){badgeProps.onClickAriaLabel=customText||monitoredWithMetricbeat}statusText=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],badge_extends({color:"primary",iconType:"flag"},badgeProps),customText||monitoredWithMetricbeat)}else if(status.isNetNewUser){if(badgeProps.onClick){badgeProps.onClickAriaLabel=customText||clickToMonitorWithMetricbeat}statusText=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],badge_extends({color:"danger",iconType:"flag"},badgeProps),customText||clickToMonitorWithMetricbeat)}else{if(badgeProps.onClick){badgeProps.onClickAriaLabel=customText||unknown}statusText=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],badge_extends({color:"danger",iconType:"flag"},badgeProps),customText||unknown)}return statusText}const MIGRATE_TO_MB_LABEL=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.migrateToMetricbeat",{defaultMessage:"Monitor with Metricbeat"});function ListingCallOut({setupModeData:setupModeData,productName:productName,customRenderer:customRenderer=null}){if(customRenderer){const{shouldRender:shouldRender,componentToRender:componentToRender}=customRenderer();if(shouldRender){return componentToRender}}const mightExist=Object(external_kbnSharedDeps_Lodash_["get"])(setupModeData,"detected.mightExist");const hasInstances=setupModeData.totalUniqueInstanceCount>0;if(!hasInstances){if(mightExist){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.detectedNodeTitle",{defaultMessage:"{product} {identifier} detected",values:{product:formatProductName(productName),identifier:getIdentifier(productName)}}),color:"warning",iconType:"flag"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.detectedNodeDescription",{defaultMessage:`Click 'Set up monitoring' below to start monitoring this {identifier}.`,values:{identifier:getIdentifier(productName)}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.noMonitoringDataFound",{defaultMessage:"No {product} {identifier} detected",values:{product:formatProductName(productName),identifier:getIdentifier(productName,true)}}),iconType:"flag"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.netNewUserDescription",{defaultMessage:`Click 'Set up monitoring' to start monitoring with Metricbeat.`}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}))}if(setupModeData.totalUniqueFullyMigratedCount===setupModeData.totalUniqueInstanceCount){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.metricbeatAllNodes",{defaultMessage:"Metricbeat is monitoring all {identifier}.",values:{identifier:getIdentifier(productName,true)}}),color:"success",iconType:"flag"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}))}if(setupModeData.totalUniquePartiallyMigratedCount===setupModeData.totalUniqueInstanceCount){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.disableInternalCollectionTitle",{defaultMessage:"Disable self monitoring"}),color:"warning",iconType:"flag"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.disableInternalCollectionDescription",{defaultMessage:`Metricbeat is now monitoring your {product} {identifier}. Disable self monitoring to finish the migration.`,values:{product:formatProductName(productName),identifier:getIdentifier(productName,true)}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}))}if(setupModeData.totalUniqueInstanceCount>0){if(setupModeData.totalUniqueFullyMigratedCount===0&&setupModeData.totalUniquePartiallyMigratedCount===0){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:MIGRATE_TO_MB_LABEL,color:"danger",iconType:"flag"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.migrateToMetricbeatDescription",{defaultMessage:`These {product} {identifier} are self monitored.\n                Click 'Monitor with Metricbeat' to migrate.`,values:{product:formatProductName(productName),identifier:getIdentifier(productName,true)}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:MIGRATE_TO_MB_LABEL,color:"danger",iconType:"flag"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.migrateSomeToMetricbeatDescription",{defaultMessage:`Some {product} {identifier} are monitored through self monitoring. Migrate to monitor with Metricbeat.`,values:{product:formatProductName(productName),identifier:getIdentifier(productName,true)}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}))}return null}const getNodeTooltip=node=>{const{nodeTypeLabel:nodeTypeLabel,nodeTypeClass:nodeTypeClass}=node;const nodeTypeLabelContent=nodeTypeLabel||external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodes.unknownNodeTypeLabel",{defaultMessage:"Unknown"});const nodeTypeClassIcon=nodeTypeClass||"empty";if(nodeTypeLabel){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{position:"bottom",content:nodeTypeLabelContent},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:nodeTypeClassIcon}))," "," ")}return null};const getSortHandler=type=>item=>Object(external_kbnSharedDeps_Lodash_["get"])(item,[type,"summary","lastVal"]);const getColumns=(showCgroupMetricsElasticsearch,setupMode,clusterUuid,alerts)=>{const cols=[];const cpuUsageColumnTitle=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodes.cpuUsageColumnTitle",{defaultMessage:"CPU Usage"});cols.push({name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodes.nameColumnTitle",{defaultMessage:"Name"}),field:"name",sortable:true,render:(value,node)=>{let nameLink=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:getSafeForExternalLink(`#/elasticsearch/nodes/${node.resolver}`),"data-test-subj":`nodeLink-${node.resolver}`},value);let setupModeStatus=null;if(isSetupModeFeatureEnabled(enums["d"].MetricbeatMigration)){const list=Object(external_kbnSharedDeps_Lodash_["get"])(setupMode,"data.byUuid",{});const status=list[node.resolver]||{};const instance={uuid:node.resolver,name:node.name};setupModeStatus=external_kbnSharedDeps_React_default.a.createElement("div",{className:"monTableCell__setupModeStatus"},external_kbnSharedDeps_React_default.a.createElement(SetupModeBadge,{setupMode:setupMode,status:status,instance:instance,productName:constants["H"],clusterUuid:clusterUuid}));if(status.isNetNewUser){nameLink=value}}return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement("div",{className:"monTableCell__name"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"m"},getNodeTooltip(node),external_kbnSharedDeps_React_default.a.createElement("span",{"data-test-subj":"name"},nameLink))),external_kbnSharedDeps_React_default.a.createElement("div",{className:"monTableCell__transportAddress"},extractIp(node.transport_address)),setupModeStatus)}});cols.push({name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodes.alertsColumnTitle",{defaultMessage:"Alerts"}),field:"alerts",sortable:true,render:(_field,node)=>external_kbnSharedDeps_React_default.a.createElement(AlertsStatus,{showBadge:true,alerts:alerts,stateFilter:state=>(state.nodeId||state.nodeUuid)===node.resolver.uuid})});cols.push({name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodes.statusColumnTitle",{defaultMessage:"Status"}),dataType:"boolean",field:"isOnline",sortable:true,render:value=>{const status=value?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodes.statusColumn.onlineLabel",{defaultMessage:"Online"}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodes.statusColumn.offlineLabel",{defaultMessage:"Offline"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:status,position:"bottom",trigger:"hover"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:value?"success":"subdued","data-test-subj":"statusIcon",alt:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodes.healthAltIcon",{defaultMessage:"Status: {status}",values:{status:status}})},status))}});cols.push({name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodes.shardsColumnTitle",{defaultMessage:"Shards"}),dataType:"number",field:"shardCount",sortable:true,render:(value,node)=>node.isOnline?external_kbnSharedDeps_React_default.a.createElement("span",{"data-test-subj":"shards"},value):external_kbnSharedDeps_React_default.a.createElement(OfflineCell,null)});if(showCgroupMetricsElasticsearch){cols.push({name:cpuUsageColumnTitle,dataType:"number",field:"node_cgroup_quota",sortable:getSortHandler("node_cgroup_quota"),render:(value,node)=>external_kbnSharedDeps_React_default.a.createElement(MetricCell,{isOnline:node.isOnline,metric:value,isPercent:true,"data-test-subj":"cpuQuota"})});cols.push({name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodes.cpuThrottlingColumnTitle",{defaultMessage:"CPU Throttling"}),dataType:"number",field:"node_cgroup_throttled",sortable:getSortHandler("node_cgroup_throttled"),render:(value,node)=>external_kbnSharedDeps_React_default.a.createElement(MetricCell,{isOnline:node.isOnline,metric:value,isPercent:false,"data-test-subj":"cpuThrottled"})})}else{cols.push({name:cpuUsageColumnTitle,dataType:"number",field:"node_cpu_utilization",sortable:getSortHandler("node_cpu_utilization"),render:(value,node)=>external_kbnSharedDeps_React_default.a.createElement(MetricCell,{isOnline:node.isOnline,metric:value,isPercent:true,"data-test-subj":"cpuUsage"})});cols.push({name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodes.loadAverageColumnTitle",{defaultMessage:"Load Average"}),dataType:"number",field:"node_load_average",sortable:getSortHandler("node_load_average"),render:(value,node)=>external_kbnSharedDeps_React_default.a.createElement(MetricCell,{isOnline:node.isOnline,metric:value,isPercent:false,"data-test-subj":"loadAverage"})})}cols.push({name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodes.jvmMemoryColumnTitle",{defaultMessage:"{javaVirtualMachine} Heap",values:{javaVirtualMachine:"JVM"}}),dataType:"number",field:"node_jvm_mem_percent",sortable:getSortHandler("node_jvm_mem_percent"),render:(value,node)=>external_kbnSharedDeps_React_default.a.createElement(MetricCell,{isOnline:node.isOnline,metric:value,isPercent:true,"data-test-subj":"jvmMemory"})});cols.push({name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodes.diskFreeSpaceColumnTitle",{defaultMessage:"Disk Free Space"}),dataType:"number",field:"node_free_space",sortable:getSortHandler("node_free_space"),render:(value,node)=>external_kbnSharedDeps_React_default.a.createElement(MetricCell,{isOnline:node.isOnline,metric:value,isPercent:false,"data-test-subj":"diskFreeSpace"})});return cols};function ElasticsearchNodes({clusterStatus:clusterStatus,showCgroupMetricsElasticsearch:showCgroupMetricsElasticsearch,...props}){const{sorting:sorting,pagination:pagination,onTableChange:onTableChange,clusterUuid:clusterUuid,setupMode:setupMode,fetchMoreData:fetchMoreData,alerts:alerts}=props;const columns=getColumns(showCgroupMetricsElasticsearch,setupMode,clusterUuid,alerts);const nodes=props.nodes||[];if(setupMode&&setupMode.enabled&&isSetupModeFeatureEnabled(enums["d"].MetricbeatMigration)){const nodesByUuid=nodes.reduce((byUuid,node)=>({...byUuid,[node.id||node.resolver]:node}),{});nodes.push(...Object.entries(setupMode.data.byUuid).reduce((nodes,[nodeUuid,instance])=>{if(!nodesByUuid[nodeUuid]&&instance.node){nodes.push(instance.node)}return nodes},[]))}let setupModeCallout=null;if(isSetupModeFeatureEnabled(enums["d"].MetricbeatMigration)){setupModeCallout=external_kbnSharedDeps_React_default.a.createElement(ListingCallOut,{setupModeData:setupMode.data,useNodeIdentifier:true,productName:constants["H"],customRenderer:()=>{const customRenderResponse={shouldRender:false,componentToRender:null};const isNetNewUser=setupMode.data.totalUniqueInstanceCount===0;const hasNoInstances=setupMode.data.totalUniqueInternallyCollectedCount===0&&setupMode.data.totalUniqueFullyMigratedCount===0&&setupMode.data.totalUniquePartiallyMigratedCount===0;if(isNetNewUser||hasNoInstances){customRenderResponse.shouldRender=true;customRenderResponse.componentToRender=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodes.metricbeatMigration.detectedNodeTitle",{defaultMessage:"Elasticsearch node detected"}),color:setupMode.data.totalUniqueInstanceCount>0?"danger":"warning",iconType:"flag"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodes.metricbeatMigration.detectedNodeDescription",{defaultMessage:`The following nodes are not monitored. Click 'Monitor with Metricbeat' below to start monitoring.`}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}))}else if(setupMode.data.totalUniquePartiallyMigratedCount===setupMode.data.totalUniqueInstanceCount){const finishMigrationAction=Object(external_kbnSharedDeps_Lodash_["get"])(setupMode.meta,"liveClusterUuid")===clusterUuid?setupMode.shortcutToFinishMigration:setupMode.openFlyout;customRenderResponse.shouldRender=true;customRenderResponse.componentToRender=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodes.metricbeatMigration.disableInternalCollectionTitle",{defaultMessage:"Metricbeat is now monitoring your Elasticsearch nodes"}),color:"warning",iconType:"flag"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodes.metricbeatMigration.disableInternalCollectionDescription",{defaultMessage:`Disable self monitoring to finish the migration.`})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{onClick:finishMigrationAction,size:"s",color:"warning",fill:true},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodes.metricbeatMigration.disableInternalCollectionMigrationButtonLabel",{defaultMessage:"Disable self monitoring"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}))}return customRenderResponse}})}function renderClusterStatus(){if(!clusterStatus){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(ClusterStatus,{stats:clusterStatus,alerts:alerts})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,renderClusterStatus(),setupModeCallout,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,external_kbnSharedDeps_React_default.a.createElement(EuiMonitoringSSPTable,{className:"elasticsearchNodesTable",rows:nodes,columns:columns,sorting:sorting,pagination:pagination,setupMode:setupMode,productName:constants["H"],search:{box:{incremental:true,placeholder:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodes.monitoringTablePlaceholder",{defaultMessage:"Filter Nodes…"})}},onTableChange:onTableChange,fetchMoreData:fetchMoreData}))))}var indices_indices=__webpack_require__(155);const indices_getColumns=alerts=>[{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.indices.nameTitle",{defaultMessage:"Name"}),field:"name",width:"350px",sortable:true,render:value=>external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"name"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:getSafeForExternalLink(`#/elasticsearch/indices/${value}`),"data-test-subj":`indexLink-${value}`},value))},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.indices.alertsColumnTitle",{defaultMessage:"Alerts"}),field:"alerts",sortable:true,render:(_field,index)=>external_kbnSharedDeps_React_default.a.createElement(AlertsStatus,{showBadge:true,alerts:alerts,stateFilter:state=>state.meta.shardIndex===index.name})},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.indices.statusTitle",{defaultMessage:"Status"}),field:"status",sortable:true,render:value=>external_kbnSharedDeps_React_default.a.createElement("div",{className:"monElasticsearchIndicesTable__status",title:`Index status: ${value}`},external_kbnSharedDeps_React_default.a.createElement(ElasticsearchStatusIcon,{status:value})," ",Object(external_kbnSharedDeps_Lodash_["capitalize"])(value))},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.indices.documentCountTitle",{defaultMessage:"Document Count"}),field:"doc_count",sortable:true,render:value=>external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"documentCount"},formatMetric(value,LARGE_ABBREVIATED))},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.indices.dataTitle",{defaultMessage:"Data"}),field:"data_size",sortable:true,render:value=>external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"dataSize"},formatMetric(value,LARGE_BYTES))},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.indices.indexRateTitle",{defaultMessage:"Index Rate"}),field:"index_rate",sortable:true,render:value=>external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"indexRate"},formatMetric(value,LARGE_FLOAT,"/s"))},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.indices.searchRateTitle",{defaultMessage:"Search Rate"}),field:"search_rate",sortable:true,render:value=>external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"searchRate"},formatMetric(value,LARGE_FLOAT,"/s"))},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.indices.unassignedShardsTitle",{defaultMessage:"Unassigned Shards"}),field:"unassigned_shards",sortable:true,render:value=>external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"unassignedShards"},formatMetric(value,"0"))}];const getNoDataMessage=()=>external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.elasticsearch.indices.noIndicesMatchYourSelectionDescription",defaultMessage:"There are no indices that match your selections. Try changing the time range selection."})),external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.elasticsearch.indices.howToShowSystemIndicesDescription",defaultMessage:"If you are looking for system indices (e.g., .kibana), try checking ‘Show system indices’."})));const ElasticsearchIndices=({clusterStatus:clusterStatus,indices:indices,sorting:sorting,pagination:pagination,onTableChange:onTableChange,toggleShowSystemIndices:toggleShowSystemIndices,showSystemIndices:showSystemIndices,alerts:alerts})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(ClusterStatus,{stats:clusterStatus,alerts:alerts})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSwitch"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.elasticsearch.indices.systemIndicesLabel",defaultMessage:"Filter for system indices"}),checked:showSystemIndices,onChange:e=>toggleShowSystemIndices(e.target.checked)}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(EuiMonitoringTable,{className:"elasticsearchIndicesTable",rows:indices,columns:indices_getColumns(alerts),sorting:sorting,pagination:pagination,message:getNoDataMessage(),search:{box:{incremental:true,placeholder:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.indices.monitoringTablePlaceholder",{defaultMessage:"Filter Indices…"})}},onTableChange:onTableChange,executeQueryOptions:{defaultFields:["name"]}}))));function get_page_data_getPageData($injector,api){const $http=$injector.get("$http");const globalState=$injector.get("globalState");const timeBounds=Legacy.shims.timefilter.getBounds();return $http.post(api,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(response=>response.data).catch(err=>{const Private=$injector.get("Private");const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}function cancel_promise_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}let Status;(function(Status){Status[Status["Canceled"]=0]="Canceled";Status[Status["Failed"]=1]="Failed";Status[Status["Resolved"]=2]="Resolved";Status[Status["Awaiting"]=3]="Awaiting";Status[Status["Idle"]=4]="Idle"})(Status||(Status={}));class PromiseWithCancel{constructor(promise){cancel_promise_defineProperty(this,"_promise",void 0);cancel_promise_defineProperty(this,"_status",Status.Idle);cancel_promise_defineProperty(this,"cancel",()=>{this._status=Status.Canceled});cancel_promise_defineProperty(this,"status",()=>this._status);cancel_promise_defineProperty(this,"promise",()=>{if(this._status===Status.Canceled){throw Error("Getting a canceled promise is not allowed")}else if(this._status!==Status.Idle){return this._promise}return new Promise((resolve,reject)=>{this._status=Status.Awaiting;return this._promise.then(response=>{if(this._status!==Status.Canceled){this._status=Status.Resolved;return resolve(response)}}).catch(error=>{if(this._status!==Status.Canceled){this._status=Status.Failed;return reject(error)}})})});this._promise=promise}}const getOffsetInMS=timezone=>{if(timezone==="Browser"){return 0}const offsetInMinutes=external_kbnSharedDeps_Moment_default.a.tz(timezone).utcOffset();const offsetInMS=offsetInMinutes*1*60*1e3;return offsetInMS};class base_controller_MonitoringViewBaseController{constructor({title:title="",pageTitle:pageTitle="",api:api="",apiUrlFn:apiUrlFn,getPageData:_getPageData=get_page_data_getPageData,defaultData:defaultData,reactNodeId:reactNodeId=null,$scope:$scope,$injector:$injector,options:options={},alerts:alerts={shouldFetch:false,options:{}},fetchDataImmediately:fetchDataImmediately=true,telemetryPageViewTitle:telemetryPageViewTitle=""}){const titleService=$injector.get("title");const $executor=$injector.get("$executor");const $window=$injector.get("$window");const config=$injector.get("config");titleService($scope.cluster,title);$scope.pageTitle=pageTitle;this.setPageTitle=title=>$scope.pageTitle=title;$scope.pageData=this.data={...defaultData};this._isDataInitialized=false;this.reactNodeId=reactNodeId;this.telemetryPageViewTitle=telemetryPageViewTitle||title;let deferTimer;let zoomInLevel=0;const popstateHandler=()=>zoomInLevel>0&&--zoomInLevel;const removePopstateHandler=()=>$window.removeEventListener("popstate",popstateHandler);const addPopstateHandler=()=>$window.addEventListener("popstate",popstateHandler);this.zoomInfo={zoomOutHandler:()=>$window.history.back(),showZoomOutBtn:()=>zoomInLevel>0};const{enableTimeFilter:enableTimeFilter=true,enableAutoRefresh:enableAutoRefresh=true}=options;async function fetchAlerts(){var _bounds$min,_bounds$max;const globalState=$injector.get("globalState");const bounds=Legacy.shims.timefilter.getBounds();const min=(_bounds$min=bounds.min)===null||_bounds$min===void 0?void 0:_bounds$min.valueOf();const max=(_bounds$max=bounds.max)===null||_bounds$max===void 0?void 0:_bounds$max.valueOf();const options=alerts.options||{};try{return await Legacy.shims.http.post(`/api/monitoring/v1/alert/${globalState.cluster_uuid}/status`,{body:JSON.stringify({alertTypeIds:options.alertTypeIds,filters:options.filters,timeRange:{min:min,max:max}})})}catch(err){Legacy.shims.toastNotifications.addDanger({title:"Error fetching alert status",text:err.message})}}this.updateData=()=>{if(this.updateDataPromise){this.updateDataPromise.cancel();this.updateDataPromise=null}const _api=apiUrlFn?apiUrlFn():api;const promises=[_getPageData($injector,_api,this.getPaginationRouteOptions())];if(alerts.shouldFetch){promises.push(fetchAlerts())}if(isSetupModeFeatureEnabled(enums["d"].MetricbeatMigration)){promises.push(updateSetupModeData())}this.updateDataPromise=new PromiseWithCancel(Promise.allSettled(promises));return this.updateDataPromise.promise().then(([pageData,alerts])=>{$scope.$apply(()=>{this._isDataInitialized=true;$scope.pageData=this.data=pageData.value;$scope.alerts=this.alerts=alerts&&alerts.value?alerts.value:{}})})};$scope.$applyAsync(()=>{const timefilter=Legacy.shims.timefilter;if(enableTimeFilter===false){timefilter.disableTimeRangeSelector()}else{timefilter.enableTimeRangeSelector()}if(enableAutoRefresh===false){timefilter.disableAutoRefreshSelector()}else{timefilter.enableAutoRefreshSelector()}this.onBrush=({xaxis:xaxis})=>{removePopstateHandler();const{to:to,from:from}=xaxis;const timezone=config.get("dateFormat:tz");const offset=getOffsetInMS(timezone);timefilter.setTime({from:external_kbnSharedDeps_Moment_default()(from-offset),to:external_kbnSharedDeps_Moment_default()(to-offset),mode:"absolute"});$executor.cancel();$executor.run();++zoomInLevel;clearTimeout(deferTimer);deferTimer=setTimeout(()=>addPopstateHandler(),10)};this.renderReact(null,true);fetchDataImmediately&&this.updateData()});$executor.register({execute:()=>this.updateData()});$executor.start($scope);$scope.$on("$destroy",()=>{clearTimeout(deferTimer);removePopstateHandler();const targetElement=document.getElementById(this.reactNodeId);if(targetElement){Object(external_kbnSharedDeps_ReactDom_["unmountComponentAtNode"])(targetElement)}$executor.destroy()});this.setTitle=title=>titleService($scope.cluster,title)}renderReact(component,trackPageView=false){const renderElement=document.getElementById(this.reactNodeId);if(!renderElement){console.warn(`"#${this.reactNodeId}" element has not been added to the DOM yet`);return}const I18nContext=Legacy.shims.I18nContext;const wrappedComponent=external_kbnSharedDeps_React_default.a.createElement(kibanaReact_public_["KibanaContextProvider"],{services:Legacy.shims.kibanaServices},external_kbnSharedDeps_React_default.a.createElement(I18nContext,null,external_kbnSharedDeps_React_default.a.createElement(AlertsContext.Provider,{value:{allAlerts:this.alerts}},!this._isDataInitialized?external_kbnSharedDeps_React_default.a.createElement(PageLoading,{pageViewTitle:trackPageView?this.telemetryPageViewTitle:null}):component)));Object(external_kbnSharedDeps_ReactDom_["render"])(wrappedComponent,renderElement)}getPaginationRouteOptions(){return{}}}function controller_extends(){controller_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return controller_extends.apply(this,arguments)}class controller_NoDataController extends base_controller_MonitoringViewBaseController{constructor($injector,$scope){window.injectorThree=$injector;const monitoringClusters=$injector.get("monitoringClusters");const $http=$injector.get("$http");const checkers=[new cluster_settings_ClusterSettingsChecker($http),new node_settings_NodeSettingsChecker($http)];const getData=async()=>{let catchReason;try{const monitoringClustersData=await monitoringClusters(undefined,undefined,[constants["C"]]);if(monitoringClustersData&&monitoringClustersData.length){window.history.replaceState(null,null,"#/home");return monitoringClustersData}}catch(err){if(err&&err.status===503){catchReason={property:"custom",message:err.data.message}}}this.errors.length=0;if(catchReason){this.reason=catchReason}else if(!this.isCollectionEnabledUpdating&&!this.isCollectionIntervalUpdating){await startChecks(checkers,updateModel)}};super({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.noData.routeTitle",{defaultMessage:"Setup Monitoring"}),getPageData:async()=>await getData(),reactNodeId:"noDataReact",$scope:$scope,$injector:$injector});Object.assign(this,this.getDefaultModel());const{updateModel:updateModel}=new ModelUpdater($scope,this);const enabler=new Enabler($http,updateModel);$scope.$watch(()=>this,()=>{if(this.isCollectionEnabledUpdated&&!this.reason){return}this.render(enabler)},true)}getDefaultModel(){return{errors:[],checkMessage:null,isLoading:true,isCollectionEnabledUpdating:false,isCollectionEnabledUpdated:false,isCollectionIntervalUpdating:false,isCollectionIntervalUpdated:false}}render(enabler){const props=this;this.renderReact(external_kbnSharedDeps_React_default.a.createElement(NoData,controller_extends({},props,{enabler:enabler,isCloudEnabled:Legacy.shims.isCloud})))}}uiRoutes.when("/no-data",{template:no_data,controller:controller_NoDataController});var access_denied='<div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem">\n  <div class="kuiInfoPanel kuiInfoPanel--error">\n    <div class="kuiInfoPanelHeader">\n      <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n      <span\n        class="kuiInfoPanelHeader__title"\n        data-test-subj="accessDeniedTitle"\n        i18n-id="xpack.monitoring.accessDeniedTitle"\n        i18n-default-message="Access Denied"\n      ></span>\n    </div>\n\n    <div class="kuiInfoPanelBody">\n      <div\n        class="kuiInfoPanelBody__message"\n        i18n-id="xpack.monitoring.accessDenied.notAuthorizedDescription"\n        i18n-default-message="You are not authorized to access Monitoring. To use Monitoring, you\n        need the privileges granted by both the `{kibanaAdmin}` and\n        `{monitoringUser}` roles."\n        i18n-values="{ kibanaAdmin: \'kibana_admin\', monitoringUser: \'monitoring_user\' }"\n      ></div>\n\n      <div\n        class="kuiInfoPanelBody__message"\n        i18n-id="xpack.monitoring.accessDenied.clusterNotConfiguredDescription"\n        i18n-default-message="If you are attempting to access a dedicated monitoring cluster, this\n        might be because you are logged in as a user that is not configured on\n        the monitoring cluster."\n      ></div>\n\n      <div class="kuiInfoPanelBody__message">\n        <div class="kuiButtonGroup">\n          <a ng-href="{{ accessDenied.goToKibanaURL }}">\n            <button\n              class="kuiButton kuiButton--primary"\n              i18n-id="xpack.monitoring.accessDenied.backToKibanaButtonLabel"\n              i18n-default-message="Back to Kibana"\n            ></button>\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n';const tryPrivilege=$http=>$http.get("../api/monitoring/v1/check_access").then(()=>window.history.replaceState(null,null,"#/home")).catch(()=>true);uiRoutes.when("/access-denied",{template:access_denied,resolve:{initialCheck($http){return tryPrivilege($http)}},controllerAs:"accessDenied",controller:function($scope,$injector){const $http=$injector.get("$http");const $interval=$injector.get("$interval");this.goToKibanaURL="/app/home";const accessPoller=$interval(()=>tryPrivilege($http),5*1e3);$scope.$on("$destroy",()=>$interval.cancel(accessPoller))}});function getClusterFromClusters(clusters,globalState,unsetGlobalState=false){const cluster=(()=>{const existingCurrent=Object(external_kbnSharedDeps_Lodash_["find"])(clusters,{cluster_uuid:globalState.cluster_uuid});if(existingCurrent){return existingCurrent}const firstCluster=Object(external_kbnSharedDeps_Lodash_["first"])(clusters);if(firstCluster&&firstCluster.cluster_uuid){return firstCluster}return null})();if(cluster&&cluster.license){globalState.cluster_uuid=unsetGlobalState?undefined:cluster.cluster_uuid;globalState.ccs=unsetGlobalState?undefined:cluster.ccs;globalState.save();return cluster}return null}function routeInitProvider(Private,monitoringClusters,globalState,license){const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);function isOnPage(hash){return window.location.hash.includes(hash)}return function routeInit({codePaths:codePaths,fetchAllClusters:fetchAllClusters,unsetGlobalState:unsetGlobalState=false}){const clusterUuid=fetchAllClusters?null:globalState.cluster_uuid;return monitoringClusters(clusterUuid,undefined,codePaths).then(clusters=>{const inSetupMode=isInSetupMode();const cluster=getClusterFromClusters(clusters,globalState,unsetGlobalState);if(!cluster&&!inSetupMode){window.history.replaceState(null,null,"#/no-data");return Promise.resolve()}if(cluster){license.setLicense(cluster.license);if(!(isOnPage("license")||isOnPage("home"))&&license.isExpired()){window.history.replaceState(null,null,"#/license");return Promise.resolve()}const clusterSupported=cluster.isSupported||clusters.length===1;if(!isOnPage("home")&&!clusterSupported){window.history.replaceState(null,null,"#/home");return Promise.resolve()}}return clusters}).catch(ajaxErrorHandlers)}}var views_license='<monitoring-main data-test-subj="xpackLicensePage">\n  <div id="licenseReact" class="licFeature"></div>\n</monitoring-main>\n';var constants_=__webpack_require__(25);const REACT_NODE_ID="licenseReact";class controller_LicenseViewController{constructor($injector,$scope){Legacy.shims.timefilter.disableTimeRangeSelector();Legacy.shims.timefilter.disableAutoRefreshSelector();$scope.$on("$destroy",()=>{Object(external_kbnSharedDeps_ReactDom_["unmountComponentAtNode"])(document.getElementById(REACT_NODE_ID))});this.init($injector,$scope,external_kbnSharedDeps_KbnI18n_["i18n"])}init($injector,$scope){const globalState=$injector.get("globalState");const title=$injector.get("title");const $route=$injector.get("$route");const cluster=Object(external_kbnSharedDeps_Lodash_["find"])($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});$scope.cluster=cluster;const routeTitle=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.license.licenseRouteTitle",{defaultMessage:"License"});title($scope.cluster,routeTitle);this.license=cluster.license;this.isExpired=Date.now()>Object(external_kbnSharedDeps_Lodash_["get"])(cluster,"license.expiry_date_in_millis");this.isPrimaryCluster=cluster.isPrimary;const basePath=Legacy.shims.getBasePath();this.uploadLicensePath=basePath+"/app/kibana#"+constants_["BASE_PATH"]+"upload_license";this.renderReact($scope)}renderReact($scope){const injector=Legacy.shims.getAngularInjector();const timezone=injector.get("config").get("dateFormat:tz");$scope.$evalAsync(()=>{const{isPrimaryCluster:isPrimaryCluster,license:license,isExpired:isExpired,uploadLicensePath:uploadLicensePath}=this;let expiryDate=license.expiry_date_in_millis;if(license.expiry_date_in_millis!==undefined){expiryDate=formatDateTimeLocal(license.expiry_date_in_millis,timezone)}Object(external_kbnSharedDeps_ReactDom_["render"])(external_kbnSharedDeps_React_default.a.createElement(License,{isPrimaryCluster:isPrimaryCluster,status:license.status,type:license.type,isExpired:isExpired,expiryDate:expiryDate,uploadLicensePath:uploadLicensePath}),document.getElementById(REACT_NODE_ID))})}}uiRoutes.when("/license",{template:views_license,resolve:{clusters:Private=>{const routeInit=Private(routeInitProvider);return routeInit({codePaths:[constants["C"]]})}},controllerAs:"licenseView",controller:controller_LicenseViewController});class base_table_controller_MonitoringViewBaseTableController extends base_controller_MonitoringViewBaseController{constructor(args){super(args);const{storageKey:storageKey,$injector:$injector}=args;const storage=$injector.get("localStorage");const getLocalStorageData=tableStorageGetter(storageKey);const setLocalStorageData=tableStorageSetter(storageKey);const{pageIndex:pageIndex,filterText:filterText,sortKey:sortKey,sortOrder:sortOrder}=getLocalStorageData(storage);this.pageIndex=pageIndex;this.filterText=filterText;this.sortKey=sortKey;this.sortOrder=sortOrder;this.onNewState=newState=>{setLocalStorageData(storage,newState)}}}const PAGE_SIZE_OPTIONS=[5,10,20,50];class base_eui_table_controller_MonitoringViewBaseEuiTableController extends base_controller_MonitoringViewBaseController{constructor(args){super(args);const{storageKey:storageKey,$injector:$injector}=args;const storage=$injector.get("localStorage");const getLocalStorageData=euiTableStorageGetter(storageKey);const setLocalStorageData=euiTableStorageSetter(storageKey);const{page:page,sort:sort}=getLocalStorageData(storage);this.pagination={pageSize:20,initialPageSize:20,pageIndex:0,initialPageIndex:0,pageSizeOptions:PAGE_SIZE_OPTIONS};if(page){if(!PAGE_SIZE_OPTIONS.includes(page.size)){page.size=20}this.setPagination(page)}this.setSorting(sort);this.onTableChange=({page:page,sort:sort})=>{this.setPagination(page);this.setSorting({sort:sort});setLocalStorageData(storage,{page:page,sort:{sort:sort}});if(this.onTableChangeRender){this.onTableChangeRender()}};args.fetchDataImmediately===false&&this.updateData()}setPagination(page){this.pagination={initialPageSize:page.size,pageSize:page.size,initialPageIndex:page.index,pageIndex:page.index,pageSizeOptions:PAGE_SIZE_OPTIONS}}setSorting(sort){this.sorting=sort||{sort:{}};if(!this.sorting.sort.field){this.sorting.sort.field="name"}if(!this.sorting.sort.direction){this.sorting.sort.direction=constants["I"]}}setQueryText(queryText){this.queryText=queryText}getPaginationRouteOptions(){if(!this.pagination||!this.sorting){return{}}return{pagination:{size:this.pagination.pageSize,index:this.pagination.pageIndex},...this.sorting,queryText:this.queryText}}getPaginationTableProps(pagination){return{sorting:this.sorting,pagination:pagination,onTableChange:this.onTableChange,fetchMoreData:async({page:page,sort:sort,queryText:queryText})=>{this.setPagination(page);this.setSorting(sort);this.setQueryText(queryText);await this.updateData()}}}}var listing='<monitoring-main name="listing">\n  <div id="monitoringClusterListingApp"></div>\n</monitoring-main>\n';var listing_listing=__webpack_require__(164);const IsClusterSupported=({isSupported:isSupported,children:children})=>isSupported?children:"-";const IsAlertsSupported=props=>{const{alertsMeta:alertsMeta={enabled:true}}=props.cluster.alerts;if(alertsMeta.enabled){return external_kbnSharedDeps_React_default.a.createElement("span",null,props.children)}const message=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.listing.unknownHealthMessage",{defaultMessage:"Unknown"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:message,position:"bottom"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:"subdued","data-test-subj":"alertIcon"},"N/A"))};const STANDALONE_CLUSTER_STORAGE_KEY="viewedStandaloneCluster";const listing_getColumns=(showLicenseExpiration,changeCluster,handleClickIncompatibleLicense,handleClickInvalidLicense)=>[{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.listing.nameColumnTitle",{defaultMessage:"Name"}),field:"cluster_name",sortable:true,render:(value,cluster)=>{if(cluster.isSupported){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:getSafeForExternalLink(`#/overview`,{cluster_uuid:cluster.cluster_uuid}),"data-test-subj":"clusterLink"},value)}if(cluster.license){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{onClick:()=>handleClickIncompatibleLicense(cluster.cluster_name),"data-test-subj":"clusterLink"},value)}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{onClick:()=>handleClickInvalidLicense(cluster.cluster_name),"data-test-subj":"clusterLink"},value)}},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.listing.statusColumnTitle",{defaultMessage:"Alerts Status"}),field:"status","data-test-subj":"alertsStatus",sortable:true,render:(_status,cluster)=>external_kbnSharedDeps_React_default.a.createElement(IsClusterSupported,cluster,external_kbnSharedDeps_React_default.a.createElement(IsAlertsSupported,{cluster:cluster},external_kbnSharedDeps_React_default.a.createElement(AlertsStatus,{alerts:cluster.alerts.list})))},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.listing.nodesColumnTitle",{defaultMessage:"Nodes"}),field:"elasticsearch.cluster_stats.nodes.count.total","data-test-subj":"nodesCount",sortable:true,render:(total,cluster)=>external_kbnSharedDeps_React_default.a.createElement(IsClusterSupported,cluster,external_kbnSharedDeps_ElasticNumeral_default()(total).format("0,0"))},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.listing.indicesColumnTitle",{defaultMessage:"Indices"}),field:"elasticsearch.cluster_stats.indices.count","data-test-subj":"indicesCount",sortable:true,render:(count,cluster)=>external_kbnSharedDeps_React_default.a.createElement(IsClusterSupported,cluster,external_kbnSharedDeps_ElasticNumeral_default()(count).format("0,0"))},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.listing.dataColumnTitle",{defaultMessage:"Data"}),field:"elasticsearch.cluster_stats.indices.store.size_in_bytes","data-test-subj":"dataSize",sortable:true,render:(size,cluster)=>external_kbnSharedDeps_React_default.a.createElement(IsClusterSupported,cluster,external_kbnSharedDeps_ElasticNumeral_default()(size).format("0,0[.]0 b"))},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.listing.logstashColumnTitle",{defaultMessage:"Logstash"}),field:"logstash.node_count","data-test-subj":"logstashCount",sortable:true,render:(count,cluster)=>external_kbnSharedDeps_React_default.a.createElement(IsClusterSupported,cluster,external_kbnSharedDeps_ElasticNumeral_default()(count).format("0,0"))},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.listing.kibanaColumnTitle",{defaultMessage:"Kibana"}),field:"kibana.count","data-test-subj":"kibanaCount",sortable:true,render:(count,cluster)=>external_kbnSharedDeps_React_default.a.createElement(IsClusterSupported,cluster,external_kbnSharedDeps_ElasticNumeral_default()(count).format("0,0"))},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.listing.licenseColumnTitle",{defaultMessage:"License"}),field:"license.type","data-test-subj":"clusterLicense",sortable:true,render:(licenseType,cluster)=>{const license=cluster.license;if(!licenseType){return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement("div",{className:"monTableCell__clusterCellLicense"},"N/A"))}if(license){const licenseExpiry=()=>{if(license.expiry_date_in_millis<external_kbnSharedDeps_Moment_default()().valueOf()){return external_kbnSharedDeps_React_default.a.createElement("span",{className:"monTableCell__clusterCellExpired"},"Expired")}return external_kbnSharedDeps_React_default.a.createElement("span",null,"Expires ",external_kbnSharedDeps_Moment_default()(license.expiry_date_in_millis).format("D MMM YY"))};return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement("div",{className:"monTableCell__clusterCellLicense"},Object(external_kbnSharedDeps_Lodash_["capitalize"])(licenseType)),external_kbnSharedDeps_React_default.a.createElement("div",{className:"monTableCell__clusterCellExpiration"},showLicenseExpiration?licenseExpiry():null))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{onClick:()=>handleClickInvalidLicense(cluster.cluster_name)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:"subdued","data-test-subj":"alertIcon"},"N/A"))}}];const listing_changeCluster=(scope,globalState,clusterUuid,ccs)=>{scope.$evalAsync(()=>{globalState.cluster_uuid=clusterUuid;globalState.ccs=ccs;globalState.save();window.history.replaceState(null,null,"#/overview")})};const licenseWarning=(scope,{title:title,text:text})=>{scope.$evalAsync(()=>{Legacy.shims.toastNotifications.addWarning({title:title,text:text,"data-test-subj":"monitoringLicenseWarning"})})};const listing_handleClickIncompatibleLicense=(scope,clusterName)=>{licenseWarning(scope,{title:Object(kibanaReact_public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.listing.incompatibleLicense.warningMessageTitle",defaultMessage:"You can't view the {clusterName} cluster",values:{clusterName:'"'+clusterName+'"'}})),text:Object(kibanaReact_public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.listing.incompatibleLicense.noMultiClusterSupportMessage",defaultMessage:"The Basic license does not support multi-cluster monitoring."})),external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.listing.incompatibleLicense.infoMessage",defaultMessage:"Need to monitor multiple clusters? {getLicenseInfoLink} to enjoy multi-cluster monitoring.",values:{getLicenseInfoLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:"https://www.elastic.co/subscriptions",target:"_blank"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.listing.incompatibleLicense.getLicenseLinkLabel",defaultMessage:"Get a license with full functionality"}))}}))))})};const listing_handleClickInvalidLicense=(scope,clusterName)=>{const licensingPath=`${Legacy.shims.getBasePath()}/app/management/stack/license_management/home`;licenseWarning(scope,{title:Object(kibanaReact_public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.listing.invalidLicense.warningMessageTitle",defaultMessage:"You can't view the {clusterName} cluster",values:{clusterName:'"'+clusterName+'"'}})),text:Object(kibanaReact_public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.listing.invalidLicense.invalidInfoMessage",defaultMessage:"The license information is invalid."})),external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.listing.invalidLicense.infoMessage",defaultMessage:"Need a license? {getBasicLicenseLink} or {getLicenseInfoLink} to enjoy multi-cluster monitoring.",values:{getBasicLicenseLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:licensingPath},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.listing.invalidLicense.getBasicLicenseLinkLabel",defaultMessage:"Get a free Basic license"})),getLicenseInfoLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:"https://www.elastic.co/subscriptions",target:"_blank"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.listing.invalidLicense.getLicenseLinkLabel",defaultMessage:"Get a license with full functionality"}))}}))))})};class listing_Listing extends external_kbnSharedDeps_React_["Component"]{constructor(props){super(props);this.state={[STANDALONE_CLUSTER_STORAGE_KEY]:false}}renderStandaloneClusterCallout(changeCluster,storage){if(storage.get(STANDALONE_CLUSTER_STORAGE_KEY)){return null}return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{color:"warning",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.listing.standaloneClusterCallOutTitle",{defaultMessage:"It looks like you have instances that aren't connected to an Elasticsearch cluster."}),iconType:"link"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{onClick:()=>changeCluster(constants["T"]),"data-test-subj":"standaloneClusterLink"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.listing.standaloneClusterCallOutLink",defaultMessage:"View these instances."}))," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.listing.standaloneClusterCallOutText",defaultMessage:"Or, click Standalone Cluster in the table below"})),external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{onClick:()=>{storage.set(STANDALONE_CLUSTER_STORAGE_KEY,true);this.setState({[STANDALONE_CLUSTER_STORAGE_KEY]:true})}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"cross"})," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.listing.standaloneClusterCallOutDismiss",defaultMessage:"Dismiss"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null))}render(){const{angular:angular,clusters:clusters,sorting:sorting,pagination:pagination,onTableChange:onTableChange}=this.props;const _changeCluster=Object(external_kbnSharedDeps_Lodash_["partial"])(listing_changeCluster,angular.scope,angular.globalState);const _handleClickIncompatibleLicense=Object(external_kbnSharedDeps_Lodash_["partial"])(listing_handleClickIncompatibleLicense,angular.scope);const _handleClickInvalidLicense=Object(external_kbnSharedDeps_Lodash_["partial"])(listing_handleClickInvalidLicense,angular.scope);const hasStandaloneCluster=!!clusters.find(cluster=>cluster.cluster_uuid===constants["T"]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,hasStandaloneCluster?this.renderStandaloneClusterCallout(_changeCluster,angular.storage):null,external_kbnSharedDeps_React_default.a.createElement(EuiMonitoringTable,{className:"clusterTable",rows:clusters,columns:listing_getColumns(angular.showLicenseExpiration,_changeCluster,_handleClickIncompatibleLicense,_handleClickInvalidLicense),rowProps:item=>({"data-test-subj":`clusterRow_${item.cluster_uuid}`}),sorting:{...sorting,sort:{...sorting.sort,field:"cluster_name"}},pagination:pagination,search:{box:{incremental:true,placeholder:angular.scope.filterText}},onTableChange:onTableChange,executeQueryOptions:{defaultFields:["cluster_name"]}}))))}}const CODE_PATHS=[constants["x"]];const listing_getPageData=$injector=>{const monitoringClusters=$injector.get("monitoringClusters");return monitoringClusters(undefined,undefined,CODE_PATHS)};uiRoutes.when("/home",{template:listing,resolve:{clusters:Private=>{const routeInit=Private(routeInitProvider);return routeInit({codePaths:CODE_PATHS,fetchAllClusters:true,unsetGlobalState:true}).then(clusters=>{if(!clusters||!clusters.length){window.location.hash="#/no-data";return Promise.reject()}if(clusters.length===1){window.history.replaceState(null,null,"#/overview");return Promise.reject()}return clusters})}},controllerAs:"clusters",controller:class ClustersList extends base_eui_table_controller_MonitoringViewBaseEuiTableController{constructor($injector,$scope){super({storageKey:"clusters",pageTitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.listing.pageTitle",{defaultMessage:"Cluster listing"}),getPageData:listing_getPageData,$scope:$scope,$injector:$injector,reactNodeId:"monitoringClusterListingApp",telemetryPageViewTitle:"cluster_listing"});const $route=$injector.get("$route");const globalState=$injector.get("globalState");const storage=$injector.get("localStorage");const showLicenseExpiration=$injector.get("showLicenseExpiration");this.data=$route.current.locals.clusters;$scope.$watch(()=>this.data,data=>{this.renderReact(external_kbnSharedDeps_React_default.a.createElement(listing_Listing,{clusters:data,angular:{scope:$scope,globalState:globalState,storage:storage,showLicenseExpiration:showLicenseExpiration},sorting:this.sorting,pagination:this.pagination,onTableChange:this.onTableChange}))})}}}).otherwise({redirectTo:"/loading"});var overview='<monitoring-main name="overview" data-test-subj="clusterOverviewContainer" on-loaded="monitoringClusterOverview.init">\n  <div id="monitoringClusterOverviewApp"></div>\n</monitoring-main>\n';function HealthLabel(props){if(props.status==="green"){return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.health.healthy",{defaultMessage:"Healthy"})}if(props.status==="yellow"){return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.health.replicaShards",{defaultMessage:"Missing replica shards"})}if(props.status==="red"){return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.health.primaryShards",{defaultMessage:"Missing primary shards"})}return"N/A"}function HealthStatusIndicator(props){const statusColorMap={green:"success",yellow:"warning",red:"danger"};const statusColor=statusColorMap[props.status]||"n/a";return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:statusColor,"data-test-subj":"statusIcon"},external_kbnSharedDeps_React_default.a.createElement(HealthLabel,{status:props.status}))))}const PanelExtras=({extras:extras})=>{if(extras===undefined){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},extras)};function ClusterItemContainer(props){const iconMap={elasticsearch:"logoElasticsearch",kibana:"logoKibana",logstash:"logoLogstash",beats:"logoBeats",apm:"apmApp"};const icon=iconMap[props.url];return external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":`clusterItemContainer${props.title}`},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"m",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"m",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:icon,size:"l"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],null,external_kbnSharedDeps_React_default.a.createElement("h2",null,props.title))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},props.statusIndicator),external_kbnSharedDeps_React_default.a.createElement(PanelExtras,{extras:props.extras})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),props.children,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"xxl"}))}function BytesUsage({usedBytes:usedBytes,maxBytes:maxBytes}){if(usedBytes&&maxBytes){return external_kbnSharedDeps_React_default.a.createElement("span",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,formatBytesUsage(usedBytes,maxBytes)))}else if(usedBytes){return external_kbnSharedDeps_React_default.a.createElement("span",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,formatNumber(usedBytes,"byte")))}return null}function BytesPercentageUsage({usedBytes:usedBytes,maxBytes:maxBytes}){if(usedBytes&&maxBytes){return external_kbnSharedDeps_React_default.a.createElement("span",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,formatPercentageUsage(usedBytes,maxBytes)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{color:"subdued",size:"s"},formatBytesUsage(usedBytes,maxBytes)))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,"0")}function DisabledIfNoDataAndInSetupModeLink({setupModeEnabled:setupModeEnabled,setupModeData:setupModeData,children:children,...props}){if(setupModeEnabled&&Object(external_kbnSharedDeps_Lodash_["get"])(setupModeData,"totalUniqueInstanceCount",0)===0){return children}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],props,children)}function SetupModeTooltip({setupModeData:setupModeData,badgeClickLink:badgeClickLink,productName:productName}){if(!setupModeData){return null}const{totalUniqueInstanceCount:totalUniqueInstanceCount,totalUniqueFullyMigratedCount:totalUniqueFullyMigratedCount,totalUniquePartiallyMigratedCount:totalUniquePartiallyMigratedCount}=setupModeData;const allMonitoredByMetricbeat=totalUniqueInstanceCount>0&&(totalUniqueFullyMigratedCount===totalUniqueInstanceCount||totalUniquePartiallyMigratedCount===totalUniqueInstanceCount);const internalCollectionOn=totalUniquePartiallyMigratedCount>0;const mightExist=Object(external_kbnSharedDeps_Lodash_["get"])(setupModeData,"detected.mightExist")||Object(external_kbnSharedDeps_Lodash_["get"])(setupModeData,"detected.doesExist");let tooltip=null;if(totalUniqueInstanceCount===0){if(mightExist){const detectedText=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.tooltip.detected",{defaultMessage:"No monitoring"});tooltip=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.tooltip.mightExist",{defaultMessage:`We detected usage of this product. Click to start monitoring.`})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],{color:"warning",iconType:"flag",href:badgeClickLink,onClickAriaLabel:detectedText},detectedText))}else{const noMonitoringText=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.tooltip.noUsage",{defaultMessage:"No usage"});tooltip=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.tooltip.noUsageDetected",{defaultMessage:`We did not detect any usage. Click to view {identifier}.`,values:{identifier:getIdentifier(productName,true)}})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],{color:"hollow",iconType:"flag",href:badgeClickLink,onClickAriaLabel:noMonitoringText},noMonitoringText))}}else if(!allMonitoredByMetricbeat){const internalCollection=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.euiTable.isInternalCollectorLabel",{defaultMessage:"Self monitoring"});tooltip=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.tooltip.oneInternal",{defaultMessage:`At least one {identifier} isn’t monitored using Metricbeat. Click to view status.`,values:{identifier:getIdentifier(productName)}})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],{color:"danger",iconType:"flag",href:badgeClickLink,onClickAriaLabel:internalCollection},internalCollection))}else if(internalCollectionOn){const internalAndMB=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.euiTable.isPartiallyMigratedLabel",{defaultMessage:"Self monitoring is on"});tooltip=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.tooltip.disableInternal",{defaultMessage:`Metricbeat is monitoring all {identifierPlural}. Click to view {identifierPlural} and disable self monitoring.`,values:{identifierPlural:getIdentifier(productName,true)}})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],{color:"warning",iconType:"flag",href:badgeClickLink,onClickAriaLabel:internalAndMB},internalAndMB))}else{const metricbeatCollection=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.euiTable.isFullyMigratedLabel",{defaultMessage:"Metricbeat monitoring"});tooltip=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.tooltip.allSet",{defaultMessage:`Metricbeat is monitoring all {identifierPlural}.`,values:{identifierPlural:getIdentifier(productName,true)}})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],{color:"secondary",iconType:"flag",href:badgeClickLink,onClickAriaLabel:metricbeatCollection},metricbeatCollection))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,"data-test-subj":"monitoringSetupModeMetricbeatMigrationTooltip"},tooltip)}function shouldShowAlertBadge(alerts,alertTypeIds,context){if(!alerts){return false}const inSetupMode=isInSetupMode(context);return inSetupMode||alertTypeIds.find(name=>alerts[name]&&alerts[name].states.length)}function elasticsearch_panel_extends(){elasticsearch_panel_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return elasticsearch_panel_extends.apply(this,arguments)}const calculateShards=shards=>{const total=Object(external_kbnSharedDeps_Lodash_["get"])(shards,"total",0);let primaries=Object(external_kbnSharedDeps_Lodash_["get"])(shards,"primaries","N/A");let replicas="N/A";if(primaries!=="N/A"){replicas=formatNumber(total-primaries,"int_commas");primaries=formatNumber(primaries,"int_commas")}return{primaries:primaries,replicas:replicas}};const formatDateLocal=input=>external_kbnSharedDeps_MomentTimezone_default.a.tz(input,external_kbnSharedDeps_MomentTimezone_default.a.tz.guess()).format("LL");function getBadgeColorFromLogLevel(level){switch(level){case"warn":return"warning";case"debug":return"hollow";case"info":return"default";case"error":return"danger"}}function renderLogs(props){if(!props.logs.enabled){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],null,external_kbnSharedDeps_React_default.a.createElement(Reason,{reason:props.logs.reason}))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{type:"column"},props.logs.types.map((log,index)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],{key:index},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.logsPanel.logTypeTitle",defaultMessage:"{type}",values:{type:Object(external_kbnSharedDeps_Lodash_["capitalize"])(log.type)}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],null,renderLog(log)))),props.logs.types.length===0?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.logsPanel.noLogsFound",defaultMessage:"No logs found."}):null)}const logLevelText={info:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.overview.esPanel.infoLogsTooltipText",{defaultMessage:"The number of information logs"}),warn:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.overview.esPanel.warnLogsTooltipText",{defaultMessage:"The number of warning logs"}),debug:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.overview.esPanel.debugLogsTooltipText",{defaultMessage:"The number of debug logs"}),error:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.overview.esPanel.errorLogsTooltipText",{defaultMessage:"The number of error logs"}),fatal:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.overview.esPanel.fatalLogsTooltipText",{defaultMessage:"The number of fatal logs"}),unknown:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.overview.esPanel.unknownLogsTooltipText",{defaultMessage:"Unknown"})};function renderLog(log){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{wrap:true,responsive:false,gutterSize:"xs"},log.levels.map((level,index)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,key:index},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",content:logLevelText[level.level]||logLevelText.unknown},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],{color:getBadgeColorFromLogLevel(level.level)},formatNumber(level.count,"int_commas"))))))}const OVERVIEW_PANEL_ALERTS=[constants["b"],constants["i"],constants["a"]];const NODES_PANEL_ALERTS=[constants["c"],constants["e"],constants["p"],constants["q"],constants["k"],constants["m"],constants["f"],constants["l"]];const INDICES_PANEL_ALERTS=[constants["h"]];function ElasticsearchPanel(props){const clusterStats=props.cluster_stats||{};const nodes=clusterStats.nodes;const indices=clusterStats.indices;const setupMode=props.setupMode;const alerts=props.alerts;const setupModeContext=external_kbnSharedDeps_React_default.a.useContext(SetupModeContext);const goToElasticsearch=()=>getSafeForExternalLink("#/elasticsearch");const goToNodes=()=>getSafeForExternalLink("#/elasticsearch/nodes");const goToIndices=()=>getSafeForExternalLink("#/elasticsearch/indices");const{primaries:primaries,replicas:replicas}=calculateShards(Object(external_kbnSharedDeps_Lodash_["get"])(props,"cluster_stats.indices.shards",{}));const setupModeData=Object(external_kbnSharedDeps_Lodash_["get"])(setupMode.data,"elasticsearch");const setupModeMetricbeatMigrationTooltip=isSetupModeFeatureEnabled(enums["d"].MetricbeatMigration)?external_kbnSharedDeps_React_default.a.createElement(SetupModeTooltip,{setupModeData:setupModeData,productName:constants["H"],badgeClickLink:goToNodes()}):null;const showMlJobs=()=>{if(props.ml){const gotoURL=getSafeForExternalLink("#/elasticsearch/ml_jobs");return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(DisabledIfNoDataAndInSetupModeLink,{setupModeEnabled:setupMode.enabled,setupModeData:setupModeData,href:gotoURL},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.esPanel.jobsLabel",defaultMessage:"Machine learning jobs"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"esMlJobs"},external_kbnSharedDeps_React_default.a.createElement(DisabledIfNoDataAndInSetupModeLink,{setupModeEnabled:setupMode.enabled,setupModeData:setupModeData,href:gotoURL},props.ml.jobs)))}return null};const showLicense=()=>{if(!props.showLicenseExpiration){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.esPanel.licenseLabel",defaultMessage:"License"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"esLicenseType"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{direction:"column",gutterSize:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:getSafeForExternalLink("#/license")},Object(external_kbnSharedDeps_Lodash_["capitalize"])(props.license.type))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},props.license.expiry_date_in_millis===undefined?"":external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.esPanel.expireDateText",defaultMessage:"expires on {expiryDate}",values:{expiryDate:formatDateLocal(props.license.expiry_date_in_millis)}}))))))};const statusColorMap={green:"success",yellow:"warning",red:"danger"};let nodesAlertStatus=null;if(shouldShowAlertBadge(alerts,NODES_PANEL_ALERTS,setupModeContext)){const alertsList=NODES_PANEL_ALERTS.map(alertType=>alerts[alertType]);nodesAlertStatus=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(AlertsBadge,{alerts:alertsList}))}let overviewAlertStatus=null;if(shouldShowAlertBadge(alerts,OVERVIEW_PANEL_ALERTS,setupModeContext)){const alertsList=OVERVIEW_PANEL_ALERTS.map(alertType=>alerts[alertType]);overviewAlertStatus=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(AlertsBadge,{alerts:alertsList}))}let indicesAlertStatus=null;if(shouldShowAlertBadge(alerts,INDICES_PANEL_ALERTS,setupModeContext)){const alertsList=INDICES_PANEL_ALERTS.map(alertType=>alerts[alertType]);indicesAlertStatus=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(AlertsBadge,{alerts:alertsList}))}return external_kbnSharedDeps_React_default.a.createElement(ClusterItemContainer,elasticsearch_panel_extends({},props,{url:"elasticsearch",title:"Elasticsearch"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGrid"],{columns:4},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween",gutterSize:"s",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(DisabledIfNoDataAndInSetupModeLink,{setupModeEnabled:setupMode.enabled,setupModeData:setupModeData,href:goToElasticsearch(),"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.overview.esPanel.overviewLinkAriaLabel",{defaultMessage:"Elasticsearch Overview"}),"data-test-subj":"esOverview"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.esPanel.overviewLinkLabel",defaultMessage:"Overview"}))))),overviewAlertStatus),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{type:"column"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.esPanel.healthLabel",defaultMessage:"Health"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:statusColorMap[clusterStats.status],"data-test-subj":"statusIcon"},external_kbnSharedDeps_React_default.a.createElement(HealthLabel,{status:clusterStats.status}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.esPanel.versionLabel",defaultMessage:"Version"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"esVersion"},props.version||external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.overview.esPanel.versionNotAvailableDescription",{defaultMessage:"N/A"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.esPanel.uptimeLabel",defaultMessage:"Uptime"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"esUptime"},formatNumber(Object(external_kbnSharedDeps_Lodash_["get"])(nodes,"jvm.max_uptime_in_millis"),"time_since")),showMlJobs(),showLicense()))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween",gutterSize:"s",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{"data-test-subj":"esNumberOfNodes",href:goToNodes()},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.esPanel.nodesTotalLinkLabel",defaultMessage:"Nodes: {nodesTotal}",values:{nodesTotal:formatNumber(Object(external_kbnSharedDeps_Lodash_["get"])(nodes,"count.total"),"int_commas")}}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s",alignItems:"center"},setupModeMetricbeatMigrationTooltip,nodesAlertStatus))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{type:"column"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.esPanel.diskAvailableLabel",defaultMessage:"Disk Available"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"esDiskAvailable"},external_kbnSharedDeps_React_default.a.createElement(BytesPercentageUsage,{usedBytes:Object(external_kbnSharedDeps_Lodash_["get"])(nodes,"fs.available_in_bytes"),maxBytes:Object(external_kbnSharedDeps_Lodash_["get"])(nodes,"fs.total_in_bytes")})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.esPanel.jvmHeapLabel",defaultMessage:"{javaVirtualMachine} Heap",values:{javaVirtualMachine:"JVM"}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"esJvmHeap"},external_kbnSharedDeps_React_default.a.createElement(BytesPercentageUsage,{usedBytes:Object(external_kbnSharedDeps_Lodash_["get"])(nodes,"jvm.mem.heap_used_in_bytes"),maxBytes:Object(external_kbnSharedDeps_Lodash_["get"])(nodes,"jvm.mem.heap_max_in_bytes")}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween",gutterSize:"s",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(DisabledIfNoDataAndInSetupModeLink,{setupModeEnabled:setupMode.enabled,setupModeData:setupModeData,href:goToIndices(),"data-test-subj":"esNumberOfIndices","aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.overview.esPanel.indicesCountLinkAriaLabel",{defaultMessage:"Elasticsearch Indices: {indicesCount}",values:{indicesCount:formatNumber(Object(external_kbnSharedDeps_Lodash_["get"])(indices,"count"),"int_commas")}})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.esPanel.indicesCountLinkLabel",defaultMessage:"Indices: {indicesCount}",values:{indicesCount:formatNumber(Object(external_kbnSharedDeps_Lodash_["get"])(indices,"count"),"int_commas")}}))))),indicesAlertStatus),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{type:"column"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.esPanel.documentsLabel",defaultMessage:"Documents"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"esDocumentsCount",className:"eui-textBreakWord"},formatNumber(Object(external_kbnSharedDeps_Lodash_["get"])(indices,"docs.count"),"int_commas")),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.esPanel.diskUsageLabel",defaultMessage:"Disk Usage"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"esDiskUsage"},formatNumber(Object(external_kbnSharedDeps_Lodash_["get"])(indices,"store.size_in_bytes"),"byte")),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.esPanel.primaryShardsLabel",defaultMessage:"Primary Shards"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"esPrimaryShards"},primaries),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.esPanel.replicaShardsLabel",defaultMessage:"Replica Shards"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"esReplicaShards"},replicas)))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(DisabledIfNoDataAndInSetupModeLink,{setupModeEnabled:setupMode.enabled,setupModeData:setupModeData,href:goToElasticsearch(),"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.overview.esPanel.logsLinkAriaLabel",{defaultMessage:"Elasticsearch Logs"}),"data-test-subj":"esLogs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.esPanel.logsLinkLabel",defaultMessage:"Logs"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"m"}),renderLogs(props)))))}function kibana_panel_extends(){kibana_panel_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return kibana_panel_extends.apply(this,arguments)}const INSTANCES_PANEL_ALERTS=[constants["g"]];function KibanaPanel(props){const setupMode=props.setupMode;const alerts=props.alerts;const setupModeContext=external_kbnSharedDeps_React_default.a.useContext(SetupModeContext);const showDetectedKibanas=setupMode.enabled&&Object(external_kbnSharedDeps_Lodash_["get"])(setupMode.data,"kibana.detected.doesExist",false);if(!props.count&&!showDetectedKibanas){return null}const statusIndicator=external_kbnSharedDeps_React_default.a.createElement(HealthStatusIndicator,{status:props.status});const goToKibana=()=>getSafeForExternalLink("#/kibana");const goToInstances=()=>getSafeForExternalLink("#/kibana/instances");const setupModeData=Object(external_kbnSharedDeps_Lodash_["get"])(setupMode.data,"kibana");const setupModeMetricbeatMigrationTooltip=isSetupModeFeatureEnabled(enums["d"].MetricbeatMigration)?external_kbnSharedDeps_React_default.a.createElement(SetupModeTooltip,{setupModeData:setupModeData,productName:constants["N"],badgeClickLink:goToInstances()}):null;let instancesAlertStatus=null;if(shouldShowAlertBadge(alerts,INSTANCES_PANEL_ALERTS,setupModeContext)){const alertsList=INSTANCES_PANEL_ALERTS.map(alertType=>alerts[alertType]);instancesAlertStatus=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(AlertsBadge,{alerts:alertsList}))}return external_kbnSharedDeps_React_default.a.createElement(ClusterItemContainer,kibana_panel_extends({},props,{statusIndicator:statusIndicator,url:"kibana",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.overview.kibanaPanel.kibanaTitle",{defaultMessage:"Kibana"})}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGrid"],{columns:4},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(DisabledIfNoDataAndInSetupModeLink,{setupModeEnabled:setupMode.enabled,setupModeData:setupModeData,href:goToKibana(),"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.overview.kibanaPanel.overviewLinkAriaLabel",{defaultMessage:"Kibana Overview"}),"data-test-subj":"kbnOverview"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.kibanaPanel.overviewLinkLabel",defaultMessage:"Overview"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{type:"column","data-test-subj":"kibana_overview","data-overview-status":props.status},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.kibanaPanel.requestsLabel",defaultMessage:"Requests"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"kbnRequests"},props.requests_total),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.kibanaPanel.maxResponseTimeLabel",defaultMessage:"Max. Response Time"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"kbnMaxResponseTime"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.kibanaPanel.maxResponseTimeDescription",defaultMessage:"{maxTime} ms",values:{maxTime:props.response_time_max}}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween",gutterSize:"s",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:goToInstances(),"data-test-subj":"kbnInstances","aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.overview.kibanaPanel.instancesCountLinkAriaLabel",{defaultMessage:"Kibana Instances: {instancesCount}",values:{instancesCount:props.count}})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.kibanaPanel.instancesCountLinkLabel",defaultMessage:"Instances: {instancesCount}",values:{instancesCount:external_kbnSharedDeps_React_default.a.createElement("span",{"data-test-subj":"number_of_kibana_instances"},props.count)}}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s",alignItems:"center"},setupModeMetricbeatMigrationTooltip,instancesAlertStatus))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{type:"column"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.kibanaPanel.connectionsLabel",defaultMessage:"Connections"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"kbnConnections"},formatNumber(props.concurrent_connections,"int_commas")),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.kibanaPanel.memoryUsageLabel",defaultMessage:"Memory Usage"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"kbnMemoryUsage"},external_kbnSharedDeps_React_default.a.createElement(BytesPercentageUsage,{usedBytes:props.memory_size,maxBytes:props.memory_limit})))))))}function logstash_panel_extends(){logstash_panel_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return logstash_panel_extends.apply(this,arguments)}const logstash_panel_NODES_PANEL_ALERTS=[constants["j"]];function LogstashPanel(props){const{setupMode:setupMode}=props;const nodesCount=props.node_count||0;const queueTypes=props.queue_types||{};const alerts=props.alerts;const setupModeContext=external_kbnSharedDeps_React_default.a.useContext(SetupModeContext);if(!nodesCount&&!setupMode.enabled){return null}const goToLogstash=()=>getSafeForExternalLink("#/logstash");const goToNodes=()=>getSafeForExternalLink("#/logstash/nodes");const goToPipelines=()=>getSafeForExternalLink("#/logstash/pipelines");const setupModeData=Object(external_kbnSharedDeps_Lodash_["get"])(setupMode.data,"logstash");const setupModeMetricbeatMigrationTooltip=isSetupModeFeatureEnabled(enums["d"].MetricbeatMigration)?external_kbnSharedDeps_React_default.a.createElement(SetupModeTooltip,{setupModeData:setupModeData,productName:constants["R"],badgeClickLink:goToNodes()}):null;let nodesAlertStatus=null;if(shouldShowAlertBadge(alerts,logstash_panel_NODES_PANEL_ALERTS,setupModeContext)){const alertsList=logstash_panel_NODES_PANEL_ALERTS.map(alertType=>alerts[alertType]);nodesAlertStatus=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(AlertsBadge,{alerts:alertsList}))}return external_kbnSharedDeps_React_default.a.createElement(ClusterItemContainer,logstash_panel_extends({},props,{url:"logstash",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.overview.logstashPanel.logstashTitle",{defaultMessage:"Logstash"})}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGrid"],{columns:4},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(DisabledIfNoDataAndInSetupModeLink,{setupModeEnabled:setupMode.enabled,setupModeData:setupModeData,href:goToLogstash(),"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.overview.logstashPanel.overviewLinkAriaLabel",{defaultMessage:"Logstash Overview"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.logstashPanel.overviewLinkLabel",defaultMessage:"Overview"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{type:"column","data-test-subj":"logstash_overview"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.logstashPanel.eventsReceivedLabel",defaultMessage:"Events Received"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"lsEventsReceived"},formatNumber(props.events_in_total,"0.[0]a")),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.logstashPanel.eventsEmittedLabel",defaultMessage:"Events Emitted"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"lsEventsEmitted"},formatNumber(props.events_out_total,"0.[0]a"))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween",gutterSize:"s",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:goToNodes(),"data-test-subj":"lsNodes","aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.overview.logstashPanel.nodesCountLinkAriaLabel",{defaultMessage:"Logstash Nodes: {nodesCount}",values:{nodesCount:nodesCount}})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.logstashPanel.nodesCountLinkLabel",defaultMessage:"Nodes: {nodesCount}",values:{nodesCount:external_kbnSharedDeps_React_default.a.createElement("span",{"data-test-subj":"number_of_logstash_instances"},nodesCount)}}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s",alignItems:"center"},setupModeMetricbeatMigrationTooltip,nodesAlertStatus))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{type:"column"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.logstashPanel.uptimeLabel",defaultMessage:"Uptime"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"lsUptime"},props.max_uptime?formatNumber(props.max_uptime,"time_since"):0),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.logstashPanel.jvmHeapLabel",defaultMessage:"{javaVirtualMachine} Heap",values:{javaVirtualMachine:"JVM"}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"lsJvmHeap"},external_kbnSharedDeps_React_default.a.createElement(BytesPercentageUsage,{usedBytes:props.avg_memory_used,maxBytes:props.avg_memory}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center",gutterSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(DisabledIfNoDataAndInSetupModeLink,{setupModeEnabled:setupMode.enabled,setupModeData:setupModeData,href:goToPipelines(),"data-test-subj":"lsPipelines","aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.overview.logstashPanel.pipelineCountLinkAriaLabel",{defaultMessage:"Logstash Pipelines (beta feature): {pipelineCount}",values:{pipelineCount:props.pipeline_count}})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.logstashPanel.pipelinesCountLinkLabel",defaultMessage:"Pipelines: {pipelineCount}",values:{pipelineCount:external_kbnSharedDeps_React_default.a.createElement("span",{"data-test-subj":"number_of_logstash_pipelines"},props.pipeline_count)}}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIconTip"],{content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.overview.logstashPanel.betaFeatureTooltip",{defaultMessage:"Beta feature"}),position:"bottom",type:"beaker","aria-label":"Beta feature"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{type:"column"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.logstashPanel.withMemoryQueuesLabel",defaultMessage:"With Memory Queues"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],null,queueTypes[constants["Q"].QUEUE_TYPES.MEMORY]||0),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.logstashPanel.withPersistentQueuesLabel",defaultMessage:"With Persistent Queues"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],null,queueTypes[constants["Q"].QUEUE_TYPES.PERSISTED]||0))))))}function beats_panel_extends(){beats_panel_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return beats_panel_extends.apply(this,arguments)}function BeatsPanel(props){const{setupMode:setupMode}=props;const beatsTotal=Object(external_kbnSharedDeps_Lodash_["get"])(props,"beats.total")||0;if(beatsTotal===0&&!setupMode.enabled){return null}const setupModeData=Object(external_kbnSharedDeps_Lodash_["get"])(setupMode.data,"beats");const setupModeMetricbeatMigrationTooltip=isSetupModeFeatureEnabled(enums["d"].MetricbeatMigration)?external_kbnSharedDeps_React_default.a.createElement(SetupModeTooltip,{setupModeData:setupModeData,productName:constants["s"],badgeClickLink:getSafeForExternalLink("#/beats/beats")}):null;const beatTypes=props.beats.types.map((beat,index)=>[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{key:`beat-types-type-${index}`,"data-test-subj":"beatTypeCount","data-test-beat-type-count":beat.type+":"+beat.count},beat.type),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{key:`beat-types-count-${index}`},beat.count)]);return external_kbnSharedDeps_React_default.a.createElement(ClusterItemContainer,beats_panel_extends({},props,{url:"beats",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.overview.beatsPanel.beatsTitle",{defaultMessage:"Beats"})}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGrid"],{columns:4},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(DisabledIfNoDataAndInSetupModeLink,{setupModeEnabled:setupMode.enabled,setupModeData:setupModeData,href:getSafeForExternalLink("#/beats"),"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.overview.beatsPanel.overviewLinkAriaLabel",{defaultMessage:"Beats Overview"}),"data-test-subj":"beatsOverview"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.beatsPanel.overviewLinkLabel",defaultMessage:"Overview"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{type:"column"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.beatsPanel.totalEventsLabel",defaultMessage:"Total Events"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"beatsTotalEvents"},formatMetric(props.totalEvents,"0.[0]a")),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.beatsPanel.bytesSentLabel",defaultMessage:"Bytes Sent"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"beatsBytesSent"},formatMetric(props.bytesSent,"byte"))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:getSafeForExternalLink("#/beats/beats"),"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.overview.beatsPanel.instancesTotalLinkAriaLabel",{defaultMessage:"Beats Instances: {beatsTotal}",values:{beatsTotal:beatsTotal}}),"data-test-subj":"beatsListing"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.beatsPanel.beatsTotalLinkLabel",defaultMessage:"Beats: {beatsTotal}",values:{beatsTotal:external_kbnSharedDeps_React_default.a.createElement("span",{"data-test-subj":"beatsTotal"},beatsTotal)}}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s",alignItems:"center"},setupModeMetricbeatMigrationTooltip))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{type:"column"},beatTypes)))))}function apm_panel_extends(){apm_panel_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return apm_panel_extends.apply(this,arguments)}function ApmPanel(props){const{setupMode:setupMode}=props;const apmsTotal=Object(external_kbnSharedDeps_Lodash_["get"])(props,"apms.total")||0;if(apmsTotal===0&&!setupMode.enabled){return null}const goToInstances=()=>getSafeForExternalLink("#/apm/instances");const setupModeData=Object(external_kbnSharedDeps_Lodash_["get"])(setupMode.data,"apm");const setupModeMetricbeatMigrationTooltip=isSetupModeFeatureEnabled(enums["d"].MetricbeatMigration)?external_kbnSharedDeps_React_default.a.createElement(SetupModeTooltip,{setupModeData:setupModeData,badgeClickLink:goToInstances(),productName:constants["r"]}):null;return external_kbnSharedDeps_React_default.a.createElement(ClusterItemContainer,apm_panel_extends({},props,{url:"apm",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.overview.apmPanel.apmTitle",{defaultMessage:"APM server"})}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGrid"],{columns:4},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(DisabledIfNoDataAndInSetupModeLink,{setupModeEnabled:setupMode.enabled,setupModeData:setupModeData,href:getSafeForExternalLink("#/apm"),"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.overview.apmPanel.overviewLinkAriaLabel",{defaultMessage:"APM server overview"}),"data-test-subj":"apmOverview"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.apmPanel.overviewLinkLabel",defaultMessage:"APM server overview"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{type:"column"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.apmPanel.processedEventsLabel",defaultMessage:"Processed Events"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"apmsTotalEvents"},formatMetric(props.totalEvents,"0.[0]a")),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.apmPanel.lastEventLabel",defaultMessage:"Last Event"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"apmsBytesSent"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.apmPanel.lastEventDescription",defaultMessage:"{timeOfLastEvent} ago",values:{timeOfLastEvent:formatTimestampToDuration(+external_kbnSharedDeps_Moment_default()(props.timeOfLastEvent),constants["t"])}}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:goToInstances(),"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.overview.apmPanel.instancesTotalLinkAriaLabel",{defaultMessage:"APM server instances: {apmsTotal}",values:{apmsTotal:apmsTotal}}),"data-test-subj":"apmListing"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.apmPanel.serversTotalLinkLabel",defaultMessage:"APM servers: {apmsTotal}",values:{apmsTotal:external_kbnSharedDeps_React_default.a.createElement("span",{"data-test-subj":"apmsTotal"},apmsTotal)}}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s",alignItems:"center"},setupModeMetricbeatMigrationTooltip))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],{margin:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{type:"column"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],{className:"eui-textBreakWord"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.cluster.overview.apmPanel.memoryUsageLabel",defaultMessage:"Memory Usage"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"apmMemoryUsage"},external_kbnSharedDeps_React_default.a.createElement(BytesUsage,{usedBytes:props.memRss})))))))}function cluster_overview_extends(){cluster_overview_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return cluster_overview_extends.apply(this,arguments)}function overview_Overview(props){const isFromStandaloneCluster=props.cluster.cluster_uuid===constants["T"];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiScreenReaderOnly"],null,external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.overview.heading",defaultMessage:"Stack Monitoring Overview"}))),!isFromStandaloneCluster?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(ElasticsearchPanel,cluster_overview_extends({},props.cluster.elasticsearch,{version:props.cluster.version,ml:props.cluster.ml,license:props.cluster.license,setupMode:props.setupMode,showLicenseExpiration:props.showLicenseExpiration,alerts:props.alerts})),external_kbnSharedDeps_React_default.a.createElement(KibanaPanel,cluster_overview_extends({},props.cluster.kibana,{setupMode:props.setupMode,alerts:props.alerts}))):null,external_kbnSharedDeps_React_default.a.createElement(LogstashPanel,cluster_overview_extends({},props.cluster.logstash,{setupMode:props.setupMode,alerts:props.alerts})),external_kbnSharedDeps_React_default.a.createElement(BeatsPanel,cluster_overview_extends({},props.cluster.beats,{setupMode:props.setupMode,alerts:props.alerts})),external_kbnSharedDeps_React_default.a.createElement(ApmPanel,cluster_overview_extends({},props.cluster.apm,{setupMode:props.setupMode,alerts:props.alerts}))))}const MIGRATION_STATUS_LABEL=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.migrationStatus",{defaultMessage:`Migration status`});const MONITORING_STATUS_LABEL=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.monitoringStatus",{defaultMessage:`Monitoring status`});function getSecurityStep(url){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{color:"warning",iconType:"help",title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.securitySetup",defaultMessage:"If security is enabled, {link} might be required.",values:{link:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,` `,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:url,target:"_blank"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.securitySetupLinkText",defaultMessage:"additional setup"})))}}))}))}function getMigrationStatusStep(product){if(product.isInternalCollector||product.isNetNewUser){return{title:product.isNetNewUser?MONITORING_STATUS_LABEL:MIGRATION_STATUS_LABEL,status:"incomplete",children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{size:"s",color:"warning",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.isInternalCollectorStatusTitle",{defaultMessage:`No monitoring data detected, but we’ll continue checking.`})})}}else if(product.isPartiallyMigrated||product.isFullyMigrated){return{title:MIGRATION_STATUS_LABEL,status:"complete",children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{size:"s",color:"success",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.fullyMigratedStatusTitle",{defaultMessage:"Congratulations!"})},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.fullyMigratedStatusDescription",{defaultMessage:"Metricbeat is shipping monitoring data."})))}}return null}function getDisableStatusStep(product,meta){if(!product||!product.isFullyMigrated){let lastInternallyCollectedMessage="";if(product){const lastInternallyCollectedTimestamp=product.lastInternallyCollectedTimestamp||product.lastTimestamp;const secondsSinceLastInternalCollectionLabel=formatTimestampToDuration(lastInternallyCollectedTimestamp,constants["t"]);lastInternallyCollectedMessage=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.disableInternalCollection.partiallyMigratedStatusDescription",{defaultMessage:"Last self monitoring was {secondsSinceLastInternalCollectionLabel} ago.",values:{secondsSinceLastInternalCollectionLabel:secondsSinceLastInternalCollectionLabel}})}return{title:MIGRATION_STATUS_LABEL,status:"incomplete",children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{size:"s",color:"warning",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.partiallyMigratedStatusTitle",{defaultMessage:`Data is still coming from self monitoring`})},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.partiallyMigratedStatusDescription",{defaultMessage:`It can take up to {secondsAgo} seconds to detect data.`,values:{secondsAgo:meta.secondsAgo}})),external_kbnSharedDeps_React_default.a.createElement("p",null,lastInternallyCollectedMessage))}}return{title:MIGRATION_STATUS_LABEL,status:"complete",children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{size:"s",color:"success",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.disableInternalCollection.fullyMigratedStatusTitle",{defaultMessage:"Congratulations!"})},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.disableInternalCollection.fullyMigratedStatusDescription",{defaultMessage:"We are not seeing any documents from self monitoring. Migration complete!"})))}}function getKibanaInstructionsForDisablingInternalCollection(product,meta){let restartWarning=null;if(product.isPrimary){restartWarning=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.kibanaInstructions.disableInternalCollection.restartWarningTitle",{defaultMessage:"This step requires you to restart the Kibana server"}),color:"warning",iconType:"help"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.kibanaInstructions.disableInternalCollection.restartNote",defaultMessage:"Expect errors until the server is running again."})))))}const disableInternalCollectionStep={title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.kibanaInstructions.disableInternalCollection.title",{defaultMessage:"Disable self monitoring of Kibana monitoring metrics"}),children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.kibanaInstructions.disableInternalCollection.description",defaultMessage:"Add this setting to {file}.",values:{file:external_kbnSharedDeps_React_default.a.createElement(Monospace,null,"kibana.yml")}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],{isCopyable:true,language:"bash"},"monitoring.kibana.collection.enabled: false"),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.kibanaInstructions.disableInternalCollection.note",defaultMessage:"For {config}, leave the default value of ({defaultValue}).",values:{config:external_kbnSharedDeps_React_default.a.createElement(Monospace,null,"monitoring.enabled"),defaultValue:external_kbnSharedDeps_React_default.a.createElement(Monospace,null,"true")}}))),restartWarning)};const migrationStatusStep=getDisableStatusStep(product,meta);return[disableInternalCollectionStep,migrationStatusStep]}function getKibanaInstructionsForEnablingMetricbeat(product,_meta,{esMonitoringUrl:esMonitoringUrl}){const kibanaUrl=Legacy.shims.docLinks.links.monitoring.monitorKibana;const metricbeatInstallUrl=Legacy.shims.docLinks.links.metricbeat.install;const metricbeatStartUrl=Legacy.shims.docLinks.links.metricbeat.start;const securitySetup=getSecurityStep(kibanaUrl);const installMetricbeatStep={title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.kibanaInstructions.installMetricbeatTitle",{defaultMessage:"Install Metricbeat on the same server as Kibana"}),children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:metricbeatInstallUrl,target:"_blank"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.kibanaInstructions.installMetricbeatLinkText",defaultMessage:"Follow the instructions here."}))))};const enableMetricbeatModuleStep={title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.kibanaInstructions.enableMetricbeatModuleTitle",{defaultMessage:"Enable and configure the Kibana x-pack module in Metricbeat"}),children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],{isCopyable:true,language:"bash"},"metricbeat modules enable kibana-xpack"),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.kibanaInstructions.enableMetricbeatModuleDescription",defaultMessage:"By default the module will collect Kibana monitoring metrics from http://localhost:5601. If the local Kibana instance has a different address, you must specify it via the {hosts} setting in the {file} file.",values:{hosts:external_kbnSharedDeps_React_default.a.createElement(Monospace,null,"hosts"),file:external_kbnSharedDeps_React_default.a.createElement(Monospace,null,"modules.d/kibana-xpack.yml")}}))),securitySetup)};const configureMetricbeatStep={title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.kibanaInstructions.configureMetricbeatTitle",{defaultMessage:"Configure Metricbeat to send to the monitoring cluster"}),children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.kibanaInstructions.configureMetricbeatDescription",defaultMessage:"Make these changes in your {file}.",values:{file:external_kbnSharedDeps_React_default.a.createElement(Monospace,null,"metricbeat.yml")}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],{isCopyable:true},`output.elasticsearch:\n  hosts: [${esMonitoringUrl}] ## Monitoring cluster\n\n  # Optional protocol and basic auth credentials.\n  #protocol: "https"\n  #username: "elastic"\n  #password: "changeme"\n`),securitySetup)};const startMetricbeatStep={title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.kibanaInstructions.startMetricbeatTitle",{defaultMessage:"Start Metricbeat"}),children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:metricbeatStartUrl,target:"_blank"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.kibanaInstructions.startMetricbeatLinkText",defaultMessage:"Follow the instructions here."}))))};const migrationStatusStep=getMigrationStatusStep(product);return[installMetricbeatStep,enableMetricbeatModuleStep,configureMetricbeatStep,startMetricbeatStep,migrationStatusStep]}function getElasticsearchInstructionsForDisablingInternalCollection(product,meta){const disableInternalCollectionStep={title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.elasticsearchInstructions.disableInternalCollectionTitle",{defaultMessage:"Disable self monitoring of Elasticsearch monitoring metrics"}),children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.elasticsearchInstructions.disableInternalCollectionDescription",defaultMessage:"Disable self monitoring of Elasticsearch monitoring metrics. Set {monospace} to false on each server in the production cluster.",values:{monospace:external_kbnSharedDeps_React_default.a.createElement(Monospace,null,"xpack.monitoring.elasticsearch.collection.enabled")}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],{isCopyable:true,language:"curl"},`PUT _cluster/settings\n{\n  "persistent": {\n    "xpack.monitoring.elasticsearch.collection.enabled": false\n  }\n}\n          `))};const migrationStatusStep=getDisableStatusStep(product,meta);return[disableInternalCollectionStep,migrationStatusStep]}function getElasticsearchInstructionsForEnablingMetricbeat(product,_meta,{esMonitoringUrl:esMonitoringUrl}){const elasticsearchUrl=Legacy.shims.docLinks.links.monitoring.monitorElasticsearch;const metricbeatInstallUrl=Legacy.shims.docLinks.links.metricbeat.install;const metricbeatStartUrl=Legacy.shims.docLinks.links.metricbeat.start;const securitySetup=getSecurityStep(elasticsearchUrl);const installMetricbeatStep={title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.elasticsearchInstructions.installMetricbeatTitle",{defaultMessage:"Install Metricbeat on the same server as Elasticsearch"}),children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:metricbeatInstallUrl,target:"_blank"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.elasticsearchInstructions.installMetricbeatLinkText",defaultMessage:"Follow these instructions."}))))};const enableMetricbeatModuleStep={title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.elasticsearchInstructions.enableMetricbeatModuleTitle",{defaultMessage:"Enable and configure the Elasticsearch x-pack module in Metricbeat"}),children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.elasticsearchInstructions.enableMetricbeatModuleInstallDirectory",{defaultMessage:"From the installation directory, run:"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],{isCopyable:true,language:"bash"},"metricbeat modules enable elasticsearch-xpack"),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.elasticsearchInstructions.enableMetricbeatModuleDescription",defaultMessage:"By default the module collects Elasticsearch metrics from {url}. If the local server has a different address, add it to the hosts setting in {module}.",values:{module:external_kbnSharedDeps_React_default.a.createElement(Monospace,null,"modules.d/elasticsearch-xpack.yml"),url:external_kbnSharedDeps_React_default.a.createElement(Monospace,null,"http://localhost:9200")}}))),securitySetup)};const configureMetricbeatStep={title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.elasticsearchInstructions.configureMetricbeatTitle",{defaultMessage:"Configure Metricbeat to send data to the monitoring cluster"}),children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.elasticsearchInstructions.configureMetricbeatDescription",defaultMessage:"Modify {file} to set the connection information.",values:{file:external_kbnSharedDeps_React_default.a.createElement(Monospace,null,"metricbeat.yml")}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],{isCopyable:true},`output.elasticsearch:\n  hosts: [${esMonitoringUrl}] ## Monitoring cluster\n\n  # Optional protocol and basic auth credentials.\n  #protocol: "https"\n  #username: "elastic"\n  #password: "changeme"\n`),securitySetup)};const startMetricbeatStep={title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.elasticsearchInstructions.startMetricbeatTitle",{defaultMessage:"Start Metricbeat"}),children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:metricbeatStartUrl,target:"_blank"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.elasticsearchInstructions.startMetricbeatLinkText",defaultMessage:"Follow these instructions."}))))};const migrationStatusStep=getMigrationStatusStep(product);return[installMetricbeatStep,enableMetricbeatModuleStep,configureMetricbeatStep,startMetricbeatStep,migrationStatusStep]}function getLogstashInstructionsForDisablingInternalCollection(product,meta){const disableInternalCollectionStep={title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.logstashInstructions.disableInternalCollection.title",{defaultMessage:"Disable self monitoring of Logstash monitoring metrics"}),children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.logstashInstructions.disableInternalCollection.description",defaultMessage:"Add the following setting in the Logstash configuration file ({file}):",values:{file:external_kbnSharedDeps_React_default.a.createElement(Monospace,null,"logstash.yml")}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],{isCopyable:true,language:"bash"},"xpack.monitoring.enabled: false"),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.logstashInstructions.disableInternalCollection.note",defaultMessage:"You'll need to restart Logstash after making this change."}))))};const migrationStatusStep=getDisableStatusStep(product,meta);return[disableInternalCollectionStep,migrationStatusStep]}function getLogstashInstructionsForEnablingMetricbeat(product,_meta,{esMonitoringUrl:esMonitoringUrl}){const logstashUrl=Legacy.shims.docLinks.links.monitoring.monitorLogstash;const metricbeatInstallUrl=Legacy.shims.docLinks.links.metricbeat.install;const metricbeatStartUrl=Legacy.shims.docLinks.links.metricbeat.start;const securitySetup=getSecurityStep(logstashUrl);const installMetricbeatStep={title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.logstashInstructions.installMetricbeatTitle",{defaultMessage:"Install Metricbeat on the same server as Logstash"}),children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:metricbeatInstallUrl,target:"_blank"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.logstashInstructions.installMetricbeatLinkText",defaultMessage:"Follow the instructions here."}))))};const enableMetricbeatModuleStep={title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.logstashInstructions.enableMetricbeatModuleTitle",{defaultMessage:"Enable and configure the Logstash x-pack module in Metricbeat"}),children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],{isCopyable:true,language:"bash"},"metricbeat modules enable logstash-xpack"),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.logstashInstructions.enableMetricbeatModuleDescription",defaultMessage:"By default the module will collect Logstash monitoring metrics from http://localhost:9600. If the local Logstash instance has a different address, you must specify it via the {hosts} setting in the {file} file.",values:{hosts:external_kbnSharedDeps_React_default.a.createElement(Monospace,null,"hosts"),file:external_kbnSharedDeps_React_default.a.createElement(Monospace,null,"modules.d/logstash-xpack.yml")}}))),securitySetup)};const configureMetricbeatStep={title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.logstashInstructions.configureMetricbeatTitle",{defaultMessage:"Configure Metricbeat to send to the monitoring cluster"}),children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.logstashInstructions.configureMetricbeatDescription",defaultMessage:"Make these changes in your {file}.",values:{file:external_kbnSharedDeps_React_default.a.createElement(Monospace,null,"metricbeat.yml")}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],{isCopyable:true},`output.elasticsearch:\n  hosts: [${esMonitoringUrl}] ## Monitoring cluster\n\n  # Optional protocol and basic auth credentials.\n  #protocol: "https"\n  #username: "elastic"\n  #password: "changeme"\n`),securitySetup)};const startMetricbeatStep={title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.logstashInstructions.startMetricbeatTitle",{defaultMessage:"Start Metricbeat"}),children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:metricbeatStartUrl,target:"_blank"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.logstashInstructions.startMetricbeatLinkText",defaultMessage:"Follow the instructions here."}))))};const migrationStatusStep=getMigrationStatusStep(product);return[installMetricbeatStep,enableMetricbeatModuleStep,configureMetricbeatStep,startMetricbeatStep,migrationStatusStep]}const UNDETECTED_BEAT_TYPE="beat";function getBeatsInstructionsForDisablingInternalCollection(product,meta){const beatType=product.beatType;const disableInternalCollectionStep={title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.beatsInstructions.disableInternalCollection.title",{defaultMessage:"Disable self monitoring of {beatType}'s monitoring metrics",values:{beatType:beatType||UNDETECTED_BEAT_TYPE}}),children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.beatsInstructions.disableInternalCollection.description",defaultMessage:"Add the following setting in {beatType}'s configuration file ({file}):",values:{beatType:beatType||UNDETECTED_BEAT_TYPE,file:external_kbnSharedDeps_React_default.a.createElement(Monospace,null,beatType,".yml")}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],{isCopyable:true,language:"bash"},"monitoring.enabled: false"),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.beatsInstructions.disableInternalCollection.note",defaultMessage:"You'll need to restart {beatType} after making this change.",values:{beatType:beatType||UNDETECTED_BEAT_TYPE}}))))};const migrationStatusStep=getDisableStatusStep(product,meta);return[disableInternalCollectionStep,migrationStatusStep]}function getBeatsInstructionsForEnablingMetricbeat(product,_meta,{esMonitoringUrl:esMonitoringUrl}){const metricbeatConfigUrl=Legacy.shims.docLinks.links.metricbeat.configure;const metricbeatInstallUrl=Legacy.shims.docLinks.links.metricbeat.install;const metricbeatStartUrl=Legacy.shims.docLinks.links.metricbeat.start;const httpEndpointUrl=Legacy.shims.docLinks.links.metricbeat.httpEndpoint;const beatType=product.beatType;const securitySetup=getSecurityStep(metricbeatConfigUrl);const installMetricbeatStep={title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.beatsInstructions.installMetricbeatTitle",{defaultMessage:"Install Metricbeat on the same server as this {beatType}",values:{beatType:beatType||UNDETECTED_BEAT_TYPE}}),children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:metricbeatInstallUrl,target:"_blank"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.beatsInstructions.installMetricbeatLinkText",defaultMessage:"Follow the instructions here."}))))};const enableMetricbeatModuleStep={title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.beatsInstructions.enableMetricbeatModuleTitle",{defaultMessage:"Enable and configure the Beat x-pack module in Metricbeat"}),children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],{isCopyable:true,language:"bash"},"metricbeat modules enable beat-xpack"),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.beatsInstructions.enableMetricbeatModuleDescription",defaultMessage:"By default the module will collect {beatType} monitoring metrics from http://localhost:5066. If the {beatType} instance being monitored has a different address, you must specify it via the {hosts} setting in the {file} file.",values:{hosts:external_kbnSharedDeps_React_default.a.createElement(Monospace,null,"hosts"),file:external_kbnSharedDeps_React_default.a.createElement(Monospace,null,"modules.d/beat-xpack.yml"),beatType:beatType||UNDETECTED_BEAT_TYPE}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{color:"warning",iconType:"help",title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.beatsInstructions.enableMetricbeatModuleHttpEnabledDirections",defaultMessage:"In order for Metricbeat to collect metrics from the running {beatType}, you need to {link}.",values:{link:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:httpEndpointUrl,target:"_blank"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.beatsInstructions.enableMetricbeatModuleHttpEnabledDirectionsLinkText",defaultMessage:"enable an HTTP endpoint for the {beatType} instance being monitored",values:{beatType:beatType}})),beatType:beatType||UNDETECTED_BEAT_TYPE}})))}),securitySetup)};const configureMetricbeatStep={title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.beatsInstructions.configureMetricbeatTitle",{defaultMessage:"Configure Metricbeat to send to the monitoring cluster"}),children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.beatsInstructions.configureMetricbeatDescription",defaultMessage:"Make these changes in your {file}.",values:{file:external_kbnSharedDeps_React_default.a.createElement(Monospace,null,"metricbeat.yml")}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],{isCopyable:true},`output.elasticsearch:\n  hosts: [${esMonitoringUrl}] ## Monitoring cluster\n\n  # Optional protocol and basic auth credentials.\n  #protocol: "https"\n  #username: "elastic"\n  #password: "changeme"\n`),securitySetup)};const startMetricbeatStep={title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.beatsInstructions.startMetricbeatTitle",{defaultMessage:"Start Metricbeat"}),children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:metricbeatStartUrl,target:"_blank"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.beatsInstructions.startMetricbeatLinkText",defaultMessage:"Follow the instructions here."}))))};const migrationStatusStep=getMigrationStatusStep(product);return[installMetricbeatStep,enableMetricbeatModuleStep,configureMetricbeatStep,startMetricbeatStep,migrationStatusStep]}function getApmInstructionsForDisablingInternalCollection(product,meta){const disableInternalCollectionStep={title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.apmInstructions.disableInternalCollection.title",{defaultMessage:"Disable self monitoring of the APM server's monitoring metrics"}),children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.apmInstructions.disableInternalCollection.description",defaultMessage:"Add the following setting in the APM server's configuration file ({file}):",values:{file:external_kbnSharedDeps_React_default.a.createElement(Monospace,null,"apm-server.yml")}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],{isCopyable:true,language:"bash"},"monitoring.enabled: false"),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.apmInstructions.disableInternalCollection.note",defaultMessage:"You'll need to restart the APM server after making this change."}))))};const migrationStatusStep=getDisableStatusStep(product,meta);return[disableInternalCollectionStep,migrationStatusStep]}function getApmInstructionsForEnablingMetricbeat(product,_meta,{esMonitoringUrl:esMonitoringUrl}){const metricbeatConfigUrl=Legacy.shims.docLinks.links.metricbeat.configure;const metricbeatInstallUrl=Legacy.shims.docLinks.links.metricbeat.install;const metricbeatStartUrl=Legacy.shims.docLinks.links.metricbeat.start;const securitySetup=getSecurityStep(metricbeatConfigUrl);const installMetricbeatStep={title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.apmInstructions.installMetricbeatTitle",{defaultMessage:"Install Metricbeat on the same server as the APM server"}),children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:metricbeatInstallUrl,target:"_blank"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.apmInstructions.installMetricbeatLinkText",defaultMessage:"Follow the instructions here."}))))};const enableMetricbeatModuleStep={title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.apmInstructions.enableMetricbeatModuleTitle",{defaultMessage:"Enable and configure the Beat x-pack module in Metricbeat"}),children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],{isCopyable:true,language:"bash"},"metricbeat modules enable beat-xpack"),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.apmInstructions.enableMetricbeatModuleDescription",defaultMessage:"By default the module will collect APM server monitoring metrics from http://localhost:5066. If the local APM server has a different address, you must specify it via the {hosts} setting in the {file} file.",values:{hosts:external_kbnSharedDeps_React_default.a.createElement(Monospace,null,"hosts"),file:external_kbnSharedDeps_React_default.a.createElement(Monospace,null,"modules.d/beat-xpack.yml")}}))),securitySetup)};const configureMetricbeatStep={title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.apmInstructions.configureMetricbeatTitle",{defaultMessage:"Configure Metricbeat to send to the monitoring cluster"}),children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.apmInstructions.configureMetricbeatDescription",defaultMessage:"Make these changes in your {file}.",values:{file:external_kbnSharedDeps_React_default.a.createElement(Monospace,null,"metricbeat.yml")}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],{isCopyable:true},`output.elasticsearch:\n  hosts: [${esMonitoringUrl}] ## Monitoring cluster\n\n  # Optional protocol and basic auth credentials.\n  #protocol: "https"\n  #username: "elastic"\n  #password: "changeme"\n`),securitySetup)};const startMetricbeatStep={title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.apmInstructions.startMetricbeatTitle",{defaultMessage:"Start Metricbeat"}),children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:metricbeatStartUrl,target:"_blank"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.apmInstructions.startMetricbeatLinkText",defaultMessage:"Follow the instructions here."}))))};const migrationStatusStep=getMigrationStatusStep(product);return[installMetricbeatStep,enableMetricbeatModuleStep,configureMetricbeatStep,startMetricbeatStep,migrationStatusStep]}const INSTRUCTION_STEP_SET_MONITORING_URL="setMonitoringUrl";const INSTRUCTION_STEP_ENABLE_METRICBEAT="enableMetricbeat";const INSTRUCTION_STEP_DISABLE_INTERNAL="disableInternal";function getInstructionSteps(productName,product,step,meta,opts){switch(productName){case constants["N"]:if(step===INSTRUCTION_STEP_ENABLE_METRICBEAT){return getKibanaInstructionsForEnablingMetricbeat(product,meta,opts)}if(step===INSTRUCTION_STEP_DISABLE_INTERNAL){return getKibanaInstructionsForDisablingInternalCollection(product,meta,opts)}case constants["H"]:if(step===INSTRUCTION_STEP_ENABLE_METRICBEAT){return getElasticsearchInstructionsForEnablingMetricbeat(product,meta,opts)}if(step===INSTRUCTION_STEP_DISABLE_INTERNAL){return getElasticsearchInstructionsForDisablingInternalCollection(product,meta,opts)}case constants["R"]:if(step===INSTRUCTION_STEP_ENABLE_METRICBEAT){return getLogstashInstructionsForEnablingMetricbeat(product,meta,opts)}if(step===INSTRUCTION_STEP_DISABLE_INTERNAL){return getLogstashInstructionsForDisablingInternalCollection(product,meta,opts)}case constants["s"]:if(step===INSTRUCTION_STEP_ENABLE_METRICBEAT){return getBeatsInstructionsForEnablingMetricbeat(product,meta,opts)}if(step===INSTRUCTION_STEP_DISABLE_INTERNAL){return getBeatsInstructionsForDisablingInternalCollection(product,meta,opts)}case constants["r"]:if(step===INSTRUCTION_STEP_ENABLE_METRICBEAT){return getApmInstructionsForEnablingMetricbeat(product,meta,opts)}if(step===INSTRUCTION_STEP_DISABLE_INTERNAL){return getApmInstructionsForDisablingInternalCollection(product,meta,opts)}}return[]}var kibanaUtils_public_=__webpack_require__(18);function flyout_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const flyout_storage=new kibanaUtils_public_["Storage"](window.localStorage);const ES_MONITORING_URL_KEY=`${constants["U"]}.mb_migration.esMonitoringUrl`;const DEFAULT_ES_MONITORING_URL="http://localhost:9200";class flyout_Flyout extends external_kbnSharedDeps_React_["Component"]{constructor(props){super(props);flyout_defineProperty(this,"setEsMonitoringUrl",esMonitoringUrl=>{flyout_storage.set(ES_MONITORING_URL_KEY,esMonitoringUrl);this.setState({esMonitoringUrl:esMonitoringUrl})});let _esMonitoringUrl=flyout_storage.get(ES_MONITORING_URL_KEY);if(!_esMonitoringUrl){_esMonitoringUrl=props.monitoringHosts?props.monitoringHosts[0]:DEFAULT_ES_MONITORING_URL}this.checkInterval=null;let activeStep=INSTRUCTION_STEP_SET_MONITORING_URL;if(props.product&&props.product.isPartiallyMigrated){activeStep=INSTRUCTION_STEP_DISABLE_INTERNAL}this.state={activeStep:activeStep,esMonitoringUrl:_esMonitoringUrl,checkedStatusByStep:{[INSTRUCTION_STEP_ENABLE_METRICBEAT]:false,[INSTRUCTION_STEP_DISABLE_INTERNAL]:false,userAcknowledgedNoClusterUuidPrompt:false}}}finishedFlyout(){const{onClose:onClose}=this.props;onClose()}renderActiveStep(){const{product:product,productName:productName,onClose:onClose,meta:meta}=this.props;const{activeStep:activeStep,esMonitoringUrl:esMonitoringUrl,checkedStatusByStep:checkedStatusByStep}=this.state;switch(activeStep){case INSTRUCTION_STEP_SET_MONITORING_URL:return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiForm"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{fullWidth:true,label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.flyout.step1.monitoringUrlLabel",{defaultMessage:"URL of monitoring cluster"}),helpText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.flyout.step1.monitoringUrlHelpText",{defaultMessage:`Typically a single URL. If multiple URLs, separate with a comma.\n                The running Metricbeat instance must be able to communicate with these Elasticsearch servers.`})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldText"],{fullWidth:true,value:esMonitoringUrl,onChange:e=>this.setEsMonitoringUrl(e.target.value)})));case INSTRUCTION_STEP_ENABLE_METRICBEAT:case INSTRUCTION_STEP_DISABLE_INTERNAL:const esMonitoringUrls=esMonitoringUrl.split(",").map(url=>`"${url}"`);const instructionSteps=getInstructionSteps(productName,product,activeStep,meta,{doneWithMigration:onClose,esMonitoringUrl:esMonitoringUrls,hasCheckedStatus:checkedStatusByStep[activeStep]});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSteps"],{steps:instructionSteps}))}return null}renderActiveStepNextButton(){const{product:product,productName:productName}=this.props;const{activeStep:activeStep,esMonitoringUrl:esMonitoringUrl,userAcknowledgedNoClusterUuidPrompt:userAcknowledgedNoClusterUuidPrompt}=this.state;if(!product){return null}let willDisableDoneButton=!product.isFullyMigrated;let willShowNextButton=activeStep!==INSTRUCTION_STEP_DISABLE_INTERNAL;if(activeStep===INSTRUCTION_STEP_ENABLE_METRICBEAT){if(productName===constants["H"]){willShowNextButton=false;willDisableDoneButton=!product.isPartiallyMigrated&&!product.isFullyMigrated}else{willShowNextButton=!product.isFullyMigrated;willDisableDoneButton=!product.isFullyMigrated}}if(product.isFullyMigrated&&product.clusterUuid===null){if(!userAcknowledgedNoClusterUuidPrompt){willDisableDoneButton=true}}if(willShowNextButton){let isDisabled=false;let nextStep=null;if(activeStep===INSTRUCTION_STEP_SET_MONITORING_URL){isDisabled=!esMonitoringUrl||esMonitoringUrl.length===0;if(product.isPartiallyMigrated||product.isFullyMigrated){nextStep=INSTRUCTION_STEP_DISABLE_INTERNAL}else{nextStep=INSTRUCTION_STEP_ENABLE_METRICBEAT}}else if(activeStep===INSTRUCTION_STEP_ENABLE_METRICBEAT){isDisabled=!product.isPartiallyMigrated&&!product.isFullyMigrated;nextStep=INSTRUCTION_STEP_DISABLE_INTERNAL}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{type:"submit",fill:true,iconType:"sortRight",iconSide:"right",isDisabled:isDisabled,onClick:()=>this.setState({activeStep:nextStep})},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.flyout.nextButtonLabel",{defaultMessage:"Next"}))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{type:"submit",fill:true,isDisabled:willDisableDoneButton,onClick:()=>this.finishedFlyout()},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.flyout.doneButtonLabel",{defaultMessage:"Done"}))}getDocumentationTitle(){const{productName:productName}=this.props;let documentationUrl=null;if(productName===constants["N"]){documentationUrl=Legacy.shims.docLinks.links.monitoring.monitorKibana}else if(productName===constants["H"]){documentationUrl=Legacy.shims.docLinks.links.monitoring.monitorElasticsearch}if(!documentationUrl){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:documentationUrl,target:"_blank"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.flyout.learnMore",{defaultMessage:"Learn about why."})))}render(){const{onClose:onClose,instance:instance,productName:productName,product:product}=this.props;const instanceIdentifier=getIdentifier(productName);const instanceName=instance&&instance.name||formatProductName(productName);let title=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.flyout.flyoutTitle",{defaultMessage:"Monitor `{instanceName}` {instanceIdentifier} with Metricbeat",values:{instanceName:instanceName,instanceIdentifier:instanceIdentifier}});if(product.isNetNewUser){title=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.flyout.flyoutTitleNewUser",{defaultMessage:"Monitor {instanceName} {instanceIdentifier} with Metricbeat",values:{instanceIdentifier:instanceIdentifier,instanceName:instanceName}})}let noClusterUuidPrompt=null;if(product.isFullyMigrated&&product.clusterUuid===null){noClusterUuidPrompt=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{color:"warning",iconType:"help",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.flyout.noClusterUuidTitle",{defaultMessage:"No cluster detected"})},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.metricbeatMigration.flyout.noClusterUuidDescription",defaultMessage:"This {productName} {instanceIdentifier} is not connected to an Elasticsearch cluster so once fully migrated, this {productName} {instanceIdentifier} will appear in the Standalone cluster instead of this one. {link}",values:{productName:productName,instanceIdentifier:instanceIdentifier,link:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:`#/overview?_g=(cluster_uuid:__standalone_cluster__)`,target:"_blank"},"Click here to view the Standalone cluster.")}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCheckbox"],{id:"monitoringFlyoutNoClusterUuidCheckbox",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.flyout.noClusterUuidCheckboxLabel",{defaultMessage:`Yes, I understand that I will need to look in the Standalone cluster for\n                  this {productName} {instanceIdentifier}.`,values:{productName:productName,instanceIdentifier:instanceIdentifier}}),checked:this.state.userAcknowledgedNoClusterUuidPrompt,onChange:e=>this.setState({userAcknowledgedNoClusterUuidPrompt:e.target.checked})})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyout"],{onClose:onClose,"aria-labelledby":"flyoutTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutHeader"],{hasBorder:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"m"},external_kbnSharedDeps_React_default.a.createElement("h2",{id:"flyoutTitle"},title))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],null,this.renderActiveStep(),noClusterUuidPrompt),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutFooter"],{style:{marginBottom:"64px"}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{iconType:"cross",onClick:onClose,flush:"left"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.metricbeatMigration.flyout.closeButtonLabel",{defaultMessage:"Close"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},this.renderActiveStepNextButton()))))}}function findNewUuid(oldUuids,newUuids){for(const newUuid of newUuids){if(oldUuids.indexOf(newUuid)===-1){return newUuid}}}function setup_mode_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class setup_mode_SetupModeRenderer extends external_kbnSharedDeps_React_default.a.Component{constructor(...args){super(...args);setup_mode_defineProperty(this,"state",{renderState:false,isFlyoutOpen:false,instance:null,newProduct:null,isSettingUpNew:false})}UNSAFE_componentWillMount(){const{scope:scope,injector:injector}=this.props;initSetupModeState(scope,injector,_oldData=>{const newState={renderState:true};const{productName:productName}=this.props;if(!productName){this.setState(newState);return}const setupModeState=getSetupModeState();if(!setupModeState.enabled||!setupModeState.data){this.setState(newState);return}const data=setupModeState.data[productName];const oldData=_oldData?_oldData[productName]:null;if(data&&oldData){const newUuid=findNewUuid(Object.keys(oldData.byUuid),Object.keys(data.byUuid));if(newUuid){newState.newProduct=data.byUuid[newUuid]}}this.setState(newState)});setSetupModeMenuItem()}reset(){this.setState({renderState:false,isFlyoutOpen:false,instance:null,newProduct:null,isSettingUpNew:false})}getFlyout(data,meta){const{productName:productName}=this.props;const{isFlyoutOpen:isFlyoutOpen,instance:instance,isSettingUpNew:isSettingUpNew,newProduct:newProduct}=this.state;if(!data||!isFlyoutOpen){return null}let product=null;if(newProduct){product=newProduct}else if(instance&&Object.keys(instance).length){product=data.byUuid[instance.uuid]}if(!product){const uuids=Object.values(data.byUuid);if(uuids.length&&!isSettingUpNew){product=uuids[0]}else{product={isNetNewUser:true}}}return external_kbnSharedDeps_React_default.a.createElement(flyout_Flyout,{onClose:()=>this.reset(),productName:productName,product:product,meta:meta,instance:instance,updateProduct:updateSetupModeData,isSettingUpNew:isSettingUpNew})}getBottomBar(setupModeState){if(!setupModeState.enabled||setupModeState.hideBottomBar){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"xxl"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBottomBar"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween",alignItems:"center","data-test-subj":"monitoringSetupModeBottomBar"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"ghost"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.setupMode.description",defaultMessage:"You are in setup mode. The ({flagIcon}) icon indicates configuration options.",values:{flagIcon:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"flag"})}}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{color:"danger",fill:true,iconType:"flag",iconSide:"right",size:"s",onClick:()=>toggleSetupMode(false)},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.setupMode.exit",{defaultMessage:`Exit setup mode`}))))))))}async shortcutToFinishMigration(){await disableElasticsearchInternalCollection();await updateSetupModeData()}render(){const{render:render,productName:productName}=this.props;const setupModeState=getSetupModeState();let data={byUuid:{}};if(setupModeState.data){if(productName&&setupModeState.data[productName]){data=setupModeState.data[productName]}else if(setupModeState.data){data=setupModeState.data}}const meta=setupModeState.data?setupModeState.data._meta:null;return render({setupMode:{data:data,meta:meta,enabled:setupModeState.enabled,productName:productName,updateSetupModeData:updateSetupModeData,shortcutToFinishMigration:()=>this.shortcutToFinishMigration(),openFlyout:(instance,isSettingUpNew)=>this.setState({isFlyoutOpen:true,instance:instance,isSettingUpNew:isSettingUpNew}),closeFlyout:()=>this.setState({isFlyoutOpen:false})},flyoutComponent:this.getFlyout(data,meta),bottomBarComponent:this.getBottomBar(setupModeState)})}}const overview_CODE_PATHS=[constants["x"]];uiRoutes.when("/overview",{template:overview,resolve:{clusters(Private){const routeInit=Private(routeInitProvider);return routeInit({codePaths:overview_CODE_PATHS})}},controllerAs:"monitoringClusterOverview",controller:class extends base_controller_MonitoringViewBaseController{constructor($injector,$scope){const monitoringClusters=$injector.get("monitoringClusters");const globalState=$injector.get("globalState");const showLicenseExpiration=$injector.get("showLicenseExpiration");super({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.overviewTitle",{defaultMessage:"Overview"}),pageTitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.cluster.overview.pageTitle",{defaultMessage:"Cluster overview"}),defaultData:{},getPageData:async()=>{const clusters=await monitoringClusters(globalState.cluster_uuid,globalState.ccs,overview_CODE_PATHS);return clusters[0]},reactNodeId:"monitoringClusterOverviewApp",$scope:$scope,$injector:$injector,alerts:{shouldFetch:true},telemetryPageViewTitle:"cluster_overview"});this.init=()=>this.renderReact(null);$scope.$watch(()=>this.data,async data=>{if(Object(external_kbnSharedDeps_Lodash_["isEmpty"])(data)){return}this.renderReact(external_kbnSharedDeps_React_default.a.createElement(setup_mode_SetupModeRenderer,{scope:$scope,injector:$injector,render:({setupMode:setupMode,flyoutComponent:flyoutComponent,bottomBarComponent:bottomBarComponent})=>external_kbnSharedDeps_React_default.a.createElement(SetupModeContext.Provider,{value:{setupModeSupported:true}},flyoutComponent,external_kbnSharedDeps_React_default.a.createElement(overview_Overview,{cluster:data,alerts:this.alerts,setupMode:setupMode,showLicenseExpiration:showLicenseExpiration}),bottomBarComponent)}))})}}});var elasticsearch_overview='<monitoring-main\n  product="elasticsearch"\n  name="overview"\n  is-ccr-enabled="{{ elasticsearchOverview.isCcrEnabled }}"\n  data-test-subj="elasticsearchOverviewPage"\n>\n  <div id="elasticsearchOverviewReact"></div>\n</monitoring-main>\n';class controller_ElasticsearchOverviewController extends base_controller_MonitoringViewBaseController{constructor($injector,$scope){const $route=$injector.get("$route");const globalState=$injector.get("globalState");$scope.cluster=Object(external_kbnSharedDeps_Lodash_["find"])($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});super({title:"Elasticsearch",pageTitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.overview.pageTitle",{defaultMessage:"Elasticsearch overview"}),api:`../api/monitoring/v1/clusters/${globalState.cluster_uuid}/elasticsearch`,defaultData:{clusterStatus:{status:""},metrics:null,shardActivity:null},reactNodeId:"elasticsearchOverviewReact",$scope:$scope,$injector:$injector});this.isCcrEnabled=$scope.cluster.isCcrEnabled;this.showShardActivityHistory=false;this.toggleShardActivityHistory=()=>{this.showShardActivityHistory=!this.showShardActivityHistory;$scope.$evalAsync(()=>{this.renderReact(this.data,$scope.cluster)})};this.initScope($scope)}initScope($scope){$scope.$watch(()=>this.data,data=>{this.renderReact(data,$scope.cluster)});$scope.$watch(()=>this.showShardActivityHistory,()=>{const{data:data}=this;const dataWithShardActivityLoading={...data,shardActivity:null};this.renderReact(dataWithShardActivityLoading,$scope.cluster);this.renderReact(data,$scope.cluster)})}filterShardActivityData(shardActivity){return shardActivity.filter(row=>this.showShardActivityHistory||row.stage!=="DONE")}renderReact(data,cluster){const{clusterStatus:clusterStatus,metrics:metrics,shardActivity:shardActivity,logs:logs}=data||{};const shardActivityData=shardActivity&&this.filterShardActivityData(shardActivity);const component=external_kbnSharedDeps_React_default.a.createElement(ElasticsearchOverview,{clusterStatus:clusterStatus,metrics:metrics,logs:logs,cluster:cluster,shardActivity:shardActivityData,onBrush:this.onBrush,showShardActivityHistory:this.showShardActivityHistory,toggleShardActivityHistory:this.toggleShardActivityHistory,zoomInfo:this.zoomInfo});super.renderReact(component)}}uiRoutes.when("/elasticsearch",{template:elasticsearch_overview,resolve:{clusters(Private){const routeInit=Private(routeInitProvider);return routeInit({codePaths:[constants["A"]]})}},controllerAs:"elasticsearchOverview",controller:controller_ElasticsearchOverviewController});var elasticsearch_indices='<monitoring-main\n  product="elasticsearch"\n  name="indices"\n  is-ccr-enabled="{{ elasticsearchIndices.isCcrEnabled }}"\n  data-test-subj="elasticsearchIndicesListingPage"\n>\n  <div id="elasticsearchIndicesReact"></div>\n</monitoring-main>\n';uiRoutes.when("/elasticsearch/indices",{template:elasticsearch_indices,resolve:{clusters(Private){const routeInit=Private(routeInitProvider);return routeInit({codePaths:[constants["A"]]})}},controllerAs:"elasticsearchIndices",controller:class ElasticsearchIndicesController extends base_eui_table_controller_MonitoringViewBaseEuiTableController{constructor($injector,$scope){const $route=$injector.get("$route");const globalState=$injector.get("globalState");const features=$injector.get("features");const{cluster_uuid:clusterUuid}=globalState;$scope.cluster=Object(external_kbnSharedDeps_Lodash_["find"])($route.current.locals.clusters,{cluster_uuid:clusterUuid});let showSystemIndices=features.isEnabled("showSystemIndices",false);super({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.indices.routeTitle",{defaultMessage:"Elasticsearch - Indices"}),pageTitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.indices.pageTitle",{defaultMessage:"Elasticsearch indices"}),storageKey:"elasticsearch.indices",apiUrlFn:()=>`../api/monitoring/v1/clusters/${clusterUuid}/elasticsearch/indices?show_system_indices=${showSystemIndices}`,reactNodeId:"elasticsearchIndicesReact",defaultData:{},$scope:$scope,$injector:$injector,$scope:$scope,$injector:$injector,alerts:{shouldFetch:true,options:{alertTypeIds:[constants["h"]]}}});this.isCcrEnabled=$scope.cluster.isCcrEnabled;const toggleShowSystemIndices=isChecked=>{showSystemIndices=isChecked;features.update("showSystemIndices",isChecked);this.updateData()};const renderComponent=()=>{const{clusterStatus:clusterStatus,indices:indices}=this.data;this.renderReact(external_kbnSharedDeps_React_default.a.createElement(setup_mode_SetupModeRenderer,{scope:$scope,injector:$injector,productName:constants["H"],render:({flyoutComponent:flyoutComponent,bottomBarComponent:bottomBarComponent})=>external_kbnSharedDeps_React_default.a.createElement(SetupModeContext.Provider,{value:{setupModeSupported:true}},flyoutComponent,external_kbnSharedDeps_React_default.a.createElement(ElasticsearchIndices,{clusterStatus:clusterStatus,indices:indices,alerts:this.alerts,showSystemIndices:showSystemIndices,toggleShowSystemIndices:toggleShowSystemIndices,sorting:this.sorting,pagination:this.pagination,onTableChange:this.onTableChange}),bottomBarComponent)}))};this.onTableChangeRender=renderComponent;$scope.$watch(()=>this.data,data=>{if(!data){return}renderComponent()})}}});var elasticsearch_index='<monitoring-main\n  product="elasticsearch"\n  name="indices"\n  instance="{{ monitoringElasticsearchIndexApp.indexName }}"\n  resolver="{{ monitoringElasticsearchIndexApp.indexName }}"\n  page="overview"\n>\n  <div id="monitoringElasticsearchIndexApp"></div>\n</monitoring-main>\n';const labels={index:[{content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.shardAllocation.labels.nodesLabel",{defaultMessage:"Nodes"})}],indexWithUnassigned:[{content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.shardAllocation.labels.unassignedLabel",{defaultMessage:"Unassigned"})},{content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.shardAllocation.labels.unassignedNodesLabel",{defaultMessage:"Nodes"})}],node:[{content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.shardAllocation.labels.indicesLabel",{defaultMessage:"Indices"}),showToggleSystemIndicesComponent:true}]};function decorateShards(shards,nodes){function getTooltipMessage(shard){const isRelocating=node=>Object(external_kbnSharedDeps_Lodash_["includes"])(node.node_ids,shard.relocating_node);const nodeName=Object(external_kbnSharedDeps_Lodash_["get"])(Object(external_kbnSharedDeps_Lodash_["find"])(nodes,n=>isRelocating(n)),"name");if(nodeName){if(shard.state==="INITIALIZING"){return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.shardAllocation.decorateShards.relocatingFromTextMessage",{defaultMessage:"Relocating from {nodeName}",values:{nodeName:nodeName}})}if(shard.state==="RELOCATING"){return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.shardAllocation.decorateShards.relocatingToTextMessage",{defaultMessage:"Relocating to {nodeName}",values:{nodeName:nodeName}})}}return Object(external_kbnSharedDeps_Lodash_["upperFirst"])(shard.state.toLowerCase())}return shards.map(shard=>{const node=nodes[shard.node];shard.nodeName=node&&node.name||null;shard.type="shard";shard.tooltip_message=getTooltipMessage(shard);return shard})}function indicesByNodes(){return function indicesByNodesFn(shards,nodes){function createIndex(obj,shard){const id=shard.index;if(obj[id]){return obj}obj[id]={id:id,name:id,children:[],unassigned:[],unassignedPrimaries:false,type:"index"};return obj}function createNodeAddShard(obj,shard){const{node:node,index:index}=shard;if(!shard.node||shard.node===null){obj[index].unassigned.push(shard);if(shard.primary){obj[index].unassignedPrimaries=true}return obj}let nodeObj=Object(external_kbnSharedDeps_Lodash_["find"])(obj[index].children,{id:node});if(!nodeObj){nodeObj={id:node,type:"node",name:nodes[node].name,node_type:nodes[node].type,ip_port:nodes[node].transport_address,children:[]};obj[index].children.push(nodeObj)}nodeObj.children.push(shard);return obj}const data=Object(external_kbnSharedDeps_Lodash_["reduce"])(decorateShards(shards,nodes),(function(obj,shard){obj=createIndex(obj,shard);obj=createNodeAddShard(obj,shard);return obj}),{});const dataValues=Object(external_kbnSharedDeps_Lodash_["values"])(data);return Object(external_kbnSharedDeps_Lodash_["sortBy"])(dataValues,index=>[!index.unassignedPrimaries,/^\./.test(index.name),index.name])}}function IndexDetailStatus({stats:stats,alerts:alerts={}}){const{dataSize:dataSize,documents:documentCount,totalShards:totalShards,unassignedShards:unassignedShards,status:status}=stats;const metrics=[{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.indexDetailStatus.alerts",{defaultMessage:"Alerts"}),value:external_kbnSharedDeps_React_default.a.createElement(AlertsStatus,{alerts:alerts,showOnlyCount:true})},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.indexDetailStatus.totalTitle",{defaultMessage:"Total"}),value:formatMetric(dataSize.total,"0.0 b"),"data-test-subj":"dataSize"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.indexDetailStatus.primariesTitle",{defaultMessage:"Primaries"}),value:formatMetric(dataSize.primaries,"0.0 b"),"data-test-subj":"dataSizePrimaries"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.indexDetailStatus.documentsTitle",{defaultMessage:"Documents"}),value:formatMetric(documentCount,"0.[0]a"),"data-test-subj":"documentCount"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.indexDetailStatus.totalShardsTitle",{defaultMessage:"Total shards"}),value:formatMetric(totalShards,"int_commas"),"data-test-subj":"totalShards"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.indexDetailStatus.unassignedShardsTitle",{defaultMessage:"Unassigned shards"}),value:formatMetric(unassignedShards,"int_commas"),"data-test-subj":"unassignedShards"}];const IconComponent=({status:status})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.elasticsearch.indexDetailStatus.iconStatusLabel",defaultMessage:"Health: {elasticsearchStatusIcon}",values:{elasticsearchStatusIcon:external_kbnSharedDeps_React_default.a.createElement(ElasticsearchStatusIcon,{status:status})}}));return external_kbnSharedDeps_React_default.a.createElement(SummaryStatus,{metrics:metrics,status:status,IconComponent:IconComponent,"data-test-subj":"elasticsearchIndexDetailStatus"})}class table_head_IndexLabel extends external_kbnSharedDeps_React_default.a.Component{constructor(props){super(props);this.state={showSystemIndices:props.scope.showSystemIndices};this.toggleShowSystemIndicesState=this.toggleShowSystemIndicesState.bind(this)}toggleShowSystemIndicesState(e){const isChecked=e.target.checked;this.setState({showSystemIndices:isChecked});this.props.scope.$evalAsync(()=>{this.props.toggleShowSystemIndices(isChecked)})}render(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.elasticsearch.shardAllocation.tableHead.indicesLabel",defaultMessage:"Indices"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSwitch"],{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.shardAllocation.tableHead.filterSystemIndices",{defaultMessage:"Filter for system indices"}),onChange:this.toggleShowSystemIndicesState,checked:this.state.showSystemIndices,"data-test-subj":"shardShowSystemIndices"})))}}class table_head_TableHead extends external_kbnSharedDeps_React_default.a.Component{constructor(props){super(props)}createColumn({key:key,content:content}){return external_kbnSharedDeps_React_default.a.createElement("th",{scope:"col",key:key,colSpan:1},content)}render(){const propLabels=this.props.scope.labels||[];const labelColumns=propLabels.map(label=>{const column={key:label.content.toLowerCase()};if(label.showToggleSystemIndicesComponent){column.content=external_kbnSharedDeps_React_default.a.createElement(table_head_IndexLabel,{scope:this.props.scope,toggleShowSystemIndices:this.props.toggleShowSystemIndices})}else{column.content=label.content}return column}).map(this.createColumn);return external_kbnSharedDeps_React_default.a.createElement("thead",null,external_kbnSharedDeps_React_default.a.createElement("tr",null,labelColumns))}}function calculateClass(item,initial){const classes=[item.type];if(initial){classes.push(initial)}if(item.type==="shard"){classes.push("monShard");classes.push(item.primary&&"primary"||"replica");classes.push(item.state.toLowerCase());if(item.state==="UNASSIGNED"&&item.primary){classes.push("emergency")}}if(item.master){classes.push("master")}return classes.join(" ")}const _vents={};const vents={vents:_vents,on:function(id,cb){if(!Object(external_kbnSharedDeps_Lodash_["isArray"])(_vents[id])){_vents[id]=[]}_vents[id].push(cb)},clear:function(id){delete _vents[id]},trigger:function(){const args=Array.prototype.slice.call(arguments);const id=args.shift();if(_vents[id]){Object(external_kbnSharedDeps_Lodash_["each"])(_vents[id],(function(cb){cb.apply(null,args)}))}}};function shard_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function shard_getColor(classes){const classList=classes.split(" ");if(classList.includes("emergency")){return"danger"}if(classList.includes("unassigned")){if(classList.includes("replica")){return"warning"}return"danger"}if(classList.includes("relocating")){return"accent"}if(classList.includes("initializing")){return"default"}if(classList.includes("primary")){return"primary"}if(classList.includes("replica")){return"secondary"}}class shard_Shard extends external_kbnSharedDeps_React_default.a.Component{constructor(...args){super(...args);shard_defineProperty(this,"state",{tooltipVisible:false});shard_defineProperty(this,"generateKey",relocating=>{const shard=this.props.shard;const shardType=shard.primary?"primary":"replica";const additionId=shard.state==="UNASSIGNED"?Math.random():"";const node=relocating?shard.relocating_node:shard.node;return shard.index+"."+node+"."+shardType+"."+shard.shard+additionId});shard_defineProperty(this,"toggle",event=>{if(this.props.shard.tooltip_message){const action=event.type==="mouseenter"?"show":"hide";const key=this.generateKey(true);this.setState({tooltipVisible:action==="show"});vents.trigger(key,action)}})}componentDidMount(){let key;const shard=this.props.shard;const self=this;if(shard.tooltip_message){key=this.generateKey();vents.on(key,(function(action){self.setState({tooltipVisible:action==="show"})}))}}componentWillUnmount(){let key;const shard=this.props.shard;if(shard.tooltip_message){key=this.generateKey();vents.clear(key)}}render(){const shard=this.props.shard;const classes=calculateClass(shard);const color=shard_getColor(classes);const classification=classes+" "+shard.shard;let shardUi=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],{color:color},shard.shard);const tooltipContent=shard.tooltip_message||external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.shardAllocation.shardDisplayName",{defaultMessage:"Shard"});if(this.state.tooltipVisible){shardUi=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:tooltipContent,position:"bottom","data-test-subj":"shardTooltip"},external_kbnSharedDeps_React_default.a.createElement("p",null,shardUi))}return external_kbnSharedDeps_React_default.a.createElement("div",{onMouseEnter:this.toggle,onMouseLeave:this.toggle,className:classes,"data-shard-tooltip":tooltipContent,"data-shard-classification":classification,"data-test-subj":"shardIcon"},shardUi)}}shard_defineProperty(shard_Shard,"displayName",external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.shardAllocation.shardDisplayName",{defaultMessage:"Shard"}));function unassigned_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class unassigned_Unassigned extends external_kbnSharedDeps_React_default.a.Component{constructor(...args){super(...args);unassigned_defineProperty(this,"createShard",shard=>{const type=shard.primary?"primary":"replica";const additionId=shard.state==="UNASSIGNED"?Math.random():"";const key=shard.index+"."+shard.node+"."+type+"."+shard.state+"."+shard.shard+additionId;return external_kbnSharedDeps_React_default.a.createElement(shard_Shard,{shard:shard,key:key})})}render(){const shards=Object(external_kbnSharedDeps_Lodash_["sortBy"])(this.props.shards,"shard").map(this.createShard);return external_kbnSharedDeps_React_default.a.createElement("td",{className:"monUnassigned","data-test-subj":"clusterView-Unassigned"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{wrap:true,className:"monUnassigned__children"},shards))}}unassigned_defineProperty(unassigned_Unassigned,"displayName",external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.shardAllocation.unassignedDisplayName",{defaultMessage:"Unassigned"}));function assigned_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const generateQueryAndLink=data=>{let type="indices";let ident=data.name;if(data.type==="node"){type="nodes";ident=data.id}return getSafeForExternalLink(`#/elasticsearch/${type}/${ident}`)};function sortByName(item){if(item.type==="node"){return[!item.master,item.name]}return[item.name]}class assigned_Assigned extends external_kbnSharedDeps_React_default.a.Component{constructor(...args){super(...args);assigned_defineProperty(this,"createShard",shard=>{const type=shard.primary?"primary":"replica";const key=`${shard.index}.${shard.node}.${type}.${shard.state}.${shard.shard}`;return external_kbnSharedDeps_React_default.a.createElement(shard_Shard,{shard:shard,key:key})});assigned_defineProperty(this,"createChild",data=>{const key=data.id;const initialClasses=["monChild"];if(data.type==="index"){initialClasses.push("monChild--index")}const shardStats=Object(external_kbnSharedDeps_Lodash_["get"])(this.props.shardStats.indices,key);if(shardStats){switch(shardStats.status){case"red":initialClasses.push("monChild--danger");break;case"yellow":initialClasses.push("monChild--warning");break}}const name=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiKeyboardAccessible"],null,external_kbnSharedDeps_React_default.a.createElement("a",{href:generateQueryAndLink(data)},external_kbnSharedDeps_React_default.a.createElement("span",null,data.name)));const master=data.node_type==="master"?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"starFilledSpace",color:"primary"}):null;const shards=Object(external_kbnSharedDeps_Lodash_["sortBy"])(data.children,"shard").map(this.createShard);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,className:calculateClass(data,initialClasses.join(" ")),key:key,"data-test-subj":`clusterView-Assigned-${key}`,"data-status":shardStats&&shardStats.status},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,className:"monChild__title eui-textNoWrap"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},name),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},master))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s"},shards))))})}render(){const data=Object(external_kbnSharedDeps_Lodash_["sortBy"])(this.props.data,sortByName).map(this.createChild);return external_kbnSharedDeps_React_default.a.createElement("td",{className:"monAssigned"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{wrap:true,className:"monAssigned__children"},data))}}function table_body_extends(){table_body_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return table_body_extends.apply(this,arguments)}function table_body_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const ShardRow=props=>{let unassigned;if(props.data.unassigned&&props.data.unassigned.length){unassigned=external_kbnSharedDeps_React_default.a.createElement(unassigned_Unassigned,{shards:props.data.unassigned})}else{if(props.cols===3){unassigned=external_kbnSharedDeps_React_default.a.createElement("td",null)}}return external_kbnSharedDeps_React_default.a.createElement("tr",null,unassigned,external_kbnSharedDeps_React_default.a.createElement(assigned_Assigned,{shardStats:props.shardStats,data:props.data.children}))};class table_body_TableBody extends external_kbnSharedDeps_React_default.a.Component{constructor(...args){super(...args);table_body_defineProperty(this,"createRow",(data,index)=>external_kbnSharedDeps_React_default.a.createElement(ShardRow,table_body_extends({key:`shardRow-${index}`,data:data},this.props)))}render(){if(this.props.totalCount===0){return external_kbnSharedDeps_React_default.a.createElement("tbody",null,external_kbnSharedDeps_React_default.a.createElement("tr",null,external_kbnSharedDeps_React_default.a.createElement("td",{colSpan:this.props.cols},external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement("p",{style:{margin:"10px 0"},className:"text-center lead"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.elasticsearch.shardAllocation.tableBody.noShardsAllocatedDescription",defaultMessage:"There are no shards allocated."}))))))}if(this.props.shardStats){if(this.props.rows.length){return external_kbnSharedDeps_React_default.a.createElement("tbody",null,this.props.rows.map(this.createRow))}}return external_kbnSharedDeps_React_default.a.createElement("tbody",null,external_kbnSharedDeps_React_default.a.createElement("tr",null,external_kbnSharedDeps_React_default.a.createElement("td",{colSpan:this.props.cols})))}}table_body_defineProperty(table_body_TableBody,"displayName",external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.shardAllocation.tableBodyDisplayName",{defaultMessage:"TableBody"}));function cluster_view_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class cluster_view_ClusterView extends external_kbnSharedDeps_React_default.a.Component{constructor(props){super(props);cluster_view_defineProperty(this,"setShowing",data=>{if(data){this.setState({showing:data})}});cluster_view_defineProperty(this,"setShardStats",stats=>{this.setState({shardStats:stats})});cluster_view_defineProperty(this,"hasUnassigned",()=>this.state.showing.length&&this.state.showing[0].unassigned&&this.state.showing[0].unassigned.length);this.state={labels:props.scope.labels||[],showing:props.scope.showing||[],shardStats:props.scope.pageData.shardStats,showSystemIndices:props.showSystemIndices,toggleShowSystemIndices:props.toggleShowSystemIndices}}UNSAFE_componentWillMount(){this.props.scope.$watch("showing",this.setShowing);this.props.scope.$watch(()=>this.props.scope.pageData.shardStats,this.setShardStats)}render(){return external_kbnSharedDeps_React_default.a.createElement("table",{cellPadding:"0",cellSpacing:"0",className:"table"},external_kbnSharedDeps_React_default.a.createElement(table_head_TableHead,{hasUnassigned:this.hasUnassigned(),scope:this.props.scope,toggleShowSystemIndices:this.state.toggleShowSystemIndices}),external_kbnSharedDeps_React_default.a.createElement(table_body_TableBody,{filter:this.props.scope.filter,totalCount:this.props.scope.totalCount,rows:this.state.showing,cols:this.state.labels.length,shardStats:this.state.shardStats}))}}cluster_view_defineProperty(cluster_view_ClusterView,"displayName",external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.shardAllocation.clusterViewDisplayName",{defaultMessage:"ClusterView"}));var shard_allocation=__webpack_require__(173);const ShardAllocation=({scope:scope,type:type,shardStats:shardStats})=>{const types=[{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.shardAllocation.primaryLabel",{defaultMessage:"Primary"}),color:"primary"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.shardAllocation.replicaLabel",{defaultMessage:"Replica"}),color:"secondary"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.shardAllocation.relocatingLabel",{defaultMessage:"Relocating"}),color:"accent"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.shardAllocation.initializingLabel",{defaultMessage:"Initializing"}),color:"default"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.shardAllocation.unassignedPrimaryLabel",{defaultMessage:"Unassigned Primary"}),color:"danger"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.shardAllocation.unassignedReplicaLabel",{defaultMessage:"Unassigned Replica"}),color:"warning"}];return external_kbnSharedDeps_React_default.a.createElement("div",{className:"monCluster"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],null,external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.elasticsearch.shardAllocation.shardLegendTitle",defaultMessage:"Shard Legend"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"xs"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{wrap:true,responsive:false,gutterSize:"s"},types.map(type=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,key:type.label},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],{color:type.color},type.label)))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(cluster_view_ClusterView,{scope:scope,shardStats:shardStats,showSystemIndices:scope.showSystemIndices,toggleShowSystemIndices:scope.toggleShowSystemIndices,type:type}))};const AlertsCallout=props=>{const{alerts:alerts}=props;const inSetupMode=isInSetupMode(external_kbnSharedDeps_React_default.a.useContext(SetupModeContext));if(inSetupMode){return null}const list=[];for(const alertTypeId of Object.keys(alerts)){const alertInstance=alerts[alertTypeId];for(const state of alertInstance.states){list.push({alert:alertInstance,state:state})}}if(list.length===0){return null}const accordions=list.map((status,index)=>{const buttonContent=external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s",alignItems:"center",responsive:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"alert",size:"m",color:"danger"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"danger"},replaceTokens(status.state.state.ui.message)))));const{code:code}=status.state.state.ui.message;const accordion=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiAccordion"],{id:`monitoringAlertCallout_${index}`,buttonContent:buttonContent,paddingSize:"s"},code!==null&&code!==void 0&&code.length?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],{fontSize:"s",paddingSize:"s",language:"json",isCopyable:true,overflowHeight:300},code):null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiListGroup"],{flush:true,bordered:true,gutterSize:"m",size:"xs",style:{marginTop:"0.5rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",paddingLeft:`0.5rem`}},(status.state.state.ui.message.nextSteps||[]).map((step,stepIndex)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiListGroupItem"],{onClick:()=>{},label:replaceTokens(step),key:index+stepIndex})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiListGroupItem"],{label:external_kbnSharedDeps_React_default.a.createElement(AlertConfiguration,{alert:status.alert.rawAlert,key:index,compressed:true})})));const spacer=index!==list.length-1?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null):null;return external_kbnSharedDeps_React_default.a.createElement("div",{key:index},accordion,spacer)});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,accordions),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null))};function index_extends(){index_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return index_extends.apply(this,arguments)}const Index=({scope:scope,indexSummary:indexSummary,metrics:metrics,clusterUuid:clusterUuid,indexUuid:indexUuid,logs:logs,alerts:alerts,...props})=>{const metricsToShow=[metrics.index_mem,metrics.index_size,metrics.index_search_request_rate,metrics.index_request_rate,metrics.index_segment_count,metrics.index_document_count];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(IndexDetailStatus,{stats:indexSummary,alerts:alerts})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(AlertsCallout,{alerts:alerts}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGrid"],{columns:2,gutterSize:"s"},metricsToShow.map((metric,index)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{key:index},external_kbnSharedDeps_React_default.a.createElement(MonitoringTimeseriesContainer,index_extends({series:metric},props)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null)))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(logs_Logs,{logs:logs,indexUuid:indexUuid,clusterUuid:clusterUuid})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(ShardAllocation,{scope:scope,type:"index"}))))};function elasticsearch_index_extends(){elasticsearch_index_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return elasticsearch_index_extends.apply(this,arguments)}function index_getPageData($injector){const $http=$injector.get("$http");const $route=$injector.get("$route");const globalState=$injector.get("globalState");const url=`../api/monitoring/v1/clusters/${globalState.cluster_uuid}/elasticsearch/indices/${$route.current.params.index}`;const timeBounds=Legacy.shims.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},is_advanced:false}).then(response=>response.data).catch(err=>{const Private=$injector.get("Private");const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}uiRoutes.when("/elasticsearch/indices/:index",{template:elasticsearch_index,resolve:{clusters(Private){const routeInit=Private(routeInitProvider);return routeInit({codePaths:[constants["A"]]})},pageData:index_getPageData},controllerAs:"monitoringElasticsearchIndexApp",controller:class extends base_controller_MonitoringViewBaseController{constructor($injector,$scope){const $route=$injector.get("$route");const indexName=$route.current.params.index;super({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.indices.overview.routeTitle",{defaultMessage:"Elasticsearch - Indices - {indexName} - Overview",values:{indexName:indexName}}),telemetryPageViewTitle:"elasticsearch_index",pageTitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.indices.overview.pageTitle",{defaultMessage:"Index: {indexName}",values:{indexName:indexName}}),defaultData:{},getPageData:index_getPageData,reactNodeId:"monitoringElasticsearchIndexApp",$scope:$scope,$injector:$injector,alerts:{shouldFetch:true,options:{alertTypeIds:[constants["h"]],filters:[{shardIndex:$route.current.pathParams.index}]}}});this.indexName=indexName;const transformer=indicesByNodes();$scope.$watch(()=>this.data,data=>{if(!data||!data.shards){return}const shards=data.shards;$scope.totalCount=shards.length;$scope.showing=transformer(shards,data.nodes);$scope.labels=labels.node;if(shards.some(shard=>shard.state==="UNASSIGNED")){$scope.labels=labels.indexWithUnassigned}else{$scope.labels=labels.index}this.renderReact(external_kbnSharedDeps_React_default.a.createElement(setup_mode_SetupModeRenderer,{scope:$scope,injector:$injector,productName:constants["H"],render:({setupMode:setupMode,flyoutComponent:flyoutComponent,bottomBarComponent:bottomBarComponent})=>external_kbnSharedDeps_React_default.a.createElement(SetupModeContext.Provider,{value:{setupModeSupported:true}},flyoutComponent,external_kbnSharedDeps_React_default.a.createElement(Index,elasticsearch_index_extends({scope:$scope,setupMode:setupMode,alerts:this.alerts,onBrush:this.onBrush,indexUuid:this.indexName,clusterUuid:$scope.cluster.cluster_uuid,zoomInfo:this.zoomInfo},data)),bottomBarComponent)}))})}}});var advanced='<monitoring-main\n  product="elasticsearch" name="indices"\n  instance="{{ monitoringElasticsearchAdvancedIndexApp.indexName }}"\n  resolver="{{ monitoringElasticsearchAdvancedIndexApp.indexName }}"\n  page="advanced"\n>\n  <div id="monitoringElasticsearchAdvancedIndexApp"></div>\n</monitoring-main>\n';function advanced_extends(){advanced_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return advanced_extends.apply(this,arguments)}const AdvancedIndex=({indexSummary:indexSummary,metrics:metrics,alerts:alerts,...props})=>{const metricsToShow=[metrics.index_1,metrics.index_2,metrics.index_3,metrics.index_4,metrics.index_total,metrics.index_time,metrics.index_refresh,metrics.index_throttling,metrics.index_disk,metrics.index_segment_count,metrics.index_latency];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(IndexDetailStatus,{stats:indexSummary,alerts:alerts})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(AlertsCallout,{alerts:alerts}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGrid"],{columns:2,gutterSize:"s"},metricsToShow.map((metric,index)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{key:index},external_kbnSharedDeps_React_default.a.createElement(MonitoringTimeseriesContainer,advanced_extends({series:metric},props)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null)))))))};function advanced_getPageData($injector){const globalState=$injector.get("globalState");const $route=$injector.get("$route");const url=`../api/monitoring/v1/clusters/${globalState.cluster_uuid}/elasticsearch/indices/${$route.current.params.index}`;const $http=$injector.get("$http");const timeBounds=Legacy.shims.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},is_advanced:true}).then(response=>response.data).catch(err=>{const Private=$injector.get("Private");const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}uiRoutes.when("/elasticsearch/indices/:index/advanced",{template:advanced,resolve:{clusters:function(Private){const routeInit=Private(routeInitProvider);return routeInit({codePaths:[constants["A"]]})},pageData:advanced_getPageData},controllerAs:"monitoringElasticsearchAdvancedIndexApp",controller:class extends base_controller_MonitoringViewBaseController{constructor($injector,$scope){const $route=$injector.get("$route");const indexName=$route.current.params.index;super({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.indices.advanced.routeTitle",{defaultMessage:"Elasticsearch - Indices - {indexName} - Advanced",values:{indexName:indexName}}),telemetryPageViewTitle:"elasticsearch_index_advanced",defaultData:{},getPageData:advanced_getPageData,reactNodeId:"monitoringElasticsearchAdvancedIndexApp",$scope:$scope,$injector:$injector,alerts:{shouldFetch:true,options:{alertTypeIds:[constants["h"]],filters:[{shardIndex:$route.current.pathParams.index}]}}});this.indexName=indexName;$scope.$watch(()=>this.data,data=>{this.renderReact(external_kbnSharedDeps_React_default.a.createElement(setup_mode_SetupModeRenderer,{scope:$scope,injector:$injector,productName:constants["H"],render:({setupMode:setupMode,flyoutComponent:flyoutComponent,bottomBarComponent:bottomBarComponent})=>external_kbnSharedDeps_React_default.a.createElement(SetupModeContext.Provider,{value:{setupModeSupported:true}},flyoutComponent,external_kbnSharedDeps_React_default.a.createElement(AdvancedIndex,{scope:$scope,setupMode:setupMode,alerts:this.alerts,indexSummary:data.indexSummary,metrics:data.metrics,onBrush:this.onBrush,zoomInfo:this.zoomInfo}),bottomBarComponent)}))})}}});var elasticsearch_nodes='<monitoring-main\n  product="elasticsearch"\n  name="nodes"\n  is-ccr-enabled="{{ elasticsearchNodes.isCcrEnabled }}"\n  data-test-subj="elasticsearchNodesListingPage"\n>\n  <div id="elasticsearchNodesReact"></div>\n</monitoring-main>\n';function nodes_extends(){nodes_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return nodes_extends.apply(this,arguments)}uiRoutes.when("/elasticsearch/nodes",{template:elasticsearch_nodes,resolve:{clusters(Private){const routeInit=Private(routeInitProvider);return routeInit({codePaths:[constants["A"]]})}},controllerAs:"elasticsearchNodes",controller:class ElasticsearchNodesController extends base_eui_table_controller_MonitoringViewBaseEuiTableController{constructor($injector,$scope){const $route=$injector.get("$route");const globalState=$injector.get("globalState");const showCgroupMetricsElasticsearch=$injector.get("showCgroupMetricsElasticsearch");$scope.cluster=Object(external_kbnSharedDeps_Lodash_["find"])($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid})||{};const getPageData=($injector,_api=undefined,routeOptions={})=>{_api;const $http=$injector.get("$http");const globalState=$injector.get("globalState");const timeBounds=Legacy.shims.timefilter.getBounds();const getNodes=(clusterUuid=globalState.cluster_uuid)=>$http.post(`../api/monitoring/v1/clusters/${clusterUuid}/elasticsearch/nodes`,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},...routeOptions});const promise=globalState.cluster_uuid?getNodes():new Promise(resolve=>resolve({data:{}}));return promise.then(response=>response.data).catch(err=>{const Private=$injector.get("Private");const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})};super({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodes.routeTitle",{defaultMessage:"Elasticsearch - Nodes"}),pageTitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodes.pageTitle",{defaultMessage:"Elasticsearch nodes"}),storageKey:"elasticsearch.nodes",reactNodeId:"elasticsearchNodesReact",defaultData:{},getPageData:getPageData,$scope:$scope,$injector:$injector,fetchDataImmediately:false,alerts:{shouldFetch:true,options:{alertTypeIds:[constants["c"],constants["e"],constants["p"],constants["q"],constants["k"],constants["l"]]}}});this.isCcrEnabled=$scope.cluster.isCcrEnabled;$scope.$watch(()=>this.data,data=>{if(!data){return}const{clusterStatus:clusterStatus,nodes:nodes,totalNodeCount:totalNodeCount}=data;const pagination={...this.pagination,totalItemCount:totalNodeCount};this.renderReact(external_kbnSharedDeps_React_default.a.createElement(setup_mode_SetupModeRenderer,{scope:$scope,injector:$injector,productName:constants["H"],render:({setupMode:setupMode,flyoutComponent:flyoutComponent,bottomBarComponent:bottomBarComponent})=>external_kbnSharedDeps_React_default.a.createElement(SetupModeContext.Provider,{value:{setupModeSupported:true}},flyoutComponent,external_kbnSharedDeps_React_default.a.createElement(ElasticsearchNodes,nodes_extends({clusterStatus:clusterStatus,clusterUuid:globalState.cluster_uuid,setupMode:setupMode,nodes:nodes,alerts:this.alerts,showCgroupMetricsElasticsearch:showCgroupMetricsElasticsearch},this.getPaginationTableProps(pagination))),bottomBarComponent)}))})}}});function node_get_page_data_getPageData($injector){const $http=$injector.get("$http");const globalState=$injector.get("globalState");const $route=$injector.get("$route");const url=`../api/monitoring/v1/clusters/${globalState.cluster_uuid}/elasticsearch/nodes/${$route.current.params.node}`;const features=$injector.get("features");const showSystemIndices=features.isEnabled("showSystemIndices",false);const timeBounds=Legacy.shims.timefilter.getBounds();return $http.post(url,{showSystemIndices:showSystemIndices,ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},is_advanced:false}).then(response=>response.data).catch(err=>{const Private=$injector.get("Private");const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}var elasticsearch_node='<monitoring-main\n  product="elasticsearch"\n  name="nodes"\n  instance="{{ monitoringElasticsearchNodeApp.data.nodeSummary.name }}"\n  resolver="{{ monitoringElasticsearchNodeApp.data.nodeSummary.resolver }}"\n  page="overview"\n  tab-icon-class="{{ monitoringElasticsearchNodeApp.data.nodeSummary.nodeTypeClass }}"\n  tab-icon-class="{{ monitoringElasticsearchNodeApp.data.nodeSummary.nodeTypeLabel }}"\n>\n  <div id="monitoringElasticsearchNodeApp"></div>\n</monitoring-main>\n';function NodeStatusIcon({isOnline:isOnline,status:status}){const type=isOnline?StatusIcon.TYPES.GREEN:StatusIcon.TYPES.GRAY;return external_kbnSharedDeps_React_default.a.createElement(StatusIcon,{type:type,label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.node.statusIconLabel",{defaultMessage:"Status: {status}",values:{status:status}})})}function NodeDetailStatus({stats:stats,alerts:alerts={}}){const{transport_address:transportAddress,usedHeap:usedHeap,freeSpace:freeSpace,totalSpace:totalSpace,documents:documents,dataSize:dataSize,indexCount:indexCount,totalShards:totalShards,nodeTypeLabel:nodeTypeLabel,status:status,isOnline:isOnline}=stats;const percentSpaceUsed=freeSpace/totalSpace*100;const metrics=[{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodeDetailStatus.alerts",{defaultMessage:"Alerts"}),value:external_kbnSharedDeps_React_default.a.createElement(AlertsStatus,{alerts:alerts,showOnlyCount:true})},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodeDetailStatus.transportAddress",{defaultMessage:"Transport Address"}),value:transportAddress,"data-test-subj":"transportAddress"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodeDetailStatus.jvmHeapLabel",{defaultMessage:"{javaVirtualMachine} Heap",values:{javaVirtualMachine:"JVM"}}),value:formatMetric(usedHeap,"0,0.[00]","%",{prependSpace:false}),"data-test-subj":"jvmHeap"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodeDetailStatus.freeDiskSpaceLabel",{defaultMessage:"Free Disk Space"}),value:formatMetric(freeSpace,"0.0 b")+" ("+formatMetric(percentSpaceUsed,"0,0.[00]","%",{prependSpace:false})+")","data-test-subj":"freeDiskSpace"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodeDetailStatus.documentsLabel",{defaultMessage:"Documents"}),value:formatMetric(documents,"0.[0]a"),"data-test-subj":"documentCount"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodeDetailStatus.dataLabel",{defaultMessage:"Data"}),value:formatMetric(dataSize,"0.0 b"),"data-test-subj":"dataSize"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodeDetailStatus.indicesLabel",{defaultMessage:"Indices"}),value:formatMetric(indexCount,"int_commas"),"data-test-subj":"indicesCount"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodeDetailStatus.shardsLabel",{defaultMessage:"Shards"}),value:formatMetric(totalShards,"int_commas"),"data-test-subj":"shardsCount"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.nodeDetailStatus.typeLabel",{defaultMessage:"Type"}),value:nodeTypeLabel,"data-test-subj":"nodeType"}];const IconComponent=({status:status,isOnline:isOnline})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(NodeStatusIcon,{status:status,isOnline:isOnline}));return external_kbnSharedDeps_React_default.a.createElement(SummaryStatus,{metrics:metrics,status:status,isOnline:isOnline,IconComponent:IconComponent,"data-test-subj":"elasticsearchNodeDetailStatus"})}function node_extends(){node_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return node_extends.apply(this,arguments)}const Node=({nodeSummary:nodeSummary,metrics:metrics,logs:logs,alerts:alerts,nodeId:nodeId,clusterUuid:clusterUuid,scope:scope,...props})=>{if(alerts){for(const alertTypeId of Object.keys(alerts)){const alertInstance=alerts[alertTypeId];for(const{meta:meta}of alertInstance.states){const metricList=Object(external_kbnSharedDeps_Lodash_["get"])(meta,"metrics",[]);for(const metric of metricList){if(metrics[metric]){metrics[metric].alerts=metrics[metric].alerts||{};metrics[metric].alerts[alertTypeId]=alertInstance}}}}}const metricsToShow=[metrics.node_jvm_mem,metrics.node_mem,metrics.node_total_io,metrics.node_cpu_metric,metrics.node_load_average,metrics.node_latency,metrics.node_segment_count];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(NodeDetailStatus,{stats:nodeSummary,alerts:alerts})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(AlertsCallout,{alerts:alerts}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGrid"],{columns:2,gutterSize:"s"},metricsToShow.map((metric,index)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{key:index},external_kbnSharedDeps_React_default.a.createElement(MonitoringTimeseriesContainer,node_extends({series:metric},props)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(logs_Logs,{logs:logs,nodeId:nodeId,clusterUuid:clusterUuid})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(ShardAllocation,{scope:scope}))))};function hasPrimaryChildren(item){return Object(external_kbnSharedDeps_Lodash_["some"])(item.children,{primary:true})}function nodesByIndices(){return function nodesByIndicesFn(shards,nodes){const getNodeType=function(node){const attrs=node.attributes||{};return attrs.master==="true"?"master":"normal"};function createNode(obj,node,id){node.type="node";node.children=[];const nodeType=getNodeType(node);if(nodeType==="normal"||nodeType==="data"){obj[id]=node}return obj}function createIndexAddShard(obj,shard){const node=shard.node||"unassigned";const index=shard.index;if(!obj[node]){createNode(obj,nodes[node],node)}let indexObj=Object(external_kbnSharedDeps_Lodash_["find"])(obj[node].children,{id:index});if(!indexObj){indexObj={id:index,name:index,type:"index",children:[]};obj[node].children.push(indexObj)}indexObj.children.push(shard);return obj}function isUnassigned(shard){return shard.state==="UNASSIGNED"}let data={};if(Object(external_kbnSharedDeps_Lodash_["some"])(shards,isUnassigned)){data.unassigned={name:"Unassigned",master:false,type:"node",children:[]}}data=Object(external_kbnSharedDeps_Lodash_["reduce"])(decorateShards(shards,nodes),createIndexAddShard,data);const dataValues=Object(external_kbnSharedDeps_Lodash_["values"])(data);return Object(external_kbnSharedDeps_Lodash_["sortBy"])(dataValues,(function(node){return[node.name!=="Unassigned",!node.master,node.name]})).map((function(node){if(node.name==="Unassigned"){node.unassignedPrimaries=node.children.some(hasPrimaryChildren)}return node}))}}function elasticsearch_node_extends(){elasticsearch_node_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return elasticsearch_node_extends.apply(this,arguments)}uiRoutes.when("/elasticsearch/nodes/:node",{template:elasticsearch_node,resolve:{clusters:function(Private){const routeInit=Private(routeInitProvider);return routeInit({codePaths:[constants["A"]]})},pageData:node_get_page_data_getPageData},controllerAs:"monitoringElasticsearchNodeApp",controller:class extends base_controller_MonitoringViewBaseController{constructor($injector,$scope){const $route=$injector.get("$route");const nodeName=$route.current.params.node;super({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.node.overview.routeTitle",{defaultMessage:"Elasticsearch - Nodes - {nodeName} - Overview",values:{nodeName:nodeName}}),telemetryPageViewTitle:"elasticsearch_node",defaultData:{},getPageData:node_get_page_data_getPageData,reactNodeId:"monitoringElasticsearchNodeApp",$scope:$scope,$injector:$injector,alerts:{shouldFetch:true,options:{alertTypeIds:[constants["c"],constants["e"],constants["p"],constants["q"],constants["k"],constants["l"]],filters:[{nodeUuid:nodeName}]}}});this.nodeName=nodeName;const features=$injector.get("features");const callPageData=Object(external_kbnSharedDeps_Lodash_["partial"])(node_get_page_data_getPageData,$injector);$scope.showSystemIndices=features.isEnabled("showSystemIndices",false);$scope.toggleShowSystemIndices=isChecked=>{$scope.showSystemIndices=isChecked;features.update("showSystemIndices",isChecked);callPageData().then(data=>this.data=data)};const transformer=nodesByIndices();$scope.$watch(()=>this.data,data=>{if(!data||!data.shards){return}this.setTitle(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.node.overview.routeTitle",{defaultMessage:"Elasticsearch - Nodes - {nodeName} - Overview",values:{nodeName:Object(external_kbnSharedDeps_Lodash_["get"])(data,"nodeSummary.name")}}));this.setPageTitle(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.node.overview.pageTitle",{defaultMessage:"Elasticsearch node: {node}",values:{node:Object(external_kbnSharedDeps_Lodash_["get"])(data,"nodeSummary.name")}}));const shards=data.shards;$scope.totalCount=shards.length;$scope.showing=transformer(shards,data.nodes);$scope.labels=labels.node;this.renderReact(external_kbnSharedDeps_React_default.a.createElement(setup_mode_SetupModeRenderer,{scope:$scope,injector:$injector,productName:constants["H"],render:({setupMode:setupMode,flyoutComponent:flyoutComponent,bottomBarComponent:bottomBarComponent})=>external_kbnSharedDeps_React_default.a.createElement(SetupModeContext.Provider,{value:{setupModeSupported:true}},flyoutComponent,external_kbnSharedDeps_React_default.a.createElement(Node,elasticsearch_node_extends({scope:$scope,setupMode:setupMode,alerts:this.alerts,nodeId:this.nodeName,clusterUuid:$scope.cluster.cluster_uuid,onBrush:this.onBrush,zoomInfo:this.zoomInfo},data)),bottomBarComponent)}))})}}});var node_advanced='<monitoring-main\n  product="elasticsearch"\n  name="nodes"\n  instance="{{ pageData.nodeSummary.name }}"\n  resolver="{{ pageData.nodeSummary.resolver }}"\n  page="advanced"\n  tab-icon-class="{{ pageData.nodeSummary.nodeTypeClass }}"\n  tab-icon-class="{{ pageData.nodeSummary.nodeTypeLabel }}"\n>\n  <div id="monitoringElasticsearchAdvancedNodeApp"></div>\n</monitoring-main>\n';function node_advanced_extends(){node_advanced_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return node_advanced_extends.apply(this,arguments)}const AdvancedNode=({nodeSummary:nodeSummary,metrics:metrics,alerts:alerts,...props})=>{const metricsToShow=[metrics.node_gc,metrics.node_gc_time,metrics.node_jvm_mem,metrics.node_cpu_utilization,metrics.node_index_1,metrics.node_index_2,metrics.node_index_3,metrics.node_index_4,metrics.node_index_time,metrics.node_request_total,metrics.node_index_threads,metrics.node_read_threads,metrics.node_cgroup_cpu,metrics.node_cgroup_stats,metrics.node_latency];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(NodeDetailStatus,{stats:nodeSummary,alerts:alerts})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(AlertsCallout,{alerts:alerts}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGrid"],{columns:2,gutterSize:"s"},metricsToShow.map((metric,index)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{key:index},external_kbnSharedDeps_React_default.a.createElement(MonitoringTimeseriesContainer,node_advanced_extends({series:metric},props)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null)))))))};function node_advanced_getPageData($injector){const $http=$injector.get("$http");const globalState=$injector.get("globalState");const $route=$injector.get("$route");const timeBounds=Legacy.shims.timefilter.getBounds();const url=`../api/monitoring/v1/clusters/${globalState.cluster_uuid}/elasticsearch/nodes/${$route.current.params.node}`;return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},is_advanced:true}).then(response=>response.data).catch(err=>{const Private=$injector.get("Private");const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}uiRoutes.when("/elasticsearch/nodes/:node/advanced",{template:node_advanced,resolve:{clusters:function(Private){const routeInit=Private(routeInitProvider);return routeInit({codePaths:[constants["A"]]})},pageData:node_advanced_getPageData},controller:class extends base_controller_MonitoringViewBaseController{constructor($injector,$scope){const $route=$injector.get("$route");const nodeName=$route.current.params.node;super({defaultData:{},getPageData:node_advanced_getPageData,reactNodeId:"monitoringElasticsearchAdvancedNodeApp",telemetryPageViewTitle:"elasticsearch_node_advanced",$scope:$scope,$injector:$injector,alerts:{shouldFetch:true,options:{alertTypeIds:[constants["c"],constants["e"],constants["p"],constants["q"],constants["k"],constants["l"]],filters:[{nodeUuid:nodeName}]}}});$scope.$watch(()=>this.data,data=>{if(!data||!data.nodeSummary){return}this.setTitle(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.node.advanced.routeTitle",{defaultMessage:"Elasticsearch - Nodes - {nodeSummaryName} - Advanced",values:{nodeSummaryName:Object(external_kbnSharedDeps_Lodash_["get"])(data,"nodeSummary.name")}}));this.setPageTitle(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.node.overview.pageTitle",{defaultMessage:"Elasticsearch node: {node}",values:{node:Object(external_kbnSharedDeps_Lodash_["get"])(data,"nodeSummary.name")}}));this.renderReact(external_kbnSharedDeps_React_default.a.createElement(AdvancedNode,{nodeSummary:data.nodeSummary,alerts:this.alerts,nodeId:data.nodeSummary.resolver,metrics:data.metrics,onBrush:this.onBrush,zoomInfo:this.zoomInfo}))})}}});function ccr_get_page_data_getPageData($injector){const $http=$injector.get("$http");const globalState=$injector.get("globalState");const timeBounds=Legacy.shims.timefilter.getBounds();const url=`../api/monitoring/v1/clusters/${globalState.cluster_uuid}/elasticsearch/ccr`;return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(response=>response.data).catch(err=>{const Private=$injector.get("Private");const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}var ccr='<monitoring-main\n  product="elasticsearch"\n  name="ccr"\n  data-test-subj="elasticsearchCcrListingPage"\n>\n  <div id="elasticsearchCcrReact"></div>\n</monitoring-main>\n';var ccr_ccr=__webpack_require__(182);function toSeconds(ms){return Math.floor(ms/1e3)+"s"}const Ccr=props=>{const[itemIdToExpandedRowMap,setItemIdToExpandedRowMap]=Object(external_kbnSharedDeps_React_["useState"])({});const toggleShards=(index,shards)=>{const itemIdToExpandedRowMapValues={...itemIdToExpandedRowMap};if(itemIdToExpandedRowMapValues[index]){delete itemIdToExpandedRowMapValues[index]}else{let pagination={initialPageSize:5,pageSizeOptions:[5,10,20]};if(shards.length<=pagination.initialPageSize){pagination=false}itemIdToExpandedRowMapValues[index]=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiInMemoryTable"],{items:shards,columns:[{field:"shardId",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.ccr.shardsTable.shardColumnTitle",{defaultMessage:"Shard"}),render:shardId=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:getSafeForExternalLink(`#/elasticsearch/ccr/${index}/shard/${shardId}`)},shardId)},{render:()=>null},{field:"alerts",sortable:true,name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.ccr.shardsTable.alertsColumnTitle",{defaultMessage:"Alerts"}),render:(_field,item)=>external_kbnSharedDeps_React_default.a.createElement(AlertsStatus,{showBadge:true,alerts:props.alerts,stateFilter:state=>state.meta.shardId===item.shardId})},{field:"syncLagOps",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.ccr.shardsTable.syncLagOpsColumnTitle",{defaultMessage:"Sync Lag (ops)"}),render:(syncLagOps,data)=>external_kbnSharedDeps_React_default.a.createElement("span",null,syncLagOps,"  ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIconTip"],{size:"m",type:"iInCircle",content:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement("span",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.elasticsearch.ccr.shardsTable.syncLagOpsColumn.leaderLagTooltip",defaultMessage:"Leader lag: {syncLagOpsLeader}",values:{syncLagOpsLeader:data.syncLagOpsLeader}})),external_kbnSharedDeps_React_default.a.createElement("br",null),external_kbnSharedDeps_React_default.a.createElement("span",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.elasticsearch.ccr.shardsTable.syncLagOpsColumn.followerLagTooltip",defaultMessage:"Follower lag: {syncLagOpsFollower}",values:{syncLagOpsFollower:data.syncLagOpsFollower}}))),position:"right"}))},{field:"syncLagTime",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.ccr.shardsTable.lastFetchTimeColumnTitle",{defaultMessage:"Last fetch time"}),render:syncLagTime=>external_kbnSharedDeps_React_default.a.createElement("span",null,toSeconds(syncLagTime))},{field:"opsSynced",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.ccr.shardsTable.opsSyncedColumnTitle",{defaultMessage:"Ops synced"})},{field:"error",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.ccr.shardsTable.errorColumnTitle",{defaultMessage:"Error"}),render:error=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"danger"},error)}],executeQueryOptions:{defaultFields:["shardId"]},sorting:true,pagination:pagination})}setItemIdToExpandedRowMap(itemIdToExpandedRowMapValues)};const renderTable=()=>{const{data:data,alerts:alerts}=props;const items=data;let pagination={initialPageSize:5,pageSizeOptions:[5,10,20]};if(items.length<=pagination.initialPageSize){pagination=false}const sorting={sort:{field:"index",direction:"asc"}};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiInMemoryTable"],{className:"monitoringElasticsearchCcrListingTable",columns:[{field:"index",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.ccr.ccrListingTable.indexColumnTitle",{defaultMessage:"Index"}),sortable:true,render:(index,{shards:shards})=>{const expanded=!!itemIdToExpandedRowMap[index];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{onClick:()=>toggleShards(index,shards)},index," ",expanded?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"arrowUp"}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"arrowDown"}))}},{field:"follows",sortable:true,name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.ccr.ccrListingTable.followsColumnTitle",{defaultMessage:"Follows"})},{field:"alerts",sortable:true,name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.ccr.ccrListingTable.alertsColumnTitle",{defaultMessage:"Alerts"}),render:(_field,item)=>external_kbnSharedDeps_React_default.a.createElement(AlertsStatus,{showBadge:true,alerts:alerts,stateFilter:state=>state.meta.followerIndex===item.index})},{field:"syncLagOps",sortable:true,name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.ccr.ccrListingTable.syncLagOpsColumnTitle",{defaultMessage:"Sync Lag (ops)"})},{field:"syncLagTime",sortable:true,name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.ccr.ccrListingTable.lastFetchTimeColumnTitle",{defaultMessage:"Last fetch time"}),render:syncLagTime=>external_kbnSharedDeps_React_default.a.createElement("span",null,toSeconds(syncLagTime))},{field:"opsSynced",sortable:true,name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.ccr.ccrListingTable.opsSyncedColumnTitle",{defaultMessage:"Ops synced"})},{field:"error",sortable:true,name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.ccr.ccrListingTable.errorColumnTitle",{defaultMessage:"Error"}),render:error=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"danger"},error)}],items:items,pagination:pagination,executeQueryOptions:{defaultFields:["index","follows"]},sorting:sorting,itemId:"id",itemIdToExpandedRowMap:itemIdToExpandedRowMap})};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiScreenReaderOnly"],null,external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.elasticsearch.ccr.heading",defaultMessage:"CCR"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContentBody"],null,renderTable()))))};uiRoutes.when("/elasticsearch/ccr",{template:ccr,resolve:{clusters:function(Private){const routeInit=Private(routeInitProvider);return routeInit({codePaths:[constants["A"]]})},pageData:ccr_get_page_data_getPageData},controllerAs:"elasticsearchCcr",controller:class ElasticsearchCcrController extends base_controller_MonitoringViewBaseController{constructor($injector,$scope){super({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.ccr.routeTitle",{defaultMessage:"Elasticsearch - Ccr"}),pageTitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.ccr.pageTitle",{defaultMessage:"Elasticsearch Ccr"}),reactNodeId:"elasticsearchCcrReact",getPageData:ccr_get_page_data_getPageData,$scope:$scope,$injector:$injector,alerts:{shouldFetch:true,options:{alertTypeIds:[constants["a"]]}}});$scope.$watch(()=>this.data,data=>{if(!data){return}this.renderReact(external_kbnSharedDeps_React_default.a.createElement(setup_mode_SetupModeRenderer,{scope:$scope,injector:$injector,productName:constants["H"],render:({flyoutComponent:flyoutComponent,bottomBarComponent:bottomBarComponent})=>external_kbnSharedDeps_React_default.a.createElement(SetupModeContext.Provider,{value:{setupModeSupported:true}},flyoutComponent,external_kbnSharedDeps_React_default.a.createElement(Ccr,{data:data.data,alerts:this.alerts}),bottomBarComponent)}))})}}});function shard_get_page_data_getPageData($injector){const $http=$injector.get("$http");const $route=$injector.get("$route");const globalState=$injector.get("globalState");const timeBounds=Legacy.shims.timefilter.getBounds();const url=`../api/monitoring/v1/clusters/${globalState.cluster_uuid}/elasticsearch/ccr/${$route.current.params.index}/shard/${$route.current.params.shardId}`;return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(response=>response.data).catch(err=>{const Private=$injector.get("Private");const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}var ccr_shard='<monitoring-main\n  product="elasticsearch"\n  name="ccr_shard"\n  instance="{{ instance }}"\n  data-test-subj="elasticsearchCcrShardPage"\n>\n  <div id="elasticsearchCcrShardReact"></div>\n</monitoring-main>\n';function status_Status({stat:stat,formattedLeader:formattedLeader,oldestStat:oldestStat,alerts:alerts={}}){const{follower_index:followerIndex,shard_id:shardId,operations_written:operationsReceived,failed_read_requests:failedFetches}=stat;const{operations_written:oldestOperationsReceived,failed_read_requests:oldestFailedFetches}=oldestStat;const metrics=[{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.ccrShard.status.alerts",{defaultMessage:"Alerts"}),value:external_kbnSharedDeps_React_default.a.createElement(AlertsStatus,{alerts:alerts,showOnlyCount:true})},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.ccrShard.status.followerIndexLabel",{defaultMessage:"Follower Index"}),value:followerIndex,"data-test-subj":"followerIndex"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.ccrShard.status.shardIdLabel",{defaultMessage:"Shard Id"}),value:shardId,"data-test-subj":"shardId"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.ccrShard.status.leaderIndexLabel",{defaultMessage:"Leader Index"}),value:formattedLeader,"data-test-subj":"leaderIndex"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.ccrShard.status.opsSyncedLabel",{defaultMessage:"Ops Synced"}),value:formatMetric(operationsReceived-oldestOperationsReceived,"int_commas"),"data-test-subj":"operationsReceived"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.ccrShard.status.failedFetchesLabel",{defaultMessage:"Failed Fetches"}),value:formatMetric(failedFetches-oldestFailedFetches,"int_commas"),"data-test-subj":"failedFetches"}];return external_kbnSharedDeps_React_default.a.createElement(SummaryStatus,{metrics:metrics,"data-test-subj":"ccrDetailStatus"})}class ccr_shard_CcrShard extends external_kbnSharedDeps_React_["PureComponent"]{renderCharts(){const{metrics:metrics}=this.props;const seriesToShow=[metrics.ccr_sync_lag_ops,metrics.ccr_sync_lag_time];const charts=seriesToShow.map((data,index)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{style:{minWidth:"45%"},key:index},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(MonitoringTimeseriesContainer,{series:data}))));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,charts)}renderErrors(){const{stat:stat}=this.props;if(stat.read_exceptions&&stat.read_exceptions.length>0){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s",color:"danger"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"danger"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.elasticsearch.ccrShard.errorsTableTitle",defaultMessage:"Errors"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBasicTable"],{items:stat.read_exceptions,columns:[{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.ccrShard.errorsTable.typeColumnTitle",{defaultMessage:"Type"}),field:"exception.type"},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.ccrShard.errorsTable.reasonColumnTitle",{defaultMessage:"Reason"}),field:"exception.reason",width:"75%"}]})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],null))}return null}renderLatestStat(){const{stat:stat,timestamp:timestamp}=this.props;const injector=Legacy.shims.getAngularInjector();const timezone=injector.get("config").get("dateFormat:tz");return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiAccordion"],{id:"ccrLatestStat",buttonContent:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],null,external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.elasticsearch.ccrShard.latestStateAdvancedButtonLabel",defaultMessage:"Advanced"}))),paddingSize:"l"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h2",null,formatDateTimeLocal(timestamp,timezone))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],{language:"json"},JSON.stringify(stat,null,2))))}render(){const{stat:stat,oldestStat:oldestStat,formattedLeader:formattedLeader,alerts:alerts}=this.props;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],{style:{backgroundColor:"white"}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(status_Status,{stat:stat,formattedLeader:formattedLeader,oldestStat:oldestStat,alerts:alerts})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(AlertsCallout,{alerts:alerts}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),this.renderErrors(),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{wrap:true},this.renderCharts()),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],null),this.renderLatestStat()))}}function shard_extends(){shard_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return shard_extends.apply(this,arguments)}uiRoutes.when("/elasticsearch/ccr/:index/shard/:shardId",{template:ccr_shard,resolve:{clusters:function(Private){const routeInit=Private(routeInitProvider);return routeInit({codePaths:[constants["A"]]})},pageData:shard_get_page_data_getPageData},controllerAs:"elasticsearchCcr",controller:class ElasticsearchCcrController extends base_controller_MonitoringViewBaseController{constructor($injector,$scope,pageData){const $route=$injector.get("$route");super({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.ccr.shard.routeTitle",{defaultMessage:"Elasticsearch - Ccr - Shard"}),reactNodeId:"elasticsearchCcrShardReact",getPageData:shard_get_page_data_getPageData,$scope:$scope,$injector:$injector,alerts:{shouldFetch:true,options:{alertTypeIds:[constants["a"]],filters:[{shardId:$route.current.pathParams.shardId}]}}});$scope.instance=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.ccr.shard.instanceTitle",{defaultMessage:"Index: {followerIndex} Shard: {shardId}",values:{followerIndex:Object(external_kbnSharedDeps_Lodash_["get"])(pageData,"stat.follower_index"),shardId:Object(external_kbnSharedDeps_Lodash_["get"])(pageData,"stat.shard_id")}});$scope.$watch(()=>this.data,data=>{if(!data){return}this.setPageTitle(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.ccr.shard.pageTitle",{defaultMessage:"Elasticsearch Ccr Shard - Index: {followerIndex} Shard: {shardId}",values:{followerIndex:Object(external_kbnSharedDeps_Lodash_["get"])(pageData,"stat.follower_index"),shardId:Object(external_kbnSharedDeps_Lodash_["get"])(pageData,"stat.shard_id")}}));this.renderReact(external_kbnSharedDeps_React_default.a.createElement(setup_mode_SetupModeRenderer,{scope:$scope,injector:$injector,productName:constants["H"],render:({flyoutComponent:flyoutComponent,bottomBarComponent:bottomBarComponent})=>external_kbnSharedDeps_React_default.a.createElement(SetupModeContext.Provider,{value:{setupModeSupported:true}},flyoutComponent,external_kbnSharedDeps_React_default.a.createElement(ccr_shard_CcrShard,shard_extends({},data,{alerts:this.alerts})),bottomBarComponent)}))})}}});function ml_jobs_get_page_data_getPageData($injector){const $http=$injector.get("$http");const globalState=$injector.get("globalState");const url=`../api/monitoring/v1/clusters/${globalState.cluster_uuid}/elasticsearch/ml_jobs`;const timeBounds=Legacy.shims.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(response=>response.data).catch(err=>{const Private=$injector.get("Private");const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}var ml_jobs='<monitoring-main product="elasticsearch" name="ml" is-ccr-enabled="{{ mlJobs.isCcrEnabled }}">\n  <monitoring-ml-listing\n    paginationSettings="mlJobs.pagination"\n    sorting="mlJobs.sorting"\n    on-table-change="mlJobs.onTableChange"\n    jobs="mlJobs.data.rows"\n    status="mlJobs.data.clusterStatus"\n  ></monitoring-ml-listing>\n</monitoring-main>\n';uiRoutes.when("/elasticsearch/ml_jobs",{template:ml_jobs,resolve:{clusters:function(Private){const routeInit=Private(routeInitProvider);return routeInit({codePaths:[constants["A"],constants["E"]]})},pageData:ml_jobs_get_page_data_getPageData},controllerAs:"mlJobs",controller:class MlJobsList extends base_eui_table_controller_MonitoringViewBaseEuiTableController{constructor($injector,$scope){super({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.mlJobs.routeTitle",{defaultMessage:"Elasticsearch - Machine Learning Jobs"}),pageTitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.mlJobs.pageTitle",{defaultMessage:"Elasticsearch machine learning jobs"}),storageKey:"elasticsearch.mlJobs",getPageData:ml_jobs_get_page_data_getPageData,$scope:$scope,$injector:$injector});const $route=$injector.get("$route");this.data=$route.current.locals.pageData;const globalState=$injector.get("globalState");$scope.cluster=Object(external_kbnSharedDeps_Lodash_["find"])($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});this.isCcrEnabled=Boolean($scope.cluster&&$scope.cluster.isCcrEnabled)}}});var kibana_overview='<monitoring-main\n  product="kibana"\n  name="overview"\n  data-test-subj="kibanaOverviewPage"\n>\n  <div id="monitoringKibanaOverviewApp"></div>\n</monitoring-main>\n';function KibanaStatusIcon({status:status,availability:availability=true}){const type=(()=>{if(!availability){return StatusIcon.TYPES.GRAY}const statusKey=status.toUpperCase();return StatusIcon.TYPES[statusKey]||StatusIcon.TYPES.YELLOW})();return external_kbnSharedDeps_React_default.a.createElement(StatusIcon,{type:type,label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.statusIconLabel",{defaultMessage:"Health: {status}",values:{status:status}})})}function cluster_status_ClusterStatus({stats:stats,alerts:alerts}){const{concurrent_connections:connections,count:instances,memory_limit:memLimit,memory_size:memSize,requests_total:requests,response_time_max:maxResponseTime,status:status}=stats;const metrics=[{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.clusterStatus.instancesLabel",{defaultMessage:"Instances"}),value:instances,"data-test-subj":"instances"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.clusterStatus.memoryLabel",{defaultMessage:"Memory"}),value:formatMetric(memSize,"byte")+" / "+formatMetric(memLimit,"byte"),"data-test-subj":"memory"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.clusterStatus.requestsLabel",{defaultMessage:"Requests"}),value:requests,"data-test-subj":"requests"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.clusterStatus.connectionsLabel",{defaultMessage:"Connections"}),value:connections,"data-test-subj":"connections"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.clusterStatus.maxResponseTimeLabel",{defaultMessage:"Max. Response Time"}),value:formatMetric(maxResponseTime,"0","ms"),"data-test-subj":"maxResponseTime"}];const IconComponent=({status:status})=>external_kbnSharedDeps_React_default.a.createElement(KibanaStatusIcon,{status:status});return external_kbnSharedDeps_React_default.a.createElement(SummaryStatus,{metrics:metrics,status:status,alerts:alerts,IconComponent:IconComponent,"data-test-subj":"kibanaClusterStatus"})}function overview_getPageData($injector){const $http=$injector.get("$http");const globalState=$injector.get("globalState");const url=`../api/monitoring/v1/clusters/${globalState.cluster_uuid}/kibana`;const timeBounds=Legacy.shims.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(response=>response.data).catch(err=>{const Private=$injector.get("Private");const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}uiRoutes.when("/kibana",{template:kibana_overview,resolve:{clusters:function(Private){const routeInit=Private(routeInitProvider);return routeInit({codePaths:[constants["B"]]})},pageData:overview_getPageData},controllerAs:"monitoringKibanaOverviewApp",controller:class extends base_controller_MonitoringViewBaseController{constructor($injector,$scope){super({title:`Kibana`,pageTitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.overview.pageTitle",{defaultMessage:"Kibana overview"}),defaultData:{},getPageData:overview_getPageData,reactNodeId:"monitoringKibanaOverviewApp",$scope:$scope,$injector:$injector});$scope.$watch(()=>this.data,data=>{if(!data||!data.clusterStatus){return}this.renderReact(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(cluster_status_ClusterStatus,{stats:data.clusterStatus})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:true},external_kbnSharedDeps_React_default.a.createElement(MonitoringTimeseriesContainer,{series:data.metrics.kibana_cluster_requests,onBrush:this.onBrush,zoomInfo:this.zoomInfo})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:true},external_kbnSharedDeps_React_default.a.createElement(MonitoringTimeseriesContainer,{series:data.metrics.kibana_cluster_response_times,onBrush:this.onBrush,zoomInfo:this.zoomInfo})))))))})}}});function instances_get_page_data_getPageData($injector){const $http=$injector.get("$http");const globalState=$injector.get("globalState");const url=`../api/monitoring/v1/clusters/${globalState.cluster_uuid}/kibana/instances`;const timeBounds=Legacy.shims.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(response=>response.data).catch(err=>{const Private=$injector.get("Private");const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}var kibana_instances='<monitoring-main\n  product="kibana"\n  name="kibanas"\n  data-test-subj="kibanaInstancesPage"\n>\n  <div id="monitoringKibanaInstancesApp"></div>\n</monitoring-main>\n';const instances_getColumns=(setupMode,alerts)=>{const columns=[{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.listing.nameColumnTitle",{defaultMessage:"Name"}),field:"name",render:(name,kibana)=>{let setupModeStatus=null;if(isSetupModeFeatureEnabled(enums["d"].MetricbeatMigration)){const list=Object(external_kbnSharedDeps_Lodash_["get"])(setupMode,"data.byUuid",{});const uuid=Object(external_kbnSharedDeps_Lodash_["get"])(kibana,"kibana.uuid");const status=list[uuid]||{};const instance={uuid:uuid,name:kibana.name};setupModeStatus=external_kbnSharedDeps_React_default.a.createElement("div",{className:"monTableCell__setupModeStatus"},external_kbnSharedDeps_React_default.a.createElement(SetupModeBadge,{setupMode:setupMode,status:status,instance:instance,productName:constants["N"]}));if(status.isNetNewUser){return external_kbnSharedDeps_React_default.a.createElement("div",null,name,setupModeStatus)}}return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:getSafeForExternalLink(`#/kibana/instances/${kibana.kibana.uuid}`),"data-test-subj":`kibanaLink-${name}`},name),setupModeStatus)}},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.listing.alertsColumnTitle",{defaultMessage:"Alerts"}),field:"isOnline",width:"175px",sortable:true,render:()=>external_kbnSharedDeps_React_default.a.createElement(AlertsStatus,{showBadge:true,alerts:alerts})},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.listing.statusColumnTitle",{defaultMessage:"Status"}),field:"status",render:(status,kibana)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:status,position:"bottom"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:kibana.availability?"success":"subdued","data-test-subj":"statusIcon"},Object(external_kbnSharedDeps_Lodash_["capitalize"])(status)))},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.listing.loadAverageColumnTitle",{defaultMessage:"Load Average"}),field:"os.load.1m",render:value=>external_kbnSharedDeps_React_default.a.createElement("span",null,formatMetric(value,"0.00"))},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.listing.memorySizeColumnTitle",{defaultMessage:"Memory Size"}),field:"process.memory.resident_set_size_in_bytes",render:value=>external_kbnSharedDeps_React_default.a.createElement("span",null,formatNumber(value,"byte"))},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.listing.requestsColumnTitle",{defaultMessage:"Requests"}),field:"requests.total",render:value=>external_kbnSharedDeps_React_default.a.createElement("span",null,formatNumber(value,"int_commas"))},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.listing.responseTimeColumnTitle",{defaultMessage:"Response Times"}),field:"response_times.average",render:(value,kibana)=>{var _kibana$response_time;if(!value){return null}return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement("div",{className:"monTableCell__splitNumber"},formatNumber(value,"int_commas")+" ms avg"),external_kbnSharedDeps_React_default.a.createElement("div",{className:"monTableCell__splitNumber"},formatNumber(kibana===null||kibana===void 0?void 0:(_kibana$response_time=kibana.response_times)===null||_kibana$response_time===void 0?void 0:_kibana$response_time.max,"int_commas")," ms max"))}}];return columns};const KibanaInstances=props=>{const{clusterStatus:clusterStatus,alerts:alerts,setupMode:setupMode,sorting:sorting,pagination:pagination,onTableChange:onTableChange}=props;let setupModeCallOut=null;const instances=props.instances||[];if(isSetupModeFeatureEnabled(enums["d"].MetricbeatMigration)){const instancesByUuid=instances.reduce((byUuid,instance)=>{var _instance$kibana$uuid,_instance$kibana;return{...byUuid,[(_instance$kibana$uuid=(_instance$kibana=instance.kibana)===null||_instance$kibana===void 0?void 0:_instance$kibana.uuid)!==null&&_instance$kibana$uuid!==void 0?_instance$kibana$uuid:""]:instance}},{});instances.push(...Object.entries(setupMode.data.byUuid).reduce((_instances,[nodeUuid,instance])=>{if(!instancesByUuid[nodeUuid]){_instances.push({kibana:{...instance.instance.kibana,status:StatusIcon.TYPES.GRAY}})}return _instances},[]));setupModeCallOut=external_kbnSharedDeps_React_default.a.createElement(ListingCallOut,{setupModeData:setupMode.data,useNodeIdentifier:false,productName:constants["N"],customRenderer:()=>{const customRenderResponse={shouldRender:false,componentToRender:null};const hasInstances=setupMode.data.totalUniqueInstanceCount>0;if(!hasInstances){customRenderResponse.shouldRender=true;customRenderResponse.componentToRender=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.instances.metricbeatMigration.detectedNodeTitle",{defaultMessage:"Kibana instance detected"}),color:"warning",iconType:"flag"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.instances.metricbeatMigration.detectedNodeDescription",{defaultMessage:`The following instances are not monitored.\n                        Click 'Monitor with Metricbeat' below to start monitoring.`}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}))}return customRenderResponse}})}const dataFlattened=instances.map(item=>{var _item$kibana,_item$kibana2;return{...item,name:(_item$kibana=item.kibana)===null||_item$kibana===void 0?void 0:_item$kibana.name,status:(_item$kibana2=item.kibana)===null||_item$kibana2===void 0?void 0:_item$kibana2.status}});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiScreenReaderOnly"],null,external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.kibana.instances.heading",defaultMessage:"Kibana instances"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(cluster_status_ClusterStatus,{stats:clusterStatus,alerts:alerts})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),setupModeCallOut,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,external_kbnSharedDeps_React_default.a.createElement(EuiMonitoringTable,{className:"kibanaInstancesTable",rows:dataFlattened,columns:instances_getColumns(setupMode,alerts),sorting:sorting,pagination:pagination,setupMode:setupMode,productName:constants["N"],search:{box:{incremental:true,placeholder:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.listing.filterInstancesPlaceholder",{defaultMessage:"Filter Instances…"})}},onTableChange:onTableChange,executeQueryOptions:{defaultFields:["name"]}}))))};uiRoutes.when("/kibana/instances",{template:kibana_instances,resolve:{clusters(Private){const routeInit=Private(routeInitProvider);return routeInit({codePaths:[constants["B"]]})},pageData:instances_get_page_data_getPageData},controllerAs:"kibanas",controller:class KibanaInstancesList extends base_eui_table_controller_MonitoringViewBaseEuiTableController{constructor($injector,$scope){super({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.instances.routeTitle",{defaultMessage:"Kibana - Instances"}),pageTitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.instances.pageTitle",{defaultMessage:"Kibana instances"}),storageKey:"kibana.instances",getPageData:instances_get_page_data_getPageData,reactNodeId:"monitoringKibanaInstancesApp",$scope:$scope,$injector:$injector,alerts:{shouldFetch:true,options:{alertTypeIds:[constants["g"]]}}});const renderReact=()=>{this.renderReact(external_kbnSharedDeps_React_default.a.createElement(setup_mode_SetupModeRenderer,{scope:$scope,injector:$injector,productName:constants["N"],render:({setupMode:setupMode,flyoutComponent:flyoutComponent,bottomBarComponent:bottomBarComponent})=>external_kbnSharedDeps_React_default.a.createElement(SetupModeContext.Provider,{value:{setupModeSupported:true}},flyoutComponent,external_kbnSharedDeps_React_default.a.createElement(KibanaInstances,{instances:this.data.kibanas,alerts:this.alerts,setupMode:setupMode,sorting:this.sorting,pagination:this.pagination,onTableChange:this.onTableChange,clusterStatus:this.data.clusterStatus}),bottomBarComponent)}))};this.onTableChangeRender=renderReact;$scope.$watch(()=>this.data,data=>{if(!data){return}renderReact()})}}});var kibana_instance='<monitoring-main\n  product="kibana"\n  name="kibana"\n  instance="{{ pageData.kibanaSummary.name }}"\n  data-test-subj="kibanaInstancePage"\n>\n  <div id="monitoringKibanaInstanceApp"></div>\n</monitoring-main>\n';function DetailStatus({stats:stats}){const{transport_address:transportAddress,os_memory_free:osFreeMemory,version:version,uptime:uptime,status:status}=stats;const metrics=[{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.detailStatus.transportAddressLabel",{defaultMessage:"Transport Address"}),value:transportAddress,"data-test-subj":"transportAddress"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.detailStatus.osFreeMemoryLabel",{defaultMessage:"OS Free Memory"}),value:formatMetric(osFreeMemory,"byte"),"data-test-subj":"osFreeMemory"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.detailStatus.versionLabel",{defaultMessage:"Version"}),value:version,"data-test-subj":"version"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.detailStatus.uptimeLabel",{defaultMessage:"Uptime"}),value:formatMetric(uptime,"time_since"),"data-test-subj":"uptime"}];const IconComponent=({status:status})=>external_kbnSharedDeps_React_default.a.createElement(KibanaStatusIcon,{status:status});return external_kbnSharedDeps_React_default.a.createElement(SummaryStatus,{metrics:metrics,status:status,IconComponent:IconComponent,"data-test-subj":"kibanaDetailStatus"})}function instance_getPageData($injector){const $http=$injector.get("$http");const globalState=$injector.get("globalState");const $route=$injector.get("$route");const url=`../api/monitoring/v1/clusters/${globalState.cluster_uuid}/kibana/${$route.current.params.uuid}`;const timeBounds=Legacy.shims.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(response=>response.data).catch(err=>{const Private=$injector.get("Private");const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}uiRoutes.when("/kibana/instances/:uuid",{template:kibana_instance,resolve:{clusters(Private){const routeInit=Private(routeInitProvider);return routeInit({codePaths:[constants["B"]]})},pageData:instance_getPageData},controllerAs:"monitoringKibanaInstanceApp",controller:class extends base_controller_MonitoringViewBaseController{constructor($injector,$scope){super({title:`Kibana - ${Object(external_kbnSharedDeps_Lodash_["get"])($scope.pageData,"kibanaSummary.name")}`,telemetryPageViewTitle:"kibana_instance",defaultData:{},getPageData:instance_getPageData,reactNodeId:"monitoringKibanaInstanceApp",$scope:$scope,$injector:$injector,alerts:{shouldFetch:true,options:{alertTypeIds:[constants["g"]]}}});$scope.$watch(()=>this.data,data=>{if(!data||!data.metrics){return}this.setTitle(`Kibana - ${Object(external_kbnSharedDeps_Lodash_["get"])(data,"kibanaSummary.name")}`);this.setPageTitle(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.kibana.instance.pageTitle",{defaultMessage:"Kibana instance: {instance}",values:{instance:Object(external_kbnSharedDeps_Lodash_["get"])($scope.pageData,"kibanaSummary.name")}}));this.renderReact(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(DetailStatus,{stats:data.kibanaSummary})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(AlertsCallout,{alerts:this.alerts}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGrid"],{columns:2,gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:true},external_kbnSharedDeps_React_default.a.createElement(MonitoringTimeseriesContainer,{series:data.metrics.kibana_requests,onBrush:this.onBrush,zoomInfo:this.zoomInfo}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:true},external_kbnSharedDeps_React_default.a.createElement(MonitoringTimeseriesContainer,{series:data.metrics.kibana_response_times,onBrush:this.onBrush,zoomInfo:this.zoomInfo}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:true},external_kbnSharedDeps_React_default.a.createElement(MonitoringTimeseriesContainer,{series:data.metrics.kibana_memory,onBrush:this.onBrush,zoomInfo:this.zoomInfo}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:true},external_kbnSharedDeps_React_default.a.createElement(MonitoringTimeseriesContainer,{series:data.metrics.kibana_average_concurrent_connections,onBrush:this.onBrush,zoomInfo:this.zoomInfo}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:true},external_kbnSharedDeps_React_default.a.createElement(MonitoringTimeseriesContainer,{series:data.metrics.kibana_os_load,onBrush:this.onBrush,zoomInfo:this.zoomInfo}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:true},external_kbnSharedDeps_React_default.a.createElement(MonitoringTimeseriesContainer,{series:data.metrics.kibana_process_delay,onBrush:this.onBrush,zoomInfo:this.zoomInfo}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null)))))))})}}});var logstash_overview='<monitoring-main product="logstash" name="overview">\n  <div id="monitoringLogstashOverviewApp"></div>\n</monitoring-main>\n';function logstash_cluster_status_ClusterStatus({stats:stats,alerts:alerts}){const{node_count:nodeCount,avg_memory_used:avgMemoryUsed,avg_memory:avgMemory,events_in_total:eventsInTotal,events_out_total:eventsOutTotal}=stats;const metrics=[{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.clusterStatus.nodesLabel",{defaultMessage:"Nodes"}),value:nodeCount,"data-test-subj":"node_count"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.clusterStatus.memoryLabel",{defaultMessage:"Memory"}),value:formatMetric(avgMemoryUsed,"byte")+" / "+formatMetric(avgMemory,"byte"),"data-test-subj":"memory_used"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.clusterStatus.eventsReceivedLabel",{defaultMessage:"Events Received"}),value:formatMetric(eventsInTotal,"0.[0]a"),"data-test-subj":"events_in_total"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.clusterStatus.eventsEmittedLabel",{defaultMessage:"Events Emitted"}),value:formatMetric(eventsOutTotal,"0.[0]a"),"data-test-subj":"events_out_total"}];return external_kbnSharedDeps_React_default.a.createElement(SummaryStatus,{metrics:metrics,alerts:alerts,"data-test-subj":"logstashClusterStatus"})}function overview_overview_extends(){overview_overview_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return overview_overview_extends.apply(this,arguments)}class overview_overview_Overview extends external_kbnSharedDeps_React_["PureComponent"]{render(){const{stats:stats,metrics:metrics,...props}=this.props;const metricsToShow=[metrics.logstash_cluster_events_input_rate,metrics.logstash_cluster_events_output_rate,metrics.logstash_cluster_events_latency];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(logstash_cluster_status_ClusterStatus,{stats:stats})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGrid"],{columns:2,gutterSize:"s"},metricsToShow.map((metric,index)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{key:index},external_kbnSharedDeps_React_default.a.createElement(MonitoringTimeseriesContainer,overview_overview_extends({series:metric},props)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null)))))))}}function logstash_overview_getPageData($injector){const $http=$injector.get("$http");const globalState=$injector.get("globalState");const url=`../api/monitoring/v1/clusters/${globalState.cluster_uuid}/logstash`;const timeBounds=Legacy.shims.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(response=>response.data).catch(err=>{const Private=$injector.get("Private");const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}uiRoutes.when("/logstash",{template:logstash_overview,resolve:{clusters:function(Private){const routeInit=Private(routeInitProvider);return routeInit({codePaths:[constants["D"]]})},pageData:logstash_overview_getPageData},controller:class extends base_controller_MonitoringViewBaseController{constructor($injector,$scope){super({title:"Logstash",pageTitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.overview.pageTitle",{defaultMessage:"Logstash overview"}),getPageData:logstash_overview_getPageData,reactNodeId:"monitoringLogstashOverviewApp",$scope:$scope,$injector:$injector});$scope.$watch(()=>this.data,data=>{this.renderReact(external_kbnSharedDeps_React_default.a.createElement(overview_overview_Overview,{stats:data.clusterStatus,metrics:data.metrics,onBrush:this.onBrush,zoomInfo:this.zoomInfo}))})}}});function nodes_get_page_data_getPageData($injector){const $http=$injector.get("$http");const globalState=$injector.get("globalState");const url=`../api/monitoring/v1/clusters/${globalState.cluster_uuid}/logstash/nodes`;const timeBounds=Legacy.shims.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(response=>response.data).catch(err=>{const Private=$injector.get("Private");const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}var logstash_nodes='<monitoring-main product="logstash" name="nodes">\n  <div id="monitoringLogstashNodesApp"></div>\n</monitoring-main>\n';class listing_listing_Listing extends external_kbnSharedDeps_React_["PureComponent"]{getColumns(){const setupMode=this.props.setupMode;const alerts=this.props.alerts;return[{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.nodes.nameTitle",{defaultMessage:"Name"}),field:"name",sortable:true,render:(name,node)=>{let setupModeStatus=null;if(isSetupModeFeatureEnabled(enums["d"].MetricbeatMigration)){const list=Object(external_kbnSharedDeps_Lodash_["get"])(setupMode,"data.byUuid",{});const uuid=Object(external_kbnSharedDeps_Lodash_["get"])(node,"logstash.uuid");const status=list[uuid]||{};const instance={uuid:uuid,name:node.name};setupModeStatus=external_kbnSharedDeps_React_default.a.createElement("div",{className:"monTableCell__setupModeStatus"},external_kbnSharedDeps_React_default.a.createElement(SetupModeBadge,{setupMode:setupMode,status:status,instance:instance,productName:constants["R"]}))}return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:getSafeForExternalLink(`#/logstash/node/${node.logstash.uuid}`)},name)),external_kbnSharedDeps_React_default.a.createElement("div",null,node.logstash.http_address),setupModeStatus)}},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.nodes.alertsColumnTitle",{defaultMessage:"Alerts"}),field:"isOnline",width:"175px",sortable:true,render:()=>external_kbnSharedDeps_React_default.a.createElement(AlertsStatus,{showBadge:true,alerts:alerts})},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.nodes.cpuUsageTitle",{defaultMessage:"CPU Usage"}),field:"cpu_usage",sortable:true,render:value=>formatPercentageUsage(value,100)},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.nodes.loadAverageTitle",{defaultMessage:"Load Average"}),field:"load_average",sortable:true,render:value=>formatNumber(value,"0.00")},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.nodes.jvmHeapUsedTitle",{defaultMessage:"{javaVirtualMachine} Heap Used",values:{javaVirtualMachine:"JVM"}}),field:"jvm_heap_used",sortable:true,render:value=>formatPercentageUsage(value,100)},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.nodes.eventsIngestedTitle",{defaultMessage:"Events Ingested"}),field:"events_out",sortable:true,render:value=>formatNumber(value,"0.[0]a")},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.nodes.configReloadsTitle",{defaultMessage:"Config Reloads"}),sortable:true,render:node=>external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.logstash.nodes.configReloadsSuccessCountLabel",defaultMessage:"{reloadsSuccesses} successes",values:{reloadsSuccesses:node.reloads.successes}})),external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.logstash.nodes.configReloadsFailuresCountLabel",defaultMessage:"{reloadsFailures} failures",values:{reloadsFailures:node.reloads.failures}})))},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.nodes.versionTitle",{defaultMessage:"Version"}),field:"version",sortable:true,render:value=>formatNumber(value)}]}render(){const{stats:stats,alerts:alerts,sorting:sorting,pagination:pagination,onTableChange:onTableChange,data:data,setupMode:setupMode}=this.props;const columns=this.getColumns();const flattenedData=data.map(item=>({...item,name:Object(external_kbnSharedDeps_Lodash_["get"])(item,"logstash.name","N/A"),cpu_usage:Object(external_kbnSharedDeps_Lodash_["get"])(item,"process.cpu.percent","N/A"),load_average:Object(external_kbnSharedDeps_Lodash_["get"])(item,"os.cpu.load_average.1m","N/A"),jvm_heap_used:Object(external_kbnSharedDeps_Lodash_["get"])(item,"jvm.mem.heap_used_percent","N/A"),events_out:Object(external_kbnSharedDeps_Lodash_["get"])(item,"events.out","N/A"),version:Object(external_kbnSharedDeps_Lodash_["get"])(item,"logstash.version","N/A")}));let setupModeCallOut=null;if(isSetupModeFeatureEnabled(enums["d"].MetricbeatMigration)){setupModeCallOut=external_kbnSharedDeps_React_default.a.createElement(ListingCallOut,{setupModeData:setupMode.data,useNodeIdentifier:true,productName:constants["R"]})}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(logstash_cluster_status_ClusterStatus,{stats:stats,alerts:alerts})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),setupModeCallOut,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,external_kbnSharedDeps_React_default.a.createElement(EuiMonitoringTable,{className:"logstashNodesTable",rows:flattenedData,setupMode:setupMode,productName:constants["R"],columns:columns,sorting:{...sorting,sort:{...sorting.sort,field:"name"}},pagination:pagination,search:{box:{incremental:true,placeholder:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.filterNodesPlaceholder",{defaultMessage:"Filter Nodes…"})}},onTableChange:onTableChange,executeQueryOptions:{defaultFields:["name"]}}))))}}uiRoutes.when("/logstash/nodes",{template:logstash_nodes,resolve:{clusters(Private){const routeInit=Private(routeInitProvider);return routeInit({codePaths:[constants["D"]]})},pageData:nodes_get_page_data_getPageData},controllerAs:"lsNodes",controller:class LsNodesList extends base_eui_table_controller_MonitoringViewBaseEuiTableController{constructor($injector,$scope){super({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.nodes.routeTitle",{defaultMessage:"Logstash - Nodes"}),pageTitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.nodes.pageTitle",{defaultMessage:"Logstash nodes"}),storageKey:"logstash.nodes",getPageData:nodes_get_page_data_getPageData,reactNodeId:"monitoringLogstashNodesApp",$scope:$scope,$injector:$injector,alerts:{shouldFetch:true,options:{alertTypeIds:[constants["j"]]}}});const renderComponent=()=>{this.renderReact(external_kbnSharedDeps_React_default.a.createElement(setup_mode_SetupModeRenderer,{scope:$scope,injector:$injector,productName:constants["R"],render:({setupMode:setupMode,flyoutComponent:flyoutComponent,bottomBarComponent:bottomBarComponent})=>external_kbnSharedDeps_React_default.a.createElement(SetupModeContext.Provider,{value:{setupModeSupported:true}},flyoutComponent,external_kbnSharedDeps_React_default.a.createElement(listing_listing_Listing,{data:this.data.nodes,setupMode:setupMode,stats:this.data.clusterStatus,alerts:this.alerts,sorting:this.sorting,pagination:this.pagination,onTableChange:this.onTableChange}),bottomBarComponent)}))};this.onTableChangeRender=renderComponent;$scope.$watch(()=>this.data,()=>renderComponent())}}});var logstash_node='<monitoring-main\n  product="logstash"\n  name="nodes"\n  instance="{{ pageData.nodeSummary.name }}"\n  resolver="{{ pageData.nodeSummary.uuid }}"\n  page="overview"\n>\n  <div id="monitoringLogstashNodeApp"></div>\n</monitoring-main>\n';function detail_status_DetailStatus({stats:stats}){const{http_address:httpAddress,events:events,reloads:reloads,pipeline:pipeline,queue_type:queueType,version:version,uptime:uptime}=stats;const firstMetrics=[{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.detailStatus.transportAddressLabel",{defaultMessage:"Transport Address"}),value:httpAddress,"data-test-subj":"httpAddress"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.detailStatus.eventsReceivedLabel",{defaultMessage:"Events Received"}),value:formatMetric(events.in,"0.[0]a"),"data-test-subj":"eventsIn"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.detailStatus.eventsEmittedLabel",{defaultMessage:"Events Emitted"}),value:formatMetric(events.out,"0.[0]a"),"data-test-subj":"eventsOut"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.detailStatus.configReloadsLabel",{defaultMessage:"Config Reloads"}),value:reloads.successes,"data-test-subj":"numReloads"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.detailStatus.pipelineWorkersLabel",{defaultMessage:"Pipeline Workers"}),value:pipeline.workers,"data-test-subj":"pipelineWorkers"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.detailStatus.batchSizeLabel",{defaultMessage:"Batch Size"}),value:pipeline.batch_size,"data-test-subj":"pipelineBatchSize"}];const lastMetrics=[{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.detailStatus.versionLabel",{defaultMessage:"Version"}),value:version,"data-test-subj":"version"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.detailStatus.uptimeLabel",{defaultMessage:"Uptime"}),value:formatMetric(uptime,"time_since"),"data-test-subj":"uptime"}];const metrics=[...firstMetrics];if(queueType){metrics.push({label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.detailStatus.queueTypeLabel",{defaultMessage:"Queue Type"}),value:queueType,"data-test-subj":"queueType"})}metrics.push(...lastMetrics);return external_kbnSharedDeps_React_default.a.createElement(SummaryStatus,{metrics:metrics,"data-test-subj":"logstashDetailStatus"})}function logstash_node_extends(){logstash_node_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return logstash_node_extends.apply(this,arguments)}function node_getPageData($injector){const $http=$injector.get("$http");const $route=$injector.get("$route");const globalState=$injector.get("globalState");const url=`../api/monitoring/v1/clusters/${globalState.cluster_uuid}/logstash/node/${$route.current.params.uuid}`;const timeBounds=Legacy.shims.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},is_advanced:false}).then(response=>response.data).catch(err=>{const Private=$injector.get("Private");const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}uiRoutes.when("/logstash/node/:uuid",{template:logstash_node,resolve:{clusters(Private){const routeInit=Private(routeInitProvider);return routeInit({codePaths:[constants["D"]]})},pageData:node_getPageData},controller:class extends base_controller_MonitoringViewBaseController{constructor($injector,$scope){super({defaultData:{},getPageData:node_getPageData,reactNodeId:"monitoringLogstashNodeApp",$scope:$scope,$injector:$injector,alerts:{shouldFetch:true,options:{alertTypeIds:[constants["j"]]}},telemetryPageViewTitle:"logstash_node"});$scope.$watch(()=>this.data,data=>{if(!data||!data.nodeSummary){return}this.setTitle(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.node.routeTitle",{defaultMessage:"Logstash - {nodeName}",values:{nodeName:data.nodeSummary.name}}));this.setPageTitle(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.node.pageTitle",{defaultMessage:"Logstash node: {nodeName}",values:{nodeName:data.nodeSummary.name}}));const metricsToShow=[data.metrics.logstash_events_input_rate,data.metrics.logstash_jvm_usage,data.metrics.logstash_events_output_rate,data.metrics.logstash_node_cpu_metric,data.metrics.logstash_events_latency,data.metrics.logstash_os_load];this.renderReact(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(detail_status_DetailStatus,{stats:data.nodeSummary})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(AlertsCallout,{alerts:this.alerts}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGrid"],{columns:2,gutterSize:"s"},metricsToShow.map((metric,index)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{key:index},external_kbnSharedDeps_React_default.a.createElement(MonitoringTimeseriesContainer,logstash_node_extends({series:metric,onBrush:this.onBrush,zoomInfo:this.zoomInfo},data)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null))))))))})}}});var logstash_node_advanced='<monitoring-main\n  product="logstash"\n  name="nodes"\n  instance="{{ pageData.nodeSummary.name }}"\n  resolver="{{ pageData.nodeSummary.uuid }}"\n  page="advanced"\n>\n  <div id="monitoringLogstashNodeAdvancedApp"></div>\n</monitoring-main>\n';function logstash_node_advanced_extends(){logstash_node_advanced_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return logstash_node_advanced_extends.apply(this,arguments)}function logstash_node_advanced_getPageData($injector){const $http=$injector.get("$http");const globalState=$injector.get("globalState");const $route=$injector.get("$route");const url=`../api/monitoring/v1/clusters/${globalState.cluster_uuid}/logstash/node/${$route.current.params.uuid}`;const timeBounds=Legacy.shims.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},is_advanced:true}).then(response=>response.data).catch(err=>{const Private=$injector.get("Private");const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}uiRoutes.when("/logstash/node/:uuid/advanced",{template:logstash_node_advanced,resolve:{clusters(Private){const routeInit=Private(routeInitProvider);return routeInit({codePaths:[constants["D"]]})},pageData:logstash_node_advanced_getPageData},controller:class extends base_controller_MonitoringViewBaseController{constructor($injector,$scope){super({defaultData:{},getPageData:logstash_node_advanced_getPageData,reactNodeId:"monitoringLogstashNodeAdvancedApp",$scope:$scope,$injector:$injector,alerts:{shouldFetch:true,options:{alertTypeIds:[constants["j"]]}},telemetryPageViewTitle:"logstash_node_advanced"});$scope.$watch(()=>this.data,data=>{if(!data||!data.nodeSummary){return}this.setTitle(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.node.advanced.routeTitle",{defaultMessage:"Logstash - {nodeName} - Advanced",values:{nodeName:data.nodeSummary.name}}));this.setPageTitle(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.node.advanced.pageTitle",{defaultMessage:"Logstash node: {nodeName}",values:{nodeName:data.nodeSummary.name}}));const metricsToShow=[data.metrics.logstash_node_cpu_utilization,data.metrics.logstash_queue_events_count,data.metrics.logstash_node_cgroup_cpu,data.metrics.logstash_pipeline_queue_size,data.metrics.logstash_node_cgroup_stats];this.renderReact(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(detail_status_DetailStatus,{stats:data.nodeSummary})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(AlertsCallout,{alerts:this.alerts}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGrid"],{columns:2,gutterSize:"s"},metricsToShow.map((metric,index)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{key:index},external_kbnSharedDeps_React_default.a.createElement(MonitoringTimeseriesContainer,logstash_node_advanced_extends({series:metric,onBrush:this.onBrush,zoomInfo:this.zoomInfo},data)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null))))))))})}}});var functions_major=__webpack_require__(191);var major_default=__webpack_require__.n(functions_major);function isPipelineMonitoringSupportedInVersion(logstashVersion){const major=major_default()(logstashVersion);return major>=constants["Q"].MAJOR_VER_REQD_FOR_PIPELINES}var pipelines='<monitoring-main\n  product="logstash"\n  name="nodes" instance="{{ pageData.nodeSummary.name }}"\n  resolver="{{ pageData.nodeSummary.uuid }}"\n  page="pipelines"\n>\n  <div id="monitoringLogstashNodePipelinesApp"></div>\n</monitoring-main>\n';function sparkline_flot_chart_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const flotOptions={grid:{show:false,margin:4,hoverable:true},colors:["#3b73ac"],series:{shadowSize:0,lines:{lineWidth:2},highlightColor:"#3b73ac",points:{radius:2}}};function makeData(series=[]){const data=[];data.push(series);data.push({data:[Object(external_kbnSharedDeps_Lodash_["last"])(series)],points:{show:true,radius:2,fill:1,fillColor:false}});return data}class sparkline_flot_chart_SparklineFlotChart{constructor(containerElem,initialSeries,_onBrush,_onHover,overrideOptions){sparkline_flot_chart_defineProperty(this,"render",()=>{this.flotChart=external_kbnSharedDeps_Jquery_default.a.plot(this.containerElem,this.data,this.options)});sparkline_flot_chart_defineProperty(this,"setupBrushHandling",onBrush=>{this.options.selection={mode:"x",color:"#9c9c9c"};external_kbnSharedDeps_Jquery_default()(this.containerElem).off("plotselected");external_kbnSharedDeps_Jquery_default()(this.containerElem).on("plotselected",(_event,range)=>{onBrush(range);this.flotChart.clearSelection()})});sparkline_flot_chart_defineProperty(this,"setupHoverHandling",onHover=>{const container=external_kbnSharedDeps_Jquery_default()(this.containerElem);const debouncedOnHover=Object(external_kbnSharedDeps_Lodash_["debounce"])((_event,_range,item)=>{if(item===null){return onHover()}onHover({xValue:item.datapoint[0],yValue:item.datapoint[1],xPosition:item.pageX-window.pageXOffset,yPosition:item.pageY-window.pageYOffset,plotTop:container.offset().top,plotLeft:container.offset().left,plotHeight:container.height(),plotWidth:container.width()})},constants["F"],{leading:true});container.off("plothover");container.on("plothover",debouncedOnHover)});this.containerElem=containerElem;this.data=makeData(initialSeries);this.options={...flotOptions,...overrideOptions};if(Object(external_kbnSharedDeps_Lodash_["isFunction"])(_onBrush)){this.setupBrushHandling(_onBrush)}if(Object(external_kbnSharedDeps_Lodash_["isFunction"])(_onHover)){this.setupHoverHandling(_onHover)}this.render();window.addEventListener("resize",this.render)}update(series){this.flotChart.setData(makeData(series));this.flotChart.setupGrid();this.flotChart.draw()}shutdown(){this.flotChart.shutdown();const container=external_kbnSharedDeps_Jquery_default()(this.containerElem);container.off("plotselected");container.off("plothover");window.removeEventListener("resize",this.render)}}var sparkline=__webpack_require__(196);class sparkline_Sparkline extends external_kbnSharedDeps_React_default.a.Component{constructor(props){super(props);this.makeSparklineFlotChart=this.makeSparklineFlotChart.bind(this);this.onHover=this.onHover.bind(this);this.renderTooltip=this.renderTooltip.bind(this);this.handleSparklineRef=this.handleSparklineRef.bind(this);this.state={tooltip:undefined}}UNSAFE_componentWillReceiveProps({series:series,options:options}){if(!Object(external_kbnSharedDeps_Lodash_["isEqual"])(options,this.props.options)){this.sparklineFlotChart.shutdown();this.makeSparklineFlotChart(options)}if(!Object(external_kbnSharedDeps_Lodash_["isEqual"])(series,this.props.series)){this.sparklineFlotChart.update(series)}}makeSparklineFlotChart(overrideFlotOptions){this.sparklineFlotChart=new sparkline_flot_chart_SparklineFlotChart(this.chartElem,this.props.series,this.props.onBrush,this.onHover,overrideFlotOptions)}onHover(dataPoint){this.setState({tooltip:dataPoint})}renderTooltip(){if(this.props.tooltip.enabled===false){return}if(!this.state.tooltip){return}const tooltipHeightInPx=36;const tooltipWidthInPx=220;const caretWidthInPx=6;const marginBetweenPointAndCaretInPx=10;const styles={tooltipContainer:{top:this.state.tooltip.yPosition-tooltipHeightInPx/2},tooltip:{height:tooltipHeightInPx,width:tooltipWidthInPx},leftCaret:{width:caretWidthInPx},rightCaret:{width:caretWidthInPx}};const plotMiddleX=this.state.tooltip.plotLeft+this.state.tooltip.plotWidth/2;const tooltipContainerWidthInPx=tooltipWidthInPx+caretWidthInPx;if(this.state.tooltip.xPosition>plotMiddleX){styles.rightCaret.display="block";styles.tooltipContainer.left=this.state.tooltip.xPosition-tooltipContainerWidthInPx-marginBetweenPointAndCaretInPx}else{styles.leftCaret.display="block";styles.tooltipContainer.left=this.state.tooltip.xPosition+marginBetweenPointAndCaretInPx}return external_kbnSharedDeps_React_default.a.createElement("div",{className:"monSparklineTooltip__container",style:styles.tooltipContainer},external_kbnSharedDeps_React_default.a.createElement("i",{className:"fa fa-caret-left monSparklineTooltip__caret",style:styles.leftCaret}),external_kbnSharedDeps_React_default.a.createElement("div",{className:"monSparklineTooltip",style:styles.tooltip},external_kbnSharedDeps_React_default.a.createElement("div",{className:"monSparklineTooltip__yValue"},this.props.tooltip.yValueFormatter(this.state.tooltip.yValue)),external_kbnSharedDeps_React_default.a.createElement("div",{className:"monSparklineTooltip__xValue"},this.props.tooltip.xValueFormatter(this.state.tooltip.xValue))),external_kbnSharedDeps_React_default.a.createElement("i",{className:"fa fa-caret-right monSparklineTooltip__caret",style:styles.rightCaret}))}handleSparklineRef(elem){this.chartElem=elem;if(this.chartElem){this.makeSparklineFlotChart(this.props.options)}else if(this.sparklineFlotChart){this.sparklineFlotChart.shutdown()}}render(){return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement("div",{className:"monSparkline",ref:this.handleSparklineRef}),this.renderTooltip())}}class pipeline_listing_PipelineListing extends external_kbnSharedDeps_React_["Component"]{tooltipXValueFormatter(xValue,dateFormat){return external_kbnSharedDeps_Moment_default()(xValue).format(dateFormat)}tooltipYValueFormatter(yValue,format,units){return formatMetric(yValue,format,units)}getColumns(){const{onBrush:onBrush,dateFormat:dateFormat}=this.props;return[{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.pipelines.idTitle",{defaultMessage:"ID"}),field:"id",sortable:true,render:id=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{"data-test-subj":"id",href:getSafeForExternalLink(`#/logstash/pipelines/${id}`)},id)},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.pipelines.eventsEmittedRateTitle",{defaultMessage:"Events Emitted Rate"}),field:"latestThroughput",sortable:true,render:(value,pipeline)=>{const throughput=pipeline.metrics.throughput;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"none",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(sparkline_Sparkline,{series:throughput.data,onBrush:onBrush,tooltip:{xValueFormatter:value=>this.tooltipXValueFormatter(value,dateFormat),yValueFormatter:Object(external_kbnSharedDeps_Lodash_["partialRight"])(this.tooltipYValueFormatter,throughput.metric.format,throughput.metric.units)},options:{xaxis:throughput.timeRange}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{className:"monTableCell__number","data-test-subj":"eventsEmittedRate"},formatMetric(value,"0.[0]a",throughput.metric.units)))}},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.pipelines.numberOfNodesTitle",{defaultMessage:"Number of Nodes"}),field:"latestNodesCount",sortable:true,render:(value,pipeline)=>{const nodesCount=pipeline.metrics.nodesCount;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"none",alignItems:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(sparkline_Sparkline,{series:nodesCount.data,onBrush:onBrush,tooltip:{xValueFormatter:value=>this.tooltipXValueFormatter(value,dateFormat),yValueFormatter:Object(external_kbnSharedDeps_Lodash_["partialRight"])(this.tooltipYValueFormatter,nodesCount.metric.format,nodesCount.metric.units)},options:{xaxis:nodesCount.timeRange}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{className:"monTableCell__number","data-test-subj":"nodeCount"},formatMetric(value,"0a")))}}]}renderStats(){if(this.props.statusComponent){const Component=this.props.statusComponent;return external_kbnSharedDeps_React_default.a.createElement(Component,{stats:this.props.stats})}return external_kbnSharedDeps_React_default.a.createElement(logstash_cluster_status_ClusterStatus,{stats:this.props.stats})}render(){const{data:data,sorting:sorting,pagination:pagination,onTableChange:onTableChange,fetchMoreData:fetchMoreData,upgradeMessage:upgradeMessage,className:className}=this.props;const sortingOptions=sorting||{field:"id",direction:"asc"};if(sortingOptions.field==="name"){sortingOptions.field="id"}const columns=this.getColumns();return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,this.renderStats()),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,external_kbnSharedDeps_React_default.a.createElement(EuiMonitoringSSPTable,{className:className||"logstashNodesTable",rows:data,columns:columns,sorting:sortingOptions,message:upgradeMessage,pagination:pagination,fetchMoreData:fetchMoreData,search:{box:{placeholder:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.filterPipelinesPlaceholder",{defaultMessage:"Filter Pipelines…"})}},onTableChange:onTableChange}))))}}function pipelines_extends(){pipelines_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return pipelines_extends.apply(this,arguments)}const pipelines_getPageData=($injector,_api=undefined,routeOptions={})=>{_api;const $route=$injector.get("$route");const $http=$injector.get("$http");const globalState=$injector.get("globalState");const Private=$injector.get("Private");const logstashUuid=$route.current.params.uuid;const url=`../api/monitoring/v1/clusters/${globalState.cluster_uuid}/logstash/node/${logstashUuid}/pipelines`;const timeBounds=Legacy.shims.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},...routeOptions}).then(response=>response.data).catch(err=>{const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})};function makeUpgradeMessage(logstashVersion){if(isPipelineMonitoringSupportedInVersion(logstashVersion)){return null}return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.node.pipelines.notAvailableDescription",{defaultMessage:"Pipeline monitoring is only available in Logstash version 6.0.0 or higher. This node is running version {logstashVersion}.",values:{logstashVersion:logstashVersion}})}uiRoutes.when("/logstash/node/:uuid/pipelines",{template:pipelines,resolve:{clusters(Private){const routeInit=Private(routeInitProvider);return routeInit({codePaths:[constants["D"]]})}},controller:class extends base_eui_table_controller_MonitoringViewBaseEuiTableController{constructor($injector,$scope){const config=$injector.get("config");super({defaultData:{},getPageData:pipelines_getPageData,reactNodeId:"monitoringLogstashNodePipelinesApp",$scope:$scope,$injector:$injector,fetchDataImmediately:false,telemetryPageViewTitle:"logstash_node_pipelines"});$scope.$watch(()=>this.data,data=>{if(!data||!data.nodeSummary){return}this.setTitle(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.node.pipelines.routeTitle",{defaultMessage:"Logstash - {nodeName} - Pipelines",values:{nodeName:data.nodeSummary.name}}));this.setPageTitle(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.node.pipelines.pageTitle",{defaultMessage:"Logstash node pipelines: {nodeName}",values:{nodeName:data.nodeSummary.name}}));const pagination={...this.pagination,totalItemCount:data.totalPipelineCount};this.renderReact(external_kbnSharedDeps_React_default.a.createElement(pipeline_listing_PipelineListing,pipelines_extends({className:"monitoringLogstashPipelinesTable",onBrush:this.onBrush,zoomInfo:this.zoomInfo,stats:data.nodeSummary,statusComponent:detail_status_DetailStatus,data:data.pipelines},this.getPaginationTableProps(pagination),{dateFormat:config.get("dateFormat"),upgradeMessage:makeUpgradeMessage(data.nodeSummary.version,external_kbnSharedDeps_KbnI18n_["i18n"])})))})}}});var logstash_pipelines='<monitoring-main\n  product="logstash"\n  name="pipelines"\n  data-test-subj="logstashPipelinesListing"\n>\n  <div id="monitoringLogstashPipelinesApp"></div>\n</monitoring-main>\n';function logstash_pipelines_extends(){logstash_pipelines_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return logstash_pipelines_extends.apply(this,arguments)}const logstash_pipelines_getPageData=($injector,_api=undefined,routeOptions={})=>{_api;const $http=$injector.get("$http");const globalState=$injector.get("globalState");const Private=$injector.get("Private");const url=`../api/monitoring/v1/clusters/${globalState.cluster_uuid}/logstash/pipelines`;const timeBounds=Legacy.shims.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},...routeOptions}).then(response=>response.data).catch(err=>{const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})};function pipelines_makeUpgradeMessage(logstashVersions){if(!Array.isArray(logstashVersions)||logstashVersions.length===0||logstashVersions.some(isPipelineMonitoringSupportedInVersion)){return null}return"Pipeline monitoring is only available in Logstash version 6.0.0 or higher."}uiRoutes.when("/logstash/pipelines",{template:logstash_pipelines,resolve:{clusters(Private){const routeInit=Private(routeInitProvider);return routeInit({codePaths:[constants["D"]]})}},controller:class LogstashPipelinesList extends base_eui_table_controller_MonitoringViewBaseEuiTableController{constructor($injector,$scope){super({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.pipelines.routeTitle",{defaultMessage:"Logstash Pipelines"}),pageTitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.pipelines.pageTitle",{defaultMessage:"Logstash pipelines"}),storageKey:"logstash.pipelines",getPageData:logstash_pipelines_getPageData,reactNodeId:"monitoringLogstashPipelinesApp",$scope:$scope,$injector:$injector,fetchDataImmediately:false});const $route=$injector.get("$route");const config=$injector.get("config");this.data=$route.current.locals.pageData;const globalState=$injector.get("globalState");$scope.cluster=Object(external_kbnSharedDeps_Lodash_["find"])($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});const renderReact=pageData=>{if(!pageData){return}const upgradeMessage=pageData?pipelines_makeUpgradeMessage(pageData.clusterStatus.versions,external_kbnSharedDeps_KbnI18n_["i18n"]):null;const pagination={...this.pagination,totalItemCount:pageData.totalPipelineCount};super.renderReact(external_kbnSharedDeps_React_default.a.createElement(pipeline_listing_PipelineListing,logstash_pipelines_extends({className:"monitoringLogstashPipelinesTable",onBrush:xaxis=>this.onBrush({xaxis:xaxis}),stats:pageData.clusterStatus,data:pageData.pipelines},this.getPaginationTableProps(pagination),{upgradeMessage:upgradeMessage,dateFormat:config.get("dateFormat")})))};$scope.$watch(()=>this.data,pageData=>{renderReact(pageData)})}}});var logstash_pipeline='<monitoring-main\n  product="logstash"\n  name="node"\n  instance="{{ pageData.nodeSummary.name }}"\n  resolver="{{ pageData.nodeSummary.uuid }}"\n  page="pipeline"\n  pipeline-id="{{ pageData.pipeline.id }}"\n  pipeline-hash="{{ pageData.pipeline.hash }}"\n  pipeline-versions="pageData.versions"\n>\n  <div id="monitoringLogstashPipelineApp"></div>\n</monitoring-main>\n';function flattenPipelineSection(pipelineSection,depth=0,parentId=null){const list=[];pipelineSection.forEach(statement=>{list.push(...statement.toList(depth,parentId))});return list}class list_List{constructor(inputs,filters,outputs,queue){this.inputs=inputs;this.filters=filters;this.outputs=outputs;this.queue=queue}static fromPipeline(pipeline){const{inputStatements:inputStatements,filterStatements:filterStatements,outputStatements:outputStatements,queue:queue}=pipeline;return new list_List(flattenPipelineSection(inputStatements),flattenPipelineSection(filterStatements),flattenPipelineSection(outputStatements),queue)}}class Vertex{constructor(graph,json){this.graph=graph;this.update(json)}update(json){this.json=json}get name(){return this.json.config_name}get id(){return this.json.id}get subtitle(){return this.id}get incomingEdges(){return this.graph.edgesByTo[this.json.id]||[]}get incomingVertices(){return this.incomingEdges.map(e=>e.from)}get outgoingEdges(){return this.graph.edgesByFrom[this.json.id]||[]}get outgoingVertices(){return this.outgoingEdges.map(e=>e.to)}get meta(){return this.json.meta}get stats(){return this.json.stats||{}}descendants(){const vertices=[];const edges=[];const pending=[this];const seen={};while(pending.length>0){const vertex=pending.pop();vertex.outgoingEdges.forEach(edge=>{edges.push(edge);const to=edge.to;if(seen[to.id]!==true){vertices.push(to);seen[to.id]=true;pending.push(to)}})}return{vertices:vertices,edges:edges}}get hasExplicitId(){return Boolean(this.json.explicit_id)}}const TIME_CONSUMING_PROCESSOR_THRESHOLD_COEFFICIENT=2;const SLOWNESS_STANDARD_DEVIATIONS_ABOVE_THE_MEAN=2;class plugin_vertex_PluginVertex extends Vertex{get typeString(){return"plugin"}get name(){return this.json.config_name}get title(){return this.name}get pluginType(){return this.json.plugin_type}get isInput(){return this.pluginType==="input"}get isFilter(){return this.pluginType==="filter"}get isOutput(){return this.pluginType==="output"}get isProcessor(){return this.isFilter||this.isOutput}get latestMillisPerEvent(){return Object(external_kbnSharedDeps_Lodash_["get"])(this.stats,"millis_per_event")}get percentOfTotalProcessorTime(){return Object(external_kbnSharedDeps_Lodash_["get"])(this.stats,"percent_of_total_processor_duration")}get eventsPerMillisecond(){return this.isInput?this.stats.events_out_per_millisecond:this.stats.events_in_per_millisecond}get eventsPerSecond(){if(!this.eventsPerMillisecond.hasOwnProperty("data")){return this.eventsPerMillisecond*1e3}const eps={...this.eventsPerMillisecond};eps.data=this.eventsPerMillisecond.data.map(([timestamp,value])=>[timestamp,value*1e3]);return eps}get latestEventsPerSecond(){if(!this.eventsPerSecond.hasOwnProperty("data")){return this.eventsPerSecond}const numTimeseriesBuckets=this.eventsPerSecond.data.length;return this.eventsPerSecond.data[numTimeseriesBuckets-1][1]}isTimeConsuming(){const expectedPercentOfTotalProcessorTime=1/this.graph.processorVertices.length;const threshold=TIME_CONSUMING_PROCESSOR_THRESHOLD_COEFFICIENT*expectedPercentOfTotalProcessorTime;return this.percentOfTotalProcessorTime>threshold}isSlow(){const totalProcessorVertices=this.graph.processorVertices.length;if(totalProcessorVertices===0){return 0}const meanmillisPerEvent=this.graph.processorVertices.reduce((acc,v)=>acc+v.latestMillisPerEvent||0,0)/totalProcessorVertices;const variance=this.graph.processorVertices.reduce((acc,v)=>{const difference=(v.latestMillisPerEvent||0)-meanmillisPerEvent;const square=difference*difference;return acc+square},0)/totalProcessorVertices;const stdDeviation=Math.sqrt(variance);const slowness=(this.latestMillisPerEvent-meanmillisPerEvent)/stdDeviation;return slowness>SLOWNESS_STANDARD_DEVIATIONS_ABOVE_THE_MEAN}get iconType(){switch(this.pluginType){case"input":return"logstashInput";case"filter":return"logstashFilter";case"output":return"logstashOutput";default:throw new Error(`Unknown plugin type ${this.pluginType}! This shouldn't happen!`)}}get next(){const firstOutgoingEdge=this.outgoingEdges[0]||{};return firstOutgoingEdge.to}}class if_vertex_IfVertex extends Vertex{get typeString(){return"if"}get name(){return this.json.condition}get iconType(){return"logstashIf"}get title(){return"if"}get subtitle(){return this.name}get trueEdge(){return this.outgoingEdges.find(e=>e.when===true)}get trueEdges(){return this.outgoingEdges.filter(e=>e.when===true)}get falseEdge(){return this.outgoingEdges.find(e=>e.when===false)}get falseEdges(){return this.outgoingEdges.filter(e=>e.when===false)}get trueOutgoingVertex(){return this.trueEdge?this.trueEdge.to:null}get trueOutgoingVertices(){return this.trueEdges.map(e=>e.to)}get falseOutgoingVertex(){return this.falseEdge?this.falseEdge.to:null}get falseOutgoingVertices(){return this.falseEdges.map(e=>e.to)}get next(){const trueDescendants=this.trueOutgoingVertex?this.trueOutgoingVertex.descendants().vertices:[];const falseDescendants=this.falseOutgoingVertex?this.falseOutgoingVertex.descendants().vertices:[];trueDescendants.unshift(this.trueOutgoingVertex);falseDescendants.unshift(this.falseOutgoingVertex);return Object(external_kbnSharedDeps_Lodash_["intersection"])(trueDescendants,falseDescendants)[0]}}class queue_vertex_QueueVertex extends Vertex{get typeString(){return"queue"}get title(){return"queue"}get iconType(){return"logstashQueue"}get next(){return this.outgoingVertices}}function vertexFactory(graph,vertexJson){const type=vertexJson.type;switch(type){case"plugin":return new plugin_vertex_PluginVertex(graph,vertexJson);case"if":return new if_vertex_IfVertex(graph,vertexJson);case"queue":return new queue_vertex_QueueVertex(graph,vertexJson);default:throw new Error(`Unknown vertex type ${type}! This shouldn't happen!`)}}class Edge{constructor(graph,json){this.graph=graph;this.update(json)}update(json){this.json=json}get id(){return this.json.id}get from(){return this.graph.verticesById[this.fromId]}get fromId(){return this.json.from}get to(){return this.graph.verticesById[this.toId]}get toId(){return this.json.to}}class boolean_edge_BooleanEdge extends Edge{get when(){return this.json.when}get isTrue(){return this.when===true}get isFalse(){return this.when===false}}function edgeFactory(graph,edgeJson){const type=edgeJson.type;switch(type){case"plain":return new Edge(graph,edgeJson);case"boolean":return new boolean_edge_BooleanEdge(graph,edgeJson);default:throw new Error(`Unknown edge type ${type}! This shouldn't happen!`)}}class graph_Graph{constructor(){this.json=null;this.verticesById={};this.edgesById={};this.edgesByFrom={};this.edgesByTo={}}getVertexById(id){return this.verticesById[id]}getVertices(){if(this.vertexCache===undefined){this.vertexCache=Object.values(this.verticesById)}return this.vertexCache}get queueVertex(){return this.getVertices().find(v=>v instanceof queue_vertex_QueueVertex)}get processorVertices(){return this.getVertices().filter(v=>v.isProcessor)}get edges(){return Object.values(this.edgesById)}update(jsonRepresentation){this.json=jsonRepresentation;jsonRepresentation.vertices.forEach(vJson=>{const existingVertex=this.verticesById[vJson.id];if(existingVertex!==undefined){existingVertex.update(vJson)}else{const newVertex=vertexFactory(this,vJson);this.verticesById[vJson.id]=newVertex}});jsonRepresentation.edges.forEach(eJson=>{const existingEdge=this.edgesById[eJson.id];if(existingEdge!==undefined){existingEdge.update(eJson)}else{const newEdge=edgeFactory(this,eJson);this.edgesById[eJson.id]=newEdge;if(this.edgesByFrom[newEdge.from.json.id]===undefined){this.edgesByFrom[newEdge.from.json.id]=[]}this.edgesByFrom[newEdge.from.json.id].push(newEdge);if(this.edgesByTo[newEdge.to.json.id]===undefined){this.edgesByTo[newEdge.to.json.id]=[]}this.edgesByTo[newEdge.to.json.id].push(newEdge)}});this.annotateVerticesWithStages()}get startVertices(){return this.getVertices().filter(v=>v.incomingEdges.length===0)}get endVertices(){return this.getVertices().filter(v=>v.outgoingEdges.length===0)}get hasQueueVertex(){return!!this.queueVertex}annotateVerticesWithStages(){this.annotateInputStageVertices();this.annotateOutputStageVertices();this.annotateFilterStageVertices()}annotateInputStageVertices(){if(!this.hasQueueVertex){return}this.startVertices.forEach(v=>v.pipelineStage="input")}annotateOutputStageVertices(){if(this.endVertices.length===1&&this.endVertices[0]instanceof queue_vertex_QueueVertex){return}if(this.endVertices.every(v=>v.pluginType==="filter")){return}const pending=[...this.endVertices];while(pending.length>0){const currentVertex=pending.shift();const parents=currentVertex.incomingVertices;const isParentFilterPluginVertex=parents.some(p=>p instanceof plugin_vertex_PluginVertex&&p.pluginType==="filter");const isParentQueueVertex=parents.some(p=>p instanceof queue_vertex_QueueVertex);const isParentNothing=parents.length===0;const isParentOutputStageVertex=!(isParentFilterPluginVertex||isParentQueueVertex||isParentNothing);if(isParentOutputStageVertex){pending.push(...parents)}else{currentVertex.pipelineStage="output";const descendantVertices=currentVertex.descendants().vertices;descendantVertices.forEach(v=>v.pipelineStage="output")}}}annotateFilterStageVertices(){const pending=[];if(this.hasQueueVertex){pending.push(...this.queueVertex.outgoingVertices)}else{pending.push(...this.startVertices)}while(pending.length>0){const currentVertex=pending.shift();if(!currentVertex.pipelineStage){currentVertex.pipelineStage="filter";pending.push(...currentVertex.outgoingVertices)}}}}class config_Config{constructor(){this.graph=new graph_Graph}update(configJson){this.json=configJson;this.graph.update(configJson.graph)}}class pipeline_state_PipelineState{constructor(pipelineState){this.config=new config_Config;this.update(pipelineState)}update(pipelineJson){this.config.update(pipelineJson.representation)}}var detail_drawer=__webpack_require__(205);function renderIcon(vertex){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:vertex.iconType,className:"lspvDetailDrawerIcon"})}function renderPluginBasicStats(vertex,timeseriesTooltipXValueFormatter){const eventsLatencyValueFormatter=value=>formatMetric(value,"0.[00]a","ms/e");const latestEventsLatency=Array.isArray(vertex.stats.millis_per_event.data)&&vertex.stats.millis_per_event.data.length>0?Object(external_kbnSharedDeps_Lodash_["last"])(vertex.stats.millis_per_event.data)[1]:null;const eventsLatencyRow=vertex.pluginType==="input"?null:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableRow"],{key:"events_latency"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableRowCell"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.logstash.pipeline.detailDrawer.eventsLatencyLabel",defaultMessage:"Events Latency"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableRowCell"],null,external_kbnSharedDeps_React_default.a.createElement("div",{className:"lspvDetailDrawerSparklineContainer"},external_kbnSharedDeps_React_default.a.createElement(sparkline_Sparkline,{series:vertex.stats.millis_per_event.data,options:{xaxis:vertex.stats.millis_per_event.timeRange},tooltip:{enabled:true,xValueFormatter:timeseriesTooltipXValueFormatter,yValueFormatter:eventsLatencyValueFormatter}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableRowCell"],null,eventsLatencyValueFormatter(latestEventsLatency)));const eventsOutRateValueFormatter=value=>formatMetric(value,"0.[0]a","e/s");const eventsOutRateRow=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableRow"],{key:"events_out_rate"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableRowCell"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.logstash.pipeline.detailDrawer.eventsEmittedRateLabel",defaultMessage:"Events Emitted Rate"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableRowCell"],null,external_kbnSharedDeps_React_default.a.createElement("div",{className:"lspvDetailDrawerSparklineContainer"},external_kbnSharedDeps_React_default.a.createElement(sparkline_Sparkline,{series:vertex.eventsPerSecond.data,options:{xaxis:vertex.eventsPerSecond.timeRange},tooltip:{enabled:true,xValueFormatter:timeseriesTooltipXValueFormatter,yValueFormatter:eventsOutRateValueFormatter}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableRowCell"],null,eventsOutRateValueFormatter(vertex.latestEventsPerSecond)));const eventsInValueFormatter=value=>formatMetric(value,"0a","events");const latestEventsIn=Array.isArray(vertex.stats.events_in.data)&&vertex.stats.events_in.data.length>0?Object(external_kbnSharedDeps_Lodash_["last"])(vertex.stats.events_in.data)[1]:null;const eventsInRow=vertex.pluginType==="input"?null:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableRow"],{key:"events_in"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableRowCell"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.logstash.pipeline.detailDrawer.eventsReceivedLabel",defaultMessage:"Events Received"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableRowCell"],null,external_kbnSharedDeps_React_default.a.createElement("div",{className:"lspvDetailDrawerSparklineContainer"},external_kbnSharedDeps_React_default.a.createElement(sparkline_Sparkline,{series:vertex.stats.events_in.data,options:{xaxis:vertex.stats.events_in.timeRange},tooltip:{enabled:true,xValueFormatter:timeseriesTooltipXValueFormatter,yValueFormatter:eventsInValueFormatter}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableRowCell"],null,eventsInValueFormatter(latestEventsIn)));const eventsOutValueFormatter=eventsInValueFormatter;const latestEventsOut=Array.isArray(vertex.stats.events_out.data)&&vertex.stats.events_out.data.length>0?Object(external_kbnSharedDeps_Lodash_["last"])(vertex.stats.events_out.data)[1]:null;const eventsOutRow=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableRow"],{key:"events_out"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableRowCell"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.logstash.pipeline.detailDrawer.eventsEmittedLabel",defaultMessage:"Events Emitted"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableRowCell"],null,external_kbnSharedDeps_React_default.a.createElement("div",{className:"lspvDetailDrawerSparklineContainer"},external_kbnSharedDeps_React_default.a.createElement(sparkline_Sparkline,{series:vertex.stats.events_out.data,options:{xaxis:vertex.stats.events_out.timeRange},tooltip:{enabled:true,xValueFormatter:timeseriesTooltipXValueFormatter,yValueFormatter:eventsOutValueFormatter}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableRowCell"],null,eventsOutValueFormatter(latestEventsOut)));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTable"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableBody"],null,eventsLatencyRow,eventsOutRateRow,eventsInRow,eventsOutRow))}function renderIfBasicStats(){return external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.logstash.pipeline.detailDrawer.noMetricsForIfDescription",defaultMessage:"There are currently no metrics to show for this if condition."}))}function renderQueueBasicStats(){return external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.logstash.pipeline.detailDrawer.noMetricsForQueueDescription",defaultMessage:"There are currently no metrics to show for the queue."}))}function renderBasicStats(vertex,timeseriesTooltipXValueFormatter){switch(vertex.typeString){case"plugin":return renderPluginBasicStats(vertex,timeseriesTooltipXValueFormatter);break;case"if":return renderIfBasicStats(vertex,timeseriesTooltipXValueFormatter);break;case"queue":return renderQueueBasicStats(vertex,timeseriesTooltipXValueFormatter);break}}function renderPluginBasicInfo(vertex){if(vertex.hasExplicitId){return external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.logstash.pipeline.detailDrawer.vertexIdDescription",defaultMessage:"This {vertexType}'s ID is {vertexId}.",values:{vertexType:vertex.typeString,vertexId:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],null,vertex.id)}}))}return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.logstash.pipeline.detailDrawer.specifyVertexIdDescription",defaultMessage:"This {vertexType} does not have an ID explicitly specified. Specifying an ID allows you to track differences across pipeline changes. You can explicitly specify an ID for this plugin like so:",values:{vertexType:vertex.typeString}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],null,vertex.name," ",`{\n  id => "mySpecialId"\n}`),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null))}function renderIfBasicInfo(vertex){const ifCode=`if (${vertex.subtitle}) {\n  ...\n}`;return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.logstash.pipeline.detailDrawer.conditionalStatementDescription",defaultMessage:"This is a conditional statement in your pipeline."})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],null,ifCode),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null))}function renderQueueBasicInfo(){return external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.logstash.pipeline.detailDrawer.structureDescription",defaultMessage:"This is an internal structure used by Logstash to buffer events between inputs and the rest of the pipeline."}))}function renderBasicInfo(vertex){switch(vertex.typeString){case"plugin":return renderPluginBasicInfo(vertex);break;case"if":return renderIfBasicInfo(vertex);break;case"queue":return renderQueueBasicInfo(vertex);break}}function renderTitle(vertex){switch(vertex.typeString){case"plugin":return`${vertex.title} ${vertex.pluginType}`;break;case"if":case"queue":return vertex.title;break}}function DetailDrawer({vertex:vertex,onHide:onHide,timeseriesTooltipXValueFormatter:timeseriesTooltipXValueFormatter}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyout"],{size:"s",onClose:onHide},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutHeader"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"baseline",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},renderIcon(vertex)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],null,external_kbnSharedDeps_React_default.a.createElement("h2",null,renderTitle(vertex)))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,renderBasicInfo(vertex),renderBasicStats(vertex,timeseriesTooltipXValueFormatter))))}function StatementListHeading({iconType:iconType,title:title}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s",responsive:false,alignItems:"baseline"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:iconType})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h4",null,title))))}var views_queue=__webpack_require__(214);function queue_Queue(){return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(StatementListHeading,{iconType:"logstashQueue",title:"Queue"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{className:"monPipelineViewer__queueMessage"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.logstash.pipeline.queue.noMetricsDescription",defaultMessage:"Queue metrics not available"})))}class Statement{constructor(vertex){const{id:id,hasExplicitId:hasExplicitId,stats:stats,meta:meta}=vertex;this.id=id;this.hasExplicitId=hasExplicitId;this.stats=stats;this.meta=meta;this.vertex=vertex}}class Element{constructor(id,statement,depth,parentId){this.id=id;this.statement=statement;this.depth=depth;this.parentId=parentId}}class plugin_element_PluginElement extends Element{constructor(statement,depth,parentId){const{id:id}=statement;super(id,statement,depth,parentId)}}class plugin_statement_PluginStatement extends Statement{constructor(vertex){super(vertex);const{pluginType:pluginType,name:name}=vertex;this.pluginType=pluginType;this.name=name}toList(depth,parentId){return[new plugin_element_PluginElement(this,depth,parentId)]}static fromPipelineGraphVertex(pluginVertex){return new plugin_statement_PluginStatement(pluginVertex)}}var collapsible_statement=__webpack_require__(223);function getToggleIconType(isCollapsed){return isCollapsed?"arrowRight":"arrowDown"}function CollapsibleStatement(props){const{collapse:collapse,expand:expand,id:id,isCollapsed:isCollapsed}=props;const toggleClicked=()=>{if(isCollapsed){expand(id)}else{collapse(id)}};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{responsive:false,gutterSize:"none",alignItems:"center",className:"monPipelineViewer__collapsibleStatement"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{key:id,grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonIcon"],{"aria-label":"collapse",color:"text",iconType:getToggleIconType(isCollapsed),onClick:toggleClicked,size:"s"})),props.children)}class if_element_IfElement extends Element{constructor(statement,depth,parentId){const{id:id}=statement;super(id,statement,depth,parentId)}}var classnames=__webpack_require__(232);var classnames_default=__webpack_require__.n(classnames);var views_metric=__webpack_require__(233);function Metric({className:className,warning:warning,value:value}){const classes=classnames_default()("monPipelineViewer__metric",className);let stylizedValue;if(warning){stylizedValue=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],{color:"warning",className:className},value)}else{stylizedValue=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s",color:"subdued",className:classes},external_kbnSharedDeps_React_default.a.createElement("span",null,value))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{className:"monPipelineViewer__metricFlexItem",grow:false},stylizedValue)}var plugin_statement=__webpack_require__(242);function getInputStatementMetrics({latestEventsPerSecond:latestEventsPerSecond}){return[external_kbnSharedDeps_React_default.a.createElement(Metric,{key:"eventsEmitted",className:"monPipelineViewer__metric--eventsEmitted",value:formatMetric(latestEventsPerSecond,"0.[00]a","e/s emitted")})]}function getProcessorStatementMetrics(processorVertex){const{latestMillisPerEvent:latestMillisPerEvent,latestEventsPerSecond:latestEventsPerSecond,percentOfTotalProcessorTime:percentOfTotalProcessorTime}=processorVertex;return[external_kbnSharedDeps_React_default.a.createElement(Metric,{key:"cpuMetric",className:"monPipelineViewer__metric--cpuTime",warning:processorVertex.isTimeConsuming(),value:formatMetric(Math.round(percentOfTotalProcessorTime||0),"0","%",{prependSpace:false})}),external_kbnSharedDeps_React_default.a.createElement(Metric,{key:"eventMillis",className:"monPipelineViewer__metric--eventMillis",warning:processorVertex.isSlow(),value:formatMetric(latestMillisPerEvent,"0.[00]a","ms/e")}),external_kbnSharedDeps_React_default.a.createElement(Metric,{key:"eventsReceived",className:"monPipelineViewer__metric--events",value:formatMetric(latestEventsPerSecond,"0.[00]a","e/s received")})]}function renderPluginStatementMetrics(pluginType,vertex){return pluginType==="input"?getInputStatementMetrics(vertex):getProcessorStatementMetrics(vertex)}function views_plugin_statement_PluginStatement({statement:{hasExplicitId:hasExplicitId,id:id,name:name,pluginType:pluginType,vertex:vertex},onShowVertexDetails:onShowVertexDetails}){const statementMetrics=renderPluginStatementMetrics(pluginType,vertex);const onNameButtonClick=()=>{onShowVertexDetails(vertex)};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center",className:"monPipelineViewer__pluginStatement",gutterSize:"none",justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"center",gutterSize:"xs",responsive:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{"aria-label":name,className:"monPipelineViewer__plugin",color:"primary",flush:"left",iconType:"dot",onClick:onNameButtonClick,size:"xs"},external_kbnSharedDeps_React_default.a.createElement("span",null,name))),hasExplicitId&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBadge"],{onClick:onNameButtonClick,onClickAriaLabel:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.pipelineStatement.viewDetailsAriaLabel",{defaultMessage:"View details"})},id)))),statementMetrics&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"s"},statementMetrics)))}var views_statement=__webpack_require__(251);function renderStatementName(name,onVertexSelected){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,key:"statementName"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{"aria-label":name,color:"text",size:"xs",onClick:onVertexSelected,flush:"left"},external_kbnSharedDeps_React_default.a.createElement("span",{className:"monPipelineViewer__conditional"},name)))}function renderIfStatement({condition:condition},onVertexSelected){return[renderStatementName("if",onVertexSelected),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{key:"ifContent",grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],{fontSize:"s",paddingSize:"none",transparentBackground:true},condition))]}function getStatementBody(isIf,statement,vertex,onShowVertexDetails){const showVertexDetailsClicked=()=>{onShowVertexDetails(vertex)};return isIf?renderIfStatement(statement,showVertexDetailsClicked):renderStatementName("else",showVertexDetailsClicked)}function renderNestingSpacers(depth){const spacers=[];for(let i=0;i<depth;i+=1){spacers.push(external_kbnSharedDeps_React_default.a.createElement("div",{key:`spacer_${i}`,className:"monPipelineViewer__spacer"}))}return spacers}function renderStatement({collapse:collapse,element:element,element:{id:id,statement:statement,statement:{vertex:vertex}},expand:expand,isCollapsed:isCollapsed,onShowVertexDetails:onShowVertexDetails}){if(statement instanceof plugin_statement_PluginStatement){return external_kbnSharedDeps_React_default.a.createElement(views_plugin_statement_PluginStatement,{statement:statement,onShowVertexDetails:onShowVertexDetails})}const statementBody=getStatementBody(element instanceof if_element_IfElement,statement,vertex,onShowVertexDetails);return external_kbnSharedDeps_React_default.a.createElement(CollapsibleStatement,{expand:expand,collapse:collapse,isCollapsed:isCollapsed,id:id},statementBody)}function statement_Statement(props){const{depth:depth}=props.element;return external_kbnSharedDeps_React_default.a.createElement("li",{className:`monPipelineViewer__listItem`},external_kbnSharedDeps_React_default.a.createElement("div",{className:"monPipelineViewer__spaceContainer"},renderNestingSpacers(depth)),renderStatement(props))}function statement_list_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function getCollapsedChildIds(elements,collapsedIds){const collapsedChildIds=new Set;elements.forEach(({id:id,parentId:parentId})=>{if(collapsedIds.has(parentId)||collapsedChildIds.has(parentId)){collapsedChildIds.add(id)}});return collapsedChildIds}class statement_list_StatementList extends external_kbnSharedDeps_React_default.a.PureComponent{constructor(props){super(props);statement_list_defineProperty(this,"expand",elementId=>{const collapsedIds=new Set(this.state.collapsedIds);collapsedIds.delete(elementId);this.updateCollapsedElement(collapsedIds)});statement_list_defineProperty(this,"collapse",elementId=>{const collapsedIds=new Set(this.state.collapsedIds);collapsedIds.add(elementId);this.updateCollapsedElement(collapsedIds)});statement_list_defineProperty(this,"updateCollapsedElement",collapsedIds=>{const{elements:elements}=this.props;const collapsedChildIds=getCollapsedChildIds(elements,collapsedIds);this.setState({collapsedIds:collapsedIds,collapsedChildIds:collapsedChildIds})});statement_list_defineProperty(this,"elementIsCollapsed",elementId=>this.state.collapsedIds.has(elementId));statement_list_defineProperty(this,"renderStatement",element=>{const{id:id,parentId:parentId}=element;const{onShowVertexDetails:onShowVertexDetails}=this.props;return this.state.collapsedIds.has(parentId)||this.state.collapsedChildIds.has(parentId)?null:external_kbnSharedDeps_React_default.a.createElement(statement_Statement,{key:id,element:element,collapse:this.collapse,expand:this.expand,isCollapsed:this.elementIsCollapsed(id),onShowVertexDetails:onShowVertexDetails})});this.state={collapsedIds:new Set,collapsedChildIds:new Set}}render(){const{elements:elements}=this.props;return external_kbnSharedDeps_React_default.a.createElement("ul",{className:"monPipelineViewer__list"},elements.map(this.renderStatement))}}function StatementSection({iconType:iconType,headingText:headingText,elements:elements,onShowVertexDetails:onShowVertexDetails}){if(!elements.length){return null}return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(StatementListHeading,{iconType:iconType,title:headingText}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(statement_list_StatementList,{elements:elements,onShowVertexDetails:onShowVertexDetails}))}function pipeline_viewer_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class pipeline_viewer_PipelineViewer extends external_kbnSharedDeps_React_default.a.Component{constructor(){super();pipeline_viewer_defineProperty(this,"renderDetailDrawer",()=>{if(!this.props.detailVertex){return null}return external_kbnSharedDeps_React_default.a.createElement(DetailDrawer,{vertex:this.props.detailVertex,onHide:()=>this.props.setDetailVertexId(undefined),timeseriesTooltipXValueFormatter:this.props.timeseriesTooltipXValueFormatter})});this.state={detailDrawer:{vertex:null}}}render(){const{inputs:inputs,filters:filters,outputs:outputs,queue:queue}=this.props.pipeline;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],{verticalPosition:"center",horizontalPosition:"center",className:"monPipelineViewer"},external_kbnSharedDeps_React_default.a.createElement(StatementSection,{iconType:"logstashInput",headingText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.pipelineViewer.inputsTitle",{defaultMessage:"Inputs"}),elements:inputs,onShowVertexDetails:this.props.setDetailVertexId}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(queue_Queue,{queue:queue}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(StatementSection,{iconType:"logstashFilter",headingText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.pipelineViewer.filtersTitle",{defaultMessage:"Filters"}),elements:filters,onShowVertexDetails:this.props.setDetailVertexId}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(StatementSection,{iconType:"logstashOutput",headingText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.pipelineViewer.outputsTitle",{defaultMessage:"Outputs"}),elements:outputs,onShowVertexDetails:this.props.setDetailVertexId}),this.renderDetailDrawer())))}}function isVertexPipelineStage(vertex,pipelineStage){return vertex&&vertex.pipelineStage===pipelineStage}class else_element_ElseElement extends Element{constructor(statement,depth,parentId){const{id:id}=statement;super(`${id}_else`,statement,depth,parentId)}}function makeStatementsForOutgoingVertices(outgoingVertices,statements,next,pipelineStage){outgoingVertices.forEach(vertex=>{let currentVertex=vertex;while(isVertexPipelineStage(currentVertex,pipelineStage)&&currentVertex!==next){statements.push(makeStatement(currentVertex,pipelineStage));currentVertex=currentVertex.next}})}function addStatementsToList(list,statements,depth,id){statements.forEach(statement=>{list.push(...statement.toList(depth,id))})}class if_statement_IfStatement extends Statement{constructor(vertex,trueStatements,elseStatements){super(vertex);const{name:name}=vertex;this.condition=name;this.trueStatements=trueStatements;this.elseStatements=elseStatements}toList(depth,parentId){const list=[];const ifElement=new if_element_IfElement(this,depth,parentId);list.push(ifElement);const nestedElementDepth=depth+1;addStatementsToList(list,this.trueStatements,nestedElementDepth,ifElement.id);if(this.elseStatements.length){const elseElement=new else_element_ElseElement(this,depth,parentId);list.push(elseElement);addStatementsToList(list,this.elseStatements,nestedElementDepth,elseElement.id)}return list}static fromPipelineGraphVertex(ifVertex,pipelineStage){const trueStatements=[];const elseStatements=[];const{trueOutgoingVertices:trueOutgoingVertices,falseOutgoingVertices:falseOutgoingVertices}=ifVertex;const next=ifVertex.next;makeStatementsForOutgoingVertices(trueOutgoingVertices,trueStatements,next,pipelineStage);makeStatementsForOutgoingVertices(falseOutgoingVertices,elseStatements,next,pipelineStage);return new if_statement_IfStatement(ifVertex,trueStatements,elseStatements)}}class pipeline_queue_Queue extends Statement{static fromPipelineGraphVertex(queueVertex){return new pipeline_queue_Queue(queueVertex)}}function makeStatement(pipelineGraphVertex,pipelineStage){switch(pipelineGraphVertex.typeString){case"plugin":return plugin_statement_PluginStatement.fromPipelineGraphVertex(pipelineGraphVertex,pipelineStage);case"if":return if_statement_IfStatement.fromPipelineGraphVertex(pipelineGraphVertex,pipelineStage);case"queue":return pipeline_queue_Queue.fromPipelineGraphVertex(pipelineGraphVertex,pipelineStage);default:throw new Error(`Unknown vertex class: ${pipelineGraphVertex.typeString}`)}}function getInputStatements(pipelineGraph){return pipelineGraph.getVertices().filter(v=>v.pipelineStage==="input").map(makeStatement)}function isFilterStageVertex(vertex){return vertex.pipelineStage==="filter"}function isVertexOrphan(vertex){return vertex.incomingVertices.length===0}function isVertexChildOfQueue(vertex){return vertex.incomingVertices.every(p=>p instanceof queue_vertex_QueueVertex)}function getFilterStatements(pipelineGraph){const allVertices=pipelineGraph.getVertices();const allFilterVertices=allVertices.filter(v=>isFilterStageVertex(v));const startFilterVertex=pipelineGraph.hasQueueVertex?allFilterVertices.find(v=>isVertexChildOfQueue(v)):allFilterVertices.find(v=>isVertexOrphan(v));if(!startFilterVertex){return[]}const filterStatements=[];let currentVertex=startFilterVertex;while(isVertexPipelineStage(currentVertex,"filter")){filterStatements.push(makeStatement(currentVertex,"filter"));currentVertex=currentVertex.next}return filterStatements}function getQueue(pipelineGraph){return pipelineGraph.hasQueueVertex?makeStatement(pipelineGraph.queueVertex):null}function getOutputStatements(pipelineGraph){return pipelineGraph.getVertices().filter(v=>v.pipelineStage==="output"&&!v.incomingVertices.some(p=>p.pipelineStage==="output")).map(v=>makeStatement(v,"output"))}class Pipeline{constructor(inputStatements,filterStatements,outputStatements,queue){this.inputStatements=inputStatements;this.filterStatements=filterStatements;this.outputStatements=outputStatements;this.queue=queue}static fromPipelineGraph(pipelineGraph){const inputStatements=getInputStatements(pipelineGraph);const filterStatements=getFilterStatements(pipelineGraph);const outputStatements=getOutputStatements(pipelineGraph);const queue=getQueue(pipelineGraph);return new Pipeline(inputStatements,filterStatements,outputStatements,queue)}}let previousPipelineHash=undefined;let detailVertexId=undefined;function pipeline_getPageData($injector){const $route=$injector.get("$route");const $http=$injector.get("$http");const globalState=$injector.get("globalState");const minIntervalSeconds=$injector.get("minIntervalSeconds");const Private=$injector.get("Private");const{ccs:ccs,cluster_uuid:clusterUuid}=globalState;const pipelineId=$route.current.params.id;const pipelineHash=$route.current.params.hash||"";if(pipelineHash!==previousPipelineHash){previousPipelineHash=pipelineHash;detailVertexId=undefined}const url=pipelineHash?`../api/monitoring/v1/clusters/${clusterUuid}/logstash/pipeline/${pipelineId}/${pipelineHash}`:`../api/monitoring/v1/clusters/${clusterUuid}/logstash/pipeline/${pipelineId}`;return $http.post(url,{ccs:ccs,detailVertexId:detailVertexId}).then(response=>response.data).then(data=>{data.versions=data.versions.map(version=>{const relativeFirstSeen=formatTimestampToDuration(version.firstSeen,constants["t"]);const relativeLastSeen=formatTimestampToDuration(version.lastSeen,constants["t"]);const fudgeFactorSeconds=2*minIntervalSeconds;const isLastSeenCloseToNow=Date.now()-version.lastSeen<=fudgeFactorSeconds*1e3;return{...version,relativeFirstSeen:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.pipeline.relativeFirstSeenAgoLabel",{defaultMessage:"{relativeFirstSeen} ago",values:{relativeFirstSeen:relativeFirstSeen}}),relativeLastSeen:isLastSeenCloseToNow?external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.pipeline.relativeLastSeenNowLabel",{defaultMessage:"now"}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.pipeline.relativeLastSeenAgoLabel",{defaultMessage:"until {relativeLastSeen} ago",values:{relativeLastSeen:relativeLastSeen}})}});return data}).catch(err=>{const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}uiRoutes.when("/logstash/pipelines/:id/:hash?",{template:logstash_pipeline,resolve:{clusters(Private){const routeInit=Private(routeInitProvider);return routeInit({codePaths:[constants["D"]]})},pageData:pipeline_getPageData},controller:class extends base_controller_MonitoringViewBaseController{constructor($injector,$scope){const config=$injector.get("config");const dateFormat=config.get("dateFormat");super({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.pipeline.routeTitle",{defaultMessage:"Logstash - Pipeline"}),storageKey:"logstash.pipelines",getPageData:pipeline_getPageData,reactNodeId:"monitoringLogstashPipelineApp",$scope:$scope,options:{enableTimeFilter:false},$injector:$injector});const timeseriesTooltipXValueFormatter=xValue=>external_kbnSharedDeps_Moment_default()(xValue).format(dateFormat);const setDetailVertexId=vertex=>{if(!vertex){detailVertexId=undefined}else{detailVertexId=vertex.id}return this.updateData()};$scope.$watch(()=>this.data,data=>{if(!data||!data.pipeline){return}this.setPageTitle(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstash.pipeline.pageTitle",{defaultMessage:"Logstash pipeline: {pipeline}",values:{pipeline:data.pipeline.id}}));this.pipelineState=new pipeline_state_PipelineState(data.pipeline);this.detailVertex=data.vertex?vertexFactory(null,data.vertex):null;this.renderReact(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,external_kbnSharedDeps_React_default.a.createElement(pipeline_viewer_PipelineViewer,{pipeline:list_List.fromPipeline(Pipeline.fromPipelineGraph(this.pipelineState.config.graph)),timeseriesTooltipXValueFormatter:timeseriesTooltipXValueFormatter,setDetailVertexId:setDetailVertexId,detailVertex:this.detailVertex})))))});$scope.$on("$destroy",()=>{previousPipelineHash=undefined;detailVertexId=undefined})}}});function overview_get_page_data_getPageData($injector){const $http=$injector.get("$http");const globalState=$injector.get("globalState");const timeBounds=Legacy.shims.timefilter.getBounds();const url=`../api/monitoring/v1/clusters/${globalState.cluster_uuid}/beats`;return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(response=>response.data).catch(err=>{const Private=$injector.get("Private");const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}var beats_overview='<monitoring-main\n  product="beats"\n  name="overview"\n  data-test-subj="beatsOverviewPage"\n>\n  <div id="monitoringBeatsOverviewApp"></div>\n</monitoring-main>\n';function LatestActive({latestActive:latestActive}){const rangeMap={last1m:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.overview.latestActive.last1MinuteLabel",{defaultMessage:"Last 1 minute"}),last5m:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.overview.latestActive.last5MinutesLabel",{defaultMessage:"Last 5 minutes"}),last20m:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.overview.latestActive.last20MinutesLabel",{defaultMessage:"Last 20 minutes"}),last1h:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.overview.latestActive.last1HourLabel",{defaultMessage:"Last 1 hour"}),last1d:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.overview.latestActive.last1DayLabel",{defaultMessage:"Last 1 day"})};const activity=latestActive.map(({range:range,count:count})=>({range:rangeMap[range],count:count}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBasicTable"],{items:activity,columns:[{field:"range",name:""},{field:"count",dataType:"number",name:""}]})}function LatestVersions({latestVersions:latestVersions}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBasicTable"],{items:latestVersions,columns:[{field:"version",name:""},{field:"count",dataType:"number",name:""}]})}function LatestTypes({latestTypes:latestTypes}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBasicTable"],{items:latestTypes,columns:[{field:"type",name:""},{field:"count",dataType:"number",name:""}]})}function Stats({stats:stats,alerts:alerts}){const{total:total,types:types,stats:{bytesSent:bytesSent,totalEvents:totalEvents}}=stats;const metrics=[{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.overview.totalBeatsLabel",{defaultMessage:"Total Beats"}),value:formatMetric(total,"int_commas"),"data-test-subj":"totalBeats"}];metrics.push(...types.map(({type:type,count:count})=>({label:type,value:formatMetric(count,"int_commas"),"data-test-subj":"typeCount","data-test-type-count":`${type}:${count}`})));metrics.push({label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.overview.totalEventsLabel",{defaultMessage:"Total Events"}),value:formatMetric(totalEvents,"0.[0]a"),"data-test-subj":"totalEvents"});metrics.push({label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.overview.bytesSentLabel",{defaultMessage:"Bytes Sent"}),value:formatMetric(bytesSent,"byte"),"data-test-subj":"bytesSent"});return external_kbnSharedDeps_React_default.a.createElement(SummaryStatus,{metrics:metrics,alerts:alerts,"data-test-subj":"beatsSummaryStatus"})}function beats_overview_overview_extends(){beats_overview_overview_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return beats_overview_overview_extends.apply(this,arguments)}function renderLatestActive(latestActive,latestTypes,latestVersions){if(latestTypes&&latestTypes.length>0){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{wrap:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.beats.overview.activeBeatsInLastDayTitle",defaultMessage:"Active Beats in last day"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(LatestActive,{latestActive:latestActive})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.beats.overview.top5BeatTypesInLastDayTitle",defaultMessage:"Top 5 Beat Types in last day"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(LatestTypes,{latestTypes:latestTypes})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.beats.overview.top5VersionsInLastDayTitle",defaultMessage:"Top 5 Versions in last day"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(LatestVersions,{latestVersions:latestVersions})))}const calloutMsg=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.overview.noActivityDescription",{defaultMessage:"Hi there! This area is where your latest Beats activity would show up, "+`but you don't seem to have any activity within the last day.`});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:calloutMsg,iconType:"gear","data-test-subj":"noRecentActivityMessage"})}function BeatsOverview({latestActive:latestActive,latestTypes:latestTypes,latestVersions:latestVersions,stats:stats,metrics:metrics,alerts:alerts,...props}){const seriesToShow=[metrics.beat_event_rates,metrics.beat_fail_rates,metrics.beat_throughput_rates,metrics.beat_output_errors];const charts=seriesToShow.map((data,index)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{style:{minWidth:"45%"},key:index},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(MonitoringTimeseriesContainer,beats_overview_overview_extends({series:data},props)))));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiScreenReaderOnly"],null,external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.beats.overview.heading",defaultMessage:"Beats Overview"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(Stats,{stats:stats,alerts:alerts})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,renderLatestActive(latestActive,latestTypes,latestVersions)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{wrap:true},charts))))}function beats_overview_extends(){beats_overview_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return beats_overview_extends.apply(this,arguments)}uiRoutes.when("/beats",{template:beats_overview,resolve:{clusters:function(Private){const routeInit=Private(routeInitProvider);return routeInit({codePaths:[constants["z"]]})},pageData:overview_get_page_data_getPageData},controllerAs:"beats",controller:class extends base_controller_MonitoringViewBaseController{constructor($injector,$scope){const $route=$injector.get("$route");const globalState=$injector.get("globalState");$scope.cluster=Object(external_kbnSharedDeps_Lodash_["find"])($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});super({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.overview.routeTitle",{defaultMessage:"Beats - Overview"}),pageTitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.overview.pageTitle",{defaultMessage:"Beats overview"}),getPageData:overview_get_page_data_getPageData,$scope:$scope,$injector:$injector,reactNodeId:"monitoringBeatsOverviewApp"});this.data=$route.current.locals.pageData;$scope.$watch(()=>this.data,data=>{this.renderReact(external_kbnSharedDeps_React_default.a.createElement(BeatsOverview,beats_overview_extends({},data,{onBrush:$scope.onBrush,zoomInfo:$scope.zoomInfo})))})}}});function listing_get_page_data_getPageData($injector){const $http=$injector.get("$http");const globalState=$injector.get("globalState");const timeBounds=Legacy.shims.timefilter.getBounds();const url=`../api/monitoring/v1/clusters/${globalState.cluster_uuid}/beats/beats`;return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(response=>response.data).catch(err=>{const Private=$injector.get("Private");const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}var beats_listing='<monitoring-main\n  product="beats"\n  name="beats"\n  data-test-subj="beatsListingPage"\n>\n  <div id="monitoringBeatsInstancesApp" ng-init="beats.renderComponent()"></div>\n</monitoring-main>';class beats_listing_listing_Listing extends external_kbnSharedDeps_React_["PureComponent"]{getColumns(){const setupMode=this.props.setupMode;return[{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.instances.nameTitle",{defaultMessage:"Name"}),field:"name",render:(name,beat)=>{let setupModeStatus=null;if(isSetupModeFeatureEnabled(enums["d"].MetricbeatMigration)){const list=Object(external_kbnSharedDeps_Lodash_["get"])(setupMode,"data.byUuid",{});const status=list[beat.uuid]||{};const instance={uuid:beat.uuid,name:beat.name};setupModeStatus=external_kbnSharedDeps_React_default.a.createElement("div",{className:"monTableCell__setupModeStatus"},external_kbnSharedDeps_React_default.a.createElement(SetupModeBadge,{setupMode:setupMode,status:status,instance:instance,productName:constants["s"]}))}return external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:getSafeForExternalLink(`#/beats/beat/${beat.uuid}`),"data-test-subj":`beatLink-${name}`},name),setupModeStatus)}},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.instances.typeTitle",{defaultMessage:"Type"}),field:"type"},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.instances.outputEnabledTitle",{defaultMessage:"Output Enabled"}),field:"output"},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.instances.totalEventsRateTitle",{defaultMessage:"Total Events Rate"}),field:"total_events_rate",render:value=>formatMetric(value,"","/s")},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.instances.bytesSentRateTitle",{defaultMessage:"Bytes Sent Rate"}),field:"bytes_sent_rate",render:value=>formatMetric(value,"byte","/s")},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.instances.outputErrorsTitle",{defaultMessage:"Output Errors"}),field:"errors",render:value=>formatMetric(value,"0")},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.instances.allocatedMemoryTitle",{defaultMessage:"Allocated Memory"}),field:"memory",render:value=>formatMetric(value,"byte")},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.instances.versionTitle",{defaultMessage:"Version"}),field:"version"}]}render(){const{stats:stats,data:data,sorting:sorting,pagination:pagination,onTableChange:onTableChange,setupMode:setupMode}=this.props;let setupModeCallOut=null;if(isSetupModeFeatureEnabled(enums["d"].MetricbeatMigration)){setupModeCallOut=external_kbnSharedDeps_React_default.a.createElement(ListingCallOut,{setupModeData:setupMode.data,useNodeIdentifier:false,productName:constants["s"]})}const types=Object(external_kbnSharedDeps_Lodash_["uniq"])(data.map(item=>item.type)).map(type=>({value:type}));const versions=Object(external_kbnSharedDeps_Lodash_["uniq"])(data.map(item=>item.version)).map(version=>({value:version}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiScreenReaderOnly"],null,external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.beats.listing.heading",defaultMessage:"Beats listing"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(Stats,{stats:stats})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,setupModeCallOut,external_kbnSharedDeps_React_default.a.createElement(EuiMonitoringTable,{className:"beatsTable",rows:data,setupMode:setupMode,productName:constants["s"],columns:this.getColumns(),sorting:sorting,pagination:pagination,search:{box:{incremental:true,placeholder:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.filterBeatsPlaceholder",{defaultMessage:"Filter Beats..."})},filters:[{type:"field_value_selection",field:"type",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.instances.typeFilter",{defaultMessage:"Type"}),options:types,multiSelect:"or"},{type:"field_value_selection",field:"version",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.instances.versionFilter",{defaultMessage:"Version"}),options:versions,multiSelect:"or"}]},onTableChange:onTableChange,executeQueryOptions:{defaultFields:["name","type"]}}))))}}uiRoutes.when("/beats/beats",{template:beats_listing,resolve:{clusters:function(Private){const routeInit=Private(routeInitProvider);return routeInit({codePaths:[constants["z"]]})},pageData:listing_get_page_data_getPageData},controllerAs:"beats",controller:class BeatsListing extends base_eui_table_controller_MonitoringViewBaseEuiTableController{constructor($injector,$scope){const $route=$injector.get("$route");const globalState=$injector.get("globalState");$scope.cluster=Object(external_kbnSharedDeps_Lodash_["find"])($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});super({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.routeTitle",{defaultMessage:"Beats"}),pageTitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.listing.pageTitle",{defaultMessage:"Beats listing"}),telemetryPageViewTitle:"beats_listing",storageKey:"beats.beats",getPageData:listing_get_page_data_getPageData,reactNodeId:"monitoringBeatsInstancesApp",$scope:$scope,$injector:$injector});this.data=$route.current.locals.pageData;this.scope=$scope;this.injector=$injector;this.onTableChangeRender=this.renderComponent;$scope.$watch(()=>this.data,()=>this.renderComponent())}renderComponent(){const{sorting:sorting,pagination:pagination,onTableChange:onTableChange}=this.scope.beats;this.renderReact(external_kbnSharedDeps_React_default.a.createElement(setup_mode_SetupModeRenderer,{scope:this.scope,injector:this.injector,productName:constants["s"],render:({setupMode:setupMode,flyoutComponent:flyoutComponent,bottomBarComponent:bottomBarComponent})=>external_kbnSharedDeps_React_default.a.createElement(SetupModeContext.Provider,{value:{setupModeSupported:true}},flyoutComponent,external_kbnSharedDeps_React_default.a.createElement(beats_listing_listing_Listing,{stats:this.data.stats,data:this.data.listing,setupMode:setupMode,sorting:this.sorting||sorting,pagination:this.pagination||pagination,onTableChange:this.onTableChange||onTableChange}),bottomBarComponent)}))}}});function beat_get_page_data_getPageData($injector){const $http=$injector.get("$http");const $route=$injector.get("$route");const globalState=$injector.get("globalState");const url=`../api/monitoring/v1/clusters/${globalState.cluster_uuid}/beats/beat/${$route.current.params.beatUuid}`;const timeBounds=Legacy.shims.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(response=>response.data).catch(err=>{const Private=$injector.get("Private");const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}var beats_beat='<monitoring-main\n  product="beats"\n  name="detail"\n  instance="{{ beat.data.summary.name }}"\n  resolver="{{ beat.data.summary.uuid }}"\n  page="overview"\n  data-test-subj="beatDetailPage"\n>\n  <div id="monitoringBeatsInstanceApp"></div>\n  \x3c!-- <monitoring-beats-beat data="beat.data" on-brush="beat.onBrush" zoom-info="beat.zoomInfo"></monitoring-beats-beat> --\x3e\n</monitoring-main>\n';function beat_extends(){beat_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return beat_extends.apply(this,arguments)}function Beat({summary:summary,metrics:metrics,...props}){const metricsToShow=[metrics.beat_event_rates,metrics.beat_fail_rates,metrics.beat_throughput_rates,metrics.beat_output_errors,metrics.beat_memory,metrics.beat_cpu_utilization,metrics.beat_os_load,metrics.beat_handles];const summarytStatsTop=[{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.instance.nameLabel",{defaultMessage:"Name"}),value:summary.name,"data-test-subj":"name"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.instance.hostLabel",{defaultMessage:"Host"}),value:summary.transportAddress,"data-test-subj":"host"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.instance.versionLabel",{defaultMessage:"Version"}),value:summary.version,"data-test-subj":"version"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.instance.typeLabel",{defaultMessage:"Type"}),value:summary.type,"data-test-subj":"type"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.instance.outputLabel",{defaultMessage:"Output"}),value:summary.output,"data-test-subj":"output"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.instance.configReloadsLabel",{defaultMessage:"Config reloads"}),value:formatMetric(summary.configReloads,"int_commas"),"data-test-subj":"configReloads"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.instance.uptimeLabel",{defaultMessage:"Uptime"}),value:formatMetric(summary.uptime,"time_since"),"data-test-subj":"uptime"}];const summarytStatsBot=[{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.instance.eventsTotalLabel",{defaultMessage:"Events total"}),value:formatMetric(summary.eventsTotal,"int_commas"),"data-test-subj":"eventsTotal"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.instance.eventsEmittedLabel",{defaultMessage:"Events emitted"}),value:formatMetric(summary.eventsEmitted,"int_commas"),"data-test-subj":"eventsEmitted"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.instance.eventsDroppedLabel",{defaultMessage:"Events dropped"}),value:formatMetric(summary.eventsDropped,"int_commas"),"data-test-subj":"eventsDropped"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.instance.bytesSentLabel",{defaultMessage:"Bytes sent"}),value:formatMetric(summary.bytesWritten,"byte"),"data-test-subj":"bytesWritten"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.instance.handlesLimitSoftLabel",{defaultMessage:"Handles limit (soft)"}),value:formatMetric(summary.handlesSoftLimit,"int_commas"),"data-test-subj":"handlesLimitSoft"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.instance.handlesLimitHardLabel",{defaultMessage:"Handles limit (hard)"}),value:formatMetric(summary.handlesHardLimit,"int_commas"),"data-test-subj":"handlesLimitHard"}];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(SummaryStatus,{metrics:summarytStatsTop,"data-test-subj":"beatSummaryStatus01"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(SummaryStatus,{metrics:summarytStatsBot,"data-test-subj":"beatSummaryStatus02"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGrid"],{columns:2,gutterSize:"s"},metricsToShow.map((metric,index)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{key:index},external_kbnSharedDeps_React_default.a.createElement(MonitoringTimeseriesContainer,beat_extends({series:metric},props)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null)))))))}uiRoutes.when("/beats/beat/:beatUuid",{template:beats_beat,resolve:{clusters:function(Private){const routeInit=Private(routeInitProvider);return routeInit({codePaths:[constants["z"]]})},pageData:beat_get_page_data_getPageData},controllerAs:"beat",controller:class BeatDetail extends base_controller_MonitoringViewBaseController{constructor($injector,$scope){const $route=$injector.get("$route");const globalState=$injector.get("globalState");$scope.cluster=Object(external_kbnSharedDeps_Lodash_["find"])($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});const pageData=$route.current.locals.pageData;super({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.instance.routeTitle",{defaultMessage:"Beats - {instanceName} - Overview",values:{instanceName:pageData.summary.name}}),pageTitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.beats.instance.pageTitle",{defaultMessage:"Beat instance: {beatName}",values:{beatName:pageData.summary.name}}),telemetryPageViewTitle:"beats_instance",getPageData:beat_get_page_data_getPageData,$scope:$scope,$injector:$injector,reactNodeId:"monitoringBeatsInstanceApp"});this.data=pageData;$scope.$watch(()=>this.data,data=>{this.renderReact(external_kbnSharedDeps_React_default.a.createElement(Beat,{summary:data.summary,metrics:data.metrics,onBrush:$scope.onBrush,zoomInfo:$scope.zoomInfo}))})}}});var apm_overview='<monitoring-main\n  product="apm"\n  name="overview"\n  data-test-subj="apmOverviewPage"\n>\n  <div id="apmOverviewReact"></div>\n</monitoring-main>\n';function ApmStatusIcon({status:status,availability:availability=true}){const type=(()=>{if(!availability){return StatusIcon.TYPES.GRAY}const statusKey=status.toUpperCase();return StatusIcon.TYPES[statusKey]||StatusIcon.TYPES.YELLOW})();return external_kbnSharedDeps_React_default.a.createElement(StatusIcon,{type:type,label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.healthStatusLabel",{defaultMessage:"Health: {status}",values:{status:status}})})}function instances_status_Status({alerts:alerts,stats:stats}){const{apms:{total:total},totalEvents:totalEvents,timeOfLastEvent:timeOfLastEvent}=stats;const metrics=[{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.instances.status.serversLabel",{defaultMessage:"Servers"}),value:total,"data-test-subj":"total"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.instances.status.totalEventsLabel",{defaultMessage:"Total Events"}),value:formatMetric(totalEvents,"0.[0]a"),"data-test-subj":"totalEvents"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.instances.status.lastEventLabel",{defaultMessage:"Last Event"}),value:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.instances.status.lastEventDescription",{defaultMessage:"{timeOfLastEvent} ago",values:{timeOfLastEvent:formatTimestampToDuration(+external_kbnSharedDeps_Moment_default()(timeOfLastEvent),constants["t"])}}),"data-test-subj":"timeOfLastEvent"}];const IconComponent=({status:status})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.apm.instances.statusDescription",defaultMessage:"Status: {apmStatusIcon}",values:{apmStatusIcon:external_kbnSharedDeps_React_default.a.createElement(ApmStatusIcon,{status:status})}}));return external_kbnSharedDeps_React_default.a.createElement(SummaryStatus,{metrics:metrics,alerts:alerts,IconComponent:IconComponent,"data-test-subj":"apmDetailStatus"})}function apm_overview_extends(){apm_overview_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return apm_overview_extends.apply(this,arguments)}function ApmOverview({stats:stats,metrics:metrics,alerts:alerts,...props}){const seriesToShow=[metrics.apm_responses_valid,metrics.apm_responses_errors,metrics.apm_output_events_rate_success,metrics.apm_output_events_rate_failure,metrics.apm_requests,metrics.apm_transformations,metrics.apm_cpu,metrics.apm_memory,metrics.apm_os_load];const charts=seriesToShow.map((data,index)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{style:{minWidth:"45%"},key:index},external_kbnSharedDeps_React_default.a.createElement(MonitoringTimeseriesContainer,apm_overview_extends({series:data},props))));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiScreenReaderOnly"],null,external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.apm.overview.heading",defaultMessage:"APM server overview"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(instances_status_Status,{stats:stats,alerts:alerts})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{wrap:true},charts))))}function views_apm_overview_extends(){views_apm_overview_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return views_apm_overview_extends.apply(this,arguments)}uiRoutes.when("/apm",{template:apm_overview,resolve:{clusters:function(Private){const routeInit=Private(routeInitProvider);return routeInit({codePaths:[constants["y"]]})}},controller:class extends base_controller_MonitoringViewBaseController{constructor($injector,$scope){const $route=$injector.get("$route");const globalState=$injector.get("globalState");$scope.cluster=Object(external_kbnSharedDeps_Lodash_["find"])($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});super({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.overview.routeTitle",{defaultMessage:"APM server"}),pageTitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.overview.pageTitle",{defaultMessage:"APM server overview"}),api:`../api/monitoring/v1/clusters/${globalState.cluster_uuid}/apm`,defaultData:{},reactNodeId:"apmOverviewReact",$scope:$scope,$injector:$injector});$scope.$watch(()=>this.data,data=>{this.renderReact(external_kbnSharedDeps_React_default.a.createElement(ApmOverview,views_apm_overview_extends({},data,{onBrush:this.onBrush,zoomInfo:this.zoomInfo})))})}}});var apm_instances='<monitoring-main\n  product="apm"\n  name="apms"\n  data-test-subj="apmInstancesPage"\n>\n  <div id="apmInstancesReact"></div>\n</monitoring-main>\n';function instances_instances_getColumns(alerts,setupMode){return[{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.instances.nameTitle",{defaultMessage:"Name"}),field:"name",render:(name,apm)=>{let setupModeStatus=null;if(isSetupModeFeatureEnabled(enums["d"].MetricbeatMigration)){const list=Object(external_kbnSharedDeps_Lodash_["get"])(setupMode,"data.byUuid",{});const status=list[apm.uuid]||{};const instance={uuid:apm.uuid,name:apm.name};setupModeStatus=external_kbnSharedDeps_React_default.a.createElement("div",{className:"monTableCell__setupModeStatus"},external_kbnSharedDeps_React_default.a.createElement(SetupModeBadge,{setupMode:setupMode,status:status,instance:instance,productName:constants["r"]}))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:getSafeForExternalLink(`#/apm/instances/${apm.uuid}`),"data-test-subj":`apmLink-${name}`},name),setupModeStatus)}},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.instances.outputEnabledTitle",{defaultMessage:"Output Enabled"}),field:"output"},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.instances.totalEventsRateTitle",{defaultMessage:"Total Events Rate"}),field:"total_events_rate",render:value=>formatMetric(value,"","/s")},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.instances.bytesSentRateTitle",{defaultMessage:"Bytes Sent Rate"}),field:"bytes_sent_rate",render:value=>formatMetric(value,"byte","/s")},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.instances.outputErrorsTitle",{defaultMessage:"Output Errors"}),field:"errors",render:value=>formatMetric(value,"0")},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.instances.lastEventTitle",{defaultMessage:"Last Event"}),field:"time_of_last_event",render:value=>external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.instances.lastEventValue",{defaultMessage:"{timeOfLastEvent} ago",values:{timeOfLastEvent:formatTimestampToDuration(+external_kbnSharedDeps_Moment_default()(value),"since")}})},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.instances.allocatedMemoryTitle",{defaultMessage:"Allocated Memory"}),field:"memory",render:value=>formatMetric(value,"byte")},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.instances.versionTitle",{defaultMessage:"Version"}),field:"version"}]}function ApmServerInstances({apms:apms,alerts:alerts,setupMode:setupMode}){const{pagination:pagination,sorting:sorting,onTableChange:onTableChange,data:data}=apms;let setupModeCallout=null;if(isSetupModeFeatureEnabled(enums["d"].MetricbeatMigration)){setupModeCallout=external_kbnSharedDeps_React_default.a.createElement(ListingCallOut,{setupModeData:setupMode.data,useNodeIdentifier:false,productName:constants["r"]})}const versions=Object(external_kbnSharedDeps_Lodash_["uniq"])(data.apms.map(item=>item.version)).map(version=>({value:version}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiScreenReaderOnly"],null,external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.apm.instances.heading",defaultMessage:"APM Instances"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(instances_status_Status,{stats:data.stats,alerts:alerts})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,setupModeCallout,external_kbnSharedDeps_React_default.a.createElement(EuiMonitoringTable,{className:"apmInstancesTable",rows:data.apms,columns:instances_instances_getColumns(alerts,setupMode),sorting:sorting,pagination:pagination,setupMode:setupMode,productName:constants["r"],search:{box:{incremental:true,placeholder:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.instances.filterInstancesPlaceholder",{defaultMessage:"Filter Instances…"})},filters:[{type:"field_value_selection",field:"version",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.instances.versionFilter",{defaultMessage:"Version"}),options:versions,multiSelect:"or"}]},onTableChange:onTableChange,executeQueryOptions:{defaultFields:["name"]}}))))}uiRoutes.when("/apm/instances",{template:apm_instances,resolve:{clusters:function(Private){const routeInit=Private(routeInitProvider);return routeInit({codePaths:[constants["y"]]})}},controller:class extends base_eui_table_controller_MonitoringViewBaseEuiTableController{constructor($injector,$scope){const $route=$injector.get("$route");const globalState=$injector.get("globalState");$scope.cluster=Object(external_kbnSharedDeps_Lodash_["find"])($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});super({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.instances.routeTitle",{defaultMessage:"{apm} - Instances",values:{apm:"APM server"}}),pageTitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.instances.pageTitle",{defaultMessage:"APM server instances"}),storageKey:"apm.instances",api:`../api/monitoring/v1/clusters/${globalState.cluster_uuid}/apm/instances`,defaultData:{},reactNodeId:"apmInstancesReact",$scope:$scope,$injector:$injector});this.scope=$scope;this.injector=$injector;this.onTableChangeRender=this.renderComponent;$scope.$watch(()=>this.data,()=>this.renderComponent())}renderComponent(){const{pagination:pagination,sorting:sorting,onTableChange:onTableChange}=this;const component=external_kbnSharedDeps_React_default.a.createElement(setup_mode_SetupModeRenderer,{scope:this.scope,injector:this.injector,productName:constants["r"],render:({setupMode:setupMode,flyoutComponent:flyoutComponent,bottomBarComponent:bottomBarComponent})=>external_kbnSharedDeps_React_default.a.createElement(SetupModeContext.Provider,{value:{setupModeSupported:true}},flyoutComponent,external_kbnSharedDeps_React_default.a.createElement(ApmServerInstances,{setupMode:setupMode,apms:{pagination:pagination,sorting:sorting,onTableChange:onTableChange,data:this.data}}),bottomBarComponent)});this.renderReact(component)}}});var apm_instance='<monitoring-main\n  product="apm"\n  name="apm"\n  instance="{{ pageData.apmSummary.name }}"\n  data-test-subj="apmInstancePage"\n>\n  <div id="apmInstanceReact"></div>\n</monitoring-main>\n';function instance_status_Status({alerts:alerts,stats:stats}){const{name:name,output:output,version:version,uptime:uptime,timeOfLastEvent:timeOfLastEvent}=stats;const metrics=[{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.instance.status.nameLabel",{defaultMessage:"Name"}),value:name,"data-test-subj":"name"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.instance.status.outputLabel",{defaultMessage:"Output"}),value:output,"data-test-subj":"output"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.instance.status.versionLabel",{defaultMessage:"Version"}),value:version,"data-test-subj":"version"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.instance.status.uptimeLabel",{defaultMessage:"Uptime"}),value:formatMetric(uptime,"time_since"),"data-test-subj":"uptime"},{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.instance.status.lastEventLabel",{defaultMessage:"Last Event"}),value:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.instance.status.lastEventDescription",{defaultMessage:"{timeOfLastEvent} ago",values:{timeOfLastEvent:formatTimestampToDuration(+external_kbnSharedDeps_Moment_default()(timeOfLastEvent),constants["t"])}}),"data-test-subj":"timeOfLastEvent"}];const IconComponent=({status:status})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.apm.instance.statusDescription",defaultMessage:"Status: {apmStatusIcon}",values:{apmStatusIcon:external_kbnSharedDeps_React_default.a.createElement(ApmStatusIcon,{status:status})}}));return external_kbnSharedDeps_React_default.a.createElement(SummaryStatus,{metrics:metrics,alerts:alerts,IconComponent:IconComponent,"data-test-subj":"apmDetailStatus"})}function instance_extends(){instance_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return instance_extends.apply(this,arguments)}function ApmServerInstance({summary:summary,metrics:metrics,...props}){const seriesToShow=[metrics.apm_requests,metrics.apm_responses_valid,metrics.apm_responses_errors,metrics.apm_acm_request_count,metrics.apm_acm_response,metrics.apm_acm_response_errors,metrics.apm_output_events_rate_success,metrics.apm_output_events_rate_failure,metrics.apm_transformations,metrics.apm_cpu,metrics.apm_memory,metrics.apm_os_load];const charts=seriesToShow.map((data,index)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{style:{minWidth:"45%"},key:index},external_kbnSharedDeps_React_default.a.createElement(MonitoringTimeseriesContainer,instance_extends({series:data},props))));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiScreenReaderOnly"],null,external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.apm.instance.heading",defaultMessage:"APM server instance"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(instance_status_Status,{stats:summary})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{wrap:true},charts))))}uiRoutes.when("/apm/instances/:uuid",{template:apm_instance,resolve:{clusters:function(Private){const routeInit=Private(routeInitProvider);return routeInit({codePaths:[constants["y"]]})}},controller:class extends base_controller_MonitoringViewBaseController{constructor($injector,$scope){const $route=$injector.get("$route");const title=$injector.get("title");const globalState=$injector.get("globalState");$scope.cluster=Object(external_kbnSharedDeps_Lodash_["find"])($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});super({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.instance.routeTitle",{defaultMessage:"{apm} - Instance",values:{apm:"APM server"}}),telemetryPageViewTitle:"apm_server_instance",api:`../api/monitoring/v1/clusters/${globalState.cluster_uuid}/apm/${$route.current.params.uuid}`,defaultData:{},reactNodeId:"apmInstanceReact",$scope:$scope,$injector:$injector});$scope.$watch(()=>this.data,data=>{this.setPageTitle(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.apm.instance.pageTitle",{defaultMessage:"APM server instance: {instanceName}",values:{instanceName:Object(external_kbnSharedDeps_Lodash_["get"])(data,"apmSummary.name")}}));title($scope.cluster,`APM server - ${Object(external_kbnSharedDeps_Lodash_["get"])(data,"apmSummary.name")}`);this.renderReact(external_kbnSharedDeps_React_default.a.createElement(ApmServerInstance,{summary:data.apmSummary||{},metrics:data.metrics||{},onBrush:this.onBrush,zoomInfo:this.zoomInfo}))})}}});var loading='<monitoring-main name="no-data" on-loaded="monitoringLoading.init">\n  <div data-test-subj="monitoringLoadingContainer">\n    <div id="monitoringLoadingReact"></div>\n  </div>\n</monitoring-main>\n';const loading_CODE_PATHS=[constants["A"]];uiRoutes.when("/loading",{template:loading,controllerAs:"monitoringLoading",controller:class{constructor($injector,$scope){const Private=$injector.get("Private");const titleService=$injector.get("title");titleService($scope.cluster,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.loading.pageTitle",{defaultMessage:"Loading"}));this.init=()=>{const reactNodeId="monitoringLoadingReact";const renderElement=document.getElementById(reactNodeId);if(!renderElement){console.warn(`"#${reactNodeId}" element has not been added to the DOM yet`);return}const I18nContext=Legacy.shims.I18nContext;Object(external_kbnSharedDeps_ReactDom_["render"])(external_kbnSharedDeps_React_default.a.createElement(I18nContext,null,external_kbnSharedDeps_React_default.a.createElement(PageLoading,null)),renderElement)};const routeInit=Private(routeInitProvider);routeInit({codePaths:loading_CODE_PATHS,fetchAllClusters:true,unsetGlobalState:true}).then(clusters=>{if(!clusters||!clusters.length){window.location.hash="#/no-data";$scope.$apply();return}if(clusters.length===1){window.history.replaceState(null,null,"#/overview");$scope.$apply();return}window.history.replaceState(null,null,"#/home");$scope.$apply()}).catch(err=>{const Private=$injector.get("Private");const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return $scope.$apply(()=>ajaxErrorHandlers(err))})}}});var angular_sanitize=__webpack_require__(260);var angular_route=__webpack_require__(262);var public_0=__webpack_require__(264);var external_kbnSharedDeps_KbnI18nAngular_=__webpack_require__(26);var node_modules_history=__webpack_require__(273);var data_public_=__webpack_require__(27);function url_state_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const GLOBAL_STATE_KEY="_g";const objectEquals=(objA,objB)=>JSON.stringify(objA)===JSON.stringify(objB);class url_state_GlobalState{constructor(queryService,toasts,rootScope,ngLocation,externalState){url_state_defineProperty(this,"stateSyncRef",void 0);url_state_defineProperty(this,"stateContainer",void 0);url_state_defineProperty(this,"stateStorage",void 0);url_state_defineProperty(this,"stateContainerChangeSub",void 0);url_state_defineProperty(this,"syncQueryStateWithUrlManager",void 0);url_state_defineProperty(this,"timefilterRef",void 0);url_state_defineProperty(this,"lastAssignedState",{});url_state_defineProperty(this,"lastKnownGlobalState",void 0);this.timefilterRef=queryService.timefilter.timefilter;const history=Object(node_modules_history["createHashHistory"])();this.stateStorage=Object(kibanaUtils_public_["createKbnUrlStateStorage"])({useHash:false,history:history,...Object(kibanaUtils_public_["withNotifyOnErrors"])(toasts)});const initialStateFromUrl=this.stateStorage.get(GLOBAL_STATE_KEY);this.stateContainer=Object(kibanaUtils_public_["createStateContainer"])(initialStateFromUrl,{set:state=>(prop,value)=>({...state,[prop]:value})});this.stateSyncRef=Object(kibanaUtils_public_["syncState"])({storageKey:GLOBAL_STATE_KEY,stateContainer:this.stateContainer,stateStorage:this.stateStorage});this.stateContainerChangeSub=this.stateContainer.state$.subscribe(()=>{this.lastAssignedState=this.getState();if(!this.stateContainer.get()&&this.lastKnownGlobalState){ngLocation.search(`${GLOBAL_STATE_KEY}=${this.lastKnownGlobalState}`).replace()}Legacy.shims.breadcrumbs.update();this.syncExternalState(externalState);rootScope.$applyAsync()});this.syncQueryStateWithUrlManager=Object(data_public_["syncQueryStateWithUrl"])(queryService,this.stateStorage);this.stateSyncRef.start();this.startHashSync(rootScope,ngLocation);this.lastAssignedState=this.getState();rootScope.$on("$destroy",()=>this.destroy())}syncExternalState(externalState){const currentState=this.stateContainer.get();for(const key in currentState){if({save:1,time:1,refreshInterval:1,filters:1}[key]){continue}if(currentState[key]!==externalState[key]){externalState[key]=currentState[key]}}}startHashSync(rootScope,ngLocation){rootScope.$on("$routeChangeStart",(_,newState,oldState)=>{var _oldState$params,_newState$params;const currentGlobalState=oldState===null||oldState===void 0?void 0:(_oldState$params=oldState.params)===null||_oldState$params===void 0?void 0:_oldState$params._g;const nextGlobalState=newState===null||newState===void 0?void 0:(_newState$params=newState.params)===null||_newState$params===void 0?void 0:_newState$params._g;if(!nextGlobalState&&currentGlobalState&&typeof currentGlobalState==="string"){newState.params._g=currentGlobalState;ngLocation.search(`${GLOBAL_STATE_KEY}=${currentGlobalState}`).replace()}this.lastKnownGlobalState=nextGlobalState||currentGlobalState})}setState(state){const currentAppState=this.getState();const newAppState={...currentAppState,...state};if(state&&objectEquals(newAppState,currentAppState)){return}const newState={...newAppState,refreshInterval:this.timefilterRef.getRefreshInterval(),time:this.timefilterRef.getTime()};this.lastAssignedState=newState;this.stateContainer.set(newState)}getState(){const currentState={...this.lastAssignedState,...this.stateContainer.get()};delete currentState.filters;const{refreshInterval:_nullA,time:_nullB,...currentAppState}=currentState;return currentAppState||{}}destroy(){this.syncQueryStateWithUrlManager.stop();this.stateContainerChangeSub.unsubscribe();this.stateSyncRef.stop()}}const nextId=Object(external_kbnSharedDeps_Lodash_["partial"])(external_kbnSharedDeps_Lodash_["uniqueId"],"privateProvider#");function private_name(fn){return fn.name||fn.toString().split("\n").shift()}function PrivateProvider(){const provider=this;const cache={};const swaps={};function identify(fn){if(typeof fn!=="function"){throw new TypeError('Expected private module "'+fn+'" to be a function')}if(fn.$$id)return fn.$$id;else return fn.$$id=nextId()}provider.stub=function(fn,instance){cache[identify(fn)]=instance;return instance};provider.swap=function(fn,prov){const id=identify(fn);swaps[id]=prov};provider.$get=["$injector",function PrivateFactory($injector){const privPath=[];const pathToString=function(){return privPath.map(private_name).join(" -> ")};function instantiate(prov,locals){if(~privPath.indexOf(prov)){throw new Error('Circular reference to "'+private_name(prov)+'"'+" found while resolving private deps: "+pathToString())}privPath.push(prov);const context={};let instance=$injector.invoke(prov,context,locals);if(!Object(external_kbnSharedDeps_Lodash_["isObject"])(instance))instance=context;privPath.pop();return instance}function get(id,prov,$delegateId,$delegateProv){if(cache[id])return cache[id];let instance;if($delegateId!=null&&$delegateProv!=null){instance=instantiate(prov,{$decorate:Object(external_kbnSharedDeps_Lodash_["partial"])(get,$delegateId,$delegateProv)})}else{instance=instantiate(prov)}return cache[id]=instance}function Private(prov){let id=identify(prov);let $delegateId;let $delegateProv;if(swaps[id]){$delegateId=id;$delegateProv=prov;prov=swaps[$delegateId];id=identify(prov)}return get(id,prov,$delegateId,$delegateProv)}Private.stub=provider.stub;Private.swap=provider.swap;return Private}];return provider}const createCrumb=(url,label,testSubj,ignoreGlobalState=false)=>{const crumb={url:url,label:label,ignoreGlobalState:ignoreGlobalState};if(testSubj){crumb.testSubj=testSubj}return crumb};function getElasticsearchBreadcrumbs(mainInstance){const breadcrumbs=[];if(mainInstance.instance){breadcrumbs.push(createCrumb("#/elasticsearch","Elasticsearch"));if(mainInstance.name==="indices"){breadcrumbs.push(createCrumb("#/elasticsearch/indices",external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.breadcrumbs.es.indicesLabel",{defaultMessage:"Indices"}),"breadcrumbEsIndices"))}else if(mainInstance.name==="nodes"){breadcrumbs.push(createCrumb("#/elasticsearch/nodes",external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.breadcrumbs.es.nodesLabel",{defaultMessage:"Nodes"}),"breadcrumbEsNodes"))}else if(mainInstance.name==="ml"){breadcrumbs.push(createCrumb("#/elasticsearch/ml_jobs",external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.breadcrumbs.es.jobsLabel",{defaultMessage:"Machine learning jobs"})))}else if(mainInstance.name==="ccr_shard"){breadcrumbs.push(createCrumb("#/elasticsearch/ccr",external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.breadcrumbs.es.ccrLabel",{defaultMessage:"CCR"})))}breadcrumbs.push(createCrumb(null,mainInstance.instance))}else{breadcrumbs.push(createCrumb(null,"Elasticsearch"))}return breadcrumbs}function getKibanaBreadcrumbs(mainInstance){const breadcrumbs=[];if(mainInstance.instance){breadcrumbs.push(createCrumb("#/kibana","Kibana"));breadcrumbs.push(createCrumb("#/kibana/instances",external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.breadcrumbs.kibana.instancesLabel",{defaultMessage:"Instances"})));breadcrumbs.push(createCrumb(null,mainInstance.instance))}else{breadcrumbs.push(createCrumb(null,"Kibana"))}return breadcrumbs}function getLogstashBreadcrumbs(mainInstance){const logstashLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.breadcrumbs.logstashLabel",{defaultMessage:"Logstash"});const breadcrumbs=[];if(mainInstance.instance){breadcrumbs.push(createCrumb("#/logstash",logstashLabel));if(mainInstance.name==="nodes"){breadcrumbs.push(createCrumb("#/logstash/nodes",external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.breadcrumbs.logstash.nodesLabel",{defaultMessage:"Nodes"})))}breadcrumbs.push(createCrumb(null,mainInstance.instance))}else if(mainInstance.page==="pipeline"){breadcrumbs.push(createCrumb("#/logstash",logstashLabel));breadcrumbs.push(createCrumb("#/logstash/pipelines",external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.breadcrumbs.logstash.pipelinesLabel",{defaultMessage:"Pipelines"})))}else{breadcrumbs.push(createCrumb(null,logstashLabel))}return breadcrumbs}function getBeatsBreadcrumbs(mainInstance){const beatsLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.breadcrumbs.beatsLabel",{defaultMessage:"Beats"});const breadcrumbs=[];if(mainInstance.instance){breadcrumbs.push(createCrumb("#/beats",beatsLabel));breadcrumbs.push(createCrumb("#/beats/beats",external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.breadcrumbs.beats.instancesLabel",{defaultMessage:"Instances"})));breadcrumbs.push(createCrumb(null,mainInstance.instance))}else{breadcrumbs.push(createCrumb(null,beatsLabel))}return breadcrumbs}function getApmBreadcrumbs(mainInstance){const apmLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.breadcrumbs.apmLabel",{defaultMessage:"APM server"});const breadcrumbs=[];if(mainInstance.instance){breadcrumbs.push(createCrumb("#/apm",apmLabel));breadcrumbs.push(createCrumb("#/apm/instances",external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.breadcrumbs.apm.instancesLabel",{defaultMessage:"Instances"})));breadcrumbs.push(createCrumb(null,mainInstance.instance))}else{breadcrumbs.push(createCrumb(null,apmLabel))}return breadcrumbs}function breadcrumbsProvider(){return function createBreadcrumbs(clusterName,mainInstance){const homeCrumb=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.breadcrumbs.clustersLabel",{defaultMessage:"Clusters"});let breadcrumbs=[createCrumb("#/home",homeCrumb,"breadcrumbClusters",true)];if(!mainInstance.inOverview&&clusterName){breadcrumbs.push(createCrumb("#/overview",clusterName))}if(mainInstance.inElasticsearch){breadcrumbs=breadcrumbs.concat(getElasticsearchBreadcrumbs(mainInstance))}if(mainInstance.inKibana){breadcrumbs=breadcrumbs.concat(getKibanaBreadcrumbs(mainInstance))}if(mainInstance.inLogstash){breadcrumbs=breadcrumbs.concat(getLogstashBreadcrumbs(mainInstance))}if(mainInstance.inBeats){breadcrumbs=breadcrumbs.concat(getBeatsBreadcrumbs(mainInstance))}if(mainInstance.inApm){breadcrumbs=breadcrumbs.concat(getApmBreadcrumbs(mainInstance))}Legacy.shims.breadcrumbs.set(breadcrumbs.map(b=>({text:b.label,href:b.url,"data-test-subj":b.testSubj,ignoreGlobalState:b.ignoreGlobalState})));return breadcrumbs}}const enterSetupModeLabel=()=>external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.internalMonitoringToast.enterSetupMode",{defaultMessage:"Enter setup mode"});const learnMoreLabel=()=>external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.internalMonitoringToast.learnMoreAction",{defaultMessage:"Learn more"});const showIfLegacyOnlyIndices=()=>{const blogUrl=Legacy.shims.docLinks.links.monitoring.metricbeatBlog;const toast=Legacy.shims.toastNotifications.addWarning({title:Object(kibanaReact_public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.internalMonitoringToast.title",defaultMessage:"Internal Monitoring Detected"})),text:Object(kibanaReact_public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.internalMonitoringToast.description",{defaultMessage:`It appears you are using "Legacy Collection" for Stack Monitoring.\n            This method of monitoring will no longer be supported in the next major release (8.0.0).\n            Please follow the steps in setup mode to start monitoring with Metricbeat.`})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{onClick:()=>{Legacy.shims.toastNotifications.remove(toast);toggleSetupMode(true)}},enterSetupModeLabel()),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:blogUrl,external:true,target:"_blank"},learnMoreLabel())))})};const showIfLegacyAndMetricbeatIndices=()=>{const blogUrl=Legacy.shims.docLinks.links.monitoring.metricbeatBlog;const toast=Legacy.shims.toastNotifications.addWarning({title:Object(kibanaReact_public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.internalAndMetricbeatMonitoringToast.title",defaultMessage:"Partial Legacy Monitoring Detected"})),text:Object(kibanaReact_public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.internalAndMetricbeatMonitoringToast.description",{defaultMessage:`It appears you are using both Metricbeat and "Legacy Collection" for Stack Monitoring.\n            In 8.0.0, you must use Metricbeat to collect monitoring data.\n            Please follow the steps in setup mode to migrate the rest of the monitoring to Metricbeat.`})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{onClick:()=>{Legacy.shims.toastNotifications.remove(toast);toggleSetupMode(true)}},enterSetupModeLabel()),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:blogUrl,external:true,target:"_blank"},learnMoreLabel())))})};const showInternalMonitoringToast=({legacyIndices:legacyIndices,metricbeatIndices:metricbeatIndices})=>{if(isInSetupMode()){return}if(legacyIndices&&!metricbeatIndices){showIfLegacyOnlyIndices()}else if(legacyIndices&&metricbeatIndices){showIfLegacyAndMetricbeatIndices()}};const showTlsAndEncryptionError=()=>{const settingsUrl=Legacy.shims.docLinks.links.alerting.generalSettings;Legacy.shims.toastNotifications.addWarning({title:Object(kibanaReact_public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.healthCheck.tlsAndEncryptionErrorTitle",defaultMessage:"Additional setup required"})),text:Object(kibanaReact_public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.healthCheck.tlsAndEncryptionError",{defaultMessage:`Stack monitoring alerts require Transport Layer Security between Kibana and Elasticsearch, and an encryption key in your kibana.yml file.`})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"xs"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:settingsUrl,external:true,target:"_blank"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.healthCheck.encryptionErrorAction",{defaultMessage:"Learn how."}))))})};const showUnableToDisableWatcherClusterAlertsError=()=>{const settingsUrl=Legacy.shims.docLinks.links.alerting.generalSettings;Legacy.shims.toastNotifications.addWarning({title:Object(kibanaReact_public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.healthCheck.unableToDisableWatches.title",defaultMessage:"Legacy cluster alerts still active"})),text:Object(kibanaReact_public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.healthCheck.unableToDisableWatches.text",{defaultMessage:`We failed to remove legacy cluster alerts. Please check the Kibana server log for more details, or try again later.`})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"xs"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:settingsUrl,external:true,target:"_blank"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.healthCheck.unableToDisableWatches.action",{defaultMessage:"Learn more."}))))})};const showDisabledWatcherClusterAlertsError=()=>{Legacy.shims.toastNotifications.addWarning({title:Object(kibanaReact_public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.healthCheck.disabledWatches.title",defaultMessage:"New alerts created"})),text:Object(kibanaReact_public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.healthCheck.disabledWatches.text",{defaultMessage:`Review the alert definition using Setup mode and configure additional action connectors to get notified via your favorite method.`})))})};const showAlertsToast=response=>{const{isSufficientlySecure:isSufficientlySecure,hasPermanentEncryptionKey:hasPermanentEncryptionKey,disabledWatcherClusterAlerts:disabledWatcherClusterAlerts}=response;if(isSufficientlySecure===false||hasPermanentEncryptionKey===false){showTlsAndEncryptionError()}else if(disabledWatcherClusterAlerts===false){showUnableToDisableWatcherClusterAlertsError()}else if(disabledWatcherClusterAlerts===true){showDisabledWatcherClusterAlertsError()}};function formatClusters(clusters){return clusters.map(formatCluster)}function formatCluster(cluster){if(cluster.cluster_uuid===constants["T"]){cluster.cluster_name="Standalone Cluster"}return cluster}let once=false;function monitoringClustersProvider($injector){return async(clusterUuid,ccs,codePaths)=>{const{min:min,max:max}=Legacy.shims.timefilter.getBounds();let url="../api/monitoring/v1/clusters";if(clusterUuid){url+=`/${clusterUuid}`}const $http=$injector.get("$http");async function getClusters(){try{const response=await $http.post(url,{ccs:ccs,timeRange:{min:min.toISOString(),max:max.toISOString()},codePaths:codePaths},{headers:{"kbn-system-request":"true"}});return formatClusters(response.data)}catch(err){const Private=$injector.get("Private");const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}}async function ensureAlertsEnabled(){try{return $http.post("../api/monitoring/v1/alerts/enable",{})}catch(err){const Private=$injector.get("Private");const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}}async function ensureMetricbeatEnabled(){if(Legacy.shims.isCloud){return}const globalState=$injector.get("globalState");try{const response=await $http.post("../api/monitoring/v1/elasticsearch_settings/check/internal_monitoring",{ccs:globalState.ccs});const{data:data}=response;showInternalMonitoringToast({legacyIndices:data.legacy_indices,metricbeatIndices:data.mb_indices})}catch(err){const Private=$injector.get("Private");const ajaxErrorHandlers=Private(ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)}}if(!once){once=true;const clusters=await getClusters();if(clusters.length){try{const[{data:data}]=await Promise.all([ensureAlertsEnabled(),ensureMetricbeatEnabled()]);showAlertsToast(data)}catch(_err){}}return clusters}return await getClusters()}}const subscribeWithScope=($scope,observable,observer)=>observable.subscribe({next(value){if(observer&&observer.next){$scope.$applyAsync(()=>observer.next(value))}},error(error){$scope.$applyAsync(()=>{if(observer&&observer.error){observer.error(error)}else{throw new Error(`Uncaught error in subscribeWithScope(): ${error?error.stack||error.message:error}`)}})},complete(){if(observer&&observer.complete){$scope.$applyAsync(()=>observer.complete())}}});var external_kbnSharedDeps_Rxjs_=__webpack_require__(22);function executorProvider($timeout,$q){const queue=[];const subscriptions=new external_kbnSharedDeps_Rxjs_["Subscription"];let executionTimer;let ignorePaused=false;function reset(){cancel();start()}function killTimer(){if(executionTimer){$timeout.cancel(executionTimer)}}function cancel(){killTimer()}function register(service){queue.push(service)}function destroy(){subscriptions.unsubscribe();cancel();ignorePaused=false;queue.splice(0,queue.length)}function run(){const noop=()=>$q.resolve();return $q.all(queue.map(service=>service.execute().then(service.handleResponse||noop).catch(service.handleError||noop))).finally(reset)}function reFetch(){cancel();run()}function killIfPaused(){if(Legacy.shims.timefilter.getRefreshInterval().pause){killTimer()}}function start(){const timefilter=Legacy.shims.timefilter;if((ignorePaused||timefilter.getRefreshInterval().pause===false)&&timefilter.getRefreshInterval().value>0){executionTimer=$timeout(run,timefilter.getRefreshInterval().value)}}return{register:register,start($scope){$scope.$applyAsync(()=>{const timefilter=Legacy.shims.timefilter;subscriptions.add(subscribeWithScope($scope,timefilter.getFetch$(),{next:reFetch}));subscriptions.add(subscribeWithScope($scope,timefilter.getRefreshIntervalUpdate$(),{next:killIfPaused}));start()})},run:run,destroy:destroy,reset:reset,cancel:cancel}}function featuresProvider($window){function getData(){let returnData={};const monitoringData=$window.localStorage.getItem("xpack.monitoring.data");try{returnData=monitoringData&&JSON.parse(monitoringData)||{}}catch(e){console.error("Monitoring UI: error parsing locally stored monitoring data",e)}return returnData}function update(featureName,value){const monitoringDataObj=getData();monitoringDataObj[featureName]=value;$window.localStorage.setItem("xpack.monitoring.data",JSON.stringify(monitoringDataObj))}function isEnabled(featureName,defaultSetting){const monitoringDataObj=getData();if(Object(external_kbnSharedDeps_Lodash_["has"])(monitoringDataObj,featureName)){return monitoringDataObj[featureName]}if(Object(external_kbnSharedDeps_Lodash_["isUndefined"])(defaultSetting)){return false}return defaultSetting}return{isEnabled:isEnabled,update:update}}function licenseProvider(){return new class LicenseService{constructor(){this.license={type:null,expiry_date_in_millis:-Infinity}}setLicense(license){this.license=license}isBasic(){return this.license.type==="basic"}mlIsSupported(){return Object(external_kbnSharedDeps_Lodash_["includes"])(constants["S"],this.license.type)}doesExpire(){const{expiry_date_in_millis:expiryDateInMillis}=this.license;return expiryDateInMillis!==undefined}isActive(){const{expiry_date_in_millis:expiryDateInMillis}=this.license;return(new Date).getTime()<expiryDateInMillis}isExpired(){if(this.doesExpire()){const{expiry_date_in_millis:expiryDateInMillis}=this.license;return(new Date).getTime()>=expiryDateInMillis}return false}}}function titleProvider($rootScope){return function changeTitle(cluster,suffix){let clusterName=Object(external_kbnSharedDeps_Lodash_["get"])(cluster,"cluster_name");clusterName=clusterName?`- ${clusterName}`:"";suffix=suffix?`- ${suffix}`:"";$rootScope.$applyAsync(()=>{Legacy.shims.docTitle.change(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.stackMonitoringDocTitle",{defaultMessage:"Stack Monitoring {clusterName} {suffix}",values:{clusterName:clusterName,suffix:suffix}}))})}}function MachineLearningJobStatusIcon({status:status}){const type=(()=>{const statusKey=status.toUpperCase();if(statusKey==="OPENED"){return StatusIcon.TYPES.GREEN}else if(statusKey==="CLOSED"){return StatusIcon.TYPES.GRAY}else if(statusKey==="FAILED"){return StatusIcon.TYPES.RED}return StatusIcon.TYPES.YELLOW})();return external_kbnSharedDeps_React_default.a.createElement(StatusIcon,{type:type,label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.mlJobListing.statusIconLabel",{defaultMessage:"Job Status: {status}",values:{status:status}})})}const ml_job_listing_getColumns=()=>[{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.mlJobListing.jobIdTitle",{defaultMessage:"Job ID"}),field:"job_id",sortable:true},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.mlJobListing.stateTitle",{defaultMessage:"State"}),field:"state",sortable:true,render:state=>external_kbnSharedDeps_React_default.a.createElement("div",null,external_kbnSharedDeps_React_default.a.createElement(MachineLearningJobStatusIcon,{status:state})," ",Object(external_kbnSharedDeps_Lodash_["capitalize"])(state))},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.mlJobListing.processedRecordsTitle",{defaultMessage:"Processed Records"}),field:"data_counts.processed_record_count",sortable:true,render:value=>external_kbnSharedDeps_React_default.a.createElement("span",null,external_kbnSharedDeps_ElasticNumeral_default()(value).format(LARGE_ABBREVIATED))},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.mlJobListing.modelSizeTitle",{defaultMessage:"Model Size"}),field:"model_size_stats.model_bytes",sortable:true,render:value=>external_kbnSharedDeps_React_default.a.createElement("span",null,external_kbnSharedDeps_ElasticNumeral_default()(value).format(LARGE_BYTES))},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.mlJobListing.forecastsTitle",{defaultMessage:"Forecasts"}),field:"forecasts_stats.total",sortable:true,render:value=>external_kbnSharedDeps_React_default.a.createElement("span",null,external_kbnSharedDeps_ElasticNumeral_default()(value).format(LARGE_ABBREVIATED))},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.mlJobListing.nodeTitle",{defaultMessage:"Node"}),field:"node.name",sortable:true,render:(name,node)=>{if(node){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:getSafeForExternalLink(`#/elasticsearch/nodes/${node.id}`)},name)}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.monitoring.elasticsearch.mlJobListing.noDataLabel",defaultMessage:"N/A"})}}];function monitoringMlListingProvider(){return{restrict:"E",scope:{jobs:"=",paginationSettings:"=",sorting:"=",onTableChange:"=",status:"="},link(scope,$el){scope.$on("$destroy",()=>$el&&$el[0]&&Object(external_kbnSharedDeps_ReactDom_["unmountComponentAtNode"])($el[0]));const columns=ml_job_listing_getColumns();const filterJobsPlaceholder=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.mlJobListing.filterJobsPlaceholder",{defaultMessage:"Filter Jobs…"});scope.$watch("jobs",(jobs=[])=>{const mlTable=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPage"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],null,external_kbnSharedDeps_React_default.a.createElement(ClusterStatus,{stats:scope.status})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,external_kbnSharedDeps_React_default.a.createElement(EuiMonitoringTable,{className:"mlJobsTable",rows:jobs,columns:columns,sorting:{...scope.sorting,sort:{...scope.sorting.sort,field:"job_id"}},pagination:scope.paginationSettings,message:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.elasticsearch.mlJobListing.noJobsDescription",{defaultMessage:"There are no Machine Learning Jobs that match your query. Try changing the time range selection."}),search:{box:{incremental:true,placeholder:filterJobsPlaceholder}},onTableChange:scope.onTableChange,executeQueryOptions:{defaultFields:["job_id"]}}))));Object(external_kbnSharedDeps_ReactDom_["render"])(mlTable,$el[0])})}}}var main='<div class="app-container">\n  <div class="euiFlexGroup euiFlexGroup--gutterLarge euiFlexGroup--justifyContentSpaceBetween euiFlexGroup--directionRow euiFlexGroup--responsive">\n    <div class="euiFlexItem euiFlexItem--flexGrowZero">\n      <div class="euiFlexGroup euiFlexGroup--gutterNone euiFlexGroup--justifyContentSpaceEvenly euiFlexGroup--responsive euiFlexGroup--directionColumn">\n        <div class="euiFlexItem euiFlexItem--flexGrowZero"><div id="setupModeNav"></div></div>\n        <div class="euiFlexItem euiFlexItem--flexGrowZero monTopNavSecondItem">\n          <div data-test-subj="monitoringPageTitle" ng-if="pageTitle || monitoringMain.instance">\n            <h1 class="euiTitle euiTitle--xsmall">{{pageTitle || monitoringMain.instance}}</h1>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="euiFlexItem euiFlexItem--flexGrowZero">\n      <kbn-top-nav\n        name="monitoringMain.navName"\n        app-name="\'monitoring\'"\n        show-search-bar="true"\n        show-auto-refresh-only="!monitoringMain.datePicker.enableTimeFilter"\n        show-date-picker="monitoringMain.datePicker.enableTimeFilter"\n        date-range-from="monitoringMain.datePicker.timeRange.from"\n        date-range-to="monitoringMain.datePicker.timeRange.to"\n        is-refresh-paused="monitoringMain.datePicker.refreshInterval.pause"\n        refresh-interval="monitoringMain.datePicker.refreshInterval.value"\n        on-refresh-change="monitoringMain.datePicker.onRefreshChange"\n        on-query-submit="monitoringMain.datePicker.onTimeUpdate"\n      >\n      </kbn-top-nav>\n    </div>\n  </div>\n  <div>\n    <div ng-if="monitoringMain.inElasticsearch" class="euiTabs" role="navigation">\n      <a\n        ng-if="!monitoringMain.instance && !monitoringMain.isDisabledTab(\'elasticsearch\')"\n        kbn-href="#/elasticsearch"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}"\n        i18n-id="xpack.monitoring.esNavigation.overviewLinkText"\n        i18n-default-message="Overview"\n      ></a>\n      <a\n        ng-if="!monitoringMain.instance && monitoringMain.isDisabledTab(\'elasticsearch\')"\n        kbn-href=""\n        class="euiTab euiTab-isDisabled"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}"\n        i18n-id="xpack.monitoring.esNavigation.overviewLinkText"\n        i18n-default-message="Overview"\n      ></a>\n      <a\n        ng-if="!monitoringMain.instance"\n        kbn-href="#/elasticsearch/nodes"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'nodes\')}"\n        i18n-id="xpack.monitoring.esNavigation.nodesLinkText"\n        i18n-default-message="Nodes"\n      ></a>\n      <a\n        ng-if="!monitoringMain.instance && !monitoringMain.isDisabledTab(\'elasticsearch\')"\n        kbn-href="#/elasticsearch/indices"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'indices\')}"\n        i18n-id="xpack.monitoring.esNavigation.indicesLinkText"\n        i18n-default-message="Indices"\n      ></a>\n      <a\n        ng-if="!monitoringMain.instance && monitoringMain.isDisabledTab(\'elasticsearch\')"\n        kbn-href=""\n        class="euiTab euiTab-isDisabled"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'indices\')}"\n        i18n-id="xpack.monitoring.esNavigation.indicesLinkText"\n        i18n-default-message="Indices"\n      ></a>\n      <a\n        ng-if="!monitoringMain.instance && monitoringMain.isMlSupported()"\n        kbn-href="#/elasticsearch/ml_jobs"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'ml\')}"\n        i18n-id="xpack.monitoring.esNavigation.jobsLinkText"\n        i18n-default-message="Machine learning jobs"\n      ></a>\n      <a\n        ng-if="(monitoringMain.isCcrEnabled || monitoringMain.isActiveTab(\'ccr\')) && !monitoringMain.instance"\n        kbn-href="#/elasticsearch/ccr"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'ccr\')}"\n        i18n-id="xpack.monitoring.esNavigation.ccrLinkText"\n        i18n-default-message="CCR"\n      ></a>\n      <a\n        ng-if="monitoringMain.instance && (monitoringMain.name === \'nodes\' || monitoringMain.name === \'indices\')"\n        kbn-href="#/elasticsearch/{{ monitoringMain.name }}/{{ monitoringMain.resolver }}"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.page === \'overview\'}"\n      >\n        <span\n          ng-if="monitoringMain.tabIconClass"\n          class="fa {{ monitoringMain.tabIconClass }}"\n          title="{{ monitoringMain.tabIconLabel }}"\n        ></span>\n        <span\n          i18n-id="xpack.monitoring.esNavigation.instance.overviewLinkText"\n          i18n-default-message="Overview"\n        ></span>\n      </a>\n      <a\n        ng-if="monitoringMain.instance && (monitoringMain.name === \'nodes\' || monitoringMain.name === \'indices\')"\n        data-test-subj="esNodeDetailAdvancedLink"\n        kbn-href="#/elasticsearch/{{ monitoringMain.name }}/{{ monitoringMain.resolver }}/advanced"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.page === \'advanced\'}"\n        i18n-id="xpack.monitoring.esNavigation.instance.advancedLinkText"\n        i18n-default-message="Advanced"\n      >\n      </a>\n    </div>\n\n    <div ng-if="monitoringMain.inKibana" class="euiTabs" role="navigation">\n      <a\n        ng-if="!monitoringMain.instance && !monitoringMain.isDisabledTab(\'kibana\')"\n        kbn-href="#/kibana"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}"\n        i18n-id="xpack.monitoring.kibanaNavigation.overviewLinkText"\n        i18n-default-message="Overview"\n      ></a>\n      <a\n        ng-if="!monitoringMain.instance && monitoringMain.isDisabledTab(\'kibana\')"\n        kbn-href=""\n        class="euiTab euiTab-isDisabled"\n        ng-class="{\n          \'euiTab-isSelected\': monitoringMain.isActiveTab(\'overview\'),\n        }"\n        i18n-id="xpack.monitoring.kibanaNavigation.overviewLinkText"\n        i18n-default-message="Overview"\n      ></a>\n      <a\n        ng-if="!monitoringMain.instance"\n        kbn-href="#/kibana/instances"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'kibanas\')}"\n        i18n-id="xpack.monitoring.kibanaNavigation.instancesLinkText"\n        i18n-default-message="Instances"\n      ></a>\n    </div>\n\n    <div ng-if="monitoringMain.inApm" class="euiTabs" role="navigation">\n      <a\n        ng-if="!monitoringMain.instance && !monitoringMain.isDisabledTab(\'apm\')"\n        kbn-href="#/apm"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}"\n        i18n-id="xpack.monitoring.apmNavigation.overviewLinkText"\n        i18n-default-message="Overview"\n      ></a>\n      <a\n        ng-if="!monitoringMain.instance && monitoringMain.isDisabledTab(\'apm\')"\n        kbn-href=""\n        class="euiTab euiTab-isDisabled"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}"\n        i18n-id="xpack.monitoring.apmNavigation.overviewLinkText"\n        i18n-default-message="Overview"\n      ></a>\n      <a\n        ng-if="!monitoringMain.instance"\n        kbn-href="#/apm/instances"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'apms\')}"\n        i18n-id="xpack.monitoring.apmNavigation.instancesLinkText"\n        i18n-default-message="Instances"\n      ></a>\n    </div>\n\n    <div ng-if="monitoringMain.inBeats" class="euiTabs" role="navigation">\n      <a\n        ng-if="!monitoringMain.instance && !monitoringMain.isDisabledTab(\'beats\')"\n        kbn-href="#/beats"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}"\n        i18n-id="xpack.monitoring.beatsNavigation.overviewLinkText"\n        i18n-default-message="Overview"\n      >\n      </a>\n      <a\n        ng-if="!monitoringMain.instance && monitoringMain.isDisabledTab(\'beats\')"\n        kbn-href=""\n        class="euiTab euiTab-isDisabled"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}"\n        i18n-id="xpack.monitoring.beatsNavigation.overviewLinkText"\n        i18n-default-message="Overview"\n      >\n      </a>\n      <a\n        ng-if="!monitoringMain.instance"\n        kbn-href="#/beats/beats"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'beats\')}"\n        i18n-id="xpack.monitoring.beatsNavigation.instancesLinkText"\n        i18n-default-message="Instances"\n      >\n      </a>\n      <a\n        ng-if="monitoringMain.instance"\n        kbn-href="#/beats/beat/{{ monitoringMain.resolver }}"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.page === \'overview\'}"\n        i18n-id="xpack.monitoring.beatsNavigation.instance.overviewLinkText"\n        i18n-default-message="Overview"\n      >\n      </a>\n    </div>\n\n    <div ng-if="monitoringMain.inLogstash" class="euiTabs" role="navigation">\n      <a\n        ng-if="!monitoringMain.instance && !monitoringMain.pipelineId && !monitoringMain.isDisabledTab(\'logstash\')"\n        kbn-href="#/logstash"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}"\n        i18n-id="xpack.monitoring.logstashNavigation.overviewLinkText"\n        i18n-default-message="Overview"\n      >\n      </a>\n      <a\n        ng-if="!monitoringMain.instance && !monitoringMain.pipelineId && monitoringMain.isDisabledTab(\'logstash\')"\n        kbn-href=""\n        class="euiTab euiTab-isDisabled"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}"\n        i18n-id="xpack.monitoring.logstashNavigation.overviewLinkText"\n        i18n-default-message="Overview"\n      >\n      </a>\n      <a\n        ng-if="!monitoringMain.instance && !monitoringMain.pipelineId"\n        kbn-href="#/logstash/nodes"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'nodes\')}"\n        i18n-id="xpack.monitoring.logstashNavigation.nodesLinkText"\n        i18n-default-message="Nodes"\n      >\n      </a>\n      <a\n        ng-if="!monitoringMain.instance && !monitoringMain.pipelineId && !monitoringMain.isDisabledTab(\'logstash\')"\n        kbn-href="#/logstash/pipelines"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'pipelines\')}"\n      >\n        <span\n          i18n-id="xpack.monitoring.logstashNavigation.pipelinesLinkText"\n          i18n-default-message="Pipelines"\n        ></span>\n        <span class="kuiIcon fa-flask monTabs--icon" tooltip="Beta feature"></span>\n      </a>\n      <a\n        ng-if="!monitoringMain.instance && !monitoringMain.pipelineId && monitoringMain.isDisabledTab(\'logstash\')"\n        kbn-href=""\n        class="euiTab euiTab-isDisabled"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.isActiveTab(\'pipelines\')}"\n      >\n        <span\n          i18n-id="xpack.monitoring.logstashNavigation.pipelinesLinkText"\n          i18n-default-message="Pipelines"\n        ></span>\n        <span class="kuiIcon fa-flask monTabs--icon" tooltip="Beta feature"></span>\n      </a>\n      <a\n        ng-if="monitoringMain.instance"\n        kbn-href="#/logstash/node/{{ monitoringMain.resolver }}"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.page === \'overview\'}"\n        i18n-id="xpack.monitoring.logstashNavigation.instance.overviewLinkText"\n        i18n-default-message="Overview"\n      >\n      </a>\n      <a\n        ng-if="monitoringMain.instance"\n        kbn-href="#/logstash/node/{{ monitoringMain.resolver }}/pipelines"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.page === \'pipelines\'}"\n      >\n        <span\n          i18n-id="xpack.monitoring.logstashNavigation.instance.pipelinesLinkText"\n          i18n-default-message="Pipelines"\n        ></span>\n        <span class="kuiIcon fa-flask fa-sm monTabs--icon" tooltip="Beta feature"></span>\n      </a>\n      <a\n        ng-if="monitoringMain.instance"\n        kbn-href="#/logstash/node/{{ monitoringMain.resolver }}/advanced"\n        class="euiTab"\n        ng-class="{\'euiTab-isSelected\': monitoringMain.page === \'advanced\'}"\n        i18n-id="xpack.monitoring.logstashNavigation.instance.advancedLinkText"\n        i18n-default-message="Advanced"\n      >\n      </a>\n      <div\n        class="euiTab"\n        ng-if="monitoringMain.pipelineVersions.length"\n        id="dropdown-elm"\n        ng-init="monitoringMain.dropdownLoadedHandler()"\n      ></div>\n    </div>\n\n    <div ng-if="monitoringMain.inOverview" class="euiTabs" role="navigation">\n      <a class="euiTab" data-test-subj="clusterName">{{ pageData.cluster_name }}</a>\n    </div>\n\n    <div ng-if="monitoringMain.inAlerts" class="euiTabs" role="navigation">\n      <a\n        class="euiTab"\n        data-test-subj="clusterAlertsListingPage"\n        i18n-id="xpack.monitoring.clusterAlertsNavigation.clusterAlertsLinkText"\n        i18n-default-message="Cluster Alerts"\n      ></a>\n    </div>\n\n    <div ng-if="monitoringMain.inListing" class="euiTabs" role="navigation">\n      <a\n        class="euiTab"\n        i18n-id="xpack.monitoring.clustersNavigation.clustersLinkText"\n        i18n-default-message="Clusters"\n      ></a>\n    </div>\n  </div>\n  <div ng-transclude></div>\n</div>\n';var directives_main=__webpack_require__(279);function main_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const setOptions=controller=>{if(!controller.pipelineVersions||!controller.pipelineVersions.length||!controller.pipelineDropdownElement){return}Object(external_kbnSharedDeps_ReactDom_["render"])(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],{value:controller.pipelineHash,options:controller.pipelineVersions.map(option=>({text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.monitoring.logstashNavigation.pipelineVersionDescription",{defaultMessage:"Version active {relativeLastSeen} and first seen {relativeFirstSeen}",values:{relativeLastSeen:option.relativeLastSeen,relativeFirstSeen:option.relativeFirstSeen}}),value:option.hash})),onChange:controller.onChangePipelineHash}))),controller.pipelineDropdownElement)};class main_MonitoringMainController{constructor(){main_defineProperty(this,"addTimerangeObservers",()=>{const timefilter=Legacy.shims.timefilter;this.subscriptions=new external_kbnSharedDeps_Rxjs_["Subscription"];const refreshIntervalUpdated=()=>{const{value:refreshInterval,pause:isPaused}=timefilter.getRefreshInterval();this.datePicker.onRefreshChange({refreshInterval:refreshInterval,isPaused:isPaused},true)};const timeUpdated=()=>{this.datePicker.onTimeUpdate({dateRange:timefilter.getTime()},true)};this.subscriptions.add(timefilter.getRefreshIntervalUpdate$().subscribe(refreshIntervalUpdated));this.subscriptions.add(timefilter.getTimeUpdate$().subscribe(timeUpdated))});this.inListing=false;this.inAlerts=false;this.inOverview=false;this.inElasticsearch=false;this.inKibana=false;this.inLogstash=false;this.inBeats=false;this.inApm=false}dropdownLoadedHandler(){this.pipelineDropdownElement=document.querySelector("#dropdown-elm");setOptions(this)}setup(options){const timefilter=Legacy.shims.timefilter;this._licenseService=options.licenseService;this._breadcrumbsService=options.breadcrumbsService;this._executorService=options.executorService;Object.assign(this,options.attributes);this.navName=`${this.name}-nav`;if(this.product){this.inElasticsearch=this.product==="elasticsearch";this.inKibana=this.product==="kibana";this.inLogstash=this.product==="logstash";this.inBeats=this.product==="beats";this.inApm=this.product==="apm"}else{this.inOverview=this.name==="overview";this.inAlerts=this.name==="alerts";this.inListing=this.name==="listing"}if(!this.inListing){this.breadcrumbs=this._breadcrumbsService(options.clusterName,this)}if(this.pipelineHash){this.pipelineHashShort=shortenPipelineHash(this.pipelineHash);this.onChangePipelineHash=()=>{window.location.hash=getSafeForExternalLink(`#/logstash/pipelines/${this.pipelineId}/${this.pipelineHash}`)}}this.datePicker={enableTimeFilter:timefilter.isTimeRangeSelectorEnabled(),timeRange:timefilter.getTime(),refreshInterval:timefilter.getRefreshInterval(),onRefreshChange:({isPaused:isPaused,refreshInterval:refreshInterval},skipSet=false)=>{this.datePicker.refreshInterval={pause:isPaused,value:refreshInterval};if(!skipSet){timefilter.setRefreshInterval({pause:isPaused,value:refreshInterval?refreshInterval:this.datePicker.refreshInterval.value})}},onTimeUpdate:({dateRange:dateRange},skipSet=false)=>{this.datePicker.timeRange={...dateRange};if(!skipSet){timefilter.setTime(dateRange)}this._executorService.cancel();this._executorService.run()}}}isActiveTab(testPath){return this.name===testPath}isMlSupported(){return this._licenseService.mlIsSupported()}isDisabledTab(product){const setupMode=getSetupModeState();if(!isSetupModeFeatureEnabled(enums["d"].MetricbeatMigration)){return false}if(!setupMode.data){return false}const data=setupMode.data[product]||{};if(data.totalUniqueInstanceCount===0){return true}if(data.totalUniqueInternallyCollectedCount===0&&data.totalUniqueFullyMigratedCount===0&&data.totalUniquePartiallyMigratedCount===0){return true}return false}}function monitoringMainProvider(breadcrumbs,license,$injector){const $executor=$injector.get("$executor");const $parse=$injector.get("$parse");return{restrict:"E",transclude:true,template:main,controller:main_MonitoringMainController,controllerAs:"monitoringMain",bindToController:true,link(scope,_element,attributes,controller){scope.$applyAsync(()=>{controller.addTimerangeObservers();const setupObj=getSetupObj();controller.setup(setupObj);Object.keys(setupObj.attributes).forEach(key=>{attributes.$observe(key,()=>controller.setup(getSetupObj()))});if(attributes.onLoaded){const onLoaded=$parse(attributes.onLoaded)(scope);onLoaded()}});initSetupModeState(scope,$injector,()=>{controller.setup(getSetupObj())});if(!scope.cluster){const $route=$injector.get("$route");const globalState=$injector.get("globalState");scope.cluster=($route.current.locals.clusters||[]).find(cluster=>cluster.cluster_uuid===globalState.cluster_uuid)}function getSetupObj(){return{licenseService:license,breadcrumbsService:breadcrumbs,executorService:$executor,attributes:{name:attributes.name,product:attributes.product,instance:attributes.instance,resolver:attributes.resolver,page:attributes.page,tabIconClass:attributes.tabIconClass,tabIconLabel:attributes.tabIconLabel,pipelineId:attributes.pipelineId,pipelineHash:attributes.pipelineHash,pipelineVersions:Object(external_kbnSharedDeps_Lodash_["get"])(scope,"pageData.versions"),isCcrEnabled:attributes.isCcrEnabled==="true"||attributes.isCcrEnabled===true},clusterName:Object(external_kbnSharedDeps_Lodash_["get"])(scope,"cluster.cluster_name")}}scope.$on("$destroy",()=>{controller.pipelineDropdownElement&&Object(external_kbnSharedDeps_ReactDom_["unmountComponentAtNode"])(controller.pipelineDropdownElement);controller.subscriptions&&controller.subscriptions.unsubscribe()});scope.$watch("pageData.versions",versions=>{controller.pipelineVersions=versions;setOptions(controller)})}}}const appModuleName="monitoring";const thirdPartyAngularDependencies=["ngSanitize","ngRoute","react","ui.bootstrap"];const localAppModule=({core:core,data:{query:query},navigation:navigation,externalConfig:externalConfig})=>{createLocalI18nModule();createLocalPrivateModule();createLocalStorage();createLocalConfigModule(core);createLocalStateModule(query,core.notifications.toasts);createLocalTopNavModule(navigation);createHrefModule(core);createMonitoringAppServices();createMonitoringAppDirectives();createMonitoringAppConfigConstants(externalConfig);createMonitoringAppFilters();const appModule=external_kbnSharedDeps_Angular_default.a.module(appModuleName,[...thirdPartyAngularDependencies,"monitoring/I18n","monitoring/Private","monitoring/Storage","monitoring/Config","monitoring/State","monitoring/TopNav","monitoring/href","monitoring/constants","monitoring/services","monitoring/filters","monitoring/directives"]);return appModule};function createMonitoringAppConfigConstants(keys){let constantsModule=external_kbnSharedDeps_Angular_default.a.module("monitoring/constants",[]);keys.map(([key,value])=>constantsModule=constantsModule.constant(key,value))}function createLocalStateModule(query,toasts){external_kbnSharedDeps_Angular_default.a.module("monitoring/State",["monitoring/Private"]).service("globalState",(function(Private,$rootScope,$location){function GlobalStateProvider(){const state=new url_state_GlobalState(query,toasts,$rootScope,$location,this);const initialState=state.getState();for(const key in initialState){if(!initialState.hasOwnProperty(key)){continue}this[key]=initialState[key]}this.save=()=>{const newState={...this};delete newState.save;state.setState(newState)}}return Private(GlobalStateProvider)}))}function createMonitoringAppServices(){external_kbnSharedDeps_Angular_default.a.module("monitoring/services",["monitoring/Private"]).service("breadcrumbs",(function(Private){return Private(breadcrumbsProvider)})).service("monitoringClusters",(function(Private){return Private(monitoringClustersProvider)})).service("$executor",(function(Private){return Private(executorProvider)})).service("features",(function(Private){return Private(featuresProvider)})).service("license",(function(Private){return Private(licenseProvider)})).service("title",(function(Private){return Private(titleProvider)}))}function createMonitoringAppDirectives(){external_kbnSharedDeps_Angular_default.a.module("monitoring/directives",[]).directive("monitoringMlListing",monitoringMlListingProvider).directive("monitoringMain",monitoringMainProvider)}function createMonitoringAppFilters(){external_kbnSharedDeps_Angular_default.a.module("monitoring/filters",[]).filter("capitalize",(function(){return function(input){return Object(external_kbnSharedDeps_Lodash_["upperFirst"])(input===null||input===void 0?void 0:input.toLowerCase())}})).filter("formatNumber",(function(){return formatNumber})).filter("formatMetric",(function(){return formatMetric})).filter("extractIp",(function(){return extractIp}))}function createLocalConfigModule(core){external_kbnSharedDeps_Angular_default.a.module("monitoring/Config",[]).provider("config",(function(){return{$get:()=>({get:key=>{var _core$uiSettings;return(_core$uiSettings=core.uiSettings)===null||_core$uiSettings===void 0?void 0:_core$uiSettings.get(key)}})}}))}function createLocalStorage(){external_kbnSharedDeps_Angular_default.a.module("monitoring/Storage",[]).service("localStorage",(function($window){return new kibanaUtils_public_["Storage"]($window.localStorage)})).service("sessionStorage",(function($window){return new kibanaUtils_public_["Storage"]($window.sessionStorage)})).service("sessionTimeout",(function(){return{}}))}function createLocalPrivateModule(){external_kbnSharedDeps_Angular_default.a.module("monitoring/Private",[]).provider("Private",PrivateProvider)}function createLocalTopNavModule({ui:ui}){external_kbnSharedDeps_Angular_default.a.module("monitoring/TopNav",["react"]).directive("kbnTopNav",public_["createTopNavDirective"]).directive("kbnTopNavHelper",Object(public_["createTopNavHelper"])(ui))}function createLocalI18nModule(){external_kbnSharedDeps_Angular_default.a.module("monitoring/I18n",[]).provider("i18n",external_kbnSharedDeps_KbnI18nAngular_["I18nProvider"]).filter("i18n",external_kbnSharedDeps_KbnI18nAngular_["i18nFilter"]).directive("i18nId",external_kbnSharedDeps_KbnI18nAngular_["i18nDirective"])}function createHrefModule(core){const name="kbnHref";external_kbnSharedDeps_Angular_default.a.module("monitoring/href",[]).directive(name,(function(){return{restrict:"A",link:{pre:(_$scope,_$el,$attr)=>{$attr.$observe(name,val=>{if(val){const url=getSafeForExternalLink(val);$attr.$set("href",core.http.basePath.prepend(url))}})}}}}))}function angular_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const APP_WRAPPER_CLASS="monApplicationWrapper";class angular_AngularApp{constructor(deps){angular_defineProperty(this,"injector",void 0);angular_defineProperty(this,"destroy",()=>{if(this.injector){this.injector.get("$rootScope").$destroy()}});angular_defineProperty(this,"applyScope",()=>{if(!this.injector){return}const rootScope=this.injector.get("$rootScope");rootScope.$applyAsync()});const{core:core,element:element,data:data,navigation:navigation,isCloud:isCloud,pluginInitializerContext:pluginInitializerContext,externalConfig:externalConfig,triggersActionsUi:triggersActionsUi,usageCollection:usageCollection,kibanaLegacy:kibanaLegacy}=deps;const app=localAppModule(deps);app.run($injector=>{this.injector=$injector;Legacy.init({core:core,element:element,data:data,navigation:navigation,isCloud:isCloud,pluginInitializerContext:pluginInitializerContext,externalConfig:externalConfig,kibanaLegacy:kibanaLegacy,triggersActionsUi:triggersActionsUi,usageCollection:usageCollection},this.injector)});app.config($routeProvider=>uiRoutes.addToProvider($routeProvider));const np={core:core,env:pluginInitializerContext.env};Object(public_["configureAppAngularModule"])(app,np,true);const appElement=document.createElement("div");appElement.setAttribute("style","height: 100%");appElement.innerHTML='<div ng-view style="height: 100%" id="monitoring-angular-app"></div>';if(!element.classList.contains(APP_WRAPPER_CLASS)){element.classList.add(APP_WRAPPER_CLASS)}external_kbnSharedDeps_Angular_default.a.bootstrap(appElement,[appModuleName]);external_kbnSharedDeps_Angular_default.a.element(element).append(appElement)}}}])]);