/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */(function(modules){function webpackJsonpCallback(data){var chunkIds=data[0];var moreModules=data[1];var moduleId,chunkId,i=0,resolves=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]){resolves.push(installedChunks[chunkId][0])}installedChunks[chunkId]=0}for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){modules[moduleId]=moreModules[moduleId]}}if(parentJsonpFunction)parentJsonpFunction(data);while(resolves.length){resolves.shift()()}}var installedModules={};var installedChunks={10:0};function jsonpScriptSrc(chunkId){return __webpack_require__.p+"ml.chunk."+chunkId+".js"}function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.e=function requireEnsure(chunkId){var promises=[];var installedChunkData=installedChunks[chunkId];if(installedChunkData!==0){if(installedChunkData){promises.push(installedChunkData[2])}else{var promise=new Promise((function(resolve,reject){installedChunkData=installedChunks[chunkId]=[resolve,reject]}));promises.push(installedChunkData[2]=promise);var script=document.createElement("script");var onScriptComplete;script.charset="utf-8";script.timeout=120;if(__webpack_require__.nc){script.setAttribute("nonce",__webpack_require__.nc)}script.src=jsonpScriptSrc(chunkId);var error=new Error;onScriptComplete=function(event){script.onerror=script.onload=null;clearTimeout(timeout);var chunk=installedChunks[chunkId];if(chunk!==0){if(chunk){var errorType=event&&(event.type==="load"?"missing":event.type);var realSrc=event&&event.target&&event.target.src;error.message="Loading chunk "+chunkId+" failed.\n("+errorType+": "+realSrc+")";error.name="ChunkLoadError";error.type=errorType;error.request=realSrc;chunk[1](error)}installedChunks[chunkId]=undefined}};var timeout=setTimeout((function(){onScriptComplete({type:"timeout",target:script})}),12e4);script.onerror=script.onload=onScriptComplete;document.head.appendChild(script)}}return Promise.all(promises)};__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";__webpack_require__.oe=function(err){console.error(err);throw err};var jsonpArray=window["ml_bundle_jsonpfunction"]=window["ml_bundle_jsonpfunction"]||[];var oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback;jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;return __webpack_require__(__webpack_require__.s=30)})([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ML_APP_URL_GENERATOR}));__webpack_require__.d(__webpack_exports__,"b",(function(){return ML_PAGES}));const ML_APP_URL_GENERATOR="ML_APP_URL_GENERATOR";const ML_PAGES={ANOMALY_DETECTION_JOBS_MANAGE:"jobs",ANOMALY_EXPLORER:"explorer",SINGLE_METRIC_VIEWER:"timeseriesexplorer",DATA_FRAME_ANALYTICS_JOBS_MANAGE:"data_frame_analytics",DATA_FRAME_ANALYTICS_CREATE_JOB:"data_frame_analytics/new_job",DATA_FRAME_ANALYTICS_MODELS_MANAGE:"data_frame_analytics/models",DATA_FRAME_ANALYTICS_EXPLORATION:"data_frame_analytics/exploration",DATA_FRAME_ANALYTICS_MAP:"data_frame_analytics/map",DATA_VISUALIZER:"datavisualizer",DATA_VISUALIZER_INDEX_SELECT:"datavisualizer_index_select",DATA_VISUALIZER_FILE:"filedatavisualizer",DATA_VISUALIZER_INDEX_VIEWER:"jobs/new_job/datavisualizer",ANOMALY_DETECTION_CREATE_JOB:`jobs/new_job`,ANOMALY_DETECTION_CREATE_JOB_ADVANCED:`jobs/new_job/advanced`,ANOMALY_DETECTION_CREATE_JOB_SELECT_TYPE:`jobs/new_job/step/job_type`,ANOMALY_DETECTION_CREATE_JOB_SELECT_INDEX:`jobs/new_job/step/index_or_search`,SETTINGS:"settings",CALENDARS_MANAGE:"settings/calendars_list",CALENDARS_NEW:"settings/calendars_list/new_calendar",CALENDARS_EDIT:"settings/calendars_list/edit_calendar",FILTER_LISTS_MANAGE:"settings/filter_lists",FILTER_LISTS_NEW:"settings/filter_lists/new_filter_list",FILTER_LISTS_EDIT:"settings/filter_lists/edit_filter_list",ACCESS_DENIED:"access-denied",OVERVIEW:"overview"}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return ANOMALY_SEVERITY}));__webpack_require__.d(__webpack_exports__,"c",(function(){return ANOMALY_THRESHOLD}));__webpack_require__.d(__webpack_exports__,"g",(function(){return SEVERITY_COLORS}));__webpack_require__.d(__webpack_exports__,"a",(function(){return ANOMALY_RESULT_TYPE}));__webpack_require__.d(__webpack_exports__,"e",(function(){return PARTITION_FIELDS}));__webpack_require__.d(__webpack_exports__,"d",(function(){return JOB_ID}));__webpack_require__.d(__webpack_exports__,"f",(function(){return PARTITION_FIELD_VALUE}));let ANOMALY_SEVERITY;(function(ANOMALY_SEVERITY){ANOMALY_SEVERITY["CRITICAL"]="critical";ANOMALY_SEVERITY["MAJOR"]="major";ANOMALY_SEVERITY["MINOR"]="minor";ANOMALY_SEVERITY["WARNING"]="warning";ANOMALY_SEVERITY["LOW"]="low";ANOMALY_SEVERITY["UNKNOWN"]="unknown"})(ANOMALY_SEVERITY||(ANOMALY_SEVERITY={}));let ANOMALY_THRESHOLD;(function(ANOMALY_THRESHOLD){ANOMALY_THRESHOLD[ANOMALY_THRESHOLD["CRITICAL"]=75]="CRITICAL";ANOMALY_THRESHOLD[ANOMALY_THRESHOLD["MAJOR"]=50]="MAJOR";ANOMALY_THRESHOLD[ANOMALY_THRESHOLD["MINOR"]=25]="MINOR";ANOMALY_THRESHOLD[ANOMALY_THRESHOLD["WARNING"]=3]="WARNING";ANOMALY_THRESHOLD[ANOMALY_THRESHOLD["LOW"]=0]="LOW"})(ANOMALY_THRESHOLD||(ANOMALY_THRESHOLD={}));const SEVERITY_COLORS={CRITICAL:"#fe5050",MAJOR:"#fba740",MINOR:"#fdec25",WARNING:"#8bc8fb",LOW:"#d2e9f7",BLANK:"#ffffff"};const ANOMALY_RESULT_TYPE={BUCKET:"bucket",RECORD:"record",INFLUENCER:"influencer"};const PARTITION_FIELDS=["partition_field","over_field","by_field"];const JOB_ID="job_id";const PARTITION_FIELD_VALUE="partition_field_value"},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18n},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return PLUGIN_ID}));__webpack_require__.d(__webpack_exports__,"c",(function(){return PLUGIN_ICON_SOLUTION}));__webpack_require__.d(__webpack_exports__,"a",(function(){return ML_APP_NAME}));__webpack_require__.d(__webpack_exports__,"b",(function(){return ML_BASE_PATH}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__);const PLUGIN_ID="ml";const PLUGIN_ICON="machineLearningApp";const PLUGIN_ICON_SOLUTION="logoKibana";const ML_APP_NAME=_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.ml.navMenu.mlAppNameText",{defaultMessage:"Machine Learning"});const ML_BASE_PATH="/api/ml"},function(module,exports){module.exports=__kbnSharedDeps__.Lodash},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ENTITY_FIELD_TYPE}));__webpack_require__.d(__webpack_exports__,"f",(function(){return getFormattedSeverityScore}));__webpack_require__.d(__webpack_exports__,"h",(function(){return getSeverity}));__webpack_require__.d(__webpack_exports__,"j",(function(){return getSeverityType}));__webpack_require__.d(__webpack_exports__,"k",(function(){return getSeverityWithLow}));__webpack_require__.d(__webpack_exports__,"i",(function(){return getSeverityColor}));__webpack_require__.d(__webpack_exports__,"g",(function(){return getMultiBucketImpactLabel}));__webpack_require__.d(__webpack_exports__,"d",(function(){return getEntityFieldName}));__webpack_require__.d(__webpack_exports__,"e",(function(){return getEntityFieldValue}));__webpack_require__.d(__webpack_exports__,"c",(function(){return getEntityFieldList}));__webpack_require__.d(__webpack_exports__,"m",(function(){return showActualForFunction}));__webpack_require__.d(__webpack_exports__,"n",(function(){return showTypicalForFunction}));__webpack_require__.d(__webpack_exports__,"l",(function(){return isRuleSupported}));__webpack_require__.d(__webpack_exports__,"b",(function(){return aggregationTypeTransform}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__);var _constants_detector_rule__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(24);var _constants_multi_bucket_impact__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11);var _constants_anomalies__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1);let ENTITY_FIELD_TYPE;(function(ENTITY_FIELD_TYPE){ENTITY_FIELD_TYPE["BY"]="by";ENTITY_FIELD_TYPE["OVER"]="over";ENTITY_FIELD_TYPE["PARTITON"]="partition"})(ENTITY_FIELD_TYPE||(ENTITY_FIELD_TYPE={}));const DISPLAY_ACTUAL_FUNCTIONS=["count","distinct_count","lat_long","mean","max","min","sum","median","varp","info_content","time"];const DISPLAY_TYPICAL_FUNCTIONS=["count","distinct_count","lat_long","mean","max","min","sum","median","varp","info_content","time"];let severityTypes;function getSeverityTypes(){if(severityTypes){return severityTypes}return severityTypes={critical:{id:_constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["b"].CRITICAL,label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.ml.anomalyUtils.severity.criticalLabel",{defaultMessage:"critical"})},major:{id:_constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["b"].MAJOR,label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.ml.anomalyUtils.severity.majorLabel",{defaultMessage:"major"})},minor:{id:_constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["b"].MINOR,label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.ml.anomalyUtils.severity.minorLabel",{defaultMessage:"minor"})},warning:{id:_constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["b"].WARNING,label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.ml.anomalyUtils.severity.warningLabel",{defaultMessage:"warning"})},unknown:{id:_constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["b"].UNKNOWN,label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.ml.anomalyUtils.severity.unknownLabel",{defaultMessage:"unknown"})},low:{id:_constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["b"].LOW,label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.ml.anomalyUtils.severityWithLow.lowLabel",{defaultMessage:"low"})}}}function getFormattedSeverityScore(score){return score<1?"< 1":String(parseInt(String(score),10))}function getSeverity(normalizedScore){const severityTypesList=getSeverityTypes();if(normalizedScore>=_constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["c"].CRITICAL){return severityTypesList.critical}else if(normalizedScore>=_constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["c"].MAJOR){return severityTypesList.major}else if(normalizedScore>=_constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["c"].MINOR){return severityTypesList.minor}else if(normalizedScore>=_constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["c"].LOW){return severityTypesList.warning}else{return severityTypesList.unknown}}function getSeverityType(normalizedScore){if(normalizedScore>=75){return _constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["b"].CRITICAL}else if(normalizedScore>=50){return _constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["b"].MAJOR}else if(normalizedScore>=25){return _constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["b"].MINOR}else if(normalizedScore>=3){return _constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["b"].WARNING}else if(normalizedScore>=0){return _constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["b"].LOW}else{return _constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["b"].UNKNOWN}}function getSeverityWithLow(normalizedScore){const severityTypesList=getSeverityTypes();if(normalizedScore>=_constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["c"].CRITICAL){return severityTypesList.critical}else if(normalizedScore>=_constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["c"].MAJOR){return severityTypesList.major}else if(normalizedScore>=_constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["c"].MINOR){return severityTypesList.minor}else if(normalizedScore>=_constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["c"].WARNING){return severityTypesList.warning}else if(normalizedScore>=_constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["c"].LOW){return severityTypesList.low}else{return severityTypesList.unknown}}function getSeverityColor(normalizedScore){if(normalizedScore>=_constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["c"].CRITICAL){return _constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["g"].CRITICAL}else if(normalizedScore>=_constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["c"].MAJOR){return _constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["g"].MAJOR}else if(normalizedScore>=_constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["c"].MINOR){return _constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["g"].MINOR}else if(normalizedScore>=_constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["c"].WARNING){return _constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["g"].WARNING}else if(normalizedScore>=_constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["c"].LOW){return _constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["g"].LOW}else{return _constants_anomalies__WEBPACK_IMPORTED_MODULE_3__["g"].BLANK}}function getMultiBucketImpactLabel(multiBucketImpact){if(multiBucketImpact>=_constants_multi_bucket_impact__WEBPACK_IMPORTED_MODULE_2__["a"].HIGH){return _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.ml.anomalyUtils.multiBucketImpact.highLabel",{defaultMessage:"high"})}else if(multiBucketImpact>=_constants_multi_bucket_impact__WEBPACK_IMPORTED_MODULE_2__["a"].MEDIUM){return _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.ml.anomalyUtils.multiBucketImpact.mediumLabel",{defaultMessage:"medium"})}else if(multiBucketImpact>=_constants_multi_bucket_impact__WEBPACK_IMPORTED_MODULE_2__["a"].LOW){return _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.ml.anomalyUtils.multiBucketImpact.lowLabel",{defaultMessage:"low"})}else{return _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.ml.anomalyUtils.multiBucketImpact.noneLabel",{defaultMessage:"none"})}}function getEntityFieldName(record){if(record.by_field_name!==undefined&&record.by_field_value!==undefined){return record.by_field_name}if(record.over_field_name!==undefined){return record.over_field_name}if(record.partition_field_name!==undefined){return record.partition_field_name}}function getEntityFieldValue(record){if(record.by_field_value!==undefined){return record.by_field_value}if(record.over_field_value!==undefined){return record.over_field_value}if(record.partition_field_value!==undefined){return record.partition_field_value}}function getEntityFieldList(record){const entityFields=[];if(record.partition_field_name!==undefined){entityFields.push({fieldName:record.partition_field_name,fieldValue:record.partition_field_value,fieldType:ENTITY_FIELD_TYPE.PARTITON})}if(record.over_field_name!==undefined){entityFields.push({fieldName:record.over_field_name,fieldValue:record.over_field_value,fieldType:ENTITY_FIELD_TYPE.OVER})}if(record.by_field_name!==undefined&&record.over_field_name===undefined){entityFields.push({fieldName:record.by_field_name,fieldValue:record.by_field_value,fieldType:ENTITY_FIELD_TYPE.BY})}return entityFields}function showActualForFunction(functionDescription){return DISPLAY_ACTUAL_FUNCTIONS.indexOf(functionDescription)>-1}function showTypicalForFunction(functionDescription){return DISPLAY_TYPICAL_FUNCTIONS.indexOf(functionDescription)>-1}function isRuleSupported(record){return _constants_detector_rule__WEBPACK_IMPORTED_MODULE_1__["c"].indexOf(record.function)===-1||getEntityFieldName(record)!==undefined}const aggregationTypeTransform={toES(oldAggType){let newAggType=oldAggType;if(newAggType==="mean"){newAggType="avg"}else if(newAggType==="distinct_count"){newAggType="cardinality"}else if(newAggType==="median"){newAggType="percentiles"}return newAggType},toML(oldAggType){let newAggType=oldAggType;if(newAggType==="avg"){newAggType="mean"}else if(newAggType==="cardinality"){newAggType="distinct_count"}else if(newAggType==="percentiles"){newAggType="median"}return newAggType}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return HITS_TOTAL_RELATION}));const HITS_TOTAL_RELATION={EQ:"eq",GTE:"gte"}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return stringHash}));__webpack_require__.d(__webpack_exports__,"a",(function(){return getGroupQueryText}));__webpack_require__.d(__webpack_exports__,"b",(function(){return getJobQueryText}));function renderTemplate(str,data){const matches=str.match(/{{(.*?)}}/g);if(Array.isArray(matches)&&data!==undefined){matches.forEach(v=>{str=str.replace(v,data[v.replace(/{{|}}/g,"")])})}return str}function getMedianStringLength(strings){const sortedStringLengths=strings.map(s=>s.length).sort((a,b)=>a-b);return sortedStringLengths[Math.floor(sortedStringLengths.length/2)]||0}function stringHash(str){let hash=0;let chr=0;if(str.length===0){return hash}for(let i=0;i<str.length;i++){chr=str.charCodeAt(i);hash=(hash<<5)-hash+chr;hash|=0}return hash<0?hash*-2:hash}function getGroupQueryText(groupIds){return`groups:(${groupIds.join(" or ")})`}function getJobQueryText(jobIds){return Array.isArray(jobIds)?`id:(${jobIds.join(" OR ")})`:`id:${jobIds}`}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return ml_license_MlLicense}));__webpack_require__.d(__webpack_exports__,"a",(function(){return MINIMUM_FULL_LICENSE}));__webpack_require__.d(__webpack_exports__,"c",(function(){return isFullLicense}));__webpack_require__.d(__webpack_exports__,"d",(function(){return isMlEnabled}));var app=__webpack_require__(4);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const MINIMUM_LICENSE="basic";const MINIMUM_FULL_LICENSE="platinum";class ml_license_MlLicense{constructor(){_defineProperty(this,"_licenseSubscription",null);_defineProperty(this,"_license",null);_defineProperty(this,"_isSecurityEnabled",false);_defineProperty(this,"_hasLicenseExpired",false);_defineProperty(this,"_isMlEnabled",false);_defineProperty(this,"_isMinimumLicense",false);_defineProperty(this,"_isFullLicense",false);_defineProperty(this,"_initialized",false)}setup(license$,postInitFunctions){this._licenseSubscription=license$.subscribe(async license=>{const{isEnabled:securityIsEnabled}=license.getFeature("security");this._license=license;this._isSecurityEnabled=securityIsEnabled;this._hasLicenseExpired=this._license.status==="expired";this._isMlEnabled=this._license.getFeature(app["d"]).isEnabled;this._isMinimumLicense=isMinimumLicense(this._license);this._isFullLicense=isFullLicense(this._license);if(this._initialized===false&&postInitFunctions!==undefined){postInitFunctions.forEach(f=>f(this))}this._initialized=true})}unsubscribe(){if(this._licenseSubscription!==null){this._licenseSubscription.unsubscribe()}}isSecurityEnabled(){return this._isSecurityEnabled}hasLicenseExpired(){return this._hasLicenseExpired}isMlEnabled(){return this._isMlEnabled}isMinimumLicense(){return this._isMinimumLicense}isFullLicense(){return this._isFullLicense}}function isFullLicense(license){return license.check(app["d"],MINIMUM_FULL_LICENSE).state==="valid"}function isMinimumLicense(license){return license.check(app["d"],MINIMUM_LICENSE).state==="valid"}function isMlEnabled(license){return license.getFeature(app["d"]).isEnabled}},function(module,exports){module.exports=__kbnSharedDeps__.React},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MULTI_BUCKET_IMPACT}));const MULTI_BUCKET_IMPACT={HIGH:3,MEDIUM:2,LOW:1,NONE:-5}},function(module,exports){module.exports=__kbnSharedDeps__.Moment},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _types_es_client__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7);__webpack_require__.d(__webpack_exports__,"HitsTotalRelation",(function(){return _types_es_client__WEBPACK_IMPORTED_MODULE_0__["HitsTotalRelation"]}));__webpack_require__.d(__webpack_exports__,"SearchResponse7",(function(){return _types_es_client__WEBPACK_IMPORTED_MODULE_0__["SearchResponse7"]}));__webpack_require__.d(__webpack_exports__,"HITS_TOTAL_RELATION",(function(){return _types_es_client__WEBPACK_IMPORTED_MODULE_0__["a"]}));var _types_field_histograms__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(29);__webpack_require__.d(__webpack_exports__,"ChartData",(function(){return _types_field_histograms__WEBPACK_IMPORTED_MODULE_1__["ChartData"]}));var _constants_anomalies__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1);__webpack_require__.d(__webpack_exports__,"ANOMALY_SEVERITY",(function(){return _constants_anomalies__WEBPACK_IMPORTED_MODULE_2__["b"]}));__webpack_require__.d(__webpack_exports__,"ANOMALY_THRESHOLD",(function(){return _constants_anomalies__WEBPACK_IMPORTED_MODULE_2__["c"]}));__webpack_require__.d(__webpack_exports__,"SEVERITY_COLORS",(function(){return _constants_anomalies__WEBPACK_IMPORTED_MODULE_2__["g"]}));var _util_anomaly_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6);__webpack_require__.d(__webpack_exports__,"getSeverityColor",(function(){return _util_anomaly_utils__WEBPACK_IMPORTED_MODULE_3__["i"]}));__webpack_require__.d(__webpack_exports__,"getSeverityType",(function(){return _util_anomaly_utils__WEBPACK_IMPORTED_MODULE_3__["j"]}));var _util_validators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(14);__webpack_require__.d(__webpack_exports__,"composeValidators",(function(){return _util_validators__WEBPACK_IMPORTED_MODULE_4__["a"]}));__webpack_require__.d(__webpack_exports__,"patternValidator",(function(){return _util_validators__WEBPACK_IMPORTED_MODULE_4__["d"]}));var _util_errors__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(20);__webpack_require__.d(__webpack_exports__,"extractErrorMessage",(function(){return _util_errors__WEBPACK_IMPORTED_MODULE_5__["i"]}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return maxLengthValidator}));__webpack_require__.d(__webpack_exports__,"d",(function(){return patternValidator}));__webpack_require__.d(__webpack_exports__,"a",(function(){return composeValidators}));__webpack_require__.d(__webpack_exports__,"e",(function(){return requiredValidator}));__webpack_require__.d(__webpack_exports__,"c",(function(){return memoryInputValidator}));__webpack_require__.d(__webpack_exports__,"f",(function(){return timeIntervalInputValidator}));var _constants_validation__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(23);var _parse_interval__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(22);function maxLengthValidator(maxLength){return value=>value&&value.length>maxLength?{maxLength:{requiredLength:maxLength,actualLength:value.length}}:null}function patternValidator(pattern){return value=>pattern.test(value)?null:{pattern:{matchPattern:pattern.toString()}}}function composeValidators(...validators){return value=>{const validationResult=validators.reduce((acc,validator)=>({...acc,...validator(value)||{}}),{});return Object.keys(validationResult).length>0?validationResult:null}}function requiredValidator(){return value=>value===""||value===undefined||value===null?{required:true}:null}function memoryInputValidator(allowedUnits=_constants_validation__WEBPACK_IMPORTED_MODULE_0__["a"]){return value=>{if(typeof value!=="string"||value===""){return null}const regexp=new RegExp(`\\d+(${allowedUnits.join("|")})$`,"i");return regexp.test(value.trim())?null:{invalidUnits:{allowedUnits:allowedUnits.join(", ")}}}}function timeIntervalInputValidator(){return value=>{const r=Object(_parse_interval__WEBPACK_IMPORTED_MODULE_1__["a"])(value);if(r===null){return{invalidTimeInterval:true}}return null}}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("entry/core/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/indexPatternManagement/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/home/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"l",(function(){return setDependencyCache}));__webpack_require__.d(__webpack_exports__,"i",(function(){return getTimefilter}));__webpack_require__.d(__webpack_exports__,"b",(function(){return getDocLinks}));__webpack_require__.d(__webpack_exports__,"j",(function(){return getToastNotifications}));__webpack_require__.d(__webpack_exports__,"f",(function(){return getOverlays}));__webpack_require__.d(__webpack_exports__,"k",(function(){return getUiSettings}));__webpack_require__.d(__webpack_exports__,"g",(function(){return getRecentlyAccessed}));__webpack_require__.d(__webpack_exports__,"c",(function(){return getFieldFormats}));__webpack_require__.d(__webpack_exports__,"h",(function(){return getSavedObjectsClient}));__webpack_require__.d(__webpack_exports__,"e",(function(){return getHttp}));__webpack_require__.d(__webpack_exports__,"d",(function(){return getGetUrlGenerator}));__webpack_require__.d(__webpack_exports__,"a",(function(){return clearCache}));const cache={timefilter:null,config:null,indexPatterns:null,chrome:null,docLinks:null,toastNotifications:null,overlays:null,recentlyAccessed:null,fieldFormats:null,autocomplete:null,basePath:null,savedObjectsClient:null,application:null,http:null,security:null,i18n:null,urlGenerators:null,maps:null};function setDependencyCache(deps){cache.timefilter=deps.timefilter||null;cache.config=deps.config||null;cache.chrome=deps.chrome||null;cache.indexPatterns=deps.indexPatterns||null;cache.docLinks=deps.docLinks||null;cache.toastNotifications=deps.toastNotifications||null;cache.overlays=deps.overlays||null;cache.recentlyAccessed=deps.recentlyAccessed||null;cache.fieldFormats=deps.fieldFormats||null;cache.autocomplete=deps.autocomplete||null;cache.basePath=deps.basePath||null;cache.savedObjectsClient=deps.savedObjectsClient||null;cache.application=deps.application||null;cache.http=deps.http||null;cache.security=deps.security||null;cache.i18n=deps.i18n||null;cache.urlGenerators=deps.urlGenerators||null}function getTimefilter(){if(cache.timefilter===null){throw new Error("timefilter hasn't been initialized")}return cache.timefilter.timefilter}function getTimeHistory(){if(cache.timefilter===null){throw new Error("timefilter hasn't been initialized")}return cache.timefilter.history}function getDocLinks(){if(cache.docLinks===null){throw new Error("docLinks hasn't been initialized")}return cache.docLinks}function getToastNotifications(){if(cache.toastNotifications===null){throw new Error("toast notifications haven't been initialized")}return cache.toastNotifications}function getOverlays(){if(cache.overlays===null){throw new Error("overlays haven't been initialized")}return cache.overlays}function getUiSettings(){if(cache.config===null){throw new Error("uiSettings hasn't been initialized")}return cache.config}function getRecentlyAccessed(){if(cache.recentlyAccessed===null){throw new Error("recentlyAccessed hasn't been initialized")}return cache.recentlyAccessed}function getFieldFormats(){if(cache.fieldFormats===null){throw new Error("fieldFormats hasn't been initialized")}return cache.fieldFormats}function getAutocomplete(){if(cache.autocomplete===null){throw new Error("autocomplete hasn't been initialized")}return cache.autocomplete}function getChrome(){if(cache.chrome===null){throw new Error("chrome hasn't been initialized")}return cache.chrome}function getBasePath(){if(cache.basePath===null){throw new Error("basePath hasn't been initialized")}return cache.basePath}function getSavedObjectsClient(){if(cache.savedObjectsClient===null){throw new Error("savedObjectsClient hasn't been initialized")}return cache.savedObjectsClient}function getApplication(){if(cache.application===null){throw new Error("application hasn't been initialized")}return cache.application}function getHttp(){if(cache.http===null){throw new Error("http hasn't been initialized")}return cache.http}function getSecurity(){if(cache.security===null){throw new Error("security hasn't been initialized")}return cache.security}function getI18n(){if(cache.i18n===null){throw new Error("i18n hasn't been initialized")}return cache.i18n}function getGetUrlGenerator(){if(cache.urlGenerators===null){throw new Error("urlGenerators hasn't been initialized")}return cache.urlGenerators.getUrlGenerator}function clearCache(){Object.keys(cache).forEach(k=>{cache[k]=null})}},function(module,exports){module.exports=__kbnSharedDeps__.Rxjs},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"g",(function(){return MLRequestFailure}));__webpack_require__.d(__webpack_exports__,"i",(function(){return extractErrorMessage}));__webpack_require__.d(__webpack_exports__,"j",(function(){return extractErrorProperties}));__webpack_require__.d(__webpack_exports__,"b",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"a",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"c",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"d",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"e",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"f",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"h",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"k",(function(){return isBoomError}));__webpack_require__.d(__webpack_exports__,"l",(function(){return isErrorString}));__webpack_require__.d(__webpack_exports__,"m",(function(){return isEsErrorBody}));__webpack_require__.d(__webpack_exports__,"n",(function(){return isMLResponseError}));class MLRequestFailure extends Error{constructor(error,resp){super(error.message);Object.setPrototypeOf(this,new.target.prototype);if(typeof resp!=="string"&&typeof resp!=="undefined"){if("body"in resp){this.stack=JSON.stringify(resp.body,null,2)}else{try{this.stack=JSON.stringify(resp,null,2)}catch(e){}}}}}function isEsErrorBody(error){var _error$error;return error&&((_error$error=error.error)===null||_error$error===void 0?void 0:_error$error.reason)!==undefined}function isErrorString(error){return typeof error==="string"}function isErrorMessage(error){return error&&error.message!==undefined&&typeof error.message==="string"}function isMLResponseError(error){return typeof error.body==="object"&&"message"in error.body}function isBoomError(error){return error.isBoom===true}const extractErrorProperties=error=>{if(isEsErrorBody(error)){return{message:error.error.reason,statusCode:error.status,fullError:error}}if(isErrorString(error)){return{message:error}}if(isBoomError(error)){return{message:error.output.payload.message,statusCode:error.output.payload.statusCode}}if((error===null||error===void 0?void 0:error.body)===undefined&&!(error!==null&&error!==void 0&&error.message)){return{message:""}}if(typeof error.body==="string"){return{message:error.body}}if(isMLResponseError(error)){var _error$body$attribute,_error$body$attribute2;if(typeof error.body.attributes==="object"&&typeof((_error$body$attribute=error.body.attributes.body)===null||_error$body$attribute===void 0?void 0:(_error$body$attribute2=_error$body$attribute.error)===null||_error$body$attribute2===void 0?void 0:_error$body$attribute2.reason)==="string"){var _error$body$attribute3,_error$body$attribute4,_error$body$attribute5;const errObj={message:error.body.attributes.body.error.reason,statusCode:error.body.statusCode,fullError:error.body.attributes.body};if(typeof error.body.attributes.body.error.caused_by==="object"&&(typeof((_error$body$attribute3=error.body.attributes.body.error.caused_by)===null||_error$body$attribute3===void 0?void 0:_error$body$attribute3.reason)==="string"||typeof((_error$body$attribute4=error.body.attributes.body.error.caused_by)===null||_error$body$attribute4===void 0?void 0:(_error$body$attribute5=_error$body$attribute4.caused_by)===null||_error$body$attribute5===void 0?void 0:_error$body$attribute5.reason)==="string")){var _error$body$attribute6,_error$body$attribute7,_error$body$attribute8;errObj.causedBy=((_error$body$attribute6=error.body.attributes.body.error.caused_by)===null||_error$body$attribute6===void 0?void 0:(_error$body$attribute7=_error$body$attribute6.caused_by)===null||_error$body$attribute7===void 0?void 0:_error$body$attribute7.reason)||((_error$body$attribute8=error.body.attributes.body.error.caused_by)===null||_error$body$attribute8===void 0?void 0:_error$body$attribute8.reason)}return errObj}else{return{message:error.body.message,statusCode:error.body.statusCode}}}if(isErrorMessage(error)){return{message:error.message}}return{message:""}};const extractErrorMessage=error=>{const errorObj=extractErrorProperties(error);return errorObj.message}},function(module,exports){module.exports=__kbnSharedDeps__.RxjsOperators},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return parseInterval}));var moment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12);var moment__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);var _elastic_datemath__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(26);var _elastic_datemath__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_elastic_datemath__WEBPACK_IMPORTED_MODULE_1__);const INTERVAL_STRING_RE=new RegExp("^([0-9]*)\\s*("+_elastic_datemath__WEBPACK_IMPORTED_MODULE_1___default.a.units.join("|")+")$");const SUPPORT_ZERO_DURATION_UNITS=["ms","s","m","h"];const SUPPORT_ES_DURATION_UNITS=["ms","s","m","h","d"];function parseInterval(interval,checkValidEsUnit=false){const matches=String(interval).trim().match(INTERVAL_STRING_RE);if(!Array.isArray(matches)||matches.length<3){return null}try{const value=parseInt(matches[1],10);const unit=matches[2];if(isNaN(value)||value<1&&SUPPORT_ZERO_DURATION_UNITS.indexOf(unit)===-1||checkValidEsUnit===true&&SUPPORT_ES_DURATION_UNITS.indexOf(unit)===-1){return null}return Object(moment__WEBPACK_IMPORTED_MODULE_0__["duration"])(value,unit)}catch(e){return null}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return VALIDATION_STATUS}));__webpack_require__.d(__webpack_exports__,"a",(function(){return ALLOWED_DATA_UNITS}));__webpack_require__.d(__webpack_exports__,"b",(function(){return JOB_ID_MAX_LENGTH}));let VALIDATION_STATUS;(function(VALIDATION_STATUS){VALIDATION_STATUS["ERROR"]="error";VALIDATION_STATUS["INFO"]="info";VALIDATION_STATUS["SUCCESS"]="success";VALIDATION_STATUS["WARNING"]="warning"})(VALIDATION_STATUS||(VALIDATION_STATUS={}));const SKIP_BUCKET_SPAN_ESTIMATION=true;const ALLOWED_DATA_UNITS=["B","KB","MB","GB","TB","PB"];const JOB_ID_MAX_LENGTH=64},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ACTION}));__webpack_require__.d(__webpack_exports__,"d",(function(){return FILTER_TYPE}));__webpack_require__.d(__webpack_exports__,"b",(function(){return APPLIES_TO}));__webpack_require__.d(__webpack_exports__,"e",(function(){return OPERATOR}));__webpack_require__.d(__webpack_exports__,"c",(function(){return CONDITIONS_NOT_SUPPORTED_FUNCTIONS}));let ACTION;(function(ACTION){ACTION["SKIP_MODEL_UPDATE"]="skip_model_update";ACTION["SKIP_RESULT"]="skip_result"})(ACTION||(ACTION={}));let FILTER_TYPE;(function(FILTER_TYPE){FILTER_TYPE["EXCLUDE"]="exclude";FILTER_TYPE["INCLUDE"]="include"})(FILTER_TYPE||(FILTER_TYPE={}));let APPLIES_TO;(function(APPLIES_TO){APPLIES_TO["ACTUAL"]="actual";APPLIES_TO["DIFF_FROM_TYPICAL"]="diff_from_typical";APPLIES_TO["TYPICAL"]="typical"})(APPLIES_TO||(APPLIES_TO={}));let OPERATOR;(function(OPERATOR){OPERATOR["LESS_THAN"]="lt";OPERATOR["LESS_THAN_OR_EQUAL"]="lte";OPERATOR["GREATER_THAN"]="gt";OPERATOR["GREATER_THAN_OR_EQUAL"]="gte"})(OPERATOR||(OPERATOR={}));const CONDITIONS_NOT_SUPPORTED_FUNCTIONS=["freq_rare","lat_long","metric","rare"]},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ANOMALY_SWIMLANE_EMBEDDABLE_TYPE}));const ANOMALY_SWIMLANE_EMBEDDABLE_TYPE="ml_anomaly_swimlane"},function(module,exports,__webpack_require__){const moment=__webpack_require__(12);const unitsMap={ms:{weight:1,type:"fixed",base:1},s:{weight:2,type:"fixed",base:1e3},m:{weight:3,type:"mixed",base:1e3*60},h:{weight:4,type:"mixed",base:1e3*60*60},d:{weight:5,type:"mixed",base:1e3*60*60*24},w:{weight:6,type:"calendar",base:NaN},M:{weight:7,type:"calendar",base:NaN},y:{weight:9,type:"calendar",base:NaN}};const units=Object.keys(unitsMap).sort((a,b)=>unitsMap[b].weight-unitsMap[a].weight);const unitsDesc=[...units];const unitsAsc=[...units].reverse();const isDate=d=>Object.prototype.toString.call(d)==="[object Date]";const isValidDate=d=>isDate(d)&&!isNaN(d.valueOf());function parse(text,{roundUp:roundUp=false,momentInstance:momentInstance=moment,forceNow:forceNow}={}){if(!text)return undefined;if(momentInstance.isMoment(text))return text;if(isDate(text))return momentInstance(text);if(forceNow!==undefined&&!isValidDate(forceNow)){throw new Error("forceNow must be a valid Date")}let time;let mathString="";let index;let parseString;if(text.substring(0,3)==="now"){time=momentInstance(forceNow);mathString=text.substring("now".length)}else{index=text.indexOf("||");if(index===-1){parseString=text;mathString=""}else{parseString=text.substring(0,index);mathString=text.substring(index+2)}time=momentInstance(parseString)}if(!mathString.length){return time}return parseDateMath(mathString,time,roundUp)}function parseDateMath(mathString,time,roundUp){const dateTime=time;const len=mathString.length;let i=0;while(i<len){const c=mathString.charAt(i++);let type;let num;let unit;if(c==="/"){type=0}else if(c==="+"){type=1}else if(c==="-"){type=2}else{return}if(isNaN(mathString.charAt(i))){num=1}else if(mathString.length===2){num=mathString.charAt(i)}else{const numFrom=i;while(!isNaN(mathString.charAt(i))){i++;if(i>=len)return}num=parseInt(mathString.substring(numFrom,i),10)}if(type===0){if(num!==1){return}}unit=mathString.charAt(i++);for(let j=i;j<len;j++){const unitChar=mathString.charAt(i);if(/[a-z]/i.test(unitChar)){unit+=unitChar;i++}else{break}}if(units.indexOf(unit)===-1){return}else{if(type===0){if(roundUp)dateTime.endOf(unit);else dateTime.startOf(unit)}else if(type===1){dateTime.add(num,unit)}else if(type===2){dateTime.subtract(num,unit)}}}return dateTime}module.exports={parse:parse,unitsMap:Object.freeze(unitsMap),units:Object.freeze(units),unitsAsc:Object.freeze(unitsAsc),unitsDesc:Object.freeze(unitsDesc)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CONTROLLED_BY_SWIM_LANE_FILTER}));const CONTROLLED_BY_SWIM_LANE_FILTER="anomaly-swim-lane"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return ML_ALERT_TYPES}));__webpack_require__.d(__webpack_exports__,"a",(function(){return ALERT_PREVIEW_SAMPLE_SIZE}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__);var _license__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9);var _app__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4);const ML_ALERT_TYPES={ANOMALY_DETECTION:"xpack.ml.anomaly_detection_alert"};const ANOMALY_SCORE_MATCH_GROUP_ID="anomaly_score_match";const THRESHOLD_MET_GROUP={id:ANOMALY_SCORE_MATCH_GROUP_ID,name:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.ml.anomalyDetectionAlert.actionGroupName",{defaultMessage:"Anomaly score matched the condition"})};const ML_ALERT_TYPES_CONFIG={[ML_ALERT_TYPES.ANOMALY_DETECTION]:{name:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.ml.anomalyDetectionAlert.name",{defaultMessage:"Anomaly detection alert"}),actionGroups:[THRESHOLD_MET_GROUP],defaultActionGroupId:ANOMALY_SCORE_MATCH_GROUP_ID,minimumLicenseRequired:_license__WEBPACK_IMPORTED_MODULE_1__["a"],producer:_app__WEBPACK_IMPORTED_MODULE_2__["d"]}};const ALERT_PREVIEW_SAMPLE_SIZE=5},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return isNumericChartData}));__webpack_require__.d(__webpack_exports__,"c",(function(){return isOrdinalChartData}));__webpack_require__.d(__webpack_exports__,"d",(function(){return isUnsupportedChartData}));const isNumericChartData=arg=>typeof arg==="object"&&arg.hasOwnProperty("data")&&arg.hasOwnProperty("id")&&arg.hasOwnProperty("interval")&&arg.hasOwnProperty("stats")&&arg.hasOwnProperty("type")&&arg.type==="numeric";const isOrdinalChartData=arg=>typeof arg==="object"&&arg.hasOwnProperty("data")&&arg.hasOwnProperty("cardinality")&&arg.hasOwnProperty("id")&&arg.hasOwnProperty("type")&&(arg.type==="ordinal"||arg.type==="boolean");const isUnsupportedChartData=arg=>typeof arg==="object"&&arg.hasOwnProperty("type")&&arg.type==="unsupported"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_val_loader_dist_cjs_js_key_ml_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31);var _node_modules_val_loader_dist_cjs_js_key_ml_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_val_loader_dist_cjs_js_key_ml_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__);__kbnBundles__.define("plugin/ml/public",__webpack_require__,32);__kbnBundles__.define("plugin/ml/common",__webpack_require__,13)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__kbnPublicPath__["ml"]},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"plugin",(function(){return public_plugin}));__webpack_require__.d(__webpack_exports__,"ANOMALY_SWIMLANE_EMBEDDABLE_TYPE",(function(){return constants["a"]}));__webpack_require__.d(__webpack_exports__,"CONTROLLED_BY_SWIM_LANE_FILTER",(function(){return ui_actions_constants["a"]}));__webpack_require__.d(__webpack_exports__,"getSeverityColor",(function(){return anomaly_utils["i"]}));__webpack_require__.d(__webpack_exports__,"getSeverityType",(function(){return anomaly_utils["j"]}));__webpack_require__.d(__webpack_exports__,"getFormattedSeverityScore",(function(){return anomaly_utils["f"]}));__webpack_require__.d(__webpack_exports__,"HITS_TOTAL_RELATION",(function(){return es_client["a"]}));__webpack_require__.d(__webpack_exports__,"ANOMALY_SEVERITY",(function(){return common["ANOMALY_SEVERITY"]}));__webpack_require__.d(__webpack_exports__,"useMlHref",(function(){return useMlHref}));__webpack_require__.d(__webpack_exports__,"ML_PAGES",(function(){return ml_url_generator["b"]}));__webpack_require__.d(__webpack_exports__,"MlUrlGenerator",(function(){return ml_url_generator_MlUrlGenerator}));__webpack_require__.d(__webpack_exports__,"getMlSharedImports",(function(){return getMlSharedImports}));var external_kbnSharedDeps_KbnI18n_=__webpack_require__(2);var external_kbnSharedDeps_Rxjs_=__webpack_require__(19);var external_kbnSharedDeps_RxjsOperators_=__webpack_require__(21);var public_=__webpack_require__(15);var indexPatternManagement_public_=__webpack_require__(16);var app=__webpack_require__(4);var common_license=__webpack_require__(9);var dependency_cache=__webpack_require__(18);var home_public_=__webpack_require__(17);const registerFeature=home=>{home.environment.update({ml:true});home.featureCatalogue.register({id:app["d"],title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.ml.machineLearningTitle",{defaultMessage:"Machine Learning"}),subtitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.ml.machineLearningSubtitle",{defaultMessage:"Model, predict, and detect."}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.ml.machineLearningDescription",{defaultMessage:"Automatically model the normal behavior of your time series data to detect anomalies."}),icon:"machineLearningApp",path:"/app/ml",showOnHomePage:false,category:home_public_["FeatureCatalogueCategory"].DATA,solutionId:"kibana",order:500});home.featureCatalogue.register({id:`${app["d"]}_file_data_visualizer`,title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.ml.fileDataVisualizerTitle",{defaultMessage:"Upload a file"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.ml.fileDataVisualizerDescription",{defaultMessage:"Import your own CSV, NDJSON, or log file."}),icon:"document",path:"/app/ml/filedatavisualizer",showOnHomePage:true,category:home_public_["FeatureCatalogueCategory"].DATA,order:520})};var ml_url_generator=__webpack_require__(0);var external_kbnSharedDeps_Lodash_=__webpack_require__(5);var kibanaUtils_public_=__webpack_require__(3);function extractParams(urlState){const{page:page,...params}=urlState;return{page:page,params:params}}function createGenericMlUrl(appBasePath,page,pageState){let url=`${appBasePath}/${page}`;if(pageState){const{globalState:globalState,appState:appState,index:index,savedSearchId:savedSearchId,...restParams}=pageState;if(index!==undefined&&savedSearchId===undefined){url=`${url}?index=${index}`}if(index===undefined&&savedSearchId!==undefined){url=`${url}?savedSearchId=${savedSearchId}`}if(!Object(external_kbnSharedDeps_Lodash_["isEmpty"])(restParams)){Object.keys(restParams).forEach(key=>{url=Object(kibanaUtils_public_["setStateToKbnUrl"])(key,restParams[key],{useHash:false,storeInHashQuery:false},url)})}if(globalState){url=Object(kibanaUtils_public_["setStateToKbnUrl"])("_g",globalState,{useHash:false,storeInHashQuery:false},url)}if(appState){url=Object(kibanaUtils_public_["setStateToKbnUrl"])("_a",appState,{useHash:false,storeInHashQuery:false},url)}}return url}var string_utils=__webpack_require__(8);function createAnomalyDetectionJobManagementUrl(appBasePath,params){let url=`${appBasePath}/${ml_url_generator["b"].ANOMALY_DETECTION_JOBS_MANAGE}`;if(!params||Object(external_kbnSharedDeps_Lodash_["isEmpty"])(params)){return url}const{jobId:jobId,groupIds:groupIds,globalState:globalState}=params;if(jobId||groupIds){const queryTextArr=[];if(jobId){queryTextArr.push(Object(string_utils["b"])(jobId))}if(groupIds){queryTextArr.push(Object(string_utils["a"])(groupIds))}const jobsListState={...queryTextArr.length>0?{queryText:queryTextArr.join(" ")}:{}};const queryState={[ml_url_generator["b"].ANOMALY_DETECTION_JOBS_MANAGE]:jobsListState};url=Object(kibanaUtils_public_["setStateToKbnUrl"])("_a",queryState,{useHash:false,storeInHashQuery:false},url)}if(globalState){url=Object(kibanaUtils_public_["setStateToKbnUrl"])("_g",globalState,{useHash:false,storeInHashQuery:false},url)}return url}function createAnomalyDetectionCreateJobSelectType(appBasePath,pageState){return createGenericMlUrl(appBasePath,ml_url_generator["b"].ANOMALY_DETECTION_CREATE_JOB_SELECT_TYPE,pageState)}function createAnomalyDetectionCreateJobSelectIndex(appBasePath,pageState){return createGenericMlUrl(appBasePath,ml_url_generator["b"].ANOMALY_DETECTION_CREATE_JOB_SELECT_INDEX,pageState)}function createExplorerUrl(appBasePath,params){let url=`${appBasePath}/${ml_url_generator["b"].ANOMALY_EXPLORER}`;if(!params){return url}const{refreshInterval:refreshInterval,timeRange:timeRange,jobIds:jobIds,query:query,mlExplorerSwimlane:mlExplorerSwimlane={},mlExplorerFilter:mlExplorerFilter={},globalState:globalState}=params;const appState={mlExplorerSwimlane:mlExplorerSwimlane,mlExplorerFilter:mlExplorerFilter};let queryState={};if(globalState)queryState=globalState;if(query)appState.query=query;if(jobIds){queryState.ml={jobIds:jobIds}}if(refreshInterval)queryState.refreshInterval=refreshInterval;if(timeRange)queryState.time=timeRange;url=Object(kibanaUtils_public_["setStateToKbnUrl"])("_g",queryState,{useHash:false,storeInHashQuery:false},url);url=Object(kibanaUtils_public_["setStateToKbnUrl"])("_a",{[ml_url_generator["b"].ANOMALY_EXPLORER]:appState},{useHash:false,storeInHashQuery:false},url);return url}function createSingleMetricViewerUrl(appBasePath,params){let url=`${appBasePath}/${ml_url_generator["b"].SINGLE_METRIC_VIEWER}`;if(!params){return url}const{timeRange:timeRange,jobIds:jobIds,refreshInterval:refreshInterval,query:query,detectorIndex:detectorIndex,forecastId:forecastId,entities:entities,globalState:globalState,functionDescription:functionDescription,zoom:zoom}=params;let queryState={};if(globalState)queryState=globalState;if(jobIds){queryState.ml={jobIds:jobIds}}if(refreshInterval)queryState.refreshInterval=refreshInterval;if(timeRange)queryState.time=timeRange;const appState={};const mlTimeSeriesExplorer={};if(forecastId!==undefined){mlTimeSeriesExplorer.forecastId=forecastId}if(detectorIndex!==undefined){mlTimeSeriesExplorer.detectorIndex=detectorIndex}if(entities!==undefined){mlTimeSeriesExplorer.entities=entities}if(functionDescription!==undefined){mlTimeSeriesExplorer.functionDescription=functionDescription}if(zoom!==undefined){mlTimeSeriesExplorer.zoom=zoom}appState.mlTimeSeriesExplorer=mlTimeSeriesExplorer;if(query)appState.query={query_string:query};url=Object(kibanaUtils_public_["setStateToKbnUrl"])("_g",queryState,{useHash:false,storeInHashQuery:false},url);url=Object(kibanaUtils_public_["setStateToKbnUrl"])("_a",{[ml_url_generator["b"].SINGLE_METRIC_VIEWER]:appState},{useHash:false,storeInHashQuery:false},url);return url}function createDataFrameAnalyticsJobManagementUrl(appBasePath,mlUrlGeneratorState){let url=`${appBasePath}/${ml_url_generator["b"].DATA_FRAME_ANALYTICS_JOBS_MANAGE}`;if(mlUrlGeneratorState){const{jobId:jobId,groupIds:groupIds,globalState:globalState}=mlUrlGeneratorState;if(jobId||groupIds){const queryTextArr=[];if(jobId){queryTextArr.push(Object(string_utils["b"])(jobId))}if(groupIds){queryTextArr.push(Object(string_utils["a"])(groupIds))}const jobsListState={...queryTextArr.length>0?{queryText:queryTextArr.join(" ")}:{}};const queryState={[ml_url_generator["b"].DATA_FRAME_ANALYTICS_JOBS_MANAGE]:jobsListState};url=Object(kibanaUtils_public_["setStateToKbnUrl"])("_a",queryState,{useHash:false,storeInHashQuery:false},url)}if(globalState){url=Object(kibanaUtils_public_["setStateToKbnUrl"])("_g",globalState,{useHash:false,storeInHashQuery:false},url)}}return url}function createDataFrameAnalyticsExplorationUrl(appBasePath,mlUrlGeneratorState){let url=`${appBasePath}/${ml_url_generator["b"].DATA_FRAME_ANALYTICS_EXPLORATION}`;if(mlUrlGeneratorState){const{jobId:jobId,analysisType:analysisType,queryText:queryText,globalState:globalState}=mlUrlGeneratorState;const queryState={ml:{jobId:jobId,analysisType:analysisType},...globalState};const appState={[ml_url_generator["b"].DATA_FRAME_ANALYTICS_EXPLORATION]:{...queryText?{queryText:queryText}:{}}};if(!Object(external_kbnSharedDeps_Lodash_["isEmpty"])(appState[ml_url_generator["b"].DATA_FRAME_ANALYTICS_EXPLORATION])){url=Object(kibanaUtils_public_["setStateToKbnUrl"])("_a",appState,{useHash:false,storeInHashQuery:false},url)}url=Object(kibanaUtils_public_["setStateToKbnUrl"])("_g",queryState,{useHash:false,storeInHashQuery:false},url)}return url}function createDataFrameAnalyticsCreateJobUrl(appBasePath,pageState){return createGenericMlUrl(appBasePath,ml_url_generator["b"].DATA_FRAME_ANALYTICS_CREATE_JOB,pageState)}function createDataFrameAnalyticsMapUrl(appBasePath,mlUrlGeneratorState){let url=`${appBasePath}/${ml_url_generator["b"].DATA_FRAME_ANALYTICS_MAP}`;if(mlUrlGeneratorState){const{jobId:jobId,modelId:modelId,analysisType:analysisType,globalState:globalState,queryText:queryText}=mlUrlGeneratorState;const queryState={ml:{jobId:jobId,modelId:modelId,analysisType:analysisType},...globalState};const appState={[ml_url_generator["b"].DATA_FRAME_ANALYTICS_MAP]:{...queryText?{queryText:queryText}:{}}};if(!Object(external_kbnSharedDeps_Lodash_["isEmpty"])(appState[ml_url_generator["b"].DATA_FRAME_ANALYTICS_MAP])){url=Object(kibanaUtils_public_["setStateToKbnUrl"])("_a",appState,{useHash:false,storeInHashQuery:false},url)}url=Object(kibanaUtils_public_["setStateToKbnUrl"])("_g",queryState,{useHash:false,storeInHashQuery:false},url)}return url}function createEditCalendarUrl(appBasePath,pageState){let url=`${appBasePath}/${ml_url_generator["b"].CALENDARS_EDIT}`;if(pageState){const{globalState:globalState,calendarId:calendarId}=pageState;if(calendarId!==undefined){url=`${url}/${calendarId}`}if(globalState){url=Object(kibanaUtils_public_["setStateToKbnUrl"])("_g",globalState,{useHash:false,storeInHashQuery:false},url)}}return url}function createEditFilterUrl(appBasePath,pageState){let url=`${appBasePath}/${ml_url_generator["b"].FILTER_LISTS_EDIT}`;if(pageState){const{globalState:globalState,filterId:filterId}=pageState;if(filterId!==undefined){url=`${url}/${filterId}`}if(globalState){url=Object(kibanaUtils_public_["setStateToKbnUrl"])("_g",globalState,{useHash:false,storeInHashQuery:false},url)}}return url}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class ml_url_generator_MlUrlGenerator{constructor(params){this.params=params;_defineProperty(this,"id",ml_url_generator["a"]);_defineProperty(this,"createUrl",async mlUrlGeneratorParams=>{const{excludeBasePath:excludeBasePath,...mlUrlGeneratorState}=mlUrlGeneratorParams;const appBasePath=excludeBasePath===true?"":this.params.appBasePath;switch(mlUrlGeneratorState.page){case ml_url_generator["b"].ANOMALY_DETECTION_JOBS_MANAGE:return createAnomalyDetectionJobManagementUrl(appBasePath,mlUrlGeneratorState.pageState);case ml_url_generator["b"].ANOMALY_EXPLORER:return createExplorerUrl(appBasePath,mlUrlGeneratorState.pageState);case ml_url_generator["b"].ANOMALY_DETECTION_CREATE_JOB_SELECT_TYPE:return createAnomalyDetectionCreateJobSelectType(appBasePath,mlUrlGeneratorState.pageState);case ml_url_generator["b"].ANOMALY_DETECTION_CREATE_JOB_SELECT_INDEX:return createAnomalyDetectionCreateJobSelectIndex(appBasePath,mlUrlGeneratorState.pageState);case ml_url_generator["b"].SINGLE_METRIC_VIEWER:return createSingleMetricViewerUrl(appBasePath,mlUrlGeneratorState.pageState);case ml_url_generator["b"].DATA_FRAME_ANALYTICS_JOBS_MANAGE:return createDataFrameAnalyticsJobManagementUrl(appBasePath,mlUrlGeneratorState.pageState);case ml_url_generator["b"].DATA_FRAME_ANALYTICS_CREATE_JOB:return createDataFrameAnalyticsCreateJobUrl(appBasePath,mlUrlGeneratorState.pageState);case ml_url_generator["b"].DATA_FRAME_ANALYTICS_MAP:return createDataFrameAnalyticsMapUrl(appBasePath,mlUrlGeneratorState.pageState);case ml_url_generator["b"].DATA_FRAME_ANALYTICS_EXPLORATION:return createDataFrameAnalyticsExplorationUrl(appBasePath,mlUrlGeneratorState.pageState);case ml_url_generator["b"].ANOMALY_DETECTION_CREATE_JOB:case ml_url_generator["b"].ANOMALY_DETECTION_CREATE_JOB_ADVANCED:case ml_url_generator["b"].DATA_VISUALIZER:case ml_url_generator["b"].DATA_VISUALIZER_FILE:case ml_url_generator["b"].DATA_VISUALIZER_INDEX_VIEWER:case ml_url_generator["b"].DATA_VISUALIZER_INDEX_SELECT:case ml_url_generator["b"].OVERVIEW:case ml_url_generator["b"].SETTINGS:case ml_url_generator["b"].FILTER_LISTS_MANAGE:case ml_url_generator["b"].FILTER_LISTS_NEW:case ml_url_generator["b"].CALENDARS_MANAGE:case ml_url_generator["b"].CALENDARS_NEW:case ml_url_generator["b"].ACCESS_DENIED:return createGenericMlUrl(appBasePath,mlUrlGeneratorState.page,mlUrlGeneratorState.pageState);case ml_url_generator["b"].FILTER_LISTS_EDIT:return createEditFilterUrl(appBasePath,mlUrlGeneratorState.pageState);case ml_url_generator["b"].CALENDARS_EDIT:return createEditCalendarUrl(appBasePath,mlUrlGeneratorState.pageState);default:throw new Error("Page type is not provided or unknown")}})}}function registerUrlGenerator(share,core){const baseUrl=core.http.basePath.prepend("/app/ml");return share.urlGenerators.registerUrlGenerator(new ml_url_generator_MlUrlGenerator({appBasePath:baseUrl,useHash:core.uiSettings.get("state:storeInSessionStorage")}))}var external_kbnSharedDeps_React_=__webpack_require__(10);var alerts=__webpack_require__(28);function registerMlAlerts(triggersActionsUi){triggersActionsUi.alertTypeRegistry.register({id:alerts["b"].ANOMALY_DETECTION,description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.ml.alertTypes.anomalyDetection.description",{defaultMessage:"Alert when anomaly detection jobs results match the condition."}),iconClass:"bell",documentationUrl(docLinks){return`${docLinks.ELASTIC_WEBSITE_URL}guide/en/machine-learning/${docLinks.DOC_LINK_VERSION}/ml-configuring-alerts.html`},alertParamsExpression:Object(external_kbnSharedDeps_React_["lazy"])(()=>Promise.all([__webpack_require__.e(0),__webpack_require__.e(1),__webpack_require__.e(2),__webpack_require__.e(12)]).then(__webpack_require__.bind(null,841))),validate:alertParams=>{var _alertParams$jobSelec,_alertParams$jobSelec2,_alertParams$jobSelec3,_alertParams$jobSelec4;const validationResult={errors:{jobSelection:new Array,severity:new Array,resultType:new Array}};if(!((_alertParams$jobSelec=alertParams.jobSelection)!==null&&_alertParams$jobSelec!==void 0&&(_alertParams$jobSelec2=_alertParams$jobSelec.jobIds)!==null&&_alertParams$jobSelec2!==void 0&&_alertParams$jobSelec2.length)&&!((_alertParams$jobSelec3=alertParams.jobSelection)!==null&&_alertParams$jobSelec3!==void 0&&(_alertParams$jobSelec4=_alertParams$jobSelec3.groupIds)!==null&&_alertParams$jobSelec4!==void 0&&_alertParams$jobSelec4.length)){validationResult.errors.jobSelection.push(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.ml.alertTypes.anomalyDetection.jobSelection.errorMessage",{defaultMessage:"Job selection is required"}))}if(alertParams.severity===undefined){validationResult.errors.severity.push(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.ml.alertTypes.anomalyDetection.severity.errorMessage",{defaultMessage:"Anomaly severity is required"}))}if(alertParams.resultType===undefined){validationResult.errors.resultType.push(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.ml.alertTypes.anomalyDetection.resultType.errorMessage",{defaultMessage:"Result type is required"}))}return validationResult},requiresAppContext:false,defaultActionMessage:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.ml.alertTypes.anomalyDetection.defaultActionMessage",{defaultMessage:`Elastic Stack Machine Learning Alert:\n- Job IDs: \\{\\{context.jobIds\\}\\}\n- Time: \\{\\{context.timestampIso8601\\}\\}\n- Anomaly score: \\{\\{context.score\\}\\}\n\nAlerts are raised based on real-time scores. Remember that scores may be adjusted over time as data continues to be analyzed.\n\n\\{\\{#context.topInfluencers.length\\}\\}\n  Top influencers:\n  \\{\\{#context.topInfluencers\\}\\}\n    \\{\\{influencer_field_name\\}\\} = \\{\\{influencer_field_value\\}\\} [\\{\\{score\\}\\}]\n  \\{\\{/context.topInfluencers\\}\\}\n\\{\\{/context.topInfluencers.length\\}\\}\n\n\\{\\{#context.topRecords.length\\}\\}\n  Top records:\n  \\{\\{#context.topRecords\\}\\}\n    \\{\\{function\\}\\}(\\{\\{field_name\\}\\}) \\{\\{by_field_value\\}\\} \\{\\{over_field_value\\}\\} \\{\\{partition_field_value\\}\\} [\\{\\{score\\}\\}]\n  \\{\\{/context.topRecords\\}\\}\n\\{\\{/context.topRecords.length\\}\\}\n\n\\{\\{! Replace kibanaBaseUrl if not configured in Kibana \\}\\}\n[Open in Anomaly Explorer](\\{\\{\\{kibanaBaseUrl\\}\\}\\}\\{\\{\\{context.anomalyExplorerUrl\\}\\}\\})\n`})})}function plugin_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class plugin_MlPlugin{constructor(initializerContext){this.initializerContext=initializerContext;plugin_defineProperty(this,"appUpdater$",new external_kbnSharedDeps_Rxjs_["BehaviorSubject"](()=>({})));plugin_defineProperty(this,"urlGenerator",void 0)}setup(core,pluginsSetup){core.application.register({id:app["d"],title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.ml.plugin.title",{defaultMessage:"Machine Learning"}),order:5e3,euiIconType:app["c"],appRoute:"/app/ml",category:public_["DEFAULT_APP_CATEGORIES"].kibana,updater$:this.appUpdater$,mount:async params=>{const[coreStart,pluginsStart]=await core.getStartServices();const kibanaVersion=this.initializerContext.env.packageInfo.version;const{renderApp:renderApp}=await Promise.all([__webpack_require__.e(0),__webpack_require__.e(3),__webpack_require__.e(1),__webpack_require__.e(2),__webpack_require__.e(4),__webpack_require__.e(5),__webpack_require__.e(6),__webpack_require__.e(7),__webpack_require__.e(8),__webpack_require__.e(16)]).then(__webpack_require__.bind(null,380));return renderApp(coreStart,{data:pluginsStart.data,share:pluginsStart.share,kibanaLegacy:pluginsStart.kibanaLegacy,security:pluginsSetup.security,licensing:pluginsSetup.licensing,management:pluginsSetup.management,licenseManagement:pluginsSetup.licenseManagement,home:pluginsSetup.home,embeddable:{...pluginsSetup.embeddable,...pluginsStart.embeddable},maps:pluginsStart.maps,uiActions:pluginsStart.uiActions,lens:pluginsStart.lens,kibanaVersion:kibanaVersion,triggersActionsUi:pluginsStart.triggersActionsUi},params)}});if(pluginsSetup.share){this.urlGenerator=registerUrlGenerator(pluginsSetup.share,core)}if(pluginsSetup.triggersActionsUi){registerMlAlerts(pluginsSetup.triggersActionsUi)}const licensing=pluginsSetup.licensing.license$.pipe(Object(external_kbnSharedDeps_RxjsOperators_["take"])(1));licensing.subscribe(async license=>{const[coreStart]=await core.getStartServices();const{capabilities:capabilities}=coreStart.application;if(Object(common_license["d"])(license)){if(pluginsSetup.home){registerFeature(pluginsSetup.home)}pluginsSetup.indexPatternManagement.environment.update({ml:()=>capabilities.ml.canFindFileStructure?indexPatternManagement_public_["MlCardState"].ENABLED:indexPatternManagement_public_["MlCardState"].HIDDEN})}else{this.appUpdater$.next(()=>({status:public_["AppStatus"].inaccessible}))}const{registerEmbeddables:registerEmbeddables,registerManagementSection:registerManagementSection,registerMlUiActions:registerMlUiActions,registerSearchLinks:registerSearchLinks}=await __webpack_require__.e(15).then(__webpack_require__.bind(null,842));const mlEnabled=Object(common_license["d"])(license);const fullLicense=Object(common_license["c"])(license);if(mlEnabled){registerSearchLinks(this.appUpdater$,fullLicense);if(fullLicense){var _capabilities$managem,_capabilities$managem2,_capabilities$managem3;const canManageMLJobs=(_capabilities$managem=(_capabilities$managem2=capabilities.management)===null||_capabilities$managem2===void 0?void 0:(_capabilities$managem3=_capabilities$managem2.insightsAndAlerting)===null||_capabilities$managem3===void 0?void 0:_capabilities$managem3.jobsListLink)!==null&&_capabilities$managem!==void 0?_capabilities$managem:false;if(canManageMLJobs&&pluginsSetup.management!==undefined){registerManagementSection(pluginsSetup.management,core).enable()}registerEmbeddables(pluginsSetup.embeddable,core);registerMlUiActions(pluginsSetup.uiActions,core)}}});return{urlGenerator:this.urlGenerator}}start(core,deps){Object(dependency_cache["l"])({docLinks:core.docLinks,basePath:core.http.basePath,http:core.http,i18n:core.i18n});return{urlGenerator:this.urlGenerator}}stop(){}}var constants=__webpack_require__(25);var ui_actions_constants=__webpack_require__(27);var anomaly_utils=__webpack_require__(6);var es_client=__webpack_require__(7);var common=__webpack_require__(13);const useMlHref=(ml,basePath,params)=>{const[mlLink,setMlLink]=Object(external_kbnSharedDeps_React_["useState"])(basePath!==undefined?`${basePath}/app/ml/${params.page}`:undefined);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{let isCancelled=false;const generateLink=async()=>{if((ml===null||ml===void 0?void 0:ml.urlGenerator)!==undefined){const href=await ml.urlGenerator.createUrl(params);if(!isCancelled){setMlLink(href)}}};generateLink();return()=>{isCancelled=true}},[ml===null||ml===void 0?void 0:ml.urlGenerator,params]);return mlLink};const public_plugin=initializerContext=>new plugin_MlPlugin(initializerContext);const getMlSharedImports=async()=>await Promise.all([__webpack_require__.e(0),__webpack_require__.e(3),__webpack_require__.e(1),__webpack_require__.e(2),__webpack_require__.e(6),__webpack_require__.e(13)]).then(__webpack_require__.bind(null,837))},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEui},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nReact},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/data/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.ElasticCharts},function(module,exports){module.exports=__kbnSharedDeps__.TsLib},function(module,exports){module.exports=__kbnSharedDeps__.ReactRouterDom},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/uiActions/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/embeddable/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.ElasticNumeral},function(module,exports){module.exports=__kbnSharedDeps__.MomentTimezone},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/data/common");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.Theme.euiLightVars},function(module,exports){module.exports=__kbnSharedDeps__.ReactDom},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEuiLibServices},function(module,exports){module.exports=__kbnSharedDeps__.Theme.euiDarkVars},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/dashboard/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/maps/common/constants");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEuiLibServicesFormat},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/savedObjects/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/fileUpload/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/discover/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.Jquery},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/esUiShared/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/maps/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))}]);