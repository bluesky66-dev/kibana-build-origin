(window["visTypeVega_bundle_jsonpfunction"]=window["visTypeVega_bundle_jsonpfunction"]||[]).push([[2],Array(35).concat([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"EMSClient",(function(){return ems_client_EMSClient}));__webpack_require__.d(__webpack_exports__,"ORIGIN",(function(){return ORIGIN}));__webpack_require__.d(__webpack_exports__,"FileLayer",(function(){return file_layer_FileLayer}));__webpack_require__.d(__webpack_exports__,"TMSService",(function(){return tms_service_TMSService}));var external_kbnSharedDeps_Lodash_=__webpack_require__(7);var external_kbnSharedDeps_Lodash_default=__webpack_require__.n(external_kbnSharedDeps_Lodash_);var ORIGIN={EMS:"elastic_maps_service",KIBANA_YML:"self_hosted"};function toAbsoluteUrl(host,path){if(!host){return path}var hostEndWithSlash=host[host.length-1]==="/";var pathStartsWithSlash=path[0]==="/";if(hostEndWithSlash===true&&pathStartsWithSlash===true){return host+path.slice(1)}else if(hostEndWithSlash!==pathStartsWithSlash){return host+path}else{return host+"/"+path}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ems_service_AbstractEmsService=function(){function AbstractEmsService(config,emsClient,proxyPath){var _this=this;_classCallCheck(this,AbstractEmsService);_defineProperty(this,"_emsClient",void 0);_defineProperty(this,"_config",void 0);_defineProperty(this,"_proxyPath",void 0);_defineProperty(this,"_getAbsoluteUrl",(function(url){if(/^https?:\/\//.test(url)){return url}else{return toAbsoluteUrl(_this.getApiUrl(),url)}}));this._config=config;this._emsClient=emsClient;this._proxyPath=proxyPath}_createClass(AbstractEmsService,[{key:"getAttributions",value:function getAttributions(){var _this2=this;return this._config.attribution.map((function(attribution){var url=_this2._emsClient.getValueInLanguage(attribution.url);var label=_this2._emsClient.getValueInLanguage(attribution.label);return{url:url,label:label}}))}},{key:"getMarkdownAttribution",value:function getMarkdownAttribution(){var _this3=this;var attributions=this._config.attribution.map((function(attribution){var url=_this3._emsClient.getValueInLanguage(attribution.url);var label=_this3._emsClient.getValueInLanguage(attribution.label);return"[".concat(label,"](").concat(url,")")}));return attributions.join("|")}},{key:"getOrigin",value:function getOrigin(){return ORIGIN.EMS}}]);return AbstractEmsService}();function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it["return"]!=null)it["return"]()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach((function(key){tms_service_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function tms_service_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function tms_service_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function tms_service_createClass(Constructor,protoProps,staticProps){if(protoProps)tms_service_defineProperties(Constructor.prototype,protoProps);if(staticProps)tms_service_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function tms_service_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var tms_service_TMSService=function(_AbstractEmsService){_inherits(TMSService,_AbstractEmsService);var _super=_createSuper(TMSService);function TMSService(config,emsClient,proxyPath){var _this;tms_service_classCallCheck(this,TMSService);_this=_super.call(this,config,emsClient,proxyPath);tms_service_defineProperty(_assertThisInitialized(_this),"_config",void 0);tms_service_defineProperty(_assertThisInitialized(_this),"_getRasterStyleJson",external_kbnSharedDeps_Lodash_default.a.once(_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var rasterUrl,url;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:rasterUrl=_this._getStyleUrlForLocale("raster");if(!rasterUrl){_context.next=6;break}url=_this._proxyPath+_this._getAbsoluteUrl(rasterUrl);return _context.abrupt("return",_this._emsClient.getManifest(_this._emsClient.extendUrlWithParams(url)));case 6:return _context.abrupt("return");case 7:case"end":return _context.stop()}}}),_callee)})))));tms_service_defineProperty(_assertThisInitialized(_this),"_getVectorStyleJsonRaw",external_kbnSharedDeps_Lodash_default.a.once(_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var vectorUrl,url,vectorJson;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:vectorUrl=_this._getStyleUrlForLocale("vector");if(!vectorUrl){_context2.next=9;break}url=_this._proxyPath+_this._getAbsoluteUrl(vectorUrl);_context2.next=5;return _this._emsClient.getManifest(_this._emsClient.extendUrlWithParams(url));case 5:vectorJson=_context2.sent;return _context2.abrupt("return",_objectSpread({},vectorJson));case 9:return _context2.abrupt("return");case 10:case"end":return _context2.stop()}}}),_callee2)})))));tms_service_defineProperty(_assertThisInitialized(_this),"_getVectorStyleJsonInlined",external_kbnSharedDeps_Lodash_default.a.once(_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var vectorJson,inlinedSources,sources,_iterator,_step,_sourceName,url,sourceUrl,extendedUrl,sourceJson,extendedTileUrls;return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _this._getVectorStyleJsonRaw();case 2:vectorJson=_context3.sent;if(!vectorJson){_context3.next=43;break}inlinedSources={};sources=vectorJson.sources;_iterator=_createForOfIteratorHelper(Object.getOwnPropertyNames(sources));_context3.prev=7;_iterator.s();case 9:if((_step=_iterator.n()).done){_context3.next=21;break}_sourceName=_step.value;url=sources[_sourceName].url;sourceUrl=_this._proxyPath+_this._getAbsoluteUrl(url);extendedUrl=_this._emsClient.extendUrlWithParams(sourceUrl);_context3.next=16;return _this._emsClient.getManifest(extendedUrl);case 16:sourceJson=_context3.sent;extendedTileUrls=sourceJson.tiles.map((function(tileUrl){var url=_this._proxyPath+_this._getAbsoluteUrl(tileUrl);return _this._emsClient.extendUrlWithParams(url)}));inlinedSources[_sourceName]=_objectSpread(_objectSpread({},sourceJson),{},{type:"vector",tiles:extendedTileUrls});case 19:_context3.next=9;break;case 21:_context3.next=26;break;case 23:_context3.prev=23;_context3.t0=_context3["catch"](7);_iterator.e(_context3.t0);case 26:_context3.prev=26;_iterator.f();return _context3.finish(26);case 29:_context3.t1=_objectSpread;_context3.t2=_objectSpread({},vectorJson);_context3.t3={};_context3.t4=inlinedSources;_context3.next=35;return _this._getSpriteSheetRootPath();case 35:_context3.t5=_context3.sent;_context3.next=38;return _this._getUrlTemplateForGlyphs();case 38:_context3.t6=_context3.sent;_context3.t7={sources:_context3.t4,sprite:_context3.t5,glyphs:_context3.t6};return _context3.abrupt("return",(0,_context3.t1)(_context3.t2,_context3.t3,_context3.t7));case 43:return _context3.abrupt("return");case 44:case"end":return _context3.stop()}}}),_callee3,null,[[7,23,26,29]])})))));_this._config=config;return _this}tms_service_createClass(TMSService,[{key:"getDefaultRasterStyle",value:function(){var _getDefaultRasterStyle=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){var _this2=this;var tileJson,tiles;return regeneratorRuntime.wrap((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return this._getRasterStyleJson();case 2:tileJson=_context4.sent;if(!tileJson){_context4.next=8;break}tiles=tileJson.tiles.map((function(tile){return _this2._proxyPath+_this2._getAbsoluteUrl(tile)}));return _context4.abrupt("return",_objectSpread(_objectSpread({},tileJson),{tiles:tiles}));case 8:return _context4.abrupt("return");case 9:case"end":return _context4.stop()}}}),_callee4,this)})));function getDefaultRasterStyle(){return _getDefaultRasterStyle.apply(this,arguments)}return getDefaultRasterStyle}()},{key:"getUrlTemplate",value:function(){var _getUrlTemplate=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){var tileJson,directUrl;return regeneratorRuntime.wrap((function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return this._getRasterStyleJson();case 2:tileJson=_context5.sent;if(!tileJson){_context5.next=8;break}directUrl=this._proxyPath+this._getAbsoluteUrl(tileJson.tiles[0]);return _context5.abrupt("return",this._emsClient.extendUrlWithParams(directUrl));case 8:return _context5.abrupt("return","");case 9:case"end":return _context5.stop()}}}),_callee5,this)})));function getUrlTemplate(){return _getUrlTemplate.apply(this,arguments)}return getUrlTemplate}()},{key:"getUrlTemplateForVector",value:function(){var _getUrlTemplateForVector=_asyncToGenerator(regeneratorRuntime.mark((function _callee6(sourceId){var tileJson,directUrl;return regeneratorRuntime.wrap((function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return this._getVectorStyleJsonInlined();case 2:tileJson=_context6.sent;if(tileJson){_context6.next=5;break}return _context6.abrupt("return","");case 5:if(!(tileJson.sources[sourceId]&&tileJson.sources[sourceId].tiles)){_context6.next=10;break}directUrl=this._proxyPath+this._getAbsoluteUrl(tileJson.sources[sourceId].tiles[0]);return _context6.abrupt("return",this._emsClient.extendUrlWithParams(directUrl));case 10:return _context6.abrupt("return","");case 11:case"end":return _context6.stop()}}}),_callee6,this)})));function getUrlTemplateForVector(_x){return _getUrlTemplateForVector.apply(this,arguments)}return getUrlTemplateForVector}()},{key:"getVectorStyleSheet",value:function(){var _getVectorStyleSheet=_asyncToGenerator(regeneratorRuntime.mark((function _callee7(){return regeneratorRuntime.wrap((function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return this._getVectorStyleJsonInlined();case 2:return _context7.abrupt("return",_context7.sent);case 3:case"end":return _context7.stop()}}}),_callee7,this)})));function getVectorStyleSheet(){return _getVectorStyleSheet.apply(this,arguments)}return getVectorStyleSheet}()},{key:"getVectorStyleSheetRaw",value:function(){var _getVectorStyleSheetRaw=_asyncToGenerator(regeneratorRuntime.mark((function _callee8(){return regeneratorRuntime.wrap((function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return this._getVectorStyleJsonRaw();case 2:return _context8.abrupt("return",_context8.sent);case 3:case"end":return _context8.stop()}}}),_callee8,this)})));function getVectorStyleSheetRaw(){return _getVectorStyleSheetRaw.apply(this,arguments)}return getVectorStyleSheetRaw}()},{key:"getSpriteSheetMeta",value:function(){var _getSpriteSheetMeta=_asyncToGenerator(regeneratorRuntime.mark((function _callee9(){var isRetina,metaUrl,spritePngs,metaUrlExtended,jsonMeta,_args9=arguments;return regeneratorRuntime.wrap((function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:isRetina=_args9.length>0&&_args9[0]!==undefined?_args9[0]:false;_context9.next=3;return this.getSpriteSheetJsonPath(isRetina);case 3:metaUrl=_context9.sent;_context9.next=6;return this.getSpriteSheetPngPath(isRetina);case 6:spritePngs=_context9.sent;if(!(metaUrl&&spritePngs)){_context9.next=15;break}metaUrlExtended=this._emsClient.extendUrlWithParams(metaUrl);_context9.next=11;return this._emsClient.getManifest(metaUrlExtended);case 11:jsonMeta=_context9.sent;return _context9.abrupt("return",{png:spritePngs,json:jsonMeta});case 15:return _context9.abrupt("return");case 16:case"end":return _context9.stop()}}}),_callee9,this)})));function getSpriteSheetMeta(){return _getSpriteSheetMeta.apply(this,arguments)}return getSpriteSheetMeta}()},{key:"getSpriteSheetJsonPath",value:function(){var _getSpriteSheetJsonPath=_asyncToGenerator(regeneratorRuntime.mark((function _callee10(){var isRetina,spriteSheetRootPath,suffix,_args10=arguments;return regeneratorRuntime.wrap((function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:isRetina=_args10.length>0&&_args10[0]!==undefined?_args10[0]:false;_context10.next=3;return this._getSpriteSheetRootPath();case 3:spriteSheetRootPath=_context10.sent;if(!spriteSheetRootPath){_context10.next=9;break}suffix=isRetina?"@2x":"";return _context10.abrupt("return",spriteSheetRootPath+suffix+".json");case 9:return _context10.abrupt("return","");case 10:case"end":return _context10.stop()}}}),_callee10,this)})));function getSpriteSheetJsonPath(){return _getSpriteSheetJsonPath.apply(this,arguments)}return getSpriteSheetJsonPath}()},{key:"getSpriteSheetPngPath",value:function(){var _getSpriteSheetPngPath=_asyncToGenerator(regeneratorRuntime.mark((function _callee11(){var isRetina,spriteSheetRootPath,suffix,_args11=arguments;return regeneratorRuntime.wrap((function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:isRetina=_args11.length>0&&_args11[0]!==undefined?_args11[0]:false;_context11.next=3;return this._getSpriteSheetRootPath();case 3:spriteSheetRootPath=_context11.sent;if(!spriteSheetRootPath){_context11.next=9;break}suffix=isRetina?"@2x":"";return _context11.abrupt("return",spriteSheetRootPath+suffix+".png");case 9:return _context11.abrupt("return","");case 10:case"end":return _context11.stop()}}}),_callee11,this)})));function getSpriteSheetPngPath(){return _getSpriteSheetPngPath.apply(this,arguments)}return getSpriteSheetPngPath}()},{key:"getDisplayName",value:function getDisplayName(){return this._emsClient.getValueInLanguage(this._config.name)}},{key:"getMinZoom",value:function(){var _getMinZoom=_asyncToGenerator(regeneratorRuntime.mark((function _callee12(){var tileJson;return regeneratorRuntime.wrap((function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.next=2;return this._getRasterStyleJson();case 2:tileJson=_context12.sent;if(!tileJson){_context12.next=7;break}return _context12.abrupt("return",tileJson.minzoom);case 7:return _context12.abrupt("return");case 8:case"end":return _context12.stop()}}}),_callee12,this)})));function getMinZoom(){return _getMinZoom.apply(this,arguments)}return getMinZoom}()},{key:"getMaxZoom",value:function(){var _getMaxZoom=_asyncToGenerator(regeneratorRuntime.mark((function _callee13(){var tileJson;return regeneratorRuntime.wrap((function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.next=2;return this._getRasterStyleJson();case 2:tileJson=_context13.sent;if(!tileJson){_context13.next=7;break}return _context13.abrupt("return",tileJson.maxzoom);case 7:return _context13.abrupt("return");case 8:case"end":return _context13.stop()}}}),_callee13,this)})));function getMaxZoom(){return _getMaxZoom.apply(this,arguments)}return getMaxZoom}()},{key:"getId",value:function getId(){return this._config.id}},{key:"hasId",value:function hasId(id){return this._config.id===id}},{key:"getApiUrl",value:function getApiUrl(){return this._emsClient.getTileApiUrl()}},{key:"_getStyleUrlForLocale",value:function _getStyleUrlForLocale(formatType){var vectorFormats=this._getFormats(formatType,this._emsClient.getLocale());if(!vectorFormats.length){vectorFormats=this._getFormats(formatType,this._emsClient.getDefaultLocale())}if(!vectorFormats.length){throw new Error("Cannot find ".concat(formatType," tile layer for locale ").concat(this._emsClient.getLocale()," or ").concat(this._emsClient.getDefaultLocale()))}var defaultStyle=vectorFormats[0];if(defaultStyle&&defaultStyle.hasOwnProperty("url")){return defaultStyle.url}}},{key:"_getFormats",value:function _getFormats(formatType,locale){return this._config.formats.filter((function(format){return format.locale===locale&&format.format===formatType}))}},{key:"_getSpriteSheetRootPath",value:function(){var _getSpriteSheetRootPath2=_asyncToGenerator(regeneratorRuntime.mark((function _callee14(){var vectorStyleJson;return regeneratorRuntime.wrap((function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_context14.next=2;return this._getVectorStyleJsonRaw();case 2:vectorStyleJson=_context14.sent;if(!vectorStyleJson){_context14.next=7;break}return _context14.abrupt("return",this._proxyPath+this._getAbsoluteUrl(vectorStyleJson.sprite));case 7:return _context14.abrupt("return","");case 8:case"end":return _context14.stop()}}}),_callee14,this)})));function _getSpriteSheetRootPath(){return _getSpriteSheetRootPath2.apply(this,arguments)}return _getSpriteSheetRootPath}()},{key:"_getUrlTemplateForGlyphs",value:function(){var _getUrlTemplateForGlyphs2=_asyncToGenerator(regeneratorRuntime.mark((function _callee15(){var vectorStyleJson;return regeneratorRuntime.wrap((function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:_context15.next=2;return this._getVectorStyleJsonRaw();case 2:vectorStyleJson=_context15.sent;if(!vectorStyleJson){_context15.next=7;break}return _context15.abrupt("return",this._proxyPath+this._getAbsoluteUrl(vectorStyleJson.glyphs));case 7:return _context15.abrupt("return","");case 8:case"end":return _context15.stop()}}}),_callee15,this)})));function _getUrlTemplateForGlyphs(){return _getUrlTemplateForGlyphs2.apply(this,arguments)}return _getUrlTemplateForGlyphs}()}]);return TMSService}(ems_service_AbstractEmsService);var url_url=__webpack_require__(81);var url_default=__webpack_require__.n(url_url);function file_layer_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){file_layer_typeof=function _typeof(obj){return typeof obj}}else{file_layer_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return file_layer_typeof(obj)}function file_layer_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));keys.push.apply(keys,symbols)}return keys}function file_layer_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){file_layer_ownKeys(Object(source),true).forEach((function(key){file_layer_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{file_layer_ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function file_layer_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function file_layer_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function file_layer_createClass(Constructor,protoProps,staticProps){if(protoProps)file_layer_defineProperties(Constructor.prototype,protoProps);if(staticProps)file_layer_defineProperties(Constructor,staticProps);return Constructor}function file_layer_inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)file_layer_setPrototypeOf(subClass,superClass)}function file_layer_setPrototypeOf(o,p){file_layer_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return file_layer_setPrototypeOf(o,p)}function file_layer_createSuper(Derived){var hasNativeReflectConstruct=file_layer_isNativeReflectConstruct();return function _createSuperInternal(){var Super=file_layer_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=file_layer_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return file_layer_possibleConstructorReturn(this,result)}}function file_layer_possibleConstructorReturn(self,call){if(call&&(file_layer_typeof(call)==="object"||typeof call==="function")){return call}return file_layer_assertThisInitialized(self)}function file_layer_assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function file_layer_isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function file_layer_getPrototypeOf(o){file_layer_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return file_layer_getPrototypeOf(o)}function file_layer_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var EMSFormatType;(function(EMSFormatType){EMSFormatType["geojson"]="geojson";EMSFormatType["topojson"]="topojson"})(EMSFormatType||(EMSFormatType={}));var file_layer_FileLayer=function(_AbstractEmsService){file_layer_inherits(FileLayer,_AbstractEmsService);var _super=file_layer_createSuper(FileLayer);function FileLayer(config,emsClient,proxyPath){var _this;file_layer_classCallCheck(this,FileLayer);_this=_super.call(this,config,emsClient,proxyPath);file_layer_defineProperty(file_layer_assertThisInitialized(_this),"_config",void 0);_this._config=config;return _this}file_layer_createClass(FileLayer,[{key:"getFields",value:function getFields(){return this._config.fields}},{key:"getFieldsInLanguage",value:function getFieldsInLanguage(){var _this2=this;return this.getFields().map((function(field){return{type:field.type,name:field.id,description:_this2._emsClient.getValueInLanguage(field.label)}}))}},{key:"getDisplayName",value:function getDisplayName(){var layerName=this._emsClient.getValueInLanguage(this._config.layer_name);return layerName?layerName:""}},{key:"getId",value:function getId(){return this._config.layer_id}},{key:"hasId",value:function hasId(id){var matchesLegacyId=this._config.legacy_ids.indexOf(id)>=0;return this._config.layer_id===id||matchesLegacyId}},{key:"getEMSHotLink",value:function getEMSHotLink(){var landingPageString=this._emsClient.getLandingPageUrl();var urlObject=url_default.a.parse(landingPageString,true);urlObject.hash="file/".concat(this.getId());urlObject.query=file_layer_objectSpread(file_layer_objectSpread({},urlObject.query),{},{locale:this._emsClient.getLocale()});return url_default.a.format(urlObject)}},{key:"getDefaultFormatType",value:function getDefaultFormatType(){var format=this._getDefaultFormat();return format.type}},{key:"getFormatOfType",value:function getFormatOfType(type){var format=this._getFormatOfType(type);return format.type}},{key:"getDefaultFormatMeta",value:function getDefaultFormatMeta(){var format=this._getDefaultFormat();return this._getFormatMeta(format)}},{key:"getFormatOfTypeMeta",value:function getFormatOfTypeMeta(type){var format=this._getFormatOfType(type);return this._getFormatMeta(format)}},{key:"getDefaultFormatUrl",value:function getDefaultFormatUrl(){var format=this._getDefaultFormat();return this._getFormatUrl(format)}},{key:"getFormatOfTypeUrl",value:function getFormatOfTypeUrl(type){var format=this._getFormatOfType(type);return this._getFormatUrl(format)}},{key:"getCreatedAt",value:function getCreatedAt(){return this._config.created_at}},{key:"getApiUrl",value:function getApiUrl(){return this._emsClient.getFileApiUrl()}},{key:"_getFormatUrl",value:function _getFormatUrl(format){var url=this._proxyPath+this._getAbsoluteUrl(format.url);return this._emsClient.extendUrlWithParams(url)}},{key:"_getFormatMeta",value:function _getFormatMeta(format){if("meta"in format){return format.meta}else{return}}},{key:"_getDefaultFormat",value:function _getDefaultFormat(){var defaultFormat=this._config.formats.find((function(format){return format.legacy_default}));if(defaultFormat){return defaultFormat}return this._config.formats[0]}},{key:"_getFormatOfType",value:function _getFormatOfType(type){var requestedFormat=this._config.formats.find((function(format){return format.type===type}));return requestedFormat||this._getDefaultFormat()}}]);return FileLayer}(ems_service_AbstractEmsService);var semver=__webpack_require__(169);var semver_default=__webpack_require__.n(semver);function ems_client_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function ems_client_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){ems_client_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){ems_client_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)}))}}function ems_client_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function ems_client_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function ems_client_createClass(Constructor,protoProps,staticProps){if(protoProps)ems_client_defineProperties(Constructor.prototype,protoProps);if(staticProps)ems_client_defineProperties(Constructor,staticProps);return Constructor}function ems_client_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var DEFAULT_EMS_VERSION="7.12";function modifyUrlLocal(url,block){var parsed=Object(url_url["parse"])(url,true);var meaningfulParts={protocol:parsed.protocol,slashes:parsed.slashes,auth:parsed.auth,hostname:parsed.hostname,port:parsed.port,pathname:parsed.pathname,query:parsed.query||{},hash:parsed.hash};var modifiedParts=block(meaningfulParts)||meaningfulParts;return Object(url_url["format"])({protocol:modifiedParts.protocol,slashes:modifiedParts.slashes,auth:modifiedParts.auth,hostname:modifiedParts.hostname,port:modifiedParts.port,pathname:modifiedParts.pathname,query:modifiedParts.query,hash:modifiedParts.hash})}var ems_client_extendUrl=function extendUrl(url,props){return modifyUrlLocal(url,(function(parsed){return external_kbnSharedDeps_Lodash_default.a.merge(parsed,props)}))};var unescapeTemplateVars=function unescapeTemplateVars(url){var ENCODED_TEMPLATE_VARS_RE=/%7B(\w+?)%7D/g;return url.replace(ENCODED_TEMPLATE_VARS_RE,(function(total,varName){return"{".concat(varName,"}")}))};var DEFAULT_LANGUAGE="en";var ems_client_EMSClient=function(){function EMSClient(config){ems_client_classCallCheck(this,EMSClient);ems_client_defineProperty(this,"EMS_LOAD_TIMEOUT",32e3);ems_client_defineProperty(this,"_queryParams",void 0);ems_client_defineProperty(this,"_appVersion",void 0);ems_client_defineProperty(this,"_fetchFunction",void 0);ems_client_defineProperty(this,"_sanitizer",void 0);ems_client_defineProperty(this,"_manifestServiceUrl",void 0);ems_client_defineProperty(this,"_fileApiUrl",void 0);ems_client_defineProperty(this,"_tileApiUrl",void 0);ems_client_defineProperty(this,"_emsVersion",void 0);ems_client_defineProperty(this,"_emsLandingPageUrl",void 0);ems_client_defineProperty(this,"_language",void 0);ems_client_defineProperty(this,"_proxyPath",void 0);ems_client_defineProperty(this,"_getMainCatalog",void 0);ems_client_defineProperty(this,"_getDefaultTMSCatalog",void 0);ems_client_defineProperty(this,"_getDefaultFileCatalog",void 0);ems_client_defineProperty(this,"_loadTMSServices",void 0);ems_client_defineProperty(this,"_loadFileLayers",void 0);if("kbnVersion"in config){console.warn('The "kbnVersion" parameter for ems-client is deprecated. Please use "appVersion" instead.');this._appVersion=config.kbnVersion}else{this._appVersion=config.appVersion}this._queryParams={elastic_tile_service_tos:"agree",my_app_name:config.appName||"kibana",my_app_version:this._appVersion};this._sanitizer=config.htmlSanitizer?config.htmlSanitizer:function(x){return x};this._manifestServiceUrl=config.manifestServiceUrl;this._tileApiUrl=config.tileApiUrl;this._fileApiUrl=config.fileApiUrl;this._emsVersion=this._getEmsVersion(config.emsVersion);this._emsLandingPageUrl=config.landingPageUrl||"";this._language=config.language||DEFAULT_LANGUAGE;this._fetchFunction=config.fetchFunction;this._proxyPath=config.proxyPath||"";this._invalidateSettings()}ems_client_createClass(EMSClient,[{key:"getDefaultLocale",value:function getDefaultLocale(){return DEFAULT_LANGUAGE}},{key:"getLocale",value:function getLocale(){return this._language}},{key:"getValueInLanguage",value:function getValueInLanguage(i18nObject){if(!i18nObject){return""}return i18nObject[this._language]?i18nObject[this._language]:i18nObject[DEFAULT_LANGUAGE]}},{key:"getManifest",value:function(){var _getManifest=ems_client_asyncToGenerator(regeneratorRuntime.mark((function _callee(manifestUrl){var url,result;return regeneratorRuntime.wrap((function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;url=ems_client_extendUrl(manifestUrl,{query:this._queryParams});_context.next=4;return this._fetchWithTimeout(url);case 4:result=_context.sent;if(!result){_context.next=11;break}_context.next=8;return result.json();case 8:_context.t0=_context.sent;_context.next=12;break;case 11:_context.t0=null;case 12:return _context.abrupt("return",_context.t0);case 15:_context.prev=15;_context.t1=_context["catch"](0);if(!_context.t1){_context.t1=new Error("Unknown error")}if(!(_context.t1 instanceof Error)){_context.t1=new Error(_context.t1.data||"status ".concat(_context.t1.statusText||_context.t1.status))}throw new Error("Unable to retrieve manifest from ".concat(manifestUrl,": ").concat(_context.t1.message));case 20:case"end":return _context.stop()}}}),_callee,this,[[0,15]])})));function getManifest(_x){return _getManifest.apply(this,arguments)}return getManifest}()},{key:"addQueryParams",value:function addQueryParams(additionalQueryParams){for(var _key in additionalQueryParams){if(additionalQueryParams.hasOwnProperty(_key)){if(additionalQueryParams[_key]!==this._queryParams[_key]){this._queryParams=external_kbnSharedDeps_Lodash_default.a.assign({},this._queryParams,additionalQueryParams);this._invalidateSettings();break}}}}},{key:"getMainManifest",value:function(){var _getMainManifest=ems_client_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this._getMainCatalog();case 2:return _context2.abrupt("return",_context2.sent);case 3:case"end":return _context2.stop()}}}),_callee2,this)})));function getMainManifest(){return _getMainManifest.apply(this,arguments)}return getMainManifest}()},{key:"getDefaultFileManifest",value:function(){var _getDefaultFileManifest=ems_client_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){return regeneratorRuntime.wrap((function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return this._getDefaultFileCatalog();case 2:return _context3.abrupt("return",_context3.sent);case 3:case"end":return _context3.stop()}}}),_callee3,this)})));function getDefaultFileManifest(){return _getDefaultFileManifest.apply(this,arguments)}return getDefaultFileManifest}()},{key:"getDefaultTMSManifest",value:function(){var _getDefaultTMSManifest=ems_client_asyncToGenerator(regeneratorRuntime.mark((function _callee4(){return regeneratorRuntime.wrap((function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return this._getDefaultTMSCatalog();case 2:return _context4.abrupt("return",_context4.sent);case 3:case"end":return _context4.stop()}}}),_callee4,this)})));function getDefaultTMSManifest(){return _getDefaultTMSManifest.apply(this,arguments)}return getDefaultTMSManifest}()},{key:"getFileLayers",value:function(){var _getFileLayers=ems_client_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){return regeneratorRuntime.wrap((function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return this._loadFileLayers();case 2:return _context5.abrupt("return",_context5.sent);case 3:case"end":return _context5.stop()}}}),_callee5,this)})));function getFileLayers(){return _getFileLayers.apply(this,arguments)}return getFileLayers}()},{key:"getTMSServices",value:function(){var _getTMSServices=ems_client_asyncToGenerator(regeneratorRuntime.mark((function _callee6(){return regeneratorRuntime.wrap((function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return this._loadTMSServices();case 2:return _context6.abrupt("return",_context6.sent);case 3:case"end":return _context6.stop()}}}),_callee6,this)})));function getTMSServices(){return _getTMSServices.apply(this,arguments)}return getTMSServices}()},{key:"getTileApiUrl",value:function getTileApiUrl(){return this._tileApiUrl}},{key:"getFileApiUrl",value:function getFileApiUrl(){return this._fileApiUrl}},{key:"getLandingPageUrl",value:function getLandingPageUrl(){return this._emsLandingPageUrl}},{key:"sanitizeHtml",value:function sanitizeHtml(html){return this._sanitizer(html)}},{key:"extendUrlWithParams",value:function extendUrlWithParams(url){return unescapeTemplateVars(ems_client_extendUrl(url,{query:this._queryParams}))}},{key:"findFileLayerById",value:function(){var _findFileLayerById=ems_client_asyncToGenerator(regeneratorRuntime.mark((function _callee7(id){var fileLayers,i;return regeneratorRuntime.wrap((function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return this.getFileLayers();case 2:fileLayers=_context7.sent;i=0;case 4:if(!(i<fileLayers.length)){_context7.next=10;break}if(!fileLayers[i].hasId(id)){_context7.next=7;break}return _context7.abrupt("return",fileLayers[i]);case 7:i++;_context7.next=4;break;case 10:case"end":return _context7.stop()}}}),_callee7,this)})));function findFileLayerById(_x2){return _findFileLayerById.apply(this,arguments)}return findFileLayerById}()},{key:"findTMSServiceById",value:function(){var _findTMSServiceById=ems_client_asyncToGenerator(regeneratorRuntime.mark((function _callee8(id){var tmsServices,i;return regeneratorRuntime.wrap((function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return this.getTMSServices();case 2:tmsServices=_context8.sent;i=0;case 4:if(!(i<tmsServices.length)){_context8.next=10;break}if(!tmsServices[i].hasId(id)){_context8.next=7;break}return _context8.abrupt("return",tmsServices[i]);case 7:i++;_context8.next=4;break;case 10:case"end":return _context8.stop()}}}),_callee8,this)})));function findTMSServiceById(_x3){return _findTMSServiceById.apply(this,arguments)}return findTMSServiceById}()},{key:"_getEmsVersion",value:function _getEmsVersion(version){var userVersion=semver_default.a.valid(semver_default.a.coerce(version));var semverVersion=userVersion?userVersion:semver_default.a.coerce(DEFAULT_EMS_VERSION);if(semverVersion){return"v".concat(semver_default.a.major(semverVersion),".").concat(semver_default.a.minor(semverVersion))}else{throw new Error("Invalid version: ".concat(version))}}},{key:"_fetchWithTimeout",value:function _fetchWithTimeout(url){var _this=this;return new Promise((function(resolve,reject){var timer=setTimeout((function(){return reject(new Error("Request to ".concat(url," timed out")))}),_this.EMS_LOAD_TIMEOUT);_this._fetchFunction(url).then((function(response){clearTimeout(timer);resolve(response)}),(function(err){clearTimeout(timer);reject(err)}))}))}},{key:"_getManifestWithParams",value:function(){var _getManifestWithParams2=ems_client_asyncToGenerator(regeneratorRuntime.mark((function _callee9(url){var extendedUrl;return regeneratorRuntime.wrap((function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:extendedUrl=this.extendUrlWithParams(url);_context9.next=3;return this.getManifest(extendedUrl);case 3:return _context9.abrupt("return",_context9.sent);case 4:case"end":return _context9.stop()}}}),_callee9,this)})));function _getManifestWithParams(_x4){return _getManifestWithParams2.apply(this,arguments)}return _getManifestWithParams}()},{key:"_invalidateSettings",value:function _invalidateSettings(){var _this2=this;this._getMainCatalog=external_kbnSharedDeps_Lodash_default.a.once(ems_client_asyncToGenerator(regeneratorRuntime.mark((function _callee10(){var services;return regeneratorRuntime.wrap((function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:if(!_this2._manifestServiceUrl){_context10.next=7;break}console.warn('The "manifestServiceUrl" parameter is deprecated in v7.6.0.\n        Consider using "tileApiUrl" and "fileApiUrl" instead.');_context10.next=4;return _this2._getManifestWithParams(_this2._manifestServiceUrl);case 4:return _context10.abrupt("return",_context10.sent);case 7:services=[];if(_this2._tileApiUrl){services.push({type:"tms",manifest:toAbsoluteUrl(_this2._tileApiUrl,"".concat(_this2._emsVersion,"/manifest"))})}if(_this2._fileApiUrl){services.push({type:"file",manifest:toAbsoluteUrl(_this2._fileApiUrl,"".concat(_this2._emsVersion,"/manifest"))})}return _context10.abrupt("return",{services:services});case 11:case"end":return _context10.stop()}}}),_callee10)}))));this._getDefaultTMSCatalog=external_kbnSharedDeps_Lodash_default.a.once(ems_client_asyncToGenerator(regeneratorRuntime.mark((function _callee11(){var catalogue,firstService,url;return regeneratorRuntime.wrap((function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return _this2._getMainCatalog();case 2:catalogue=_context11.sent;firstService=catalogue.services.find((function(service){return service.type==="tms"}));if(firstService){_context11.next=6;break}return _context11.abrupt("return",{services:[]});case 6:url=_this2._proxyPath+firstService.manifest;_context11.next=9;return _this2.getManifest(url);case 9:return _context11.abrupt("return",_context11.sent);case 10:case"end":return _context11.stop()}}}),_callee11)}))));this._getDefaultFileCatalog=external_kbnSharedDeps_Lodash_default.a.once(ems_client_asyncToGenerator(regeneratorRuntime.mark((function _callee12(){var catalogue,firstService,url;return regeneratorRuntime.wrap((function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.next=2;return _this2._getMainCatalog();case 2:catalogue=_context12.sent;firstService=catalogue.services.find((function(service){return service.type==="file"}));if(firstService){_context12.next=6;break}return _context12.abrupt("return",{layers:[]});case 6:url=_this2._proxyPath+firstService.manifest;_context12.next=9;return _this2.getManifest(url);case 9:return _context12.abrupt("return",_context12.sent);case 10:case"end":return _context12.stop()}}}),_callee12)}))));this._loadTMSServices=external_kbnSharedDeps_Lodash_default.a.once(ems_client_asyncToGenerator(regeneratorRuntime.mark((function _callee13(){var tmsManifest;return regeneratorRuntime.wrap((function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.next=2;return _this2._getDefaultTMSCatalog();case 2:tmsManifest=_context13.sent;return _context13.abrupt("return",tmsManifest.services.map((function(serviceConfig){return new tms_service_TMSService(serviceConfig,_this2,_this2._proxyPath)})));case 4:case"end":return _context13.stop()}}}),_callee13)}))));this._loadFileLayers=external_kbnSharedDeps_Lodash_default.a.once(ems_client_asyncToGenerator(regeneratorRuntime.mark((function _callee14(){var fileManifest;return regeneratorRuntime.wrap((function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_context14.next=2;return _this2._getDefaultFileCatalog();case 2:fileManifest=_context14.sent;return _context14.abrupt("return",fileManifest.layers.map((function(layerConfig){return new file_layer_FileLayer(layerConfig,_this2,_this2._proxyPath)})));case 4:case"end":return _context14.stop()}}}),_callee14)}))))}}]);return EMSClient}()},,,,,function(module,exports,__webpack_require__){const debug=__webpack_require__(53);const{MAX_LENGTH:MAX_LENGTH,MAX_SAFE_INTEGER:MAX_SAFE_INTEGER}=__webpack_require__(52);const{re:re,t:t}=__webpack_require__(45);const{compareIdentifiers:compareIdentifiers}=__webpack_require__(63);class SemVer{constructor(version,options){if(!options||typeof options!=="object"){options={loose:!!options,includePrerelease:false}}if(version instanceof SemVer){if(version.loose===!!options.loose&&version.includePrerelease===!!options.includePrerelease){return version}else{version=version.version}}else if(typeof version!=="string"){throw new TypeError(`Invalid Version: ${version}`)}if(version.length>MAX_LENGTH){throw new TypeError(`version is longer than ${MAX_LENGTH} characters`)}debug("SemVer",version,options);this.options=options;this.loose=!!options.loose;this.includePrerelease=!!options.includePrerelease;const m=version.trim().match(options.loose?re[t.LOOSE]:re[t.FULL]);if(!m){throw new TypeError(`Invalid Version: ${version}`)}this.raw=version;this.major=+m[1];this.minor=+m[2];this.patch=+m[3];if(this.major>MAX_SAFE_INTEGER||this.major<0){throw new TypeError("Invalid major version")}if(this.minor>MAX_SAFE_INTEGER||this.minor<0){throw new TypeError("Invalid minor version")}if(this.patch>MAX_SAFE_INTEGER||this.patch<0){throw new TypeError("Invalid patch version")}if(!m[4]){this.prerelease=[]}else{this.prerelease=m[4].split(".").map(id=>{if(/^[0-9]+$/.test(id)){const num=+id;if(num>=0&&num<MAX_SAFE_INTEGER){return num}}return id})}this.build=m[5]?m[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;if(this.prerelease.length){this.version+=`-${this.prerelease.join(".")}`}return this.version}toString(){return this.version}compare(other){debug("SemVer.compare",this.version,this.options,other);if(!(other instanceof SemVer)){if(typeof other==="string"&&other===this.version){return 0}other=new SemVer(other,this.options)}if(other.version===this.version){return 0}return this.compareMain(other)||this.comparePre(other)}compareMain(other){if(!(other instanceof SemVer)){other=new SemVer(other,this.options)}return compareIdentifiers(this.major,other.major)||compareIdentifiers(this.minor,other.minor)||compareIdentifiers(this.patch,other.patch)}comparePre(other){if(!(other instanceof SemVer)){other=new SemVer(other,this.options)}if(this.prerelease.length&&!other.prerelease.length){return-1}else if(!this.prerelease.length&&other.prerelease.length){return 1}else if(!this.prerelease.length&&!other.prerelease.length){return 0}let i=0;do{const a=this.prerelease[i];const b=other.prerelease[i];debug("prerelease compare",i,a,b);if(a===undefined&&b===undefined){return 0}else if(b===undefined){return 1}else if(a===undefined){return-1}else if(a===b){continue}else{return compareIdentifiers(a,b)}}while(++i)}compareBuild(other){if(!(other instanceof SemVer)){other=new SemVer(other,this.options)}let i=0;do{const a=this.build[i];const b=other.build[i];debug("prerelease compare",i,a,b);if(a===undefined&&b===undefined){return 0}else if(b===undefined){return 1}else if(a===undefined){return-1}else if(a===b){continue}else{return compareIdentifiers(a,b)}}while(++i)}inc(release,identifier){switch(release){case"premajor":this.prerelease.length=0;this.patch=0;this.minor=0;this.major++;this.inc("pre",identifier);break;case"preminor":this.prerelease.length=0;this.patch=0;this.minor++;this.inc("pre",identifier);break;case"prepatch":this.prerelease.length=0;this.inc("patch",identifier);this.inc("pre",identifier);break;case"prerelease":if(this.prerelease.length===0){this.inc("patch",identifier)}this.inc("pre",identifier);break;case"major":if(this.minor!==0||this.patch!==0||this.prerelease.length===0){this.major++}this.minor=0;this.patch=0;this.prerelease=[];break;case"minor":if(this.patch!==0||this.prerelease.length===0){this.minor++}this.patch=0;this.prerelease=[];break;case"patch":if(this.prerelease.length===0){this.patch++}this.prerelease=[];break;case"pre":if(this.prerelease.length===0){this.prerelease=[0]}else{let i=this.prerelease.length;while(--i>=0){if(typeof this.prerelease[i]==="number"){this.prerelease[i]++;i=-2}}if(i===-1){this.prerelease.push(0)}}if(identifier){if(this.prerelease[0]===identifier){if(isNaN(this.prerelease[1])){this.prerelease=[identifier,0]}}else{this.prerelease=[identifier,0]}}break;default:throw new Error(`invalid increment argument: ${release}`)}this.format();this.raw=this.version;return this}}module.exports=SemVer},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(40);const compare=(a,b,loose)=>new SemVer(a,loose).compare(new SemVer(b,loose));module.exports=compare},function(module,exports,__webpack_require__){class Range{constructor(range,options){if(!options||typeof options!=="object"){options={loose:!!options,includePrerelease:false}}if(range instanceof Range){if(range.loose===!!options.loose&&range.includePrerelease===!!options.includePrerelease){return range}else{return new Range(range.raw,options)}}if(range instanceof Comparator){this.raw=range.value;this.set=[[range]];this.format();return this}this.options=options;this.loose=!!options.loose;this.includePrerelease=!!options.includePrerelease;this.raw=range;this.set=range.split(/\s*\|\|\s*/).map(range=>this.parseRange(range.trim())).filter(c=>c.length);if(!this.set.length){throw new TypeError(`Invalid SemVer Range: ${range}`)}this.format()}format(){this.range=this.set.map(comps=>comps.join(" ").trim()).join("||").trim();return this.range}toString(){return this.range}parseRange(range){const loose=this.options.loose;range=range.trim();const hr=loose?re[t.HYPHENRANGELOOSE]:re[t.HYPHENRANGE];range=range.replace(hr,hyphenReplace(this.options.includePrerelease));debug("hyphen replace",range);range=range.replace(re[t.COMPARATORTRIM],comparatorTrimReplace);debug("comparator trim",range,re[t.COMPARATORTRIM]);range=range.replace(re[t.TILDETRIM],tildeTrimReplace);range=range.replace(re[t.CARETTRIM],caretTrimReplace);range=range.split(/\s+/).join(" ");const compRe=loose?re[t.COMPARATORLOOSE]:re[t.COMPARATOR];return range.split(" ").map(comp=>parseComparator(comp,this.options)).join(" ").split(/\s+/).map(comp=>replaceGTE0(comp,this.options)).filter(this.options.loose?comp=>!!comp.match(compRe):()=>true).map(comp=>new Comparator(comp,this.options))}intersects(range,options){if(!(range instanceof Range)){throw new TypeError("a Range is required")}return this.set.some(thisComparators=>isSatisfiable(thisComparators,options)&&range.set.some(rangeComparators=>isSatisfiable(rangeComparators,options)&&thisComparators.every(thisComparator=>rangeComparators.every(rangeComparator=>thisComparator.intersects(rangeComparator,options)))))}test(version){if(!version){return false}if(typeof version==="string"){try{version=new SemVer(version,this.options)}catch(er){return false}}for(let i=0;i<this.set.length;i++){if(testSet(this.set[i],version,this.options)){return true}}return false}}module.exports=Range;const Comparator=__webpack_require__(55);const debug=__webpack_require__(53);const SemVer=__webpack_require__(40);const{re:re,t:t,comparatorTrimReplace:comparatorTrimReplace,tildeTrimReplace:tildeTrimReplace,caretTrimReplace:caretTrimReplace}=__webpack_require__(45);const isSatisfiable=(comparators,options)=>{let result=true;const remainingComparators=comparators.slice();let testComparator=remainingComparators.pop();while(result&&remainingComparators.length){result=remainingComparators.every(otherComparator=>testComparator.intersects(otherComparator,options));testComparator=remainingComparators.pop()}return result};const parseComparator=(comp,options)=>{debug("comp",comp,options);comp=replaceCarets(comp,options);debug("caret",comp);comp=replaceTildes(comp,options);debug("tildes",comp);comp=replaceXRanges(comp,options);debug("xrange",comp);comp=replaceStars(comp,options);debug("stars",comp);return comp};const isX=id=>!id||id.toLowerCase()==="x"||id==="*";const replaceTildes=(comp,options)=>comp.trim().split(/\s+/).map(comp=>replaceTilde(comp,options)).join(" ");const replaceTilde=(comp,options)=>{const r=options.loose?re[t.TILDELOOSE]:re[t.TILDE];return comp.replace(r,(_,M,m,p,pr)=>{debug("tilde",comp,_,M,m,p,pr);let ret;if(isX(M)){ret=""}else if(isX(m)){ret=`>=${M}.0.0 <${+M+1}.0.0-0`}else if(isX(p)){ret=`>=${M}.${m}.0 <${M}.${+m+1}.0-0`}else if(pr){debug("replaceTilde pr",pr);ret=`>=${M}.${m}.${p}-${pr} <${M}.${+m+1}.0-0`}else{ret=`>=${M}.${m}.${p} <${M}.${+m+1}.0-0`}debug("tilde return",ret);return ret})};const replaceCarets=(comp,options)=>comp.trim().split(/\s+/).map(comp=>replaceCaret(comp,options)).join(" ");const replaceCaret=(comp,options)=>{debug("caret",comp,options);const r=options.loose?re[t.CARETLOOSE]:re[t.CARET];const z=options.includePrerelease?"-0":"";return comp.replace(r,(_,M,m,p,pr)=>{debug("caret",comp,_,M,m,p,pr);let ret;if(isX(M)){ret=""}else if(isX(m)){ret=`>=${M}.0.0${z} <${+M+1}.0.0-0`}else if(isX(p)){if(M==="0"){ret=`>=${M}.${m}.0${z} <${M}.${+m+1}.0-0`}else{ret=`>=${M}.${m}.0${z} <${+M+1}.0.0-0`}}else if(pr){debug("replaceCaret pr",pr);if(M==="0"){if(m==="0"){ret=`>=${M}.${m}.${p}-${pr} <${M}.${m}.${+p+1}-0`}else{ret=`>=${M}.${m}.${p}-${pr} <${M}.${+m+1}.0-0`}}else{ret=`>=${M}.${m}.${p}-${pr} <${+M+1}.0.0-0`}}else{debug("no pr");if(M==="0"){if(m==="0"){ret=`>=${M}.${m}.${p}${z} <${M}.${m}.${+p+1}-0`}else{ret=`>=${M}.${m}.${p}${z} <${M}.${+m+1}.0-0`}}else{ret=`>=${M}.${m}.${p} <${+M+1}.0.0-0`}}debug("caret return",ret);return ret})};const replaceXRanges=(comp,options)=>{debug("replaceXRanges",comp,options);return comp.split(/\s+/).map(comp=>replaceXRange(comp,options)).join(" ")};const replaceXRange=(comp,options)=>{comp=comp.trim();const r=options.loose?re[t.XRANGELOOSE]:re[t.XRANGE];return comp.replace(r,(ret,gtlt,M,m,p,pr)=>{debug("xRange",comp,ret,gtlt,M,m,p,pr);const xM=isX(M);const xm=xM||isX(m);const xp=xm||isX(p);const anyX=xp;if(gtlt==="="&&anyX){gtlt=""}pr=options.includePrerelease?"-0":"";if(xM){if(gtlt===">"||gtlt==="<"){ret="<0.0.0-0"}else{ret="*"}}else if(gtlt&&anyX){if(xm){m=0}p=0;if(gtlt===">"){gtlt=">=";if(xm){M=+M+1;m=0;p=0}else{m=+m+1;p=0}}else if(gtlt==="<="){gtlt="<";if(xm){M=+M+1}else{m=+m+1}}if(gtlt==="<")pr="-0";ret=`${gtlt+M}.${m}.${p}${pr}`}else if(xm){ret=`>=${M}.0.0${pr} <${+M+1}.0.0-0`}else if(xp){ret=`>=${M}.${m}.0${pr} <${M}.${+m+1}.0-0`}debug("xRange return",ret);return ret})};const replaceStars=(comp,options)=>{debug("replaceStars",comp,options);return comp.trim().replace(re[t.STAR],"")};const replaceGTE0=(comp,options)=>{debug("replaceGTE0",comp,options);return comp.trim().replace(re[options.includePrerelease?t.GTE0PRE:t.GTE0],"")};const hyphenReplace=incPr=>($0,from,fM,fm,fp,fpr,fb,to,tM,tm,tp,tpr,tb)=>{if(isX(fM)){from=""}else if(isX(fm)){from=`>=${fM}.0.0${incPr?"-0":""}`}else if(isX(fp)){from=`>=${fM}.${fm}.0${incPr?"-0":""}`}else if(fpr){from=`>=${from}`}else{from=`>=${from}${incPr?"-0":""}`}if(isX(tM)){to=""}else if(isX(tm)){to=`<${+tM+1}.0.0-0`}else if(isX(tp)){to=`<${tM}.${+tm+1}.0-0`}else if(tpr){to=`<=${tM}.${tm}.${tp}-${tpr}`}else if(incPr){to=`<${tM}.${tm}.${+tp+1}-0`}else{to=`<=${to}`}return`${from} ${to}`.trim()};const testSet=(set,version,options)=>{for(let i=0;i<set.length;i++){if(!set[i].test(version)){return false}}if(version.prerelease.length&&!options.includePrerelease){for(let i=0;i<set.length;i++){debug(set[i].semver);if(set[i].semver===Comparator.ANY){continue}if(set[i].semver.prerelease.length>0){const allowed=set[i].semver;if(allowed.major===version.major&&allowed.minor===version.minor&&allowed.patch===version.patch){return true}}}return false}return true}},,,function(module,exports,__webpack_require__){const{MAX_SAFE_COMPONENT_LENGTH:MAX_SAFE_COMPONENT_LENGTH}=__webpack_require__(52);const debug=__webpack_require__(53);exports=module.exports={};const re=exports.re=[];const src=exports.src=[];const t=exports.t={};let R=0;const createToken=(name,value,isGlobal)=>{const index=R++;debug(index,value);t[name]=index;src[index]=value;re[index]=new RegExp(value,isGlobal?"g":undefined)};createToken("NUMERICIDENTIFIER","0|[1-9]\\d*");createToken("NUMERICIDENTIFIERLOOSE","[0-9]+");createToken("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");createToken("MAINVERSION",`(${src[t.NUMERICIDENTIFIER]})\\.`+`(${src[t.NUMERICIDENTIFIER]})\\.`+`(${src[t.NUMERICIDENTIFIER]})`);createToken("MAINVERSIONLOOSE",`(${src[t.NUMERICIDENTIFIERLOOSE]})\\.`+`(${src[t.NUMERICIDENTIFIERLOOSE]})\\.`+`(${src[t.NUMERICIDENTIFIERLOOSE]})`);createToken("PRERELEASEIDENTIFIER",`(?:${src[t.NUMERICIDENTIFIER]}|${src[t.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASEIDENTIFIERLOOSE",`(?:${src[t.NUMERICIDENTIFIERLOOSE]}|${src[t.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASE",`(?:-(${src[t.PRERELEASEIDENTIFIER]}(?:\\.${src[t.PRERELEASEIDENTIFIER]})*))`);createToken("PRERELEASELOOSE",`(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`);createToken("BUILDIDENTIFIER","[0-9A-Za-z-]+");createToken("BUILD",`(?:\\+(${src[t.BUILDIDENTIFIER]}(?:\\.${src[t.BUILDIDENTIFIER]})*))`);createToken("FULLPLAIN",`v?${src[t.MAINVERSION]}${src[t.PRERELEASE]}?${src[t.BUILD]}?`);createToken("FULL",`^${src[t.FULLPLAIN]}$`);createToken("LOOSEPLAIN",`[v=\\s]*${src[t.MAINVERSIONLOOSE]}${src[t.PRERELEASELOOSE]}?${src[t.BUILD]}?`);createToken("LOOSE",`^${src[t.LOOSEPLAIN]}$`);createToken("GTLT","((?:<|>)?=?)");createToken("XRANGEIDENTIFIERLOOSE",`${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);createToken("XRANGEIDENTIFIER",`${src[t.NUMERICIDENTIFIER]}|x|X|\\*`);createToken("XRANGEPLAIN",`[v=\\s]*(${src[t.XRANGEIDENTIFIER]})`+`(?:\\.(${src[t.XRANGEIDENTIFIER]})`+`(?:\\.(${src[t.XRANGEIDENTIFIER]})`+`(?:${src[t.PRERELEASE]})?${src[t.BUILD]}?`+`)?)?`);createToken("XRANGEPLAINLOOSE",`[v=\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${src[t.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${src[t.XRANGEIDENTIFIERLOOSE]})`+`(?:${src[t.PRERELEASELOOSE]})?${src[t.BUILD]}?`+`)?)?`);createToken("XRANGE",`^${src[t.GTLT]}\\s*${src[t.XRANGEPLAIN]}$`);createToken("XRANGELOOSE",`^${src[t.GTLT]}\\s*${src[t.XRANGEPLAINLOOSE]}$`);createToken("COERCE",`${"(^|[^\\d])"+"(\\d{1,"}${MAX_SAFE_COMPONENT_LENGTH}})`+`(?:\\.(\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`+`(?:\\.(\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`+`(?:$|[^\\d])`);createToken("COERCERTL",src[t.COERCE],true);createToken("LONETILDE","(?:~>?)");createToken("TILDETRIM",`(\\s*)${src[t.LONETILDE]}\\s+`,true);exports.tildeTrimReplace="$1~";createToken("TILDE",`^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`);createToken("TILDELOOSE",`^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`);createToken("LONECARET","(?:\\^)");createToken("CARETTRIM",`(\\s*)${src[t.LONECARET]}\\s+`,true);exports.caretTrimReplace="$1^";createToken("CARET",`^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`);createToken("CARETLOOSE",`^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`);createToken("COMPARATORLOOSE",`^${src[t.GTLT]}\\s*(${src[t.LOOSEPLAIN]})$|^$`);createToken("COMPARATOR",`^${src[t.GTLT]}\\s*(${src[t.FULLPLAIN]})$|^$`);createToken("COMPARATORTRIM",`(\\s*)${src[t.GTLT]}\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`,true);exports.comparatorTrimReplace="$1$2$3";createToken("HYPHENRANGE",`^\\s*(${src[t.XRANGEPLAIN]})`+`\\s+-\\s+`+`(${src[t.XRANGEPLAIN]})`+`\\s*$`);createToken("HYPHENRANGELOOSE",`^\\s*(${src[t.XRANGEPLAINLOOSE]})`+`\\s+-\\s+`+`(${src[t.XRANGEPLAINLOOSE]})`+`\\s*$`);createToken("STAR","(<|>)?=?\\s*\\*");createToken("GTE0","^\\s*>=\\s*0.0.0\\s*$");createToken("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},function(module,exports,__webpack_require__){const{MAX_LENGTH:MAX_LENGTH}=__webpack_require__(52);const{re:re,t:t}=__webpack_require__(45);const SemVer=__webpack_require__(40);const parse=(version,options)=>{if(!options||typeof options!=="object"){options={loose:!!options,includePrerelease:false}}if(version instanceof SemVer){return version}if(typeof version!=="string"){return null}if(version.length>MAX_LENGTH){return null}const r=options.loose?re[t.LOOSE]:re[t.FULL];if(!r.test(version)){return null}try{return new SemVer(version,options)}catch(er){return null}};module.exports=parse},,,,,,function(module,exports){const SEMVER_SPEC_VERSION="2.0.0";const MAX_LENGTH=256;const MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991;const MAX_SAFE_COMPONENT_LENGTH=16;module.exports={SEMVER_SPEC_VERSION:SEMVER_SPEC_VERSION,MAX_LENGTH:MAX_LENGTH,MAX_SAFE_INTEGER:MAX_SAFE_INTEGER,MAX_SAFE_COMPONENT_LENGTH:MAX_SAFE_COMPONENT_LENGTH}},function(module,exports,__webpack_require__){(function(process){const debug=typeof process==="object"&&Object({IS_KIBANA_DISTRIBUTABLE:"true"})&&Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG&&/\bsemver\b/i.test(Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG)?(...args)=>console.error("SEMVER",...args):()=>{};module.exports=debug}).call(this,__webpack_require__(170))},function(module,exports,__webpack_require__){const compare=__webpack_require__(41);const gt=(a,b,loose)=>compare(a,b,loose)>0;module.exports=gt},function(module,exports,__webpack_require__){const ANY=Symbol("SemVer ANY");class Comparator{static get ANY(){return ANY}constructor(comp,options){if(!options||typeof options!=="object"){options={loose:!!options,includePrerelease:false}}if(comp instanceof Comparator){if(comp.loose===!!options.loose){return comp}else{comp=comp.value}}debug("comparator",comp,options);this.options=options;this.loose=!!options.loose;this.parse(comp);if(this.semver===ANY){this.value=""}else{this.value=this.operator+this.semver.version}debug("comp",this)}parse(comp){const r=this.options.loose?re[t.COMPARATORLOOSE]:re[t.COMPARATOR];const m=comp.match(r);if(!m){throw new TypeError(`Invalid comparator: ${comp}`)}this.operator=m[1]!==undefined?m[1]:"";if(this.operator==="="){this.operator=""}if(!m[2]){this.semver=ANY}else{this.semver=new SemVer(m[2],this.options.loose)}}toString(){return this.value}test(version){debug("Comparator.test",version,this.options.loose);if(this.semver===ANY||version===ANY){return true}if(typeof version==="string"){try{version=new SemVer(version,this.options)}catch(er){return false}}return cmp(version,this.operator,this.semver,this.options)}intersects(comp,options){if(!(comp instanceof Comparator)){throw new TypeError("a Comparator is required")}if(!options||typeof options!=="object"){options={loose:!!options,includePrerelease:false}}if(this.operator===""){if(this.value===""){return true}return new Range(comp.value,options).test(this.value)}else if(comp.operator===""){if(comp.value===""){return true}return new Range(this.value,options).test(comp.semver)}const sameDirectionIncreasing=(this.operator===">="||this.operator===">")&&(comp.operator===">="||comp.operator===">");const sameDirectionDecreasing=(this.operator==="<="||this.operator==="<")&&(comp.operator==="<="||comp.operator==="<");const sameSemVer=this.semver.version===comp.semver.version;const differentDirectionsInclusive=(this.operator===">="||this.operator==="<=")&&(comp.operator===">="||comp.operator==="<=");const oppositeDirectionsLessThan=cmp(this.semver,"<",comp.semver,options)&&(this.operator===">="||this.operator===">")&&(comp.operator==="<="||comp.operator==="<");const oppositeDirectionsGreaterThan=cmp(this.semver,">",comp.semver,options)&&(this.operator==="<="||this.operator==="<")&&(comp.operator===">="||comp.operator===">");return sameDirectionIncreasing||sameDirectionDecreasing||sameSemVer&&differentDirectionsInclusive||oppositeDirectionsLessThan||oppositeDirectionsGreaterThan}}module.exports=Comparator;const{re:re,t:t}=__webpack_require__(45);const cmp=__webpack_require__(83);const debug=__webpack_require__(53);const SemVer=__webpack_require__(40);const Range=__webpack_require__(42)},function(module,exports,__webpack_require__){const Range=__webpack_require__(42);const satisfies=(version,range,options)=>{try{range=new Range(range,options)}catch(er){return false}return range.test(version)};module.exports=satisfies},,,function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){if(typeof window==="object")g=window}module.exports=g},,,,function(module,exports){const numeric=/^[0-9]+$/;const compareIdentifiers=(a,b)=>{const anum=numeric.test(a);const bnum=numeric.test(b);if(anum&&bnum){a=+a;b=+b}return a===b?0:anum&&!bnum?-1:bnum&&!anum?1:a<b?-1:1};const rcompareIdentifiers=(a,b)=>compareIdentifiers(b,a);module.exports={compareIdentifiers:compareIdentifiers,rcompareIdentifiers:rcompareIdentifiers}},function(module,exports,__webpack_require__){const compare=__webpack_require__(41);const eq=(a,b,loose)=>compare(a,b,loose)===0;module.exports=eq},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(40);const compareBuild=(a,b,loose)=>{const versionA=new SemVer(a,loose);const versionB=new SemVer(b,loose);return versionA.compare(versionB)||versionA.compareBuild(versionB)};module.exports=compareBuild},function(module,exports,__webpack_require__){const compare=__webpack_require__(41);const lt=(a,b,loose)=>compare(a,b,loose)<0;module.exports=lt},function(module,exports,__webpack_require__){const compare=__webpack_require__(41);const gte=(a,b,loose)=>compare(a,b,loose)>=0;module.exports=gte},function(module,exports,__webpack_require__){const compare=__webpack_require__(41);const lte=(a,b,loose)=>compare(a,b,loose)<=0;module.exports=lte},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(40);const Comparator=__webpack_require__(55);const{ANY:ANY}=Comparator;const Range=__webpack_require__(42);const satisfies=__webpack_require__(56);const gt=__webpack_require__(54);const lt=__webpack_require__(66);const lte=__webpack_require__(68);const gte=__webpack_require__(67);const outside=(version,range,hilo,options)=>{version=new SemVer(version,options);range=new Range(range,options);let gtfn,ltefn,ltfn,comp,ecomp;switch(hilo){case">":gtfn=gt;ltefn=lte;ltfn=lt;comp=">";ecomp=">=";break;case"<":gtfn=lt;ltefn=gte;ltfn=gt;comp="<";ecomp="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(satisfies(version,range,options)){return false}for(let i=0;i<range.set.length;++i){const comparators=range.set[i];let high=null;let low=null;comparators.forEach(comparator=>{if(comparator.semver===ANY){comparator=new Comparator(">=0.0.0")}high=high||comparator;low=low||comparator;if(gtfn(comparator.semver,high.semver,options)){high=comparator}else if(ltfn(comparator.semver,low.semver,options)){low=comparator}});if(high.operator===comp||high.operator===ecomp){return false}if((!low.operator||low.operator===comp)&&ltefn(version,low.semver)){return false}else if(low.operator===ecomp&&ltfn(version,low.semver)){return false}}return true};module.exports=outside},,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";var punycode=__webpack_require__(163);var util=__webpack_require__(165);exports.parse=urlParse;exports.resolve=urlResolve;exports.resolveObject=urlResolveObject;exports.format=urlFormat;exports.Url=Url;function Url(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:true,"javascript:":true},hostlessProtocol={javascript:true,"javascript:":true},slashedProtocol={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},querystring=__webpack_require__(166);function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;var u=new Url;u.parse(url,parseQueryString,slashesDenoteHost);return u}Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url)){throw new TypeError("Parameter 'url' must be a string, not "+typeof url)}var queryIndex=url.indexOf("?"),splitter=queryIndex!==-1&&queryIndex<url.indexOf("#")?"?":"#",uSplit=url.split(splitter),slashRegex=/\\/g;uSplit[0]=uSplit[0].replace(slashRegex,"/");url=uSplit.join(splitter);var rest=url;rest=rest.trim();if(!slashesDenoteHost&&url.split("#").length===1){var simplePath=simplePathPattern.exec(rest);if(simplePath){this.path=rest;this.href=rest;this.pathname=simplePath[1];if(simplePath[2]){this.search=simplePath[2];if(parseQueryString){this.query=querystring.parse(this.search.substr(1))}else{this.query=this.search.substr(1)}}else if(parseQueryString){this.search="";this.query={}}return this}}var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();this.protocol=lowerProto;rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes=rest.substr(0,2)==="//";if(slashes&&!(proto&&hostlessProtocol[proto])){rest=rest.substr(2);this.slashes=true}}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){var hostEnd=-1;for(var i=0;i<hostEndingChars.length;i++){var hec=rest.indexOf(hostEndingChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}var auth,atSign;if(hostEnd===-1){atSign=rest.lastIndexOf("@")}else{atSign=rest.lastIndexOf("@",hostEnd)}if(atSign!==-1){auth=rest.slice(0,atSign);rest=rest.slice(atSign+1);this.auth=decodeURIComponent(auth)}hostEnd=-1;for(var i=0;i<nonHostChars.length;i++){var hec=rest.indexOf(nonHostChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}if(hostEnd===-1)hostEnd=rest.length;this.host=rest.slice(0,hostEnd);rest=rest.slice(hostEnd);this.parseHost();this.hostname=this.hostname||"";var ipv6Hostname=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ipv6Hostname){var hostparts=this.hostname.split(/\./);for(var i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(!part)continue;if(!part.match(hostnamePartPattern)){var newpart="";for(var j=0,k=part.length;j<k;j++){if(part.charCodeAt(j)>127){newpart+="x"}else{newpart+=part[j]}}if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i);var notHost=hostparts.slice(i+1);var bit=part.match(hostnamePartStart);if(bit){validParts.push(bit[1]);notHost.unshift(bit[2])}if(notHost.length){rest="/"+notHost.join(".")+rest}this.hostname=validParts.join(".");break}}}}if(this.hostname.length>hostnameMaxLen){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!ipv6Hostname){this.hostname=punycode.toASCII(this.hostname)}var p=this.port?":"+this.port:"";var h=this.hostname||"";this.host=h+p;this.href+=this.host;if(ipv6Hostname){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(rest[0]!=="/"){rest="/"+rest}}}if(!unsafeProtocol[lowerProto]){for(var i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];if(rest.indexOf(ae)===-1)continue;var esc=encodeURIComponent(ae);if(esc===ae){esc=escape(ae)}rest=rest.split(ae).join(esc)}}var hash=rest.indexOf("#");if(hash!==-1){this.hash=rest.substr(hash);rest=rest.slice(0,hash)}var qm=rest.indexOf("?");if(qm!==-1){this.search=rest.substr(qm);this.query=rest.substr(qm+1);if(parseQueryString){this.query=querystring.parse(this.query)}rest=rest.slice(0,qm)}else if(parseQueryString){this.search="";this.query={}}if(rest)this.pathname=rest;if(slashedProtocol[lowerProto]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var p=this.pathname||"";var s=this.search||"";this.path=p+s}this.href=this.format();return this};function urlFormat(obj){if(util.isString(obj))obj=urlParse(obj);if(!(obj instanceof Url))return Url.prototype.format.call(obj);return obj.format()}Url.prototype.format=function(){var auth=this.auth||"";if(auth){auth=encodeURIComponent(auth);auth=auth.replace(/%3A/i,":");auth+="@"}var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=false,query="";if(this.host){host=auth+this.host}else if(this.hostname){host=auth+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){host+=":"+this.port}}if(this.query&&util.isObject(this.query)&&Object.keys(this.query).length){query=querystring.stringify(this.query)}var search=this.search||query&&"?"+query||"";if(protocol&&protocol.substr(-1)!==":")protocol+=":";if(this.slashes||(!protocol||slashedProtocol[protocol])&&host!==false){host="//"+(host||"");if(pathname&&pathname.charAt(0)!=="/")pathname="/"+pathname}else if(!host){host=""}if(hash&&hash.charAt(0)!=="#")hash="#"+hash;if(search&&search.charAt(0)!=="?")search="?"+search;pathname=pathname.replace(/[?#]/g,(function(match){return encodeURIComponent(match)}));search=search.replace("#","%23");return protocol+host+pathname+search+hash};function urlResolve(source,relative){return urlParse(source,false,true).resolve(relative)}Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,false,true)).format()};function urlResolveObject(source,relative){if(!source)return relative;return urlParse(source,false,true).resolveObject(relative)}Url.prototype.resolveObject=function(relative){if(util.isString(relative)){var rel=new Url;rel.parse(relative,false,true);relative=rel}var result=new Url;var tkeys=Object.keys(this);for(var tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey]}result.hash=relative.hash;if(relative.href===""){result.href=result.format();return result}if(relative.slashes&&!relative.protocol){var rkeys=Object.keys(relative);for(var rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];if(rkey!=="protocol")result[rkey]=relative[rkey]}if(slashedProtocol[result.protocol]&&result.hostname&&!result.pathname){result.path=result.pathname="/"}result.href=result.format();return result}if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){var keys=Object.keys(relative);for(var v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k]}result.href=result.format();return result}result.protocol=relative.protocol;if(!relative.host&&!hostlessProtocol[relative.protocol]){var relPath=(relative.pathname||"").split("/");while(relPath.length&&!(relative.host=relPath.shift()));if(!relative.host)relative.host="";if(!relative.hostname)relative.hostname="";if(relPath[0]!=="")relPath.unshift("");if(relPath.length<2)relPath.unshift("");result.pathname=relPath.join("/")}else{result.pathname=relative.pathname}result.search=relative.search;result.query=relative.query;result.host=relative.host||"";result.auth=relative.auth;result.hostname=relative.hostname||relative.host;result.port=relative.port;if(result.pathname||result.search){var p=result.pathname||"";var s=result.search||"";result.path=p+s}result.slashes=result.slashes||relative.slashes;result.href=result.format();return result}var isSourceAbs=result.pathname&&result.pathname.charAt(0)==="/",isRelAbs=relative.host||relative.pathname&&relative.pathname.charAt(0)==="/",mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],relPath=relative.pathname&&relative.pathname.split("/")||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic){result.hostname="";result.port=null;if(result.host){if(srcPath[0]==="")srcPath[0]=result.host;else srcPath.unshift(result.host)}result.host="";if(relative.protocol){relative.hostname=null;relative.port=null;if(relative.host){if(relPath[0]==="")relPath[0]=relative.host;else relPath.unshift(relative.host)}relative.host=null}mustEndAbs=mustEndAbs&&(relPath[0]===""||srcPath[0]==="")}if(isRelAbs){result.host=relative.host||relative.host===""?relative.host:result.host;result.hostname=relative.hostname||relative.hostname===""?relative.hostname:result.hostname;result.search=relative.search;result.query=relative.query;srcPath=relPath}else if(relPath.length){if(!srcPath)srcPath=[];srcPath.pop();srcPath=srcPath.concat(relPath);result.search=relative.search;result.query=relative.query}else if(!util.isNullOrUndefined(relative.search)){if(psychotic){result.hostname=result.host=srcPath.shift();var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}result.search=relative.search;result.query=relative.query;if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.href=result.format();return result}if(!srcPath.length){result.pathname=null;if(result.search){result.path="/"+result.search}else{result.path=null}result.href=result.format();return result}var last=srcPath.slice(-1)[0];var hasTrailingSlash=(result.host||relative.host||srcPath.length>1)&&(last==="."||last==="..")||last==="";var up=0;for(var i=srcPath.length;i>=0;i--){last=srcPath[i];if(last==="."){srcPath.splice(i,1)}else if(last===".."){srcPath.splice(i,1);up++}else if(up){srcPath.splice(i,1);up--}}if(!mustEndAbs&&!removeAllDots){for(;up--;up){srcPath.unshift("..")}}if(mustEndAbs&&srcPath[0]!==""&&(!srcPath[0]||srcPath[0].charAt(0)!=="/")){srcPath.unshift("")}if(hasTrailingSlash&&srcPath.join("/").substr(-1)!=="/"){srcPath.push("")}var isAbsolute=srcPath[0]===""||srcPath[0]&&srcPath[0].charAt(0)==="/";if(psychotic){result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"";var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}mustEndAbs=mustEndAbs||result.host&&srcPath.length;if(mustEndAbs&&!isAbsolute){srcPath.unshift("")}if(!srcPath.length){result.pathname=null;result.path=null}else{result.pathname=srcPath.join("/")}if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.auth=relative.auth||result.auth;result.slashes=result.slashes||relative.slashes;result.href=result.format();return result};Url.prototype.parseHost=function(){var host=this.host;var port=portPattern.exec(host);if(port){port=port[0];if(port!==":"){this.port=port.substr(1)}host=host.substr(0,host.length-port.length)}if(host)this.hostname=host}},function(module,exports,__webpack_require__){const compare=__webpack_require__(41);const neq=(a,b,loose)=>compare(a,b,loose)!==0;module.exports=neq},function(module,exports,__webpack_require__){const eq=__webpack_require__(64);const neq=__webpack_require__(82);const gt=__webpack_require__(54);const gte=__webpack_require__(67);const lt=__webpack_require__(66);const lte=__webpack_require__(68);const cmp=(a,op,b,loose)=>{switch(op){case"===":if(typeof a==="object")a=a.version;if(typeof b==="object")b=b.version;return a===b;case"!==":if(typeof a==="object")a=a.version;if(typeof b==="object")b=b.version;return a!==b;case"":case"=":case"==":return eq(a,b,loose);case"!=":return neq(a,b,loose);case">":return gt(a,b,loose);case">=":return gte(a,b,loose);case"<":return lt(a,b,loose);case"<=":return lte(a,b,loose);default:throw new TypeError(`Invalid operator: ${op}`)}};module.exports=cmp},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){(function(module,global){var __WEBPACK_AMD_DEFINE_RESULT__;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(root){var freeExports=true&&exports&&!exports.nodeType&&exports;var freeModule=true&&module&&!module.nodeType&&module;var freeGlobal=typeof global=="object"&&global;if(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal||freeGlobal.self===freeGlobal){root=freeGlobal}var punycode,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode,key;function error(type){throw new RangeError(errors[type])}function map(array,fn){var length=array.length;var result=[];while(length--){result[length]=fn(array[length])}return result}function mapDomain(string,fn){var parts=string.split("@");var result="";if(parts.length>1){result=parts[0]+"@";string=parts[1]}string=string.replace(regexSeparators,".");var labels=string.split(".");var encoded=map(labels,fn).join(".");return result+encoded}function ucs2decode(string){var output=[],counter=0,length=string.length,value,extra;while(counter<length){value=string.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<length){extra=string.charCodeAt(counter++);if((extra&64512)==56320){output.push(((value&1023)<<10)+(extra&1023)+65536)}else{output.push(value);counter--}}else{output.push(value)}}return output}function ucs2encode(array){return map(array,(function(value){var output="";if(value>65535){value-=65536;output+=stringFromCharCode(value>>>10&1023|55296);value=56320|value&1023}output+=stringFromCharCode(value);return output})).join("")}function basicToDigit(codePoint){if(codePoint-48<10){return codePoint-22}if(codePoint-65<26){return codePoint-65}if(codePoint-97<26){return codePoint-97}return base}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((flag!=0)<<5)}function adapt(delta,numPoints,firstTime){var k=0;delta=firstTime?floor(delta/damp):delta>>1;delta+=floor(delta/numPoints);for(;delta>baseMinusTMin*tMax>>1;k+=base){delta=floor(delta/baseMinusTMin)}return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var output=[],inputLength=input.length,out,i=0,n=initialN,bias=initialBias,basic,j,index,oldi,w,k,digit,t,baseMinusT;basic=input.lastIndexOf(delimiter);if(basic<0){basic=0}for(j=0;j<basic;++j){if(input.charCodeAt(j)>=128){error("not-basic")}output.push(input.charCodeAt(j))}for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;;k+=base){if(index>=inputLength){error("invalid-input")}digit=basicToDigit(input.charCodeAt(index++));if(digit>=base||digit>floor((maxInt-i)/w)){error("overflow")}i+=digit*w;t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(digit<t){break}baseMinusT=base-t;if(w>floor(maxInt/baseMinusT)){error("overflow")}w*=baseMinusT}out=output.length+1;bias=adapt(i-oldi,out,oldi==0);if(floor(i/out)>maxInt-n){error("overflow")}n+=floor(i/out);i%=out;output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,output=[],inputLength,handledCPCountPlusOne,baseMinusT,qMinusT;input=ucs2decode(input);inputLength=input.length;n=initialN;delta=0;bias=initialBias;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<128){output.push(stringFromCharCode(currentValue))}}handledCPCount=basicLength=output.length;if(basicLength){output.push(delimiter)}while(handledCPCount<inputLength){for(m=maxInt,j=0;j<inputLength;++j){currentValue=input[j];if(currentValue>=n&&currentValue<m){m=currentValue}}handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/handledCPCountPlusOne)){error("overflow")}delta+=(m-n)*handledCPCountPlusOne;n=m;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<n&&++delta>maxInt){error("overflow")}if(currentValue==n){for(q=delta,k=base;;k+=base){t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(q<t){break}qMinusT=q-t;baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0)));q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q,0)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount}}++delta;++n}return output.join("")}function toUnicode(input){return mapDomain(input,(function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string}))}function toASCII(input){return mapDomain(input,(function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string}))}punycode={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:toASCII,toUnicode:toUnicode};if(true){!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return punycode}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{}})(this)}).call(this,__webpack_require__(164)(module),__webpack_require__(59))},function(module,exports){module.exports=function(module){if(!module.webpackPolyfill){module.deprecate=function(){};module.paths=[];if(!module.children)module.children=[];Object.defineProperty(module,"loaded",{enumerable:true,get:function(){return module.l}});Object.defineProperty(module,"id",{enumerable:true,get:function(){return module.i}});module.webpackPolyfill=1}return module}},function(module,exports,__webpack_require__){"use strict";module.exports={isString:function(arg){return typeof arg==="string"},isObject:function(arg){return typeof arg==="object"&&arg!==null},isNull:function(arg){return arg===null},isNullOrUndefined:function(arg){return arg==null}}},function(module,exports,__webpack_require__){"use strict";exports.decode=exports.parse=__webpack_require__(167);exports.encode=exports.stringify=__webpack_require__(168)},function(module,exports,__webpack_require__){"use strict";function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&";eq=eq||"=";var obj={};if(typeof qs!=="string"||qs.length===0){return obj}var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1e3;if(options&&typeof options.maxKeys==="number"){maxKeys=options.maxKeys}var len=qs.length;if(maxKeys>0&&len>maxKeys){len=maxKeys}for(var i=0;i<len;++i){var x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq),kstr,vstr,k,v;if(idx>=0){kstr=x.substr(0,idx);vstr=x.substr(idx+1)}else{kstr=x;vstr=""}k=decodeURIComponent(kstr);v=decodeURIComponent(vstr);if(!hasOwnProperty(obj,k)){obj[k]=v}else if(isArray(obj[k])){obj[k].push(v)}else{obj[k]=[obj[k],v]}}return obj};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==="[object Array]"}},function(module,exports,__webpack_require__){"use strict";var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){sep=sep||"&";eq=eq||"=";if(obj===null){obj=undefined}if(typeof obj==="object"){return map(objectKeys(obj),(function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;if(isArray(obj[k])){return map(obj[k],(function(v){return ks+encodeURIComponent(stringifyPrimitive(v))})).join(sep)}else{return ks+encodeURIComponent(stringifyPrimitive(obj[k]))}})).join(sep)}if(!name)return"";return encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj))};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==="[object Array]"};function map(xs,f){if(xs.map)return xs.map(f);var res=[];for(var i=0;i<xs.length;i++){res.push(f(xs[i],i))}return res}var objectKeys=Object.keys||function(obj){var res=[];for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))res.push(key)}return res}},function(module,exports,__webpack_require__){const internalRe=__webpack_require__(45);module.exports={re:internalRe.re,src:internalRe.src,tokens:internalRe.t,SEMVER_SPEC_VERSION:__webpack_require__(52).SEMVER_SPEC_VERSION,SemVer:__webpack_require__(40),compareIdentifiers:__webpack_require__(63).compareIdentifiers,rcompareIdentifiers:__webpack_require__(63).rcompareIdentifiers,parse:__webpack_require__(46),valid:__webpack_require__(171),clean:__webpack_require__(172),inc:__webpack_require__(173),diff:__webpack_require__(174),major:__webpack_require__(175),minor:__webpack_require__(176),patch:__webpack_require__(177),prerelease:__webpack_require__(178),compare:__webpack_require__(41),rcompare:__webpack_require__(179),compareLoose:__webpack_require__(180),compareBuild:__webpack_require__(65),sort:__webpack_require__(181),rsort:__webpack_require__(182),gt:__webpack_require__(54),lt:__webpack_require__(66),eq:__webpack_require__(64),neq:__webpack_require__(82),gte:__webpack_require__(67),lte:__webpack_require__(68),cmp:__webpack_require__(83),coerce:__webpack_require__(183),Comparator:__webpack_require__(55),Range:__webpack_require__(42),satisfies:__webpack_require__(56),toComparators:__webpack_require__(184),maxSatisfying:__webpack_require__(185),minSatisfying:__webpack_require__(186),minVersion:__webpack_require__(187),validRange:__webpack_require__(188),outside:__webpack_require__(69),gtr:__webpack_require__(189),ltr:__webpack_require__(190),intersects:__webpack_require__(191),simplifyRange:__webpack_require__(192),subset:__webpack_require__(193)}},function(module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[]};process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},function(module,exports,__webpack_require__){const parse=__webpack_require__(46);const valid=(version,options)=>{const v=parse(version,options);return v?v.version:null};module.exports=valid},function(module,exports,__webpack_require__){const parse=__webpack_require__(46);const clean=(version,options)=>{const s=parse(version.trim().replace(/^[=v]+/,""),options);return s?s.version:null};module.exports=clean},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(40);const inc=(version,release,options,identifier)=>{if(typeof options==="string"){identifier=options;options=undefined}try{return new SemVer(version,options).inc(release,identifier).version}catch(er){return null}};module.exports=inc},function(module,exports,__webpack_require__){const parse=__webpack_require__(46);const eq=__webpack_require__(64);const diff=(version1,version2)=>{if(eq(version1,version2)){return null}else{const v1=parse(version1);const v2=parse(version2);const hasPre=v1.prerelease.length||v2.prerelease.length;const prefix=hasPre?"pre":"";const defaultResult=hasPre?"prerelease":"";for(const key in v1){if(key==="major"||key==="minor"||key==="patch"){if(v1[key]!==v2[key]){return prefix+key}}}return defaultResult}};module.exports=diff},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(40);const major=(a,loose)=>new SemVer(a,loose).major;module.exports=major},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(40);const minor=(a,loose)=>new SemVer(a,loose).minor;module.exports=minor},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(40);const patch=(a,loose)=>new SemVer(a,loose).patch;module.exports=patch},function(module,exports,__webpack_require__){const parse=__webpack_require__(46);const prerelease=(version,options)=>{const parsed=parse(version,options);return parsed&&parsed.prerelease.length?parsed.prerelease:null};module.exports=prerelease},function(module,exports,__webpack_require__){const compare=__webpack_require__(41);const rcompare=(a,b,loose)=>compare(b,a,loose);module.exports=rcompare},function(module,exports,__webpack_require__){const compare=__webpack_require__(41);const compareLoose=(a,b)=>compare(a,b,true);module.exports=compareLoose},function(module,exports,__webpack_require__){const compareBuild=__webpack_require__(65);const sort=(list,loose)=>list.sort((a,b)=>compareBuild(a,b,loose));module.exports=sort},function(module,exports,__webpack_require__){const compareBuild=__webpack_require__(65);const rsort=(list,loose)=>list.sort((a,b)=>compareBuild(b,a,loose));module.exports=rsort},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(40);const parse=__webpack_require__(46);const{re:re,t:t}=__webpack_require__(45);const coerce=(version,options)=>{if(version instanceof SemVer){return version}if(typeof version==="number"){version=String(version)}if(typeof version!=="string"){return null}options=options||{};let match=null;if(!options.rtl){match=version.match(re[t.COERCE])}else{let next;while((next=re[t.COERCERTL].exec(version))&&(!match||match.index+match[0].length!==version.length)){if(!match||next.index+next[0].length!==match.index+match[0].length){match=next}re[t.COERCERTL].lastIndex=next.index+next[1].length+next[2].length}re[t.COERCERTL].lastIndex=-1}if(match===null)return null;return parse(`${match[2]}.${match[3]||"0"}.${match[4]||"0"}`,options)};module.exports=coerce},function(module,exports,__webpack_require__){const Range=__webpack_require__(42);const toComparators=(range,options)=>new Range(range,options).set.map(comp=>comp.map(c=>c.value).join(" ").trim().split(" "));module.exports=toComparators},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(40);const Range=__webpack_require__(42);const maxSatisfying=(versions,range,options)=>{let max=null;let maxSV=null;let rangeObj=null;try{rangeObj=new Range(range,options)}catch(er){return null}versions.forEach(v=>{if(rangeObj.test(v)){if(!max||maxSV.compare(v)===-1){max=v;maxSV=new SemVer(max,options)}}});return max};module.exports=maxSatisfying},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(40);const Range=__webpack_require__(42);const minSatisfying=(versions,range,options)=>{let min=null;let minSV=null;let rangeObj=null;try{rangeObj=new Range(range,options)}catch(er){return null}versions.forEach(v=>{if(rangeObj.test(v)){if(!min||minSV.compare(v)===1){min=v;minSV=new SemVer(min,options)}}});return min};module.exports=minSatisfying},function(module,exports,__webpack_require__){const SemVer=__webpack_require__(40);const Range=__webpack_require__(42);const gt=__webpack_require__(54);const minVersion=(range,loose)=>{range=new Range(range,loose);let minver=new SemVer("0.0.0");if(range.test(minver)){return minver}minver=new SemVer("0.0.0-0");if(range.test(minver)){return minver}minver=null;for(let i=0;i<range.set.length;++i){const comparators=range.set[i];comparators.forEach(comparator=>{const compver=new SemVer(comparator.semver.version);switch(comparator.operator){case">":if(compver.prerelease.length===0){compver.patch++}else{compver.prerelease.push(0)}compver.raw=compver.format();case"":case">=":if(!minver||gt(minver,compver)){minver=compver}break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${comparator.operator}`)}})}if(minver&&range.test(minver)){return minver}return null};module.exports=minVersion},function(module,exports,__webpack_require__){const Range=__webpack_require__(42);const validRange=(range,options)=>{try{return new Range(range,options).range||"*"}catch(er){return null}};module.exports=validRange},function(module,exports,__webpack_require__){const outside=__webpack_require__(69);const gtr=(version,range,options)=>outside(version,range,">",options);module.exports=gtr},function(module,exports,__webpack_require__){const outside=__webpack_require__(69);const ltr=(version,range,options)=>outside(version,range,"<",options);module.exports=ltr},function(module,exports,__webpack_require__){const Range=__webpack_require__(42);const intersects=(r1,r2,options)=>{r1=new Range(r1,options);r2=new Range(r2,options);return r1.intersects(r2)};module.exports=intersects},function(module,exports,__webpack_require__){const satisfies=__webpack_require__(56);const compare=__webpack_require__(41);module.exports=(versions,range,options)=>{const set=[];let min=null;let prev=null;const v=versions.sort((a,b)=>compare(a,b,options));for(const version of v){const included=satisfies(version,range,options);if(included){prev=version;if(!min)min=version}else{if(prev){set.push([min,prev])}prev=null;min=null}}if(min)set.push([min,null]);const ranges=[];for(const[min,max]of set){if(min===max)ranges.push(min);else if(!max&&min===v[0])ranges.push("*");else if(!max)ranges.push(`>=${min}`);else if(min===v[0])ranges.push(`<=${max}`);else ranges.push(`${min} - ${max}`)}const simplified=ranges.join(" || ");const original=typeof range.raw==="string"?range.raw:String(range);return simplified.length<original.length?simplified:range}},function(module,exports,__webpack_require__){const Range=__webpack_require__(42);const{ANY:ANY}=__webpack_require__(55);const satisfies=__webpack_require__(56);const compare=__webpack_require__(41);const subset=(sub,dom,options)=>{sub=new Range(sub,options);dom=new Range(dom,options);let sawNonNull=false;OUTER:for(const simpleSub of sub.set){for(const simpleDom of dom.set){const isSub=simpleSubset(simpleSub,simpleDom,options);sawNonNull=sawNonNull||isSub!==null;if(isSub)continue OUTER}if(sawNonNull)return false}return true};const simpleSubset=(sub,dom,options)=>{if(sub.length===1&&sub[0].semver===ANY)return dom.length===1&&dom[0].semver===ANY;const eqSet=new Set;let gt,lt;for(const c of sub){if(c.operator===">"||c.operator===">=")gt=higherGT(gt,c,options);else if(c.operator==="<"||c.operator==="<=")lt=lowerLT(lt,c,options);else eqSet.add(c.semver)}if(eqSet.size>1)return null;let gtltComp;if(gt&&lt){gtltComp=compare(gt.semver,lt.semver,options);if(gtltComp>0)return null;else if(gtltComp===0&&(gt.operator!==">="||lt.operator!=="<="))return null}for(const eq of eqSet){if(gt&&!satisfies(eq,String(gt),options))return null;if(lt&&!satisfies(eq,String(lt),options))return null;for(const c of dom){if(!satisfies(eq,String(c),options))return false}return true}let higher,lower;let hasDomLT,hasDomGT;for(const c of dom){hasDomGT=hasDomGT||c.operator===">"||c.operator===">=";hasDomLT=hasDomLT||c.operator==="<"||c.operator==="<=";if(gt){if(c.operator===">"||c.operator===">="){higher=higherGT(gt,c,options);if(higher===c)return false}else if(gt.operator===">="&&!satisfies(gt.semver,String(c),options))return false}if(lt){if(c.operator==="<"||c.operator==="<="){lower=lowerLT(lt,c,options);if(lower===c)return false}else if(lt.operator==="<="&&!satisfies(lt.semver,String(c),options))return false}if(!c.operator&&(lt||gt)&&gtltComp!==0)return false}if(gt&&hasDomLT&&!lt&&gtltComp!==0)return false;if(lt&&hasDomGT&&!gt&&gtltComp!==0)return false;return true};const higherGT=(a,b,options)=>{if(!a)return b;const comp=compare(a.semver,b.semver,options);return comp>0?a:comp<0?b:b.operator===">"&&a.operator===">="?b:a};const lowerLT=(a,b,options)=>{if(!a)return b;const comp=compare(a.semver,b.semver,options);return comp<0?a:comp>0?b:b.operator==="<"&&a.operator==="<="?b:a};module.exports=subset}])]);