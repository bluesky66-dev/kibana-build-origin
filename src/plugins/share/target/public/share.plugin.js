(function(modules){function webpackJsonpCallback(data){var chunkIds=data[0];var moreModules=data[1];var moduleId,chunkId,i=0,resolves=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]){resolves.push(installedChunks[chunkId][0])}installedChunks[chunkId]=0}for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){modules[moduleId]=moreModules[moduleId]}}if(parentJsonpFunction)parentJsonpFunction(data);while(resolves.length){resolves.shift()()}}var installedModules={};var installedChunks={0:0};function jsonpScriptSrc(chunkId){return __webpack_require__.p+"share.chunk."+chunkId+".js"}function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";__webpack_require__.oe=function(err){console.error(err);throw err};var jsonpArray=window["share_bundle_jsonpfunction"]=window["share_bundle_jsonpfunction"]||[];var oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback;jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;return __webpack_require__(__webpack_require__.s=15)})([function(module,exports){module.exports=__kbnSharedDeps__.React},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEui},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nReact},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18n},function(module,exports,__webpack_require__){"use strict";var punycode=__webpack_require__(26);var util=__webpack_require__(29);exports.parse=urlParse;exports.resolve=urlResolve;exports.resolveObject=urlResolveObject;exports.format=urlFormat;exports.Url=Url;function Url(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:true,"javascript:":true},hostlessProtocol={javascript:true,"javascript:":true},slashedProtocol={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},querystring=__webpack_require__(30);function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;var u=new Url;u.parse(url,parseQueryString,slashesDenoteHost);return u}Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url)){throw new TypeError("Parameter 'url' must be a string, not "+typeof url)}var queryIndex=url.indexOf("?"),splitter=queryIndex!==-1&&queryIndex<url.indexOf("#")?"?":"#",uSplit=url.split(splitter),slashRegex=/\\/g;uSplit[0]=uSplit[0].replace(slashRegex,"/");url=uSplit.join(splitter);var rest=url;rest=rest.trim();if(!slashesDenoteHost&&url.split("#").length===1){var simplePath=simplePathPattern.exec(rest);if(simplePath){this.path=rest;this.href=rest;this.pathname=simplePath[1];if(simplePath[2]){this.search=simplePath[2];if(parseQueryString){this.query=querystring.parse(this.search.substr(1))}else{this.query=this.search.substr(1)}}else if(parseQueryString){this.search="";this.query={}}return this}}var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();this.protocol=lowerProto;rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes=rest.substr(0,2)==="//";if(slashes&&!(proto&&hostlessProtocol[proto])){rest=rest.substr(2);this.slashes=true}}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){var hostEnd=-1;for(var i=0;i<hostEndingChars.length;i++){var hec=rest.indexOf(hostEndingChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}var auth,atSign;if(hostEnd===-1){atSign=rest.lastIndexOf("@")}else{atSign=rest.lastIndexOf("@",hostEnd)}if(atSign!==-1){auth=rest.slice(0,atSign);rest=rest.slice(atSign+1);this.auth=decodeURIComponent(auth)}hostEnd=-1;for(var i=0;i<nonHostChars.length;i++){var hec=rest.indexOf(nonHostChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}if(hostEnd===-1)hostEnd=rest.length;this.host=rest.slice(0,hostEnd);rest=rest.slice(hostEnd);this.parseHost();this.hostname=this.hostname||"";var ipv6Hostname=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ipv6Hostname){var hostparts=this.hostname.split(/\./);for(var i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(!part)continue;if(!part.match(hostnamePartPattern)){var newpart="";for(var j=0,k=part.length;j<k;j++){if(part.charCodeAt(j)>127){newpart+="x"}else{newpart+=part[j]}}if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i);var notHost=hostparts.slice(i+1);var bit=part.match(hostnamePartStart);if(bit){validParts.push(bit[1]);notHost.unshift(bit[2])}if(notHost.length){rest="/"+notHost.join(".")+rest}this.hostname=validParts.join(".");break}}}}if(this.hostname.length>hostnameMaxLen){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!ipv6Hostname){this.hostname=punycode.toASCII(this.hostname)}var p=this.port?":"+this.port:"";var h=this.hostname||"";this.host=h+p;this.href+=this.host;if(ipv6Hostname){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(rest[0]!=="/"){rest="/"+rest}}}if(!unsafeProtocol[lowerProto]){for(var i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];if(rest.indexOf(ae)===-1)continue;var esc=encodeURIComponent(ae);if(esc===ae){esc=escape(ae)}rest=rest.split(ae).join(esc)}}var hash=rest.indexOf("#");if(hash!==-1){this.hash=rest.substr(hash);rest=rest.slice(0,hash)}var qm=rest.indexOf("?");if(qm!==-1){this.search=rest.substr(qm);this.query=rest.substr(qm+1);if(parseQueryString){this.query=querystring.parse(this.query)}rest=rest.slice(0,qm)}else if(parseQueryString){this.search="";this.query={}}if(rest)this.pathname=rest;if(slashedProtocol[lowerProto]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var p=this.pathname||"";var s=this.search||"";this.path=p+s}this.href=this.format();return this};function urlFormat(obj){if(util.isString(obj))obj=urlParse(obj);if(!(obj instanceof Url))return Url.prototype.format.call(obj);return obj.format()}Url.prototype.format=function(){var auth=this.auth||"";if(auth){auth=encodeURIComponent(auth);auth=auth.replace(/%3A/i,":");auth+="@"}var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=false,query="";if(this.host){host=auth+this.host}else if(this.hostname){host=auth+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){host+=":"+this.port}}if(this.query&&util.isObject(this.query)&&Object.keys(this.query).length){query=querystring.stringify(this.query)}var search=this.search||query&&"?"+query||"";if(protocol&&protocol.substr(-1)!==":")protocol+=":";if(this.slashes||(!protocol||slashedProtocol[protocol])&&host!==false){host="//"+(host||"");if(pathname&&pathname.charAt(0)!=="/")pathname="/"+pathname}else if(!host){host=""}if(hash&&hash.charAt(0)!=="#")hash="#"+hash;if(search&&search.charAt(0)!=="?")search="?"+search;pathname=pathname.replace(/[?#]/g,(function(match){return encodeURIComponent(match)}));search=search.replace("#","%23");return protocol+host+pathname+search+hash};function urlResolve(source,relative){return urlParse(source,false,true).resolve(relative)}Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,false,true)).format()};function urlResolveObject(source,relative){if(!source)return relative;return urlParse(source,false,true).resolveObject(relative)}Url.prototype.resolveObject=function(relative){if(util.isString(relative)){var rel=new Url;rel.parse(relative,false,true);relative=rel}var result=new Url;var tkeys=Object.keys(this);for(var tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey]}result.hash=relative.hash;if(relative.href===""){result.href=result.format();return result}if(relative.slashes&&!relative.protocol){var rkeys=Object.keys(relative);for(var rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];if(rkey!=="protocol")result[rkey]=relative[rkey]}if(slashedProtocol[result.protocol]&&result.hostname&&!result.pathname){result.path=result.pathname="/"}result.href=result.format();return result}if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){var keys=Object.keys(relative);for(var v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k]}result.href=result.format();return result}result.protocol=relative.protocol;if(!relative.host&&!hostlessProtocol[relative.protocol]){var relPath=(relative.pathname||"").split("/");while(relPath.length&&!(relative.host=relPath.shift()));if(!relative.host)relative.host="";if(!relative.hostname)relative.hostname="";if(relPath[0]!=="")relPath.unshift("");if(relPath.length<2)relPath.unshift("");result.pathname=relPath.join("/")}else{result.pathname=relative.pathname}result.search=relative.search;result.query=relative.query;result.host=relative.host||"";result.auth=relative.auth;result.hostname=relative.hostname||relative.host;result.port=relative.port;if(result.pathname||result.search){var p=result.pathname||"";var s=result.search||"";result.path=p+s}result.slashes=result.slashes||relative.slashes;result.href=result.format();return result}var isSourceAbs=result.pathname&&result.pathname.charAt(0)==="/",isRelAbs=relative.host||relative.pathname&&relative.pathname.charAt(0)==="/",mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],relPath=relative.pathname&&relative.pathname.split("/")||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic){result.hostname="";result.port=null;if(result.host){if(srcPath[0]==="")srcPath[0]=result.host;else srcPath.unshift(result.host)}result.host="";if(relative.protocol){relative.hostname=null;relative.port=null;if(relative.host){if(relPath[0]==="")relPath[0]=relative.host;else relPath.unshift(relative.host)}relative.host=null}mustEndAbs=mustEndAbs&&(relPath[0]===""||srcPath[0]==="")}if(isRelAbs){result.host=relative.host||relative.host===""?relative.host:result.host;result.hostname=relative.hostname||relative.hostname===""?relative.hostname:result.hostname;result.search=relative.search;result.query=relative.query;srcPath=relPath}else if(relPath.length){if(!srcPath)srcPath=[];srcPath.pop();srcPath=srcPath.concat(relPath);result.search=relative.search;result.query=relative.query}else if(!util.isNullOrUndefined(relative.search)){if(psychotic){result.hostname=result.host=srcPath.shift();var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}result.search=relative.search;result.query=relative.query;if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.href=result.format();return result}if(!srcPath.length){result.pathname=null;if(result.search){result.path="/"+result.search}else{result.path=null}result.href=result.format();return result}var last=srcPath.slice(-1)[0];var hasTrailingSlash=(result.host||relative.host||srcPath.length>1)&&(last==="."||last==="..")||last==="";var up=0;for(var i=srcPath.length;i>=0;i--){last=srcPath[i];if(last==="."){srcPath.splice(i,1)}else if(last===".."){srcPath.splice(i,1);up++}else if(up){srcPath.splice(i,1);up--}}if(!mustEndAbs&&!removeAllDots){for(;up--;up){srcPath.unshift("..")}}if(mustEndAbs&&srcPath[0]!==""&&(!srcPath[0]||srcPath[0].charAt(0)!=="/")){srcPath.unshift("")}if(hasTrailingSlash&&srcPath.join("/").substr(-1)!=="/"){srcPath.push("")}var isAbsolute=srcPath[0]===""||srcPath[0]&&srcPath[0].charAt(0)==="/";if(psychotic){result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"";var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}mustEndAbs=mustEndAbs||result.host&&srcPath.length;if(mustEndAbs&&!isAbsolute){srcPath.unshift("")}if(!srcPath.length){result.pathname=null;result.path=null}else{result.pathname=srcPath.join("/")}if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.auth=relative.auth||result.auth;result.slashes=result.slashes||relative.slashes;result.href=result.format();return result};Url.prototype.parseHost=function(){var host=this.host;var port=portPattern.exec(host);if(port){port=port[0];if(port!==":"){this.port=port.substr(1)}host=host.substr(0,host.length-port.length)}if(host)this.hostname=host}},function(module,exports){},function(module,__webpack_exports__,__webpack_require__){"use strict";var _url_generator_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10);__webpack_require__.d(__webpack_exports__,"UrlGeneratorsService",(function(){return _url_generator_service__WEBPACK_IMPORTED_MODULE_0__["a"]}));var _url_generator_definition__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7);var _url_generator_definition__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_url_generator_definition__WEBPACK_IMPORTED_MODULE_1__);if(__webpack_require__.o(_url_generator_definition__WEBPACK_IMPORTED_MODULE_1__,"UrlGeneratorContract"))__webpack_require__.d(__webpack_exports__,"UrlGeneratorContract",(function(){return _url_generator_definition__WEBPACK_IMPORTED_MODULE_1__["UrlGeneratorContract"]}));if(__webpack_require__.o(_url_generator_definition__WEBPACK_IMPORTED_MODULE_1__,"UrlGeneratorId"))__webpack_require__.d(__webpack_exports__,"UrlGeneratorId",(function(){return _url_generator_definition__WEBPACK_IMPORTED_MODULE_1__["UrlGeneratorId"]}));if(__webpack_require__.o(_url_generator_definition__WEBPACK_IMPORTED_MODULE_1__,"UrlGeneratorState"))__webpack_require__.d(__webpack_exports__,"UrlGeneratorState",(function(){return _url_generator_definition__WEBPACK_IMPORTED_MODULE_1__["UrlGeneratorState"]}));if(__webpack_require__.o(_url_generator_definition__WEBPACK_IMPORTED_MODULE_1__,"UrlGeneratorsDefinition"))__webpack_require__.d(__webpack_exports__,"UrlGeneratorsDefinition",(function(){return _url_generator_definition__WEBPACK_IMPORTED_MODULE_1__["UrlGeneratorsDefinition"]}));var _url_generator_contract__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(12);var _url_generator_contract__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_url_generator_contract__WEBPACK_IMPORTED_MODULE_2__);if(__webpack_require__.o(_url_generator_contract__WEBPACK_IMPORTED_MODULE_2__,"UrlGeneratorContract"))__webpack_require__.d(__webpack_exports__,"UrlGeneratorContract",(function(){return _url_generator_contract__WEBPACK_IMPORTED_MODULE_2__["UrlGeneratorContract"]}));if(__webpack_require__.o(_url_generator_contract__WEBPACK_IMPORTED_MODULE_2__,"UrlGeneratorId"))__webpack_require__.d(__webpack_exports__,"UrlGeneratorId",(function(){return _url_generator_contract__WEBPACK_IMPORTED_MODULE_2__["UrlGeneratorId"]}));if(__webpack_require__.o(_url_generator_contract__WEBPACK_IMPORTED_MODULE_2__,"UrlGeneratorState"))__webpack_require__.d(__webpack_exports__,"UrlGeneratorState",(function(){return _url_generator_contract__WEBPACK_IMPORTED_MODULE_2__["UrlGeneratorState"]}));if(__webpack_require__.o(_url_generator_contract__WEBPACK_IMPORTED_MODULE_2__,"UrlGeneratorsDefinition"))__webpack_require__.d(__webpack_exports__,"UrlGeneratorsDefinition",(function(){return _url_generator_contract__WEBPACK_IMPORTED_MODULE_2__["UrlGeneratorsDefinition"]}))},function(module,exports){},function(module,exports,__webpack_require__){"use strict";var isOldIE=function isOldIE(){var memo;return function memorize(){if(typeof memo==="undefined"){memo=Boolean(window&&document&&document.all&&!window.atob)}return memo}}();var getTarget=function getTarget(){var memo={};return function memorize(target){if(typeof memo[target]==="undefined"){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement){try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}}memo[target]=styleTarget}return memo[target]}}();var stylesInDom=[];function getIndexByIdentifier(identifier){var result=-1;for(var i=0;i<stylesInDom.length;i++){if(stylesInDom[i].identifier===identifier){result=i;break}}return result}function modulesToDom(list,options){var idCountMap={};var identifiers=[];for(var i=0;i<list.length;i++){var item=list[i];var id=options.base?item[0]+options.base:item[0];var count=idCountMap[id]||0;var identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier);var obj={css:item[1],media:item[2],sourceMap:item[3]};if(index!==-1){stylesInDom[index].references++;stylesInDom[index].updater(obj)}else{stylesInDom.push({identifier:identifier,updater:addStyle(obj,options),references:1})}identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement("style");var attributes=options.attributes||{};if(typeof attributes.nonce==="undefined"){var nonce=true?__webpack_require__.nc:undefined;if(nonce){attributes.nonce=nonce}}Object.keys(attributes).forEach((function(key){style.setAttribute(key,attributes[key])}));if(typeof options.insert==="function"){options.insert(style)}else{var target=getTarget(options.insert||"head");if(!target){throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.")}target.appendChild(style)}return style}function removeStyleElement(style){if(style.parentNode===null){return false}style.parentNode.removeChild(style)}var replaceText=function replaceText(){var textStore=[];return function replace(index,replacement){textStore[index]=replacement;return textStore.filter(Boolean).join("\n")}}();function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.media?"@media ".concat(obj.media," {").concat(obj.css,"}"):obj.css;if(style.styleSheet){style.styleSheet.cssText=replaceText(index,css)}else{var cssNode=document.createTextNode(css);var childNodes=style.childNodes;if(childNodes[index]){style.removeChild(childNodes[index])}if(childNodes.length){style.insertBefore(cssNode,childNodes[index])}else{style.appendChild(cssNode)}}}function applyToTag(style,options,obj){var css=obj.css;var media=obj.media;var sourceMap=obj.sourceMap;if(media){style.setAttribute("media",media)}else{style.removeAttribute("media")}if(sourceMap&&btoa){css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")}if(style.styleSheet){style.styleSheet.cssText=css}else{while(style.firstChild){style.removeChild(style.firstChild)}style.appendChild(document.createTextNode(css))}}var singleton=null;var singletonCounter=0;function addStyle(obj,options){var style;var update;var remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options));update=applyToSingletonTag.bind(null,style,styleIndex,false);remove=applyToSingletonTag.bind(null,style,styleIndex,true)}else{style=insertStyleElement(options);update=applyToTag.bind(null,style,options);remove=function remove(){removeStyleElement(style)}}update(obj);return function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap){return}update(obj=newObj)}else{remove()}}}module.exports=function(list,options){options=options||{};if(!options.singleton&&typeof options.singleton!=="boolean"){options.singleton=isOldIE()}list=list||[];var lastIdentifiers=modulesToDom(list,options);return function update(newList){newList=newList||[];if(Object.prototype.toString.call(newList)!=="[object Array]"){return}for(var i=0;i<lastIdentifiers.length;i++){var identifier=lastIdentifiers[i];var index=getIndexByIdentifier(identifier);stylesInDom[index].references--}var newLastIdentifiers=modulesToDom(newList,options);for(var _i=0;_i<lastIdentifiers.length;_i++){var _identifier=lastIdentifiers[_i];var _index=getIndexByIdentifier(_identifier);if(stylesInDom[_index].references===0){stylesInDom[_index].updater();stylesInDom.splice(_index,1)}}lastIdentifiers=newLastIdentifiers}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(useSourceMap){var list=[];list.toString=function toString(){return this.map((function(item){var content=cssWithMappingToString(item,useSourceMap);if(item[2]){return"@media ".concat(item[2]," {").concat(content,"}")}return content})).join("")};list.i=function(modules,mediaQuery,dedupe){if(typeof modules==="string"){modules=[[null,modules,""]]}var alreadyImportedModules={};if(dedupe){for(var i=0;i<this.length;i++){var id=this[i][0];if(id!=null){alreadyImportedModules[id]=true}}}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);if(dedupe&&alreadyImportedModules[item[0]]){continue}if(mediaQuery){if(!item[2]){item[2]=mediaQuery}else{item[2]="".concat(mediaQuery," and ").concat(item[2])}}list.push(item)}};return list};function cssWithMappingToString(item,useSourceMap){var content=item[1]||"";var cssMapping=item[3];if(!cssMapping){return content}if(useSourceMap&&typeof btoa==="function"){var sourceMapping=toComment(cssMapping);var sourceURLs=cssMapping.sources.map((function(source){return"/*# sourceURL=".concat(cssMapping.sourceRoot||"").concat(source," */")}));return[content].concat(sourceURLs).concat([sourceMapping]).join("\n")}return[content].join("\n")}function toComment(sourceMap){var base64=btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));var data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);return"/*# ".concat(data," */")}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return url_generator_service_UrlGeneratorsService}));var external_kbnSharedDeps_KbnI18n_=__webpack_require__(3);class url_generator_internal_UrlGeneratorInternal{constructor(spec,getGenerator){this.spec=spec;this.getGenerator=getGenerator;if(spec.isDeprecated&&!spec.migrate){throw new Error(external_kbnSharedDeps_KbnI18n_["i18n"].translate("share.urlGenerators.error.noMigrationFnProvided",{defaultMessage:"If the access link generator is marked as deprecated, you must provide a migration function."}))}if(!spec.isDeprecated&&spec.migrate){throw new Error(external_kbnSharedDeps_KbnI18n_["i18n"].translate("share.urlGenerators.error.migrationFnGivenNotDeprecated",{defaultMessage:"If you provide a migration function, you must mark this generator as deprecated"}))}if(!spec.createUrl&&!spec.isDeprecated){throw new Error(external_kbnSharedDeps_KbnI18n_["i18n"].translate("share.urlGenerators.error.noCreateUrlFnProvided",{defaultMessage:"This generator is not marked as deprecated. Please provide a createUrl fn."}))}if(spec.createUrl&&spec.isDeprecated){throw new Error(external_kbnSharedDeps_KbnI18n_["i18n"].translate("share.urlGenerators.error.createUrlFnProvided",{defaultMessage:"This generator is marked as deprecated. Do not supply a createUrl fn."}))}}getPublicContract(){return{id:this.spec.id,createUrl:async state=>{if(this.spec.migrate&&!this.spec.createUrl){const{id:id,state:newState}=await this.spec.migrate(state);console.warn(`URL generator is deprecated and may not work in future versions. Please migrate your data.`);return this.getGenerator(id).createUrl(newState)}return this.spec.createUrl(state)},isDeprecated:!!this.spec.isDeprecated,migrate:async state=>{if(!this.spec.isDeprecated){throw new Error(external_kbnSharedDeps_KbnI18n_["i18n"].translate("share.urlGenerators.error.migrateCalledNotDeprecated",{defaultMessage:"You cannot call migrate on a non-deprecated generator."}))}return this.spec.migrate(state)}}}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class url_generator_service_UrlGeneratorsService{constructor(){_defineProperty(this,"urlGenerators",new Map);_defineProperty(this,"getUrlGenerator",id=>{const generator=this.urlGenerators.get(id);if(!generator){throw new Error(external_kbnSharedDeps_KbnI18n_["i18n"].translate("share.urlGenerators.errors.noGeneratorWithId",{defaultMessage:"No generator found with id {id}",values:{id:id}}))}return generator.getPublicContract()})}setup(core){const setup={registerUrlGenerator:generatorOptions=>{const generator=new url_generator_internal_UrlGeneratorInternal(generatorOptions,this.getUrlGenerator);this.urlGenerators.set(generatorOptions.id,generator);return generator.getPublicContract()}};return setup}start(core){const start={getUrlGenerator:this.getUrlGenerator};return start}stop(){}}},function(module,exports){module.exports=__kbnSharedDeps__.ReactDom},function(module,exports){},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */var saveAs=saveAs||function(view){"use strict";if(typeof navigator!=="undefined"&&/MSIE [1-9]\./.test(navigator.userAgent)){return}var doc=view.document,get_URL=function(){return view.URL||view.webkitURL||view},save_link=doc.createElementNS("http://www.w3.org/1999/xhtml","a"),can_use_save_link="download"in save_link,click=function(node){var event=new MouseEvent("click");node.dispatchEvent(event)},webkit_req_fs=view.webkitRequestFileSystem,req_fs=view.requestFileSystem||webkit_req_fs||view.mozRequestFileSystem,throw_outside=function(ex){(view.setImmediate||view.setTimeout)((function(){throw ex}),0)},force_saveable_type="application/octet-stream",fs_min_size=0,arbitrary_revoke_timeout=500,revoke=function(file){var revoker=function(){if(typeof file==="string"){get_URL().revokeObjectURL(file)}else{file.remove()}};if(view.chrome){revoker()}else{setTimeout(revoker,arbitrary_revoke_timeout)}},dispatch=function(filesaver,event_types,event){event_types=[].concat(event_types);var i=event_types.length;while(i--){var listener=filesaver["on"+event_types[i]];if(typeof listener==="function"){try{listener.call(filesaver,event||filesaver)}catch(ex){throw_outside(ex)}}}},auto_bom=function(blob){if(/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(blob.type)){return new Blob(["\ufeff",blob],{type:blob.type})}return blob},FileSaver=function(blob,name,no_auto_bom){if(!no_auto_bom){blob=auto_bom(blob)}var filesaver=this,type=blob.type,blob_changed=false,object_url,target_view,dispatch_all=function(){dispatch(filesaver,"writestart progress write writeend".split(" "))},fs_error=function(){if(blob_changed||!object_url){object_url=get_URL().createObjectURL(blob)}if(target_view){target_view.location.href=object_url}else{var new_tab=view.open(object_url,"_blank");if(new_tab==undefined&&typeof safari!=="undefined"){view.location.href=object_url}}filesaver.readyState=filesaver.DONE;dispatch_all();revoke(object_url)},abortable=function(func){return function(){if(filesaver.readyState!==filesaver.DONE){return func.apply(this,arguments)}}},create_if_not_found={create:true,exclusive:false},slice;filesaver.readyState=filesaver.INIT;if(!name){name="download"}if(can_use_save_link){object_url=get_URL().createObjectURL(blob);save_link.href=object_url;save_link.download=name;setTimeout((function(){click(save_link);dispatch_all();revoke(object_url);filesaver.readyState=filesaver.DONE}));return}if(view.chrome&&type&&type!==force_saveable_type){slice=blob.slice||blob.webkitSlice;blob=slice.call(blob,0,blob.size,force_saveable_type);blob_changed=true}if(webkit_req_fs&&name!=="download"){name+=".download"}if(type===force_saveable_type||webkit_req_fs){target_view=view}if(!req_fs){fs_error();return}fs_min_size+=blob.size;req_fs(view.TEMPORARY,fs_min_size,abortable((function(fs){fs.root.getDirectory("saved",create_if_not_found,abortable((function(dir){var save=function(){dir.getFile(name,create_if_not_found,abortable((function(file){file.createWriter(abortable((function(writer){writer.onwriteend=function(event){target_view.location.href=file.toURL();filesaver.readyState=filesaver.DONE;dispatch(filesaver,"writeend",event);revoke(file)};writer.onerror=function(){var error=writer.error;if(error.code!==error.ABORT_ERR){fs_error()}};"writestart progress write abort".split(" ").forEach((function(event){writer["on"+event]=filesaver["on"+event]}));writer.write(blob);filesaver.abort=function(){writer.abort();filesaver.readyState=filesaver.DONE};filesaver.readyState=filesaver.WRITING})),fs_error)})),fs_error)};dir.getFile(name,{create:false},abortable((function(file){file.remove();save()})),abortable((function(ex){if(ex.code===ex.NOT_FOUND_ERR){save()}else{fs_error()}})))})),fs_error)})),fs_error)},FS_proto=FileSaver.prototype,saveAs=function(blob,name,no_auto_bom){return new FileSaver(blob,name,no_auto_bom)};if(typeof navigator!=="undefined"&&navigator.msSaveOrOpenBlob){return function(blob,name,no_auto_bom){if(!no_auto_bom){blob=auto_bom(blob)}return navigator.msSaveOrOpenBlob(blob,name||"download")}}FS_proto.abort=function(){var filesaver=this;filesaver.readyState=filesaver.DONE;dispatch(filesaver,"abort")};FS_proto.readyState=FS_proto.INIT=0;FS_proto.WRITING=1;FS_proto.DONE=2;FS_proto.error=FS_proto.onwritestart=FS_proto.onprogress=FS_proto.onwrite=FS_proto.onabort=FS_proto.onerror=FS_proto.onwriteend=null;return saveAs}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content);if(true&&module.exports){module.exports.saveAs=saveAs}else if(true&&__webpack_require__(33)!==null&&__webpack_require__(34)!=null){!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return saveAs}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}},function(module,exports,__webpack_require__){"use strict";const AggregateError=__webpack_require__(35);module.exports=async(iterable,mapper,{concurrency:concurrency=Infinity,stopOnError:stopOnError=true}={})=>new Promise((resolve,reject)=>{if(typeof mapper!=="function"){throw new TypeError("Mapper function is required")}if(!((Number.isSafeInteger(concurrency)||concurrency===Infinity)&&concurrency>=1)){throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${concurrency}\` (${typeof concurrency})`)}const result=[];const errors=[];const iterator=iterable[Symbol.iterator]();let isRejected=false;let isIterableDone=false;let resolvingCount=0;let currentIndex=0;const next=()=>{if(isRejected){return}const nextItem=iterator.next();const index=currentIndex;currentIndex++;if(nextItem.done){isIterableDone=true;if(resolvingCount===0){if(!stopOnError&&errors.length!==0){reject(new AggregateError(errors))}else{resolve(result)}}return}resolvingCount++;(async()=>{try{const element=await nextItem.value;result[index]=await mapper(element,index);resolvingCount--;next()}catch(error){if(stopOnError){isRejected=true;reject(error)}else{errors.push(error);resolvingCount--;next()}}})()};for(let i=0;i<concurrency;i++){next();if(isIterableDone){break}}})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_val_loader_dist_cjs_js_key_share_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(16);var _node_modules_val_loader_dist_cjs_js_key_share_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_val_loader_dist_cjs_js_key_share_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__);__kbnBundles__.define("plugin/share/public",__webpack_require__,39)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__kbnPublicPath__["share"]},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(18);case"v7light":return __webpack_require__(20);case"v8dark":return __webpack_require__(22);case"v8light":return __webpack_require__(24)}},function(module,exports,__webpack_require__){var api=__webpack_require__(8);var content=__webpack_require__(19);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(9);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".kbnShareContextMenu__finalPanel {\n  padding: 16px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(8);var content=__webpack_require__(21);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(9);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".kbnShareContextMenu__finalPanel {\n  padding: 16px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(8);var content=__webpack_require__(23);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(9);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".kbnShareContextMenu__finalPanel {\n  padding: 16px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(8);var content=__webpack_require__(25);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(9);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".kbnShareContextMenu__finalPanel {\n  padding: 16px; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){(function(module,global){var __WEBPACK_AMD_DEFINE_RESULT__;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(root){var freeExports=true&&exports&&!exports.nodeType&&exports;var freeModule=true&&module&&!module.nodeType&&module;var freeGlobal=typeof global=="object"&&global;if(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal||freeGlobal.self===freeGlobal){root=freeGlobal}var punycode,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode,key;function error(type){throw new RangeError(errors[type])}function map(array,fn){var length=array.length;var result=[];while(length--){result[length]=fn(array[length])}return result}function mapDomain(string,fn){var parts=string.split("@");var result="";if(parts.length>1){result=parts[0]+"@";string=parts[1]}string=string.replace(regexSeparators,".");var labels=string.split(".");var encoded=map(labels,fn).join(".");return result+encoded}function ucs2decode(string){var output=[],counter=0,length=string.length,value,extra;while(counter<length){value=string.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<length){extra=string.charCodeAt(counter++);if((extra&64512)==56320){output.push(((value&1023)<<10)+(extra&1023)+65536)}else{output.push(value);counter--}}else{output.push(value)}}return output}function ucs2encode(array){return map(array,(function(value){var output="";if(value>65535){value-=65536;output+=stringFromCharCode(value>>>10&1023|55296);value=56320|value&1023}output+=stringFromCharCode(value);return output})).join("")}function basicToDigit(codePoint){if(codePoint-48<10){return codePoint-22}if(codePoint-65<26){return codePoint-65}if(codePoint-97<26){return codePoint-97}return base}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((flag!=0)<<5)}function adapt(delta,numPoints,firstTime){var k=0;delta=firstTime?floor(delta/damp):delta>>1;delta+=floor(delta/numPoints);for(;delta>baseMinusTMin*tMax>>1;k+=base){delta=floor(delta/baseMinusTMin)}return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var output=[],inputLength=input.length,out,i=0,n=initialN,bias=initialBias,basic,j,index,oldi,w,k,digit,t,baseMinusT;basic=input.lastIndexOf(delimiter);if(basic<0){basic=0}for(j=0;j<basic;++j){if(input.charCodeAt(j)>=128){error("not-basic")}output.push(input.charCodeAt(j))}for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;;k+=base){if(index>=inputLength){error("invalid-input")}digit=basicToDigit(input.charCodeAt(index++));if(digit>=base||digit>floor((maxInt-i)/w)){error("overflow")}i+=digit*w;t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(digit<t){break}baseMinusT=base-t;if(w>floor(maxInt/baseMinusT)){error("overflow")}w*=baseMinusT}out=output.length+1;bias=adapt(i-oldi,out,oldi==0);if(floor(i/out)>maxInt-n){error("overflow")}n+=floor(i/out);i%=out;output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,output=[],inputLength,handledCPCountPlusOne,baseMinusT,qMinusT;input=ucs2decode(input);inputLength=input.length;n=initialN;delta=0;bias=initialBias;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<128){output.push(stringFromCharCode(currentValue))}}handledCPCount=basicLength=output.length;if(basicLength){output.push(delimiter)}while(handledCPCount<inputLength){for(m=maxInt,j=0;j<inputLength;++j){currentValue=input[j];if(currentValue>=n&&currentValue<m){m=currentValue}}handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/handledCPCountPlusOne)){error("overflow")}delta+=(m-n)*handledCPCountPlusOne;n=m;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<n&&++delta>maxInt){error("overflow")}if(currentValue==n){for(q=delta,k=base;;k+=base){t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(q<t){break}qMinusT=q-t;baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0)));q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q,0)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount}}++delta;++n}return output.join("")}function toUnicode(input){return mapDomain(input,(function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string}))}function toASCII(input){return mapDomain(input,(function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string}))}punycode={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:toASCII,toUnicode:toUnicode};if(true){!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return punycode}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{}})(this)}).call(this,__webpack_require__(27)(module),__webpack_require__(28))},function(module,exports){module.exports=function(module){if(!module.webpackPolyfill){module.deprecate=function(){};module.paths=[];if(!module.children)module.children=[];Object.defineProperty(module,"loaded",{enumerable:true,get:function(){return module.l}});Object.defineProperty(module,"id",{enumerable:true,get:function(){return module.i}});module.webpackPolyfill=1}return module}},function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){if(typeof window==="object")g=window}module.exports=g},function(module,exports,__webpack_require__){"use strict";module.exports={isString:function(arg){return typeof arg==="string"},isObject:function(arg){return typeof arg==="object"&&arg!==null},isNull:function(arg){return arg===null},isNullOrUndefined:function(arg){return arg==null}}},function(module,exports,__webpack_require__){"use strict";exports.decode=exports.parse=__webpack_require__(31);exports.encode=exports.stringify=__webpack_require__(32)},function(module,exports,__webpack_require__){"use strict";function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&";eq=eq||"=";var obj={};if(typeof qs!=="string"||qs.length===0){return obj}var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1e3;if(options&&typeof options.maxKeys==="number"){maxKeys=options.maxKeys}var len=qs.length;if(maxKeys>0&&len>maxKeys){len=maxKeys}for(var i=0;i<len;++i){var x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq),kstr,vstr,k,v;if(idx>=0){kstr=x.substr(0,idx);vstr=x.substr(idx+1)}else{kstr=x;vstr=""}k=decodeURIComponent(kstr);v=decodeURIComponent(vstr);if(!hasOwnProperty(obj,k)){obj[k]=v}else if(isArray(obj[k])){obj[k].push(v)}else{obj[k]=[obj[k],v]}}return obj};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==="[object Array]"}},function(module,exports,__webpack_require__){"use strict";var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){sep=sep||"&";eq=eq||"=";if(obj===null){obj=undefined}if(typeof obj==="object"){return map(objectKeys(obj),(function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;if(isArray(obj[k])){return map(obj[k],(function(v){return ks+encodeURIComponent(stringifyPrimitive(v))})).join(sep)}else{return ks+encodeURIComponent(stringifyPrimitive(obj[k]))}})).join(sep)}if(!name)return"";return encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj))};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==="[object Array]"};function map(xs,f){if(xs.map)return xs.map(f);var res=[];for(var i=0;i<xs.length;i++){res.push(f(xs[i],i))}return res}var objectKeys=Object.keys||function(obj){var res=[];for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))res.push(key)}return res}},function(module,exports){module.exports=function(){throw new Error("define cannot be used indirect")}},function(module,exports){(function(__webpack_amd_options__){module.exports=__webpack_amd_options__}).call(this,{})},function(module,exports,__webpack_require__){"use strict";const indentString=__webpack_require__(36);const cleanStack=__webpack_require__(37);const cleanInternalStack=stack=>stack.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,"");class AggregateError extends Error{constructor(errors){if(!Array.isArray(errors)){throw new TypeError(`Expected input to be an Array, got ${typeof errors}`)}errors=[...errors].map(error=>{if(error instanceof Error){return error}if(error!==null&&typeof error==="object"){return Object.assign(new Error(error.message),error)}return new Error(error)});let message=errors.map(error=>typeof error.stack==="string"?cleanInternalStack(cleanStack(error.stack)):String(error)).join("\n");message="\n"+indentString(message,4);super(message);this.name="AggregateError";Object.defineProperty(this,"_errors",{value:errors})}*[Symbol.iterator](){for(const error of this._errors){yield error}}}module.exports=AggregateError},function(module,exports,__webpack_require__){"use strict";module.exports=(string,count=1,options)=>{options={indent:" ",includeEmptyLines:false,...options};if(typeof string!=="string"){throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof string}\``)}if(typeof count!=="number"){throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof count}\``)}if(typeof options.indent!=="string"){throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof options.indent}\``)}if(count===0){return string}const regex=options.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return string.replace(regex,options.indent.repeat(count))}},function(module,exports,__webpack_require__){"use strict";const os=__webpack_require__(38);const extractPathRegex=/\s+at.*(?:\(|\s)(.*)\)?/;const pathRegex=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/;const homeDir=typeof os.homedir==="undefined"?"":os.homedir();module.exports=(stack,options)=>{options=Object.assign({pretty:false},options);return stack.replace(/\\/g,"/").split("\n").filter(line=>{const pathMatches=line.match(extractPathRegex);if(pathMatches===null||!pathMatches[1]){return true}const match=pathMatches[1];if(match.includes(".app/Contents/Resources/electron.asar")||match.includes(".app/Contents/Resources/default_app.asar")){return false}return!pathRegex.test(match)}).filter(line=>line.trim()!=="").map(line=>{if(options.pretty){return line.replace(extractPathRegex,(m,p1)=>m.replace(p1,p1.replace(homeDir,"~")))}return line}).join("\n")}},function(module,exports){},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"CSV_QUOTE_VALUES_SETTING",(function(){return CSV_QUOTE_VALUES_SETTING}));__webpack_require__.d(__webpack_exports__,"CSV_SEPARATOR_SETTING",(function(){return CSV_SEPARATOR_SETTING}));__webpack_require__.d(__webpack_exports__,"UrlGeneratorStateMapping",(function(){return url_generator_definition["UrlGeneratorStateMapping"]}));__webpack_require__.d(__webpack_exports__,"SharePluginSetup",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SharePluginStart",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"ShareContext",(function(){return types["ShareContext"]}));__webpack_require__.d(__webpack_exports__,"ShareMenuProvider",(function(){return types["ShareMenuProvider"]}));__webpack_require__.d(__webpack_exports__,"ShareMenuItem",(function(){return types["ShareMenuItem"]}));__webpack_require__.d(__webpack_exports__,"ShowShareMenuOptions",(function(){return types["ShowShareMenuOptions"]}));__webpack_require__.d(__webpack_exports__,"ShareContextMenuPanelItem",(function(){return types["ShareContextMenuPanelItem"]}));__webpack_require__.d(__webpack_exports__,"UrlGeneratorId",(function(){return url_generators["UrlGeneratorId"]}));__webpack_require__.d(__webpack_exports__,"UrlGeneratorState",(function(){return url_generators["UrlGeneratorState"]}));__webpack_require__.d(__webpack_exports__,"UrlGeneratorsDefinition",(function(){return url_generators["UrlGeneratorsDefinition"]}));__webpack_require__.d(__webpack_exports__,"UrlGeneratorContract",(function(){return url_generators["UrlGeneratorContract"]}));__webpack_require__.d(__webpack_exports__,"UrlGeneratorsService",(function(){return url_generators["UrlGeneratorsService"]}));__webpack_require__.d(__webpack_exports__,"KibanaURL",(function(){return KibanaURL}));__webpack_require__.d(__webpack_exports__,"downloadMultipleAs",(function(){return downloadMultipleAs}));__webpack_require__.d(__webpack_exports__,"downloadFileAs",(function(){return downloadFileAs}));__webpack_require__.d(__webpack_exports__,"plugin",(function(){return public_plugin}));const CSV_SEPARATOR_SETTING="csv:separator";const CSV_QUOTE_VALUES_SETTING="csv:quoteValues";var url_generator_definition=__webpack_require__(7);var public_0=__webpack_require__(17);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class ShareMenuRegistry{constructor(){_defineProperty(this,"shareMenuProviders",new Map)}setup(){return{register:shareMenuProvider=>{if(this.shareMenuProviders.has(shareMenuProvider.id)){throw new Error(`Share menu provider with id [${shareMenuProvider.id}] has already been registered. Use a unique id.`)}this.shareMenuProviders.set(shareMenuProvider.id,shareMenuProvider)}}}start(){return{getShareMenuItems:context=>Array.from(this.shareMenuProviders.values()).flatMap(shareActionProvider=>shareActionProvider.getShareMenuItems(context))}}}var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ReactDom_=__webpack_require__(11);var external_kbnSharedDeps_ReactDom_default=__webpack_require__.n(external_kbnSharedDeps_ReactDom_);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(2);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(1);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(3);var url_url=__webpack_require__(4);var url_default=__webpack_require__.n(url_url);const GOTO_PREFIX="/goto";const getUrlIdFromGotoRoute=path=>{var _path$match;return(_path$match=path.match(new RegExp(`${GOTO_PREFIX}/(.*)$`)))===null||_path$match===void 0?void 0:_path$match[1]};const getGotoPath=urlId=>`${GOTO_PREFIX}/${urlId}`;const GETTER_PREFIX="/api/short_url";const getUrlPath=urlId=>`${GETTER_PREFIX}/${urlId}`;const CREATE_PATH="/api/shorten_url";async function shortenUrl(absoluteUrl,{basePath:basePath,post:post}){const parsedUrl=url_default.a.parse(absoluteUrl);if(!parsedUrl||!parsedUrl.path){return}const path=parsedUrl.path.replace(basePath,"");const hash=parsedUrl.hash?parsedUrl.hash:"";const relativeUrl=path+hash;const body=JSON.stringify({url:relativeUrl});const resp=await post(CREATE_PATH,{body:body});return url_default.a.format({protocol:parsedUrl.protocol,host:parsedUrl.host,pathname:`${basePath}${getGotoPath(resp.urlId)}`})}function url_panel_content_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}let ExportUrlAsType;(function(ExportUrlAsType){ExportUrlAsType["EXPORT_URL_AS_SAVED_OBJECT"]="savedObject";ExportUrlAsType["EXPORT_URL_AS_SNAPSHOT"]="snapshot"})(ExportUrlAsType||(ExportUrlAsType={}));class url_panel_content_UrlPanelContent extends external_kbnSharedDeps_React_["Component"]{constructor(props){super(props);url_panel_content_defineProperty(this,"mounted",void 0);url_panel_content_defineProperty(this,"shortUrlCache",void 0);url_panel_content_defineProperty(this,"isNotSaved",()=>this.props.objectId===undefined||this.props.objectId==="");url_panel_content_defineProperty(this,"resetUrl",()=>{if(this.mounted){this.shortUrlCache=undefined;this.setState({useShortUrl:false},this.setUrl)}});url_panel_content_defineProperty(this,"updateUrlParams",url=>{url=this.props.isEmbedded?this.makeUrlEmbeddable(url):url;url=this.state.urlParams?this.getUrlParamExtensions(url):url;return url});url_panel_content_defineProperty(this,"getSavedObjectUrl",()=>{if(this.isNotSaved()){return}const url=this.getSnapshotUrl();const parsedUrl=Object(url_url["parse"])(url);if(!parsedUrl||!parsedUrl.hash){return}const parsedAppUrl=Object(url_url["parse"])(parsedUrl.hash.slice(1),true);const formattedUrl=Object(url_url["format"])({protocol:parsedUrl.protocol,auth:parsedUrl.auth,host:parsedUrl.host,pathname:parsedUrl.pathname,hash:Object(url_url["format"])({pathname:parsedAppUrl.pathname,query:{_g:parsedAppUrl.query._g}})});return this.updateUrlParams(formattedUrl)});url_panel_content_defineProperty(this,"getSnapshotUrl",()=>{const url=this.props.shareableUrl||window.location.href;return this.updateUrlParams(url)});url_panel_content_defineProperty(this,"makeUrlEmbeddable",url=>{const embedParam="?embed=true";const urlHasQueryString=url.indexOf("?")!==-1;if(urlHasQueryString){return url.replace("?",`${embedParam}&`)}return`${url}${embedParam}`});url_panel_content_defineProperty(this,"addUrlAnonymousAccessParameters",url=>{if(!this.state.anonymousAccessParameters||!this.state.usePublicUrl){return url}const parsedUrl=new URL(url);for(const[name,value]of Object.entries(this.state.anonymousAccessParameters)){parsedUrl.searchParams.set(name,value)}return parsedUrl.toString()});url_panel_content_defineProperty(this,"getUrlParamExtensions",url=>{const{urlParams:urlParams}=this.state;return urlParams?Object.keys(urlParams).reduce((urlAccumulator,key)=>{const urlParam=urlParams[key];return urlParam?Object.keys(urlParam).reduce((queryAccumulator,queryParam)=>{const isQueryParamEnabled=urlParam[queryParam];return isQueryParamEnabled?queryAccumulator+`&${queryParam}=true`:queryAccumulator},urlAccumulator):urlAccumulator},url):url});url_panel_content_defineProperty(this,"makeIframeTag",url=>{if(!url){return}return`<iframe src="${url}" height="600" width="800"></iframe>`});url_panel_content_defineProperty(this,"setUrl",()=>{let url;if(this.state.exportUrlAs===ExportUrlAsType.EXPORT_URL_AS_SAVED_OBJECT){url=this.getSavedObjectUrl()}else if(this.state.useShortUrl){url=this.shortUrlCache}else{url=this.getSnapshotUrl()}if(url){url=this.addUrlAnonymousAccessParameters(url)}if(this.props.isEmbedded){url=this.makeIframeTag(url)}this.setState({url:url})});url_panel_content_defineProperty(this,"handleExportUrlAs",optionId=>{this.setState({exportUrlAs:optionId},this.setUrl)});url_panel_content_defineProperty(this,"handleShortUrlChange",async evt=>{const isChecked=evt.target.checked;if(!isChecked||this.shortUrlCache!==undefined){this.setState({useShortUrl:isChecked},this.setUrl);return}this.createShortUrl()});url_panel_content_defineProperty(this,"handlePublicUrlChange",()=>{this.setState(({usePublicUrl:usePublicUrl})=>({usePublicUrl:!usePublicUrl}),this.setUrl)});url_panel_content_defineProperty(this,"createShortUrl",async()=>{this.setState({isCreatingShortUrl:true,shortUrlErrorMsg:undefined});try{const shortUrl=await shortenUrl(this.getSnapshotUrl(),{basePath:this.props.basePath,post:this.props.post});if(!this.mounted){return}this.shortUrlCache=shortUrl;this.setState({isCreatingShortUrl:false,useShortUrl:true},this.setUrl)}catch(fetchError){if(!this.mounted){return}this.shortUrlCache=undefined;this.setState({useShortUrl:false,isCreatingShortUrl:false,shortUrlErrorMsg:external_kbnSharedDeps_KbnI18n_["i18n"].translate("share.urlPanel.unableCreateShortUrlErrorMessage",{defaultMessage:"Unable to create short URL. Error: {errorMessage}",values:{errorMessage:fetchError.message}})},this.setUrl)}});url_panel_content_defineProperty(this,"renderExportUrlAsOptions",()=>[{id:ExportUrlAsType.EXPORT_URL_AS_SNAPSHOT,label:this.renderWithIconTip(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"share.urlPanel.snapshotLabel",defaultMessage:"Snapshot"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"share.urlPanel.snapshotDescription",defaultMessage:"Snapshot URLs encode the current state of the {objectType} in the URL itself. Edits to the saved {objectType} won't be visible via this URL.",values:{objectType:this.props.objectType}})),["data-test-subj"]:"exportAsSnapshot"},{id:ExportUrlAsType.EXPORT_URL_AS_SAVED_OBJECT,disabled:this.isNotSaved(),label:this.renderWithIconTip(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"share.urlPanel.savedObjectLabel",defaultMessage:"Saved object"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"share.urlPanel.savedObjectDescription",defaultMessage:"You can share this URL with people to let them load the most recent saved version of this {objectType}.",values:{objectType:this.props.objectType}})),["data-test-subj"]:"exportAsSavedObject"}]);url_panel_content_defineProperty(this,"renderWithIconTip",(child,tipContent)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"none",responsive:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},child),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIconTip"],{content:tipContent,position:"bottom"}))));url_panel_content_defineProperty(this,"renderExportAsRadioGroup",()=>{const generateLinkAsHelp=this.isNotSaved()?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"share.urlPanel.canNotShareAsSavedObjectHelpText",defaultMessage:"Can't share as saved object until the {objectType} has been saved.",values:{objectType:this.props.objectType}}):undefined;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"share.urlPanel.generateLinkAsLabel",defaultMessage:"Generate the link as"}),helpText:generateLinkAsHelp},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiRadioGroup"],{options:this.renderExportUrlAsOptions(),idSelected:this.state.exportUrlAs,onChange:this.handleExportUrlAs}))});url_panel_content_defineProperty(this,"renderShortUrlSwitch",()=>{if(this.state.exportUrlAs===ExportUrlAsType.EXPORT_URL_AS_SAVED_OBJECT||!this.props.allowShortUrl){return}const shortUrlLabel=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"share.urlPanel.shortUrlLabel",defaultMessage:"Short URL"});const switchLabel=this.state.isCreatingShortUrl?external_kbnSharedDeps_React_default.a.createElement("span",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"s"})," ",shortUrlLabel):shortUrlLabel;const switchComponent=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSwitch"],{label:switchLabel,checked:this.state.useShortUrl,onChange:this.handleShortUrlChange,"data-test-subj":"useShortUrl"});const tipContent=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"share.urlPanel.shortUrlHelpText",defaultMessage:"We recommend sharing shortened snapshot URLs for maximum compatibility. Internet Explorer has URL length restrictions, and some wiki and markup parsers don't do well with the full-length version of the snapshot URL, but the short URL should work great."});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{helpText:this.state.shortUrlErrorMsg,"data-test-subj":"createShortUrl"},this.renderWithIconTip(switchComponent,tipContent))});url_panel_content_defineProperty(this,"renderPublicUrlSwitch",()=>{if(!this.state.anonymousAccessParameters||!this.state.showPublicUrlSwitch){return null}const switchLabel=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"share.urlPanel.publicUrlLabel",defaultMessage:"Public URL"});const switchComponent=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSwitch"],{label:switchLabel,checked:this.state.usePublicUrl,onChange:this.handlePublicUrlChange,"data-test-subj":"usePublicUrl"});const tipContent=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"share.urlPanel.publicUrlHelpText",defaultMessage:"Use public URL to share with anyone. It enables one-step anonymous access by removing the login prompt."});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{"data-test-subj":"createPublicUrl"},this.renderWithIconTip(switchComponent,tipContent))});url_panel_content_defineProperty(this,"renderUrlParamExtensions",()=>{if(!this.props.urlParamExtensions){return}const setParamValue=paramName=>(values={})=>{const stateUpdate={urlParams:{...this.state.urlParams,[paramName]:{...values}}};this.setState(stateUpdate,this.state.useShortUrl?this.createShortUrl:this.setUrl)};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,this.props.urlParamExtensions.map(({paramName:paramName,component:UrlParamComponent})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{key:paramName},external_kbnSharedDeps_React_default.a.createElement(UrlParamComponent,{setParamValue:setParamValue(paramName)}))))});this.shortUrlCache=undefined;this.state={exportUrlAs:ExportUrlAsType.EXPORT_URL_AS_SNAPSHOT,useShortUrl:false,usePublicUrl:false,isCreatingShortUrl:false,url:"",anonymousAccessParameters:null,showPublicUrlSwitch:false}}componentWillUnmount(){window.removeEventListener("hashchange",this.resetUrl);this.mounted=false}componentDidMount(){this.mounted=true;this.setUrl();window.addEventListener("hashchange",this.resetUrl,false);if(this.props.anonymousAccess){(async()=>{const anonymousAccessParameters=await this.props.anonymousAccess.getAccessURLParameters();if(!this.mounted){return}if(!anonymousAccessParameters){return}let showPublicUrlSwitch=false;if(this.props.showPublicUrlSwitch){const anonymousUserCapabilities=await this.props.anonymousAccess.getCapabilities();if(!this.mounted){return}try{showPublicUrlSwitch=this.props.showPublicUrlSwitch(anonymousUserCapabilities)}catch{showPublicUrlSwitch=false}}this.setState({anonymousAccessParameters:anonymousAccessParameters,showPublicUrlSwitch:showPublicUrlSwitch})})()}}render(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["I18nProvider"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiForm"],{className:"kbnShareContextMenu__finalPanel","data-test-subj":"shareUrlForm"},this.renderExportAsRadioGroup(),this.renderUrlParamExtensions(),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"share.urlPanel.urlGroupTitle",defaultMessage:"URL"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),this.renderShortUrlSwitch(),this.renderPublicUrlSwitch())),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCopy"],{textToCopy:this.state.url||"",anchorClassName:"eui-displayBlock"},copy=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{fill:true,fullWidth:true,onClick:copy,disabled:this.state.isCreatingShortUrl||this.state.url==="","data-share-url":this.state.url,"data-test-subj":"copyShareUrlButton",size:"s"},this.props.isEmbedded?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"share.urlPanel.copyIframeCodeButtonLabel",defaultMessage:"Copy iFrame code"}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"share.urlPanel.copyLinkButtonLabel",defaultMessage:"Copy link"})))))}}function share_context_menu_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class share_context_menu_ShareContextMenu extends external_kbnSharedDeps_React_["Component"]{constructor(...args){super(...args);share_context_menu_defineProperty(this,"getPanels",()=>{const panels=[];const menuItems=[];const permalinkPanel={id:panels.length+1,title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("share.contextMenu.permalinkPanelTitle",{defaultMessage:"Permalink"}),content:external_kbnSharedDeps_React_default.a.createElement(url_panel_content_UrlPanelContent,{allowShortUrl:this.props.allowShortUrl,objectId:this.props.objectId,objectType:this.props.objectType,basePath:this.props.basePath,post:this.props.post,shareableUrl:this.props.shareableUrl,anonymousAccess:this.props.anonymousAccess,showPublicUrlSwitch:this.props.showPublicUrlSwitch})};menuItems.push({name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("share.contextMenu.permalinksLabel",{defaultMessage:"Permalinks"}),icon:"link",panel:permalinkPanel.id,sortOrder:0});panels.push(permalinkPanel);if(this.props.allowEmbed){const embedPanel={id:panels.length+1,title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("share.contextMenu.embedCodePanelTitle",{defaultMessage:"Embed Code"}),content:external_kbnSharedDeps_React_default.a.createElement(url_panel_content_UrlPanelContent,{allowShortUrl:this.props.allowShortUrl,isEmbedded:true,objectId:this.props.objectId,objectType:this.props.objectType,basePath:this.props.basePath,post:this.props.post,shareableUrl:this.props.shareableUrl,urlParamExtensions:this.props.embedUrlParamExtensions,anonymousAccess:this.props.anonymousAccess,showPublicUrlSwitch:this.props.showPublicUrlSwitch})};panels.push(embedPanel);menuItems.push({name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("share.contextMenu.embedCodeLabel",{defaultMessage:"Embed code"}),icon:"console",panel:embedPanel.id,sortOrder:0})}this.props.shareMenuItems.forEach(({shareMenuItem:shareMenuItem,panel:panel})=>{const panelId=panels.length+1;panels.push({...panel,id:panelId});menuItems.push({...shareMenuItem,panel:panelId})});if(menuItems.length>1){const topLevelMenuPanel={id:panels.length+1,title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("share.contextMenuTitle",{defaultMessage:"Share this {objectType}",values:{objectType:this.props.objectType}}),items:menuItems.sort((a,b)=>{const aSortOrder=a.sortOrder||0;const bSortOrder=b.sortOrder||0;if(aSortOrder>bSortOrder){return 1}if(aSortOrder<bSortOrder){return-1}if(a.name.toLowerCase().localeCompare(b.name.toLowerCase())>0){return 1}return-1}).map(menuItem=>{menuItem["data-test-subj"]=`sharePanel-${menuItem.name.replace(" ","")}`;delete menuItem.sortOrder;return menuItem})};panels.push(topLevelMenuPanel)}const lastPanelIndex=panels.length-1;const initialPanelId=panels[lastPanelIndex].id;return{panels:panels,initialPanelId:initialPanelId}})}render(){const{panels:panels,initialPanelId:initialPanelId}=this.getPanels();return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["I18nProvider"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiContextMenu"],{initialPanelId:initialPanelId,panels:panels,"data-test-subj":"shareContextMenu"}))}}function share_menu_manager_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class share_menu_manager_ShareMenuManager{constructor(){share_menu_manager_defineProperty(this,"isOpen",false);share_menu_manager_defineProperty(this,"container",document.createElement("div"));share_menu_manager_defineProperty(this,"onClose",()=>{external_kbnSharedDeps_ReactDom_default.a.unmountComponentAtNode(this.container);this.isOpen=false})}start(core,shareRegistry,anonymousAccess){return{toggleShareContextMenu:options=>{const menuItems=shareRegistry.getShareMenuItems({...options,onClose:this.onClose});this.toggleShareContextMenu({...options,menuItems:menuItems,post:core.http.post,basePath:core.http.basePath.get(),anonymousAccess:anonymousAccess})}}}toggleShareContextMenu({anchorElement:anchorElement,allowEmbed:allowEmbed,allowShortUrl:allowShortUrl,objectId:objectId,objectType:objectType,sharingData:sharingData,menuItems:menuItems,shareableUrl:shareableUrl,post:post,basePath:basePath,embedUrlParamExtensions:embedUrlParamExtensions,anonymousAccess:anonymousAccess,showPublicUrlSwitch:showPublicUrlSwitch}){if(this.isOpen){this.onClose();return}this.isOpen=true;document.body.appendChild(this.container);const element=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["I18nProvider"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiWrappingPopover"],{id:"sharePopover",button:anchorElement,isOpen:true,closePopover:this.onClose,panelPaddingSize:"none",anchorPosition:"downLeft"},external_kbnSharedDeps_React_default.a.createElement(share_context_menu_ShareContextMenu,{allowEmbed:allowEmbed,allowShortUrl:allowShortUrl,objectId:objectId,objectType:objectType,shareMenuItems:menuItems,sharingData:sharingData,shareableUrl:shareableUrl,onClose:this.onClose,post:post,basePath:basePath,embedUrlParamExtensions:embedUrlParamExtensions,anonymousAccess:anonymousAccess,showPublicUrlSwitch:showPublicUrlSwitch})));external_kbnSharedDeps_ReactDom_default.a.render(element,this.container)}}const createShortUrlRedirectApp=(core,location)=>({id:"short_url_redirect",appRoute:GOTO_PREFIX,chromeless:true,title:"Short URL Redirect",async mount(){const urlId=getUrlIdFromGotoRoute(location.pathname);if(!urlId){throw new Error("Url id not present in path")}const response=await core.http.get(getUrlPath(urlId));const redirectUrl=response.url;const{hashUrl:hashUrl}=await Promise.resolve().then(__webpack_require__.t.bind(null,40,7));const hashedUrl=hashUrl(redirectUrl);const url=core.http.basePath.prepend(hashedUrl);location.href=url;return()=>{}}});var url_generator_service=__webpack_require__(10);function plugin_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class plugin_SharePlugin{constructor(){plugin_defineProperty(this,"shareMenuRegistry",new ShareMenuRegistry);plugin_defineProperty(this,"shareContextMenu",new share_menu_manager_ShareMenuManager);plugin_defineProperty(this,"urlGeneratorsService",new url_generator_service["a"])}setup(core,plugins){core.application.register(createShortUrlRedirectApp(core,window.location));return{...this.shareMenuRegistry.setup(),urlGenerators:this.urlGeneratorsService.setup(core)}}start(core,plugins){var _plugins$securityOss;return{...this.shareContextMenu.start(core,this.shareMenuRegistry.start(),(_plugins$securityOss=plugins.securityOss)===null||_plugins$securityOss===void 0?void 0:_plugins$securityOss.anonymousAccess),urlGenerators:this.urlGeneratorsService.start(core)}}}var types=__webpack_require__(5);var url_generators=__webpack_require__(6);function kibana_url_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class KibanaURL{constructor(path){kibana_url_defineProperty(this,"path",void 0);kibana_url_defineProperty(this,"appName",void 0);kibana_url_defineProperty(this,"appPath",void 0);const match=path.match(/^.*\/app\/([^\/#]+)(.+)$/);if(!match){throw new Error("Unexpected URL path.")}const[,appName,appPath]=match;if(!appName||!appPath){throw new Error("Could not parse URL path.")}this.path=path;this.appName=appName;this.appPath=appPath}}var file_saver=__webpack_require__(13);var p_map=__webpack_require__(14);var p_map_default=__webpack_require__.n(p_map);function downloadFileAs(filename,payload){return downloadMultipleAs({[filename]:payload})}async function downloadMultipleAs(files){const filenames=Object.keys(files);const downloadQueue=filenames.map((filename,i)=>{const payload=files[filename];const blob=payload instanceof Blob?payload:new Blob([payload.content],{type:payload.type});return()=>Promise.resolve().then(()=>Object(file_saver["saveAs"])(blob,filename))});await p_map_default()(downloadQueue,downloadFn=>Promise.all([downloadFn(),wait(50)]),{concurrency:1})}function wait(ms){return new Promise(resolve=>setTimeout(resolve,ms))}const public_plugin=()=>new plugin_SharePlugin},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))}]);