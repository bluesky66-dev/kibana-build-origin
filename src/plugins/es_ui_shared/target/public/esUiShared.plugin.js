(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=39)})([function(module,exports){module.exports=__kbnSharedDeps__.React},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEui},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18n},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _hooks__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7);__webpack_require__.d(__webpack_exports__,"useForm",(function(){return _hooks__WEBPACK_IMPORTED_MODULE_0__["b"]}));__webpack_require__.d(__webpack_exports__,"useFormData",(function(){return _hooks__WEBPACK_IMPORTED_MODULE_0__["c"]}));var _helpers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(17);__webpack_require__.d(__webpack_exports__,"getFieldValidityAndErrorMessage",(function(){return _helpers__WEBPACK_IMPORTED_MODULE_1__["a"]}));var _form_context__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8);__webpack_require__.d(__webpack_exports__,"FormProvider",(function(){return _form_context__WEBPACK_IMPORTED_MODULE_2__["a"]}));__webpack_require__.d(__webpack_exports__,"useFormContext",(function(){return _form_context__WEBPACK_IMPORTED_MODULE_2__["b"]}));var _components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(35);__webpack_require__.d(__webpack_exports__,"Form",(function(){return _components__WEBPACK_IMPORTED_MODULE_3__["a"]}));__webpack_require__.d(__webpack_exports__,"UseField",(function(){return _components__WEBPACK_IMPORTED_MODULE_3__["d"]}));__webpack_require__.d(__webpack_exports__,"getUseField",(function(){return _components__WEBPACK_IMPORTED_MODULE_3__["f"]}));__webpack_require__.d(__webpack_exports__,"UseMultiFields",(function(){return _components__WEBPACK_IMPORTED_MODULE_3__["e"]}));__webpack_require__.d(__webpack_exports__,"UseArray",(function(){return _components__WEBPACK_IMPORTED_MODULE_3__["c"]}));__webpack_require__.d(__webpack_exports__,"FormDataProvider",(function(){return _components__WEBPACK_IMPORTED_MODULE_3__["b"]}));var _constants__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6);__webpack_require__.d(__webpack_exports__,"FIELD_TYPES",(function(){return _constants__WEBPACK_IMPORTED_MODULE_4__["a"]}));__webpack_require__.d(__webpack_exports__,"VALIDATION_TYPES",(function(){return _constants__WEBPACK_IMPORTED_MODULE_4__["b"]}));var _types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(32);var _types__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_types__WEBPACK_IMPORTED_MODULE_5__);for(var __WEBPACK_IMPORT_KEY__ in _types__WEBPACK_IMPORTED_MODULE_5__)if(["default","useForm","useFormData","getFieldValidityAndErrorMessage","FormProvider","useFormContext","Form","UseField","getUseField","UseMultiFields","UseArray","FormDataProvider","FIELD_TYPES","VALIDATION_TYPES"].indexOf(__WEBPACK_IMPORT_KEY__)<0)(function(key){__webpack_require__.d(__webpack_exports__,key,(function(){return _types__WEBPACK_IMPORTED_MODULE_5__[key]}))})(__WEBPACK_IMPORT_KEY__)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"containsChars",(function(){return containsChars}));__webpack_require__.d(__webpack_exports__,"endsWith",(function(){return endsWith}));__webpack_require__.d(__webpack_exports__,"hasMaxLengthString",(function(){return hasMaxLengthString}));__webpack_require__.d(__webpack_exports__,"hasMinLengthString",(function(){return hasMinLengthString}));__webpack_require__.d(__webpack_exports__,"isEmptyString",(function(){return isEmptyString}));__webpack_require__.d(__webpack_exports__,"isUrl",(function(){return isUrl}));__webpack_require__.d(__webpack_exports__,"startsWith",(function(){return startsWith}));__webpack_require__.d(__webpack_exports__,"isJSON",(function(){return isJSON}));__webpack_require__.d(__webpack_exports__,"isLowerCaseString",(function(){return isLowerCaseString}));const containsChars=chars=>value=>{const charToArray=Array.isArray(chars)?chars:[chars];const charsFound=charToArray.reduce((acc,char)=>value.includes(char)?[...acc,char]:acc,[]);return{charsFound:charsFound,doesContain:charsFound.length>0}};const endsWith=char=>value=>value.endsWith(char);const hasMaxLengthString=length=>str=>str.length<=length;const hasMinLengthString=length=>str=>str.length>=length;const isEmptyString=value=>value.trim()==="";const protocolAndDomainRE=/^(?:\w+:)?\/\/(\S+)$/;const localhostDomainRE=/^localhost[\:?\d]*(?:[^\:?\d]\S*)?$/;const nonLocalhostDomainRE=/^[^\s\.]+\.\S{2,}$/;const isUrl=string=>{if(typeof string!=="string"){return false}const match=string.match(protocolAndDomainRE);if(!match){return false}const everythingAfterProtocol=match[1];if(!everythingAfterProtocol){return false}if(localhostDomainRE.test(everythingAfterProtocol)||nonLocalhostDomainRE.test(everythingAfterProtocol)){return true}return false};const startsWith=char=>value=>value.startsWith(char);const isJSON=value=>{try{const parsedJSON=JSON.parse(value);if(parsedJSON&&typeof parsedJSON!=="object"){return false}return true}catch(e){return false}};const isLowerCaseString=value=>value.toLowerCase()===value},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nReact},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FIELD_TYPES}));__webpack_require__.d(__webpack_exports__,"b",(function(){return VALIDATION_TYPES}));const FIELD_TYPES={TEXT:"text",TEXTAREA:"textarea",NUMBER:"number",TOGGLE:"toggle",CHECKBOX:"checkbox",COMBO_BOX:"comboBox",RADIO_GROUP:"radioGroup",RANGE:"range",SELECT:"select",SUPER_SELECT:"superSelect",MULTI_SELECT:"multiSelect",JSON:"json"};const VALIDATION_TYPES={FIELD:"field",ASYNC:"async",ARRAY_ITEM:"arrayItem"}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useField}));__webpack_require__.d(__webpack_exports__,"b",(function(){return useForm}));__webpack_require__.d(__webpack_exports__,"c",(function(){return useFormData}));var external_kbnSharedDeps_React_=__webpack_require__(0);var constants=__webpack_require__(6);const useField=(form,path,config={},valueChangeListener,errorChangeListener)=>{var _config$defaultValue;const{type:type=constants["a"].TEXT,defaultValue:defaultValue="",initialValue:initialValue=((_config$defaultValue=config.defaultValue)!==null&&_config$defaultValue!==void 0?_config$defaultValue:""),isIncludedInOutput:isIncludedInOutput=true,label:label="",labelAppend:labelAppend="",helpText:helpText="",validations:validations,formatters:formatters,fieldsToValidateOnChange:fieldsToValidateOnChange,valueChangeDebounceTime:valueChangeDebounceTime=form.__options.valueChangeDebounceTime,serializer:serializer,deserializer:deserializer}=config;const{getFormData:getFormData,getFields:getFields,__addField:__addField,__removeField:__removeField,__updateFormDataAt:__updateFormDataAt,__validateFields:__validateFields,__getFormData$:__getFormData$}=form;const deserializeValue=Object(external_kbnSharedDeps_React_["useCallback"])((rawValue=initialValue)=>{if(typeof rawValue==="function"){return deserializer?deserializer(rawValue()):rawValue()}return deserializer?deserializer(rawValue):rawValue},[initialValue,deserializer]);const[value,setStateValue]=Object(external_kbnSharedDeps_React_["useState"])(deserializeValue);const[errors,setStateErrors]=Object(external_kbnSharedDeps_React_["useState"])([]);const[isPristine,setPristine]=Object(external_kbnSharedDeps_React_["useState"])(true);const[isValidating,setValidating]=Object(external_kbnSharedDeps_React_["useState"])(false);const[isChangingValue,setIsChangingValue]=Object(external_kbnSharedDeps_React_["useState"])(false);const[isValidated,setIsValidated]=Object(external_kbnSharedDeps_React_["useState"])(false);const isMounted=Object(external_kbnSharedDeps_React_["useRef"])(false);const validateCounter=Object(external_kbnSharedDeps_React_["useRef"])(0);const changeCounter=Object(external_kbnSharedDeps_React_["useRef"])(0);const hasBeenReset=Object(external_kbnSharedDeps_React_["useRef"])(false);const inflightValidation=Object(external_kbnSharedDeps_React_["useRef"])(null);const debounceTimeout=Object(external_kbnSharedDeps_React_["useRef"])(null);const filterErrors=(_errors,validationTypeToFilterOut=constants["b"].FIELD)=>{const validationTypeToArray=Array.isArray(validationTypeToFilterOut)?validationTypeToFilterOut:[validationTypeToFilterOut];return _errors.filter(error=>validationTypeToArray.every(_type=>error.validationType!==_type))};const formatInputValue=Object(external_kbnSharedDeps_React_["useCallback"])(inputValue=>{const isEmptyString=typeof inputValue==="string"&&inputValue.trim()==="";if(isEmptyString||!formatters){return inputValue}const formData=__getFormData$().value;return formatters.reduce((output,formatter)=>formatter(output,formData),inputValue)},[formatters,__getFormData$]);const onValueChange=Object(external_kbnSharedDeps_React_["useCallback"])(async()=>{const changeIteration=++changeCounter.current;const startTime=Date.now();setPristine(false);setIsChangingValue(true);if(valueChangeListener){valueChangeListener(value)}__updateFormDataAt(path,value);await __validateFields(fieldsToValidateOnChange!==null&&fieldsToValidateOnChange!==void 0?fieldsToValidateOnChange:[path]);if(isMounted.current===false){return}if(changeIteration===changeCounter.current){if(valueChangeDebounceTime>0){const timeElapsed=Date.now()-startTime;if(timeElapsed<valueChangeDebounceTime){const timeLeftToWait=valueChangeDebounceTime-timeElapsed;debounceTimeout.current=setTimeout(()=>{debounceTimeout.current=null;setIsChangingValue(false)},timeLeftToWait);return}}setIsChangingValue(false)}},[path,value,valueChangeListener,valueChangeDebounceTime,fieldsToValidateOnChange,__updateFormDataAt,__validateFields]);const cancelInflightValidation=Object(external_kbnSharedDeps_React_["useCallback"])(()=>{if(inflightValidation.current&&typeof inflightValidation.current.cancel==="function"){inflightValidation.current.cancel();inflightValidation.current=null}},[]);const runValidations=Object(external_kbnSharedDeps_React_["useCallback"])(({formData:formData,value:valueToValidate,validationTypeToValidate:validationTypeToValidate},clearFieldErrors)=>{if(!validations){return[]}clearFieldErrors([constants["b"].FIELD,constants["b"].ASYNC]);cancelInflightValidation();const runAsync=async()=>{const validationErrors=[];for(const validation of validations){var _validationResult$__i;inflightValidation.current=null;const{validator:validator,exitOnFail:exitOnFail=true,type:validationType=constants["b"].FIELD}=validation;if(typeof validationTypeToValidate!=="undefined"&&validationType!==validationTypeToValidate){continue}inflightValidation.current=validator({value:valueToValidate,errors:validationErrors,form:{getFormData:getFormData,getFields:getFields},formData:formData,path:path});const validationResult=await inflightValidation.current;if(!validationResult){continue}validationErrors.push({...validationResult,__isBlocking__:(_validationResult$__i=validationResult.__isBlocking__)!==null&&_validationResult$__i!==void 0?_validationResult$__i:validation.isBlocking,validationType:validationType||constants["b"].FIELD});if(exitOnFail){break}}return validationErrors};const runSync=()=>{const validationErrors=[];for(const validation of validations){var _isBlocking__;const{validator:validator,exitOnFail:exitOnFail=true,type:validationType=constants["b"].FIELD}=validation;if(typeof validationTypeToValidate!=="undefined"&&validationType!==validationTypeToValidate){continue}const validationResult=validator({value:valueToValidate,errors:validationErrors,form:{getFormData:getFormData,getFields:getFields},formData:formData,path:path});if(!validationResult){continue}if(!!validationResult.then){inflightValidation.current=validationResult;cancelInflightValidation();return runAsync()}validationErrors.push({...validationResult,__isBlocking__:(_isBlocking__=validationResult.__isBlocking__)!==null&&_isBlocking__!==void 0?_isBlocking__:validation.isBlocking,validationType:validationType||constants["b"].FIELD});if(exitOnFail){break}}return validationErrors};return runSync()},[cancelInflightValidation,validations,getFormData,getFields,path]);const serializeValue=Object(external_kbnSharedDeps_React_["useCallback"])((internalValue=value)=>serializer?serializer(internalValue):internalValue,[serializer,value]);const clearErrors=Object(external_kbnSharedDeps_React_["useCallback"])((validationType=constants["b"].FIELD)=>{setStateErrors(previousErrors=>filterErrors(previousErrors,validationType))},[]);const validate=Object(external_kbnSharedDeps_React_["useCallback"])((validationData={})=>{const{formData:formData=__getFormData$().value,value:valueToValidate=value,validationType:validationType}=validationData;setIsValidated(true);setValidating(true);const validateIteration=++validateCounter.current;const onValidationResult=_validationErrors=>{if(validateIteration===validateCounter.current){setValidating(false);setStateErrors(prev=>{const filteredErrors=filterErrors(prev,validationType);return[...filteredErrors,..._validationErrors]})}return{isValid:_validationErrors.length===0,errors:_validationErrors}};const validationErrors=runValidations({formData:formData,value:valueToValidate,validationTypeToValidate:validationType},clearErrors);if(Reflect.has(validationErrors,"then")){return validationErrors.then(onValidationResult)}return onValidationResult(validationErrors)},[__getFormData$,value,runValidations,clearErrors]);const setValue=Object(external_kbnSharedDeps_React_["useCallback"])(newValue=>{setStateValue(prev=>{let formattedValue;if(typeof newValue==="function"){formattedValue=formatInputValue(newValue(prev))}else{formattedValue=formatInputValue(newValue)}return formattedValue})},[formatInputValue]);const setErrors=Object(external_kbnSharedDeps_React_["useCallback"])(_errors=>{setStateErrors(_errors.map(error=>({validationType:constants["b"].FIELD,__isBlocking__:true,...error})))},[]);const onChange=Object(external_kbnSharedDeps_React_["useCallback"])(event=>{const newValue={}.hasOwnProperty.call(event.target,"checked")?event.target.checked:event.target.value;setValue(newValue)},[setValue]);const getErrorsMessages=Object(external_kbnSharedDeps_React_["useCallback"])((args={})=>{const{errorCode:errorCode,validationType:validationType=constants["b"].FIELD}=args;const errorMessages=errors.reduce((messages,error)=>{const isSameErrorCode=errorCode&&error.code===errorCode;const isSamevalidationType=error.validationType===validationType||validationType===constants["b"].FIELD&&!{}.hasOwnProperty.call(error,"validationType");if(isSameErrorCode||typeof errorCode==="undefined"&&isSamevalidationType){return messages?`${messages}, ${error.message}`:error.message}return messages},"");return errorMessages?errorMessages:null},[errors]);const updateStateIfMounted=Object(external_kbnSharedDeps_React_["useCallback"])((state,nextValue)=>{if(isMounted.current===false){return}switch(state){case"value":return setValue(nextValue);case"errors":return setStateErrors(nextValue);case"isChangingValue":return setIsChangingValue(nextValue);case"isPristine":return setPristine(nextValue);case"isValidated":return setIsValidated(nextValue);case"isValidating":return setValidating(nextValue)}},[setValue]);const reset=Object(external_kbnSharedDeps_React_["useCallback"])((resetOptions={resetValue:true})=>{const{resetValue:resetValue=true,defaultValue:updatedDefaultValue}=resetOptions;updateStateIfMounted("isPristine",true);updateStateIfMounted("isValidating",false);updateStateIfMounted("isChangingValue",false);updateStateIfMounted("isValidated",false);updateStateIfMounted("errors",[]);if(resetValue){hasBeenReset.current=true;const newValue=deserializeValue(updatedDefaultValue!==null&&updatedDefaultValue!==void 0?updatedDefaultValue:defaultValue);updateStateIfMounted("value",newValue);return newValue}},[updateStateIfMounted,deserializeValue,defaultValue]);const isValid=errors.filter(e=>e.__isBlocking__!==false).length===0;const field=Object(external_kbnSharedDeps_React_["useMemo"])(()=>({path:path,type:type,label:label,labelAppend:labelAppend,helpText:helpText,value:value,errors:errors,isPristine:isPristine,isValid:isValid,isValidating:isValidating,isValidated:isValidated,isChangingValue:isChangingValue,onChange:onChange,getErrorsMessages:getErrorsMessages,setValue:setValue,setErrors:setErrors,clearErrors:clearErrors,validate:validate,reset:reset,__isIncludedInOutput:isIncludedInOutput,__serializeValue:serializeValue}),[path,type,label,labelAppend,helpText,value,isPristine,errors,isValid,isValidating,isValidated,isChangingValue,isIncludedInOutput,onChange,getErrorsMessages,setValue,setErrors,clearErrors,validate,reset,serializeValue]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{__addField(field)},[field,__addField]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>()=>{__removeField(path)},[path,__removeField]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(hasBeenReset.current){hasBeenReset.current=false;return}if(!isMounted.current){return}onValueChange();return()=>{if(debounceTimeout.current){clearTimeout(debounceTimeout.current);debounceTimeout.current=null}}},[onValueChange]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(!isMounted.current){return}if(errorChangeListener){errorChangeListener(errors.length?errors.map(error=>error.message):null)}},[errors,errorChangeListener]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{isMounted.current=true;return()=>{isMounted.current=false}},[]);return field};var external_kbnSharedDeps_Lodash_=__webpack_require__(9);var elastic_safer_lodash_set=__webpack_require__(18);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class Subject{constructor(value){_defineProperty(this,"callbacks",new Set);_defineProperty(this,"value",void 0);this.value=value}subscribe(fn){this.callbacks.add(fn);fn(this.value);const unsubscribe=()=>this.callbacks.delete(fn);return{unsubscribe:unsubscribe}}next(value){if(value!==this.value){this.value=value;this.callbacks.forEach(fn=>fn(value))}}}const unflattenObject=object=>Object.entries(object).reduce((acc,[key,value])=>{Object(elastic_safer_lodash_set["set"])(acc,key,value);return acc},{});const mapFormFields=(formFields,fn)=>Object.entries(formFields).reduce((acc,[key,field])=>{acc[key]=fn(field);return acc},{});const DEFAULT_OPTIONS={valueChangeDebounceTime:500,stripEmptyFields:true};function useForm(formConfig){const{onSubmit:onSubmit,schema:schema,serializer:serializer,deserializer:deserializer,options:options,id:id="default",defaultValue:defaultValue}=formConfig!==null&&formConfig!==void 0?formConfig:{};const initDefaultValue=Object(external_kbnSharedDeps_React_["useCallback"])(_defaultValue=>{if(_defaultValue===undefined||Object.keys(_defaultValue).length===0){return{}}const filtered=Object.entries(_defaultValue).filter(({1:value})=>value!==undefined).reduce((acc,[key,value])=>({...acc,[key]:value}),{});return deserializer?deserializer(filtered):filtered},[deserializer]);const defaultValueMemoized=Object(external_kbnSharedDeps_React_["useMemo"])(()=>initDefaultValue(defaultValue),[defaultValue,initDefaultValue]);const{valueChangeDebounceTime:valueChangeDebounceTime,stripEmptyFields:doStripEmptyFields}=options!==null&&options!==void 0?options:{};const formOptions=Object(external_kbnSharedDeps_React_["useMemo"])(()=>({stripEmptyFields:doStripEmptyFields!==null&&doStripEmptyFields!==void 0?doStripEmptyFields:DEFAULT_OPTIONS.stripEmptyFields,valueChangeDebounceTime:valueChangeDebounceTime!==null&&valueChangeDebounceTime!==void 0?valueChangeDebounceTime:DEFAULT_OPTIONS.valueChangeDebounceTime}),[valueChangeDebounceTime,doStripEmptyFields]);const[isSubmitted,setIsSubmitted]=Object(external_kbnSharedDeps_React_["useState"])(false);const[isSubmitting,setSubmitting]=Object(external_kbnSharedDeps_React_["useState"])(false);const[isValid,setIsValid]=Object(external_kbnSharedDeps_React_["useState"])(undefined);const fieldsRefs=Object(external_kbnSharedDeps_React_["useRef"])({});const formUpdateSubscribers=Object(external_kbnSharedDeps_React_["useRef"])([]);const isMounted=Object(external_kbnSharedDeps_React_["useRef"])(false);const defaultValueDeserialized=Object(external_kbnSharedDeps_React_["useRef"])(defaultValueMemoized);const formData$=Object(external_kbnSharedDeps_React_["useRef"])(null);const getFormData$=Object(external_kbnSharedDeps_React_["useCallback"])(()=>{if(formData$.current===null){formData$.current=new Subject({})}return formData$.current},[]);const updateFormData$=Object(external_kbnSharedDeps_React_["useCallback"])(nextValue=>{getFormData$().next(nextValue)},[getFormData$]);const fieldsToArray=Object(external_kbnSharedDeps_React_["useCallback"])(()=>Object.values(fieldsRefs.current),[]);const getFieldsForOutput=Object(external_kbnSharedDeps_React_["useCallback"])((fields,opts)=>Object.entries(fields).reduce((acc,[key,field])=>{if(!field.__isIncludedInOutput){return acc}if(opts.stripEmptyFields){const isFieldEmpty=typeof field.value==="string"&&field.value.trim()==="";if(isFieldEmpty){return acc}}acc[key]=field;return acc},{}),[]);const updateFormDataAt=Object(external_kbnSharedDeps_React_["useCallback"])((path,value)=>{const currentFormData=getFormData$().value;if(currentFormData[path]!==value){updateFormData$({...currentFormData,[path]:value})}},[getFormData$,updateFormData$]);const updateDefaultValueAt=Object(external_kbnSharedDeps_React_["useCallback"])((path,value)=>{Object(elastic_safer_lodash_set["set"])(defaultValueDeserialized.current,path,value)},[]);const isFieldValid=field=>field.isValid&&!field.isValidating;const waitForFieldsToFinishValidating=Object(external_kbnSharedDeps_React_["useCallback"])(async()=>{let areSomeFieldValidating=fieldsToArray().some(field=>field.isValidating);if(!areSomeFieldValidating){return}return new Promise(resolve=>{setTimeout(()=>{areSomeFieldValidating=fieldsToArray().some(field=>field.isValidating);if(areSomeFieldValidating){return waitForFieldsToFinishValidating().then(resolve)}resolve()},100)})},[fieldsToArray]);const validateFields=Object(external_kbnSharedDeps_React_["useCallback"])(async fieldNames=>{const fieldsToValidate=fieldNames.map(name=>fieldsRefs.current[name]).filter(field=>field!==undefined);const formData=getFormData$().value;const validationResult=await Promise.all(fieldsToValidate.map(field=>field.validate({formData:formData})));if(isMounted.current===false){return{areFieldsValid:true,isFormValid:true}}const areFieldsValid=validationResult.every(Boolean);const validationResultByPath=fieldsToValidate.reduce((acc,field,i)=>{acc[field.path]=validationResult[i].isValid;return acc},{});const formFieldsValidity=fieldsToArray().map(field=>{var _validationResultByPa;const hasUpdatedValidity=validationResultByPath[field.path]!==undefined;const _isValid=(_validationResultByPa=validationResultByPath[field.path])!==null&&_validationResultByPa!==void 0?_validationResultByPa:field.isValid;const _isValidated=hasUpdatedValidity?true:field.isValidated;const _isValidating=hasUpdatedValidity?false:field.isValidating;return{isValid:_isValid,isValidated:_isValidated,isValidating:_isValidating}});const areAllFieldsValidated=formFieldsValidity.every(field=>field.isValidated);const areSomeFieldValidating=formFieldsValidity.some(field=>field.isValidating);const isFormValid=areAllFieldsValidated&&areSomeFieldValidating===false?formFieldsValidity.every(field=>field.isValid):undefined;setIsValid(isFormValid);return{areFieldsValid:areFieldsValid,isFormValid:isFormValid}},[getFormData$,fieldsToArray]);const addField=Object(external_kbnSharedDeps_React_["useCallback"])(field=>{fieldsRefs.current[field.path]=field;updateFormDataAt(field.path,field.value);if(!field.isValidated){setIsValid(undefined);setIsSubmitted(false)}},[updateFormDataAt]);const removeField=Object(external_kbnSharedDeps_React_["useCallback"])(_fieldNames=>{const fieldNames=Array.isArray(_fieldNames)?_fieldNames:[_fieldNames];const currentFormData={...getFormData$().value};fieldNames.forEach(name=>{delete fieldsRefs.current[name];delete currentFormData[name]});updateFormData$(currentFormData);setIsValid(prev=>{if(prev===false){const isFormValid=fieldsToArray().every(isFieldValid);return isFormValid}return prev})},[getFormData$,updateFormData$,fieldsToArray]);const getFieldDefaultValue=Object(external_kbnSharedDeps_React_["useCallback"])(fieldName=>Object(external_kbnSharedDeps_Lodash_["get"])(defaultValueDeserialized.current,fieldName),[]);const readFieldConfigFromSchema=Object(external_kbnSharedDeps_React_["useCallback"])(fieldName=>{const config=Object(external_kbnSharedDeps_Lodash_["get"])(schema!==null&&schema!==void 0?schema:{},fieldName)||{};return config},[schema]);const getFormData=Object(external_kbnSharedDeps_React_["useCallback"])(()=>{const fieldsToOutput=getFieldsForOutput(fieldsRefs.current,{stripEmptyFields:formOptions.stripEmptyFields});const fieldsValue=mapFormFields(fieldsToOutput,field=>field.__serializeValue());return serializer?serializer(unflattenObject(fieldsValue)):unflattenObject(fieldsValue)},[getFieldsForOutput,formOptions.stripEmptyFields,serializer]);const getErrors=Object(external_kbnSharedDeps_React_["useCallback"])(()=>{if(isValid===true){return[]}return fieldsToArray().reduce((acc,field)=>{const fieldError=field.getErrorsMessages();if(fieldError===null){return acc}return[...acc,fieldError]},[])},[isValid,fieldsToArray]);const validate=Object(external_kbnSharedDeps_React_["useCallback"])(async()=>{await waitForFieldsToFinishValidating();if(!isMounted.current){return false}const fieldsArray=fieldsToArray();const fieldsToValidate=fieldsArray.filter(field=>!field.isValidated);let isFormValid;if(fieldsToValidate.length===0){isFormValid=fieldsArray.every(isFieldValid)}else{({isFormValid:isFormValid}=await validateFields(fieldsToValidate.map(field=>field.path)))}setIsValid(isFormValid);return isFormValid},[fieldsToArray,validateFields,waitForFieldsToFinishValidating]);const setFieldValue=Object(external_kbnSharedDeps_React_["useCallback"])((fieldName,value)=>{if(fieldsRefs.current[fieldName]===undefined){return}fieldsRefs.current[fieldName].setValue(value)},[]);const setFieldErrors=Object(external_kbnSharedDeps_React_["useCallback"])((fieldName,errors)=>{if(fieldsRefs.current[fieldName]===undefined){return}fieldsRefs.current[fieldName].setErrors(errors)},[]);const getFields=Object(external_kbnSharedDeps_React_["useCallback"])(()=>fieldsRefs.current,[]);const submit=Object(external_kbnSharedDeps_React_["useCallback"])(async e=>{if(e){e.preventDefault()}setIsSubmitted(true);setSubmitting(true);const isFormValid=await validate();const formData=isFormValid?getFormData():{};if(onSubmit){await onSubmit(formData,isFormValid)}if(isMounted.current){setSubmitting(false)}return{data:formData,isValid:isFormValid}},[validate,getFormData,onSubmit]);const subscribe=Object(external_kbnSharedDeps_React_["useCallback"])(handler=>{const subscription=getFormData$().subscribe(raw=>{handler({isValid:isValid,data:{internal:unflattenObject(raw),format:getFormData},validate:validate})});formUpdateSubscribers.current.push(subscription);return{unsubscribe(){formUpdateSubscribers.current=formUpdateSubscribers.current.filter(sub=>sub!==subscription);return subscription.unsubscribe()}}},[getFormData$,isValid,getFormData,validate]);const reset=Object(external_kbnSharedDeps_React_["useCallback"])((resetOptions={resetValues:true})=>{const{resetValues:resetValues=true,defaultValue:updatedDefaultValue}=resetOptions;const currentFormData={...getFormData$().value};if(updatedDefaultValue){defaultValueDeserialized.current=initDefaultValue(updatedDefaultValue)}Object.entries(fieldsRefs.current).forEach(([path,field])=>{const isFieldMounted=fieldsRefs.current[path]!==undefined;if(isFieldMounted){const fieldDefaultValue=getFieldDefaultValue(path);field.reset({resetValue:resetValues,defaultValue:fieldDefaultValue});currentFormData[path]=fieldDefaultValue}});if(resetValues){updateFormData$(currentFormData)}setIsSubmitted(false);setSubmitting(false);setIsValid(undefined)},[getFormData$,updateFormData$,initDefaultValue,getFieldDefaultValue]);const form=Object(external_kbnSharedDeps_React_["useMemo"])(()=>({isSubmitted:isSubmitted,isSubmitting:isSubmitting,isValid:isValid,id:id,submit:submit,validate:validate,subscribe:subscribe,setFieldValue:setFieldValue,setFieldErrors:setFieldErrors,getFields:getFields,getFormData:getFormData,getErrors:getErrors,reset:reset,__options:formOptions,__getFormData$:getFormData$,__updateFormDataAt:updateFormDataAt,__updateDefaultValueAt:updateDefaultValueAt,__readFieldConfigFromSchema:readFieldConfigFromSchema,__getFieldDefaultValue:getFieldDefaultValue,__addField:addField,__removeField:removeField,__validateFields:validateFields}),[isSubmitted,isSubmitting,isValid,id,submit,subscribe,setFieldValue,setFieldErrors,getFields,getFormData,getErrors,getFieldDefaultValue,reset,formOptions,getFormData$,updateFormDataAt,updateDefaultValueAt,readFieldConfigFromSchema,addField,removeField,validateFields,validate]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(!isMounted.current){return}defaultValueDeserialized.current=defaultValueMemoized},[defaultValueMemoized]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{isMounted.current=true;return()=>{isMounted.current=false;formUpdateSubscribers.current.forEach(subscription=>subscription.unsubscribe());formUpdateSubscribers.current=[]}},[]);return{form:form}}var form_data_context=__webpack_require__(19);const useFormData=(options={})=>{const{watch:watch,form:form}=options;const ctx=Object(form_data_context["b"])();let getFormData;let getFormData$;if(form!==undefined){getFormData=form.getFormData;getFormData$=form.__getFormData$}else if(ctx!==undefined){({getFormData:getFormData,getFormData$:getFormData$}=ctx)}else{throw new Error("useFormData() must be used within a <FormDataContextProvider /> or you need to pass FormHook object in the options.")}const initialValue=getFormData$().value;const previousRawData=Object(external_kbnSharedDeps_React_["useRef"])(initialValue);const isMounted=Object(external_kbnSharedDeps_React_["useRef"])(false);const[formData,setFormData]=Object(external_kbnSharedDeps_React_["useState"])(()=>unflattenObject(previousRawData.current));const serializer=Object(external_kbnSharedDeps_React_["useCallback"])(()=>getFormData(),[getFormData,formData]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{const subscription=getFormData$().subscribe(raw=>{if(!isMounted.current&&Object.keys(raw).length===0){return}if(watch){const pathsToWatchArray=Array.isArray(watch)?watch:[watch];if(pathsToWatchArray.some(path=>previousRawData.current[path]!==raw[path])){previousRawData.current=raw;setFormData(unflattenObject(raw))}}else{setFormData(unflattenObject(raw))}});return subscription.unsubscribe},[getFormData$,watch]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{isMounted.current=true;return()=>{isMounted.current=false}},[]);if(!isMounted.current&&Object.keys(formData).length===0){return[formData,serializer,false]}return[formData,serializer,true]}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FormProvider}));__webpack_require__.d(__webpack_exports__,"b",(function(){return useFormContext}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);const FormContext=Object(react__WEBPACK_IMPORTED_MODULE_0__["createContext"])(undefined);const FormProvider=({children:children,form:form})=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FormContext.Provider,{value:form},children);const useFormContext=function(){const context=Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(FormContext);if(context===undefined){throw new Error("useFormContext must be used within a <FormProvider />")}return context}},function(module,exports){module.exports=__kbnSharedDeps__.Lodash},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/data/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"JsonEditor",(function(){return JsonEditor}));__webpack_require__.d(__webpack_exports__,"OnJsonEditorUpdateHandler",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"JsonEditorState",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SectionLoading",(function(){return SectionLoading}));__webpack_require__.d(__webpack_exports__,"Frequency",(function(){return types["Frequency"]}));__webpack_require__.d(__webpack_exports__,"CronEditor",(function(){return cron_editor_CronEditor}));__webpack_require__.d(__webpack_exports__,"SendRequestConfig",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"SendRequestResponse",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"UseRequestConfig",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"UseRequestResponse",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"sendRequest",(function(){return sendRequest}));__webpack_require__.d(__webpack_exports__,"useRequest",(function(){return useRequest}));__webpack_require__.d(__webpack_exports__,"indices",(function(){return indices}));__webpack_require__.d(__webpack_exports__,"AuthorizationContext",(function(){return AuthorizationContext}));__webpack_require__.d(__webpack_exports__,"AuthorizationProvider",(function(){return AuthorizationProvider}));__webpack_require__.d(__webpack_exports__,"NotAuthorizedSection",(function(){return NotAuthorizedSection}));__webpack_require__.d(__webpack_exports__,"WithPrivileges",(function(){return WithPrivileges}));__webpack_require__.d(__webpack_exports__,"Privileges",(function(){return authorization_types["Privileges"]}));__webpack_require__.d(__webpack_exports__,"MissingPrivileges",(function(){return authorization_types["MissingPrivileges"]}));__webpack_require__.d(__webpack_exports__,"SectionError",(function(){return SectionError}));__webpack_require__.d(__webpack_exports__,"Error",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"useAuthorizationContext",(function(){return useAuthorizationContext}));__webpack_require__.d(__webpack_exports__,"Forms",(function(){return forms_namespaceObject}));__webpack_require__.d(__webpack_exports__,"ace",(function(){return public_ace_namespaceObject}));__webpack_require__.d(__webpack_exports__,"GlobalFlyout",(function(){return public_global_flyout_namespaceObject}));__webpack_require__.d(__webpack_exports__,"XJson",(function(){return public_xjson_namespaceObject}));__webpack_require__.d(__webpack_exports__,"extractQueryParams",(function(){return extractQueryParams}));__webpack_require__.d(__webpack_exports__,"attemptToURIDecode",(function(){return attemptToURIDecode}));__webpack_require__.d(__webpack_exports__,"plugin",(function(){return public_plugin}));var forms_namespaceObject={};__webpack_require__.r(forms_namespaceObject);__webpack_require__.d(forms_namespaceObject,"FormWizard",(function(){return FormWizard}));__webpack_require__.d(forms_namespaceObject,"FormWizardStep",(function(){return FormWizardStep}));__webpack_require__.d(forms_namespaceObject,"FormWizardProvider",(function(){return form_wizard_context_FormWizardProvider}));__webpack_require__.d(forms_namespaceObject,"FormWizardConsumer",(function(){return FormWizardConsumer}));__webpack_require__.d(forms_namespaceObject,"useFormWizardContext",(function(){return useFormWizardContext}));__webpack_require__.d(forms_namespaceObject,"Step",(function(){return undefined}));__webpack_require__.d(forms_namespaceObject,"Steps",(function(){return undefined}));__webpack_require__.d(forms_namespaceObject,"FormWizardNav",(function(){return FormWizardNav}));__webpack_require__.d(forms_namespaceObject,"NavTexts",(function(){return undefined}));__webpack_require__.d(forms_namespaceObject,"MultiContentProvider",(function(){return MultiContentProvider}));__webpack_require__.d(forms_namespaceObject,"MultiContentConsumer",(function(){return MultiContentConsumer}));__webpack_require__.d(forms_namespaceObject,"useMultiContentContext",(function(){return useMultiContentContext}));__webpack_require__.d(forms_namespaceObject,"useContent",(function(){return useContent}));__webpack_require__.d(forms_namespaceObject,"useMultiContent",(function(){return useMultiContent}));__webpack_require__.d(forms_namespaceObject,"HookProps",(function(){return undefined}));__webpack_require__.d(forms_namespaceObject,"Content",(function(){return undefined}));__webpack_require__.d(forms_namespaceObject,"MultiContent",(function(){return undefined}));__webpack_require__.d(forms_namespaceObject,"WithMultiContent",(function(){return WithMultiContent}));var public_ace_namespaceObject={};__webpack_require__.r(public_ace_namespaceObject);__webpack_require__.d(public_ace_namespaceObject,"useUIAceKeyboardMode",(function(){return useUIAceKeyboardMode}));var public_global_flyout_namespaceObject={};__webpack_require__.r(public_global_flyout_namespaceObject);__webpack_require__.d(public_global_flyout_namespaceObject,"GlobalFlyoutProvider",(function(){return GlobalFlyoutProvider}));__webpack_require__.d(public_global_flyout_namespaceObject,"useGlobalFlyout",(function(){return useGlobalFlyout}));var public_xjson_namespaceObject={};__webpack_require__.r(public_xjson_namespaceObject);__webpack_require__.d(public_xjson_namespaceObject,"useXJsonMode",(function(){return useXJsonMode}));__webpack_require__.d(public_xjson_namespaceObject,"collapseLiteralStrings",(function(){return collapseLiteralStrings}));__webpack_require__.d(public_xjson_namespaceObject,"expandLiteralStrings",(function(){return expandLiteralStrings}));var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(1);function useMultiContent({defaultValue:defaultValue,onChange:onChange}){const[validation,setValidation]=Object(external_kbnSharedDeps_React_["useState"])({isValid:true,contents:{}});const[stateData,setStateData]=Object(external_kbnSharedDeps_React_["useState"])(defaultValue!==null&&defaultValue!==void 0?defaultValue:{});const contents=Object(external_kbnSharedDeps_React_["useRef"])({});const updateContentDataAt=Object(external_kbnSharedDeps_React_["useCallback"])((function(updatedData){setStateData(prev=>({...prev,...updatedData}))}),[]);const getData=Object(external_kbnSharedDeps_React_["useCallback"])(()=>{const activeContentData={};for(const[id,_content]of Object.entries(contents.current)){if(validation.contents[id]!==false){const contentData=_content.getData();_content.getData=()=>contentData;activeContentData[id]=contentData}}return{...stateData,...activeContentData}},[stateData,validation]);const getSingleContentData=Object(external_kbnSharedDeps_React_["useCallback"])(contentId=>{if(contents.current[contentId]){return contents.current[contentId].getData()}return stateData[contentId]},[stateData]);const updateContentValidity=Object(external_kbnSharedDeps_React_["useCallback"])(updatedData=>{let isAllContentValid=validation.isValid;setValidation(prev=>{if(Object.entries(updatedData).every(([contentId,isValid])=>prev.contents[contentId]===isValid)){isAllContentValid=prev.isValid;return prev}const nextContentsValidityState={...prev.contents,...updatedData};isAllContentValid=Object.values(nextContentsValidityState).some(_isValid=>_isValid===undefined)?undefined:Object.values(nextContentsValidityState).every(Boolean);return{isValid:isAllContentValid,contents:nextContentsValidityState}});return isAllContentValid},[validation.isValid]);const validate=Object(external_kbnSharedDeps_React_["useCallback"])(async()=>{if(Object.keys(contents.current).length===0){return Boolean(validation.isValid)}const updatedValidation={};for(const[id,_content]of Object.entries(contents.current)){const isValid=await _content.validate();_content.validate=async()=>isValid;updatedValidation[id]=isValid}return Boolean(updateContentValidity(updatedValidation))},[validation.isValid,updateContentValidity]);const updateContentAt=Object(external_kbnSharedDeps_React_["useCallback"])((function(contentId,content){contents.current[contentId]=content;const updatedValidity={[contentId]:content.isValid};const isValid=updateContentValidity(updatedValidity);if(onChange!==undefined){onChange({isValid:isValid,validate:validate,getData:getData})}}),[updateContentValidity,onChange,getData,validate]);const saveSnapshotAndRemoveContent=Object(external_kbnSharedDeps_React_["useCallback"])((function(contentId){if(contents.current[contentId]){const updatedData={[contentId]:contents.current[contentId].getData()};updateContentDataAt(updatedData);delete contents.current[contentId]}}),[updateContentDataAt]);return{getData:getData,getSingleContentData:getSingleContentData,validate:validate,validation:validation,updateContentAt:updateContentAt,saveSnapshotAndRemoveContent:saveSnapshotAndRemoveContent}}const multiContentContext=Object(external_kbnSharedDeps_React_["createContext"])({});function MultiContentProvider({defaultValue:defaultValue,onChange:onChange,children:children}){const multiContent=useMultiContent({defaultValue:defaultValue,onChange:onChange});return external_kbnSharedDeps_React_default.a.createElement(multiContentContext.Provider,{value:multiContent},children)}const MultiContentConsumer=multiContentContext.Consumer;function useMultiContentContext(){const ctx=Object(external_kbnSharedDeps_React_["useContext"])(multiContentContext);if(Object.keys(ctx).length===0){throw new Error("useMultiContentContext must be used within a <MultiContentProvider />")}return ctx}function useContent(contentId){const isMounted=Object(external_kbnSharedDeps_React_["useRef"])(false);const defaultValue=Object(external_kbnSharedDeps_React_["useRef"])(undefined);const{updateContentAt:updateContentAt,saveSnapshotAndRemoveContent:saveSnapshotAndRemoveContent,getData:getData,getSingleContentData:getSingleContentData}=useMultiContentContext();const updateContent=Object(external_kbnSharedDeps_React_["useCallback"])(content=>{updateContentAt(contentId,content)},[contentId,updateContentAt]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>()=>{saveSnapshotAndRemoveContent(contentId)},[contentId,saveSnapshotAndRemoveContent]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(isMounted.current===false){isMounted.current=true}},[]);if(isMounted.current===false){defaultValue.current=getSingleContentData(contentId)}return{defaultValue:defaultValue.current,updateContent:updateContent,getData:getData,getSingleContentData:getSingleContentData}}function WithMultiContent(Component){return function(props){const{defaultValue:defaultValue,onChange:onChange,...rest}=props;return external_kbnSharedDeps_React_default.a.createElement(MultiContentProvider,{defaultValue:defaultValue,onChange:onChange},external_kbnSharedDeps_React_default.a.createElement(Component,rest))}}const formWizardContext=Object(external_kbnSharedDeps_React_["createContext"])({});const form_wizard_context_FormWizardProvider=WithMultiContent((function FormWizardProvider({children:children,defaultActiveStep:defaultActiveStep=0,isEditing:isEditing,onSave:onSave}){var _state$steps$state$ac;const{getData:getData,validate:validate,validation:validation}=useMultiContentContext();const[state,setState]=Object(external_kbnSharedDeps_React_["useState"])({activeStepIndex:defaultActiveStep,steps:{}});const activeStepId=(_state$steps$state$ac=state.steps[state.activeStepIndex])===null||_state$steps$state$ac===void 0?void 0:_state$steps$state$ac.id;const lastStep=Object.keys(state.steps).length-1;const isCurrentStepValid=validation.contents[activeStepId];const addStep=Object(external_kbnSharedDeps_React_["useCallback"])((id,label,isRequired=false)=>{setState(prev=>{const index=Object.keys(prev.steps).length;return{...prev,steps:{...prev.steps,[index]:{id:id,index:index,label:label,isRequired:isRequired,isComplete:isEditing!==null&&isEditing!==void 0?isEditing:false}}}})},[isEditing]);const getStepIndex=Object(external_kbnSharedDeps_React_["useCallback"])(stepId=>{if(typeof stepId==="number"){return stepId}const targetStep=Object.values(state.steps).find(_step=>_step.id===stepId);if(!targetStep){throw new Error(`Can't navigate to step "${stepId}" as there are no step with that ID.`)}return targetStep.index},[state.steps]);const navigateToStep=Object(external_kbnSharedDeps_React_["useCallback"])(async stepId=>{const isValid=await validate();if(!isValid){return}const nextStepIndex=getStepIndex(stepId);if(nextStepIndex>lastStep){onSave(getData());return}setState(prev=>{const currentStep=prev.steps[prev.activeStepIndex];const nextState={...prev,activeStepIndex:nextStepIndex};if(nextStepIndex>prev.activeStepIndex&&!currentStep.isComplete){nextState.steps[prev.activeStepIndex]={...currentStep,isComplete:true}}return nextState})},[getStepIndex,validate,onSave,getData,lastStep]);const value={...state,activeStepId:activeStepId,lastStep:lastStep,isCurrentStepValid:isCurrentStepValid,addStep:addStep,navigateToStep:navigateToStep};return external_kbnSharedDeps_React_default.a.createElement(formWizardContext.Provider,{value:value},children)}));const FormWizardConsumer=formWizardContext.Consumer;function useFormWizardContext(){const ctx=Object(external_kbnSharedDeps_React_["useContext"])(formWizardContext);if(ctx===undefined){throw new Error("useFormWizardContext() must be called within a <FormWizardProvider />")}return ctx}var external_kbnSharedDeps_KbnI18n_=__webpack_require__(2);const DEFAULT_TEXTS={back:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.formWizard.backButtonLabel",{defaultMessage:"Back"}),next:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.formWizard.nextButtonLabel",{defaultMessage:"Next"}),save:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.formWizard.saveButtonLabel",{defaultMessage:"Save"}),saving:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.formWizard.savingButtonLabel",{defaultMessage:"Saving..."})};const FormWizardNav=({activeStepIndex:activeStepIndex,lastStep:lastStep,isStepValid:isStepValid,isSaving:isSaving,onBack:onBack,onNext:onNext,texts:texts,getRightContent:getRightContent})=>{const isLastStep=activeStepIndex===lastStep;const labels={...DEFAULT_TEXTS,...texts};const nextButtonLabel=isLastStep?Boolean(isSaving)?labels.saving:labels.save:labels.next;const rightContent=getRightContent!==undefined?getRightContent():undefined;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,activeStepIndex>0?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{iconType:"arrowLeft",onClick:onBack,"data-test-subj":"backButton",disabled:isStepValid===false},labels.back)):null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{fill:true,iconType:isLastStep?"check":"arrowRight",onClick:onNext,iconSide:isLastStep?"left":"right",disabled:isStepValid===false,"data-test-subj":"nextButton",isLoading:isSaving},nextButtonLabel)))),rightContent&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},rightContent))};function FormWizard({texts:texts,defaultActiveStep:defaultActiveStep,defaultValue:defaultValue,apiError:apiError,isEditing:isEditing,isSaving:isSaving,onSave:onSave,onChange:onChange,children:children,rightContentNav:rightContentNav}){return external_kbnSharedDeps_React_default.a.createElement(form_wizard_context_FormWizardProvider,{defaultValue:defaultValue,isEditing:isEditing,onSave:onSave,onChange:onChange,defaultActiveStep:defaultActiveStep},external_kbnSharedDeps_React_default.a.createElement(FormWizardConsumer,null,({activeStepIndex:activeStepIndex,lastStep:lastStep,steps:steps,isCurrentStepValid:isCurrentStepValid,navigateToStep:navigateToStep,activeStepId:activeStepId})=>{const stepsRequiredArray=Object.values(steps).map(step=>Boolean(step.isRequired)&&step.isComplete===false);const getIsStepDisabled=stepIndex=>{if(stepIndex!==activeStepIndex&&isCurrentStepValid===false){return true}let isDisabled=false;if(stepIndex>activeStepIndex+1){isDisabled=stepsRequiredArray.reduce((acc,isRequired,i)=>{if(acc===true||i<=activeStepIndex||i>=stepIndex){return acc}return Boolean(isRequired)},false)}return isDisabled};const euiSteps=Object.values(steps).map(({index:index,label:label})=>({title:label,isComplete:activeStepIndex>index,isSelected:activeStepIndex===index,disabled:getIsStepDisabled(index),onClick:()=>navigateToStep(index)}));const getRightContentNav=()=>{if(typeof rightContentNav==="function"){return rightContentNav(activeStepId)}return rightContentNav};const onBack=()=>{const prevStep=activeStepIndex-1;navigateToStep(prevStep)};const onNext=()=>{const nextStep=activeStepIndex+1;navigateToStep(nextStep)};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiStepsHorizontal"],{steps:euiSteps}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),apiError,children,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(FormWizardNav,{activeStepIndex:activeStepIndex,lastStep:lastStep,isStepValid:isCurrentStepValid,isSaving:isSaving,onBack:onBack,onNext:onNext,texts:texts,getRightContent:getRightContentNav}))}))}const FormWizardStep=({id:id,label:label,isRequired:isRequired,children:children})=>{const{activeStepId:activeStepId,addStep:addStep}=useFormWizardContext();Object(external_kbnSharedDeps_React_["useEffect"])(()=>{addStep(id,label,isRequired)},[id,label,isRequired,addStep]);return activeStepId===id?children:null};var external_kbnSharedDeps_ReactDom_=__webpack_require__(36);var _ui_ace_keyboard_mode=__webpack_require__(41);const OverlayText=()=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},"Press Enter to start editing."),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},"When you’re done, press Escape to stop editing."));function useUIAceKeyboardMode(aceTextAreaElement){const overlayMountNode=Object(external_kbnSharedDeps_React_["useRef"])(null);const autoCompleteVisibleRef=Object(external_kbnSharedDeps_React_["useRef"])(false);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{function onDismissOverlay(event){if(event.key===external_kbnSharedDeps_ElasticEui_["keys"].ENTER){event.preventDefault();aceTextAreaElement.focus()}}function enableOverlay(){if(overlayMountNode.current){overlayMountNode.current.focus()}}const isAutoCompleteVisible=()=>{const autoCompleter=document.querySelector(".ace_autocomplete");if(!autoCompleter){return false}return autoCompleter.style.display!=="none"};const documentKeyDownListener=()=>{autoCompleteVisibleRef.current=isAutoCompleteVisible()};const aceKeydownListener=event=>{if(event.key===external_kbnSharedDeps_ElasticEui_["keys"].ESCAPE&&!autoCompleteVisibleRef.current){event.preventDefault();event.stopPropagation();enableOverlay()}};if(aceTextAreaElement){overlayMountNode.current=document.createElement("div");overlayMountNode.current.className="kbnUiAceKeyboardHint";overlayMountNode.current.setAttribute("role","application");overlayMountNode.current.tabIndex=0;overlayMountNode.current.addEventListener("focus",enableOverlay);overlayMountNode.current.addEventListener("keydown",onDismissOverlay);external_kbnSharedDeps_ReactDom_["render"](external_kbnSharedDeps_React_default.a.createElement(OverlayText,null),overlayMountNode.current);aceTextAreaElement.parentElement.insertBefore(overlayMountNode.current,aceTextAreaElement);aceTextAreaElement.setAttribute("tabindex","-1");document.addEventListener("keydown",documentKeyDownListener,{capture:true});aceTextAreaElement.addEventListener("keydown",aceKeydownListener)}return()=>{if(aceTextAreaElement){document.removeEventListener("keydown",documentKeyDownListener,{capture:true});aceTextAreaElement.removeEventListener("keydown",aceKeydownListener);const textAreaContainer=aceTextAreaElement.parentElement;if(textAreaContainer&&textAreaContainer.contains(overlayMountNode.current)){textAreaContainer.removeChild(overlayMountNode.current)}}}},[aceTextAreaElement])}const FlyoutMultiContentContext=Object(external_kbnSharedDeps_React_["createContext"])(undefined);const DEFAULT_FLYOUT_PROPS={"data-test-subj":"flyout",size:"m",maxWidth:500};const GlobalFlyoutProvider=({children:children})=>{const[showFlyout,setShowFlyout]=Object(external_kbnSharedDeps_React_["useState"])(false);const[activeContent,setActiveContent]=Object(external_kbnSharedDeps_React_["useState"])(undefined);const{id:id,Component:Component,props:props,flyoutProps:flyoutProps,cleanUpFunc:cleanUpFunc}=activeContent!==null&&activeContent!==void 0?activeContent:{};const addContent=Object(external_kbnSharedDeps_React_["useCallback"])(content=>{setActiveContent(prev=>{if(prev!==undefined){if(prev.id!==content.id&&prev.cleanUpFunc){prev.cleanUpFunc()}}return content});setShowFlyout(true)},[]);const closeFlyout=Object(external_kbnSharedDeps_React_["useCallback"])(()=>{setActiveContent(undefined);setShowFlyout(false)},[]);const removeContent=Object(external_kbnSharedDeps_React_["useCallback"])(contentId=>{if(contentId===id){setActiveContent(undefined);if(cleanUpFunc){cleanUpFunc()}closeFlyout()}},[id,closeFlyout,cleanUpFunc]);const mergedFlyoutProps=Object(external_kbnSharedDeps_React_["useMemo"])(()=>({...DEFAULT_FLYOUT_PROPS,onClose:closeFlyout,...flyoutProps}),[flyoutProps,closeFlyout]);const context={addContent:addContent,removeContent:removeContent,closeFlyout:closeFlyout};const ContentFlyout=showFlyout&&Component!==undefined?Component:null;return external_kbnSharedDeps_React_default.a.createElement(FlyoutMultiContentContext.Provider,{value:context},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,children,ContentFlyout&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyout"],mergedFlyoutProps,external_kbnSharedDeps_React_default.a.createElement(ContentFlyout,props))))};const useGlobalFlyout=()=>{const ctx=Object(external_kbnSharedDeps_React_["useContext"])(FlyoutMultiContentContext);if(ctx===undefined){throw new Error("useGlobalFlyout must be used within a <GlobalFlyoutProvider />")}const isMounted=Object(external_kbnSharedDeps_React_["useRef"])(false);const contents=Object(external_kbnSharedDeps_React_["useRef"])(undefined);const{removeContent:removeContent,addContent:addContentToContext}=ctx;const getContents=Object(external_kbnSharedDeps_React_["useCallback"])(()=>{if(contents.current===undefined){contents.current=new Set}return contents.current},[]);const addContent=Object(external_kbnSharedDeps_React_["useCallback"])(content=>{getContents().add(content.id);return addContentToContext(content)},[getContents,addContentToContext]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{isMounted.current=true;return()=>{isMounted.current=false}},[]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>()=>{if(!isMounted.current){Array.from(getContents()).forEach(removeContent)}},[removeContent,getContents]);return{...ctx,addContent:addContent}};const JSON_COLON=":";const JSON_STRING_DELIMITER='"';const JSON_STRING_ESCAPE="\\";const extractJSONStringValues=input=>{let position=0;let currentStringStartPos;let isInsideString=false;const stringValues=[];function read(){return input[position]}function peekNextNonWhitespace(){let peekPosition=position+1;while(peekPosition<input.length){const peekChar=input[peekPosition];if(peekChar.match(/[^\s\r\n]/)){return peekChar}++peekPosition}}function advance(){++position}while(position<input.length){const char=read();if(!isInsideString){if(char===JSON_STRING_DELIMITER){currentStringStartPos=position;isInsideString=true}}else{if(char===JSON_STRING_ESCAPE){advance()}else if(char===JSON_STRING_DELIMITER){if(peekNextNonWhitespace()!==JSON_COLON){stringValues.push({startIndex:currentStringStartPos,endIndex:position})}isInsideString=false}}advance()}return{stringValues:stringValues}};function collapseLiteralStrings(data){const splitData=data.split(`"""`);for(let idx=1;idx<splitData.length-1;idx+=2){splitData[idx]=JSON.stringify(splitData[idx])}return splitData.join("")}const MAX_EXPANDABLE_JSON_SIZE=5*1024*1024;function expandLiteralStrings(data){if(data.length>MAX_EXPANDABLE_JSON_SIZE){return data}const{stringValues:stringValues}=extractJSONStringValues(data);if(stringValues.length===0){return data}let result=data.substring(0,stringValues[0].startIndex);for(let x=0;x<stringValues.length;x++){const{startIndex:startIndex,endIndex:endIndex}=stringValues[x];const candidate=data.substring(startIndex,endIndex+1);const skip=candidate[1]==="\\"&&candidate[2]==='"'||candidate[candidate.length-2]==='"'&&candidate[candidate.length-3]==="\\";if(!skip&&candidate.match(/\\./)){result+=`"""${JSON.parse(candidate)}"""`}else{result+=candidate}if(stringValues[x+1]){result+=data.substring(endIndex+1,stringValues[x+1].startIndex)}}result+=data.substring(stringValues[stringValues.length-1].endIndex+1);return result}const useXJsonMode=json=>{const[xJson,setXJson]=Object(external_kbnSharedDeps_React_["useState"])(()=>json===null?"":expandLiteralStrings(typeof json==="string"?json:JSON.stringify(json,null,2)));return{xJson:xJson,setXJson:setXJson,convertToJson:collapseLiteralStrings}};var external_kbnSharedDeps_Lodash_=__webpack_require__(9);var string=__webpack_require__(4);const stringifyJson=json=>Object.keys(json).length?JSON.stringify(json,null,2):"{\n\n}";const useJson=({defaultValue:defaultValue={},onUpdate:onUpdate,value:value})=>{const isControlled=value!==undefined;const isMounted=Object(external_kbnSharedDeps_React_["useRef"])(false);const[content,setContent]=Object(external_kbnSharedDeps_React_["useState"])(isControlled?value:stringifyJson(defaultValue));const[error,setError]=Object(external_kbnSharedDeps_React_["useState"])(null);const validate=Object(external_kbnSharedDeps_React_["useCallback"])(()=>{const isValid=content.trim()===""?true:Object(string["isJSON"])(content);if(!isValid){setError(external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.validation.string.invalidJSONError",{defaultMessage:"Invalid JSON"}))}else{setError(null)}return isValid},[content]);const formatContent=Object(external_kbnSharedDeps_React_["useCallback"])(()=>{const isValid=validate();const data=isValid&&content.trim()!==""?JSON.parse(content):{};return data},[validate,content]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(!isMounted.current||isControlled){return}const isValid=validate();onUpdate({data:{raw:content,format:formatContent},validate:validate,isValid:isValid})},[onUpdate,content,formatContent,validate,isControlled]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{isMounted.current=true;return()=>{isMounted.current=false}},[]);return{content:content,setContent:setContent,error:error,isControlled:isControlled}};function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function JsonEditorComp({label:label,helpText:helpText,onUpdate:onUpdate,value:value,defaultValue:defaultValue,euiCodeEditorProps:euiCodeEditorProps,error:propsError}){const{content:content,setContent:setContent,error:internalError,isControlled:isControlled}=useJson({defaultValue:defaultValue,onUpdate:onUpdate,value:value});const debouncedSetContent=Object(external_kbnSharedDeps_React_["useMemo"])(()=>Object(external_kbnSharedDeps_Lodash_["debounce"])(setContent,300),[setContent]);const error=isControlled?propsError:internalError;const onEuiCodeEditorChange=Object(external_kbnSharedDeps_React_["useCallback"])(updated=>{if(isControlled){onUpdate({data:{raw:updated,format:()=>JSON.parse(updated)},validate:()=>{try{JSON.parse(updated);return true}catch(e){return false}},isValid:undefined})}else{debouncedSetContent(updated)}},[isControlled,debouncedSetContent,onUpdate]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:label,helpText:helpText,isInvalid:typeof error==="string",error:error,fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeEditor"],_extends({mode:"json",theme:"textmate",width:"100%",height:"500px",setOptions:{showLineNumbers:false,tabSize:2},editorProps:{$blockScrolling:Infinity},showGutter:false,minLines:6,value:isControlled?value:content,onChange:onEuiCodeEditorChange},euiCodeEditorProps)))}const JsonEditor=external_kbnSharedDeps_React_default.a.memo(JsonEditorComp);const SectionLoading=({inline:inline,children:children,...rest})=>{if(inline){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"m"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],rest,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"subdued"},children))))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiEmptyPrompt"],{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"xl"}),body:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{color:"subdued"},children),"data-test-subj":"sectionLoading"})};var types=__webpack_require__(27);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(5);function cronExpressionToParts(expression){const parsedCron={second:undefined,minute:undefined,hour:undefined,day:undefined,date:undefined,month:undefined};const parts=expression.split(" ");if(parts.length>=1){parsedCron.second=parts[0]}if(parts.length>=2){parsedCron.minute=parts[1]}if(parts.length>=3){parsedCron.hour=parts[2]}if(parts.length>=4){parsedCron.date=parts[3]}if(parts.length>=5){parsedCron.month=parts[4]}if(parts.length>=6){parsedCron.day=parts[5]}return parsedCron}function cronPartsToExpression({second:second,minute:minute,hour:hour,day:day,date:date,month:month}){return`${second} ${minute} ${hour} ${date} ${month} ${day}`}const dayOrdinalToDayNameMap={0:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.day.sunday",{defaultMessage:"Sunday"}),1:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.day.monday",{defaultMessage:"Monday"}),2:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.day.tuesday",{defaultMessage:"Tuesday"}),3:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.day.wednesday",{defaultMessage:"Wednesday"}),4:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.day.thursday",{defaultMessage:"Thursday"}),5:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.day.friday",{defaultMessage:"Friday"}),6:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.day.saturday",{defaultMessage:"Saturday"})};const monthOrdinalToMonthNameMap={0:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.month.january",{defaultMessage:"January"}),1:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.month.february",{defaultMessage:"February"}),2:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.month.march",{defaultMessage:"March"}),3:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.month.april",{defaultMessage:"April"}),4:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.month.may",{defaultMessage:"May"}),5:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.month.june",{defaultMessage:"June"}),6:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.month.july",{defaultMessage:"July"}),7:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.month.august",{defaultMessage:"August"}),8:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.month.september",{defaultMessage:"September"}),9:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.month.october",{defaultMessage:"October"}),10:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.month.november",{defaultMessage:"November"}),11:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.month.december",{defaultMessage:"December"})};function getOrdinalValue(number){const num=number&&number.toString();const lastDigitString=num&&num.substr(-1);let ordinal;if(!lastDigitString){return number.toString()}const lastDigitNumeric=parseFloat(lastDigitString);switch(lastDigitNumeric){case 1:ordinal="st";break;case 2:ordinal="nd";break;case 3:ordinal="rd";break;default:ordinal="th"}return`${num}${ordinal}`}function getDayName(dayOrdinal){return dayOrdinalToDayNameMap[dayOrdinal]}function getMonthName(monthOrdinal){return monthOrdinalToMonthNameMap[monthOrdinal]}function makeSequence(min,max){const values=[];for(let i=min;i<=max;i++){values.push(i)}return values}const MINUTE_OPTIONS=makeSequence(0,59).map(value=>({value:value.toString(),text:Object(external_kbnSharedDeps_Lodash_["padStart"])(value.toString(),2,"0")}));const HOUR_OPTIONS=makeSequence(0,23).map(value=>({value:value.toString(),text:Object(external_kbnSharedDeps_Lodash_["padStart"])(value.toString(),2,"0")}));const DAY_OPTIONS=makeSequence(1,7).map(value=>({value:value.toString(),text:getDayName(value-1)}));const DATE_OPTIONS=makeSequence(1,31).map(value=>({value:value.toString(),text:getOrdinalValue(value)}));const MONTH_OPTIONS=makeSequence(1,12).map(value=>({value:value.toString(),text:getMonthName(value-1)}));const UNITS=[{value:"MINUTE",text:"minute"},{value:"HOUR",text:"hour"},{value:"DAY",text:"day"},{value:"WEEK",text:"week"},{value:"MONTH",text:"month"},{value:"YEAR",text:"year"}];const frequencyToFieldsMap={MINUTE:{},HOUR:{minute:true},DAY:{hour:true,minute:true},WEEK:{day:true,hour:true,minute:true},MONTH:{date:true,hour:true,minute:true},YEAR:{month:true,date:true,hour:true,minute:true}};const frequencyToBaselineFieldsMap={MINUTE:{second:"0",minute:"*",hour:"*",date:"*",month:"*",day:"?"},HOUR:{second:"0",minute:"0",hour:"*",date:"*",month:"*",day:"?"},DAY:{second:"0",minute:"0",hour:"0",date:"*",month:"*",day:"?"},WEEK:{second:"0",minute:"0",hour:"0",date:"?",month:"*",day:"7"},MONTH:{second:"0",minute:"0",hour:"0",date:"1",month:"*",day:"?"},YEAR:{second:"0",minute:"0",hour:"0",date:"1",month:"1",day:"?"}};const CronHourly=({minute:minute,minuteOptions:minuteOptions,onChange:onChange})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"esUi.cronEditor.cronHourly.fieldTimeLabel",defaultMessage:"Minute"}),fullWidth:true,"data-test-subj":"cronFrequencyConfiguration"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],{options:minuteOptions,value:minute,onChange:e=>onChange({minute:e.target.value}),fullWidth:true,prepend:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.cronHourly.fieldMinute.textAtLabel",{defaultMessage:"At"}),"data-test-subj":"cronFrequencyHourlyMinuteSelect"})));const CronDaily=({minute:minute,minuteOptions:minuteOptions,hour:hour,hourOptions:hourOptions,onChange:onChange})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"esUi.cronEditor.cronDaily.fieldTimeLabel",defaultMessage:"Time"}),fullWidth:true,"data-test-subj":"cronFrequencyConfiguration"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],{options:hourOptions,value:hour,"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.cronDaily.hourSelectLabel",{defaultMessage:"Hour"}),onChange:e=>onChange({hour:e.target.value}),fullWidth:true,prepend:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.cronDaily.fieldHour.textAtLabel",{defaultMessage:"At"}),"data-test-subj":"cronFrequencyDailyHourSelect"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],{options:minuteOptions,value:minute,"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.cronDaily.minuteSelectLabel",{defaultMessage:"Minute"}),onChange:e=>onChange({minute:e.target.value}),fullWidth:true,prepend:":","data-test-subj":"cronFrequencyDailyMinuteSelect"})))));const CronWeekly=({minute:minute,minuteOptions:minuteOptions,hour:hour,hourOptions:hourOptions,day:day,dayOptions:dayOptions,onChange:onChange})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"esUi.cronEditor.cronWeekly.fieldDateLabel",defaultMessage:"Day"}),fullWidth:true,"data-test-subj":"cronFrequencyConfiguration"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],{options:dayOptions,value:day,onChange:e=>onChange({day:e.target.value}),fullWidth:true,prepend:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.cronWeekly.textOnLabel",{defaultMessage:"On"}),"data-test-subj":"cronFrequencyWeeklyDaySelect"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"esUi.cronEditor.cronWeekly.fieldTimeLabel",defaultMessage:"Time"}),fullWidth:true,"data-test-subj":"cronFrequencyConfiguration"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],{options:hourOptions,value:hour,"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.cronWeekly.hourSelectLabel",{defaultMessage:"Hour"}),onChange:e=>onChange({hour:e.target.value}),fullWidth:true,prepend:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.cronWeekly.fieldHour.textAtLabel",{defaultMessage:"At"}),"data-test-subj":"cronFrequencyWeeklyHourSelect"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],{options:minuteOptions,value:minute,onChange:e=>onChange({minute:e.target.value}),"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.cronWeekly.minuteSelectLabel",{defaultMessage:"Minute"}),fullWidth:true,prepend:":","data-test-subj":"cronFrequencyWeeklyMinuteSelect"})))));const CronMonthly=({minute:minute,minuteOptions:minuteOptions,hour:hour,hourOptions:hourOptions,date:date,dateOptions:dateOptions,onChange:onChange})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"esUi.cronEditor.cronMonthly.fieldDateLabel",defaultMessage:"Date"}),fullWidth:true,"data-test-subj":"cronFrequencyConfiguration"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],{options:dateOptions,value:date,onChange:e=>onChange({date:e.target.value}),fullWidth:true,prepend:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.cronMonthly.textOnTheLabel",{defaultMessage:"On the"}),"data-test-subj":"cronFrequencyMonthlyDateSelect"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"esUi.cronEditor.cronMonthly.fieldTimeLabel",defaultMessage:"Time"}),fullWidth:true,"data-test-subj":"cronFrequencyConfiguration"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],{options:hourOptions,value:hour,"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.cronMonthly.hourSelectLabel",{defaultMessage:"Hour"}),onChange:e=>onChange({hour:e.target.value}),fullWidth:true,prepend:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.cronMonthly.fieldHour.textAtLabel",{defaultMessage:"At"}),"data-test-subj":"cronFrequencyMonthlyHourSelect"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],{options:minuteOptions,value:minute,"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.cronMonthly.minuteSelectLabel",{defaultMessage:"Minute"}),onChange:e=>onChange({minute:e.target.value}),fullWidth:true,prepend:":","data-test-subj":"cronFrequencyMonthlyMinuteSelect"})))));const CronYearly=({minute:minute,minuteOptions:minuteOptions,hour:hour,hourOptions:hourOptions,date:date,dateOptions:dateOptions,month:month,monthOptions:monthOptions,onChange:onChange})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"esUi.cronEditor.cronYearly.fieldMonthLabel",defaultMessage:"Month"}),fullWidth:true,"data-test-subj":"cronFrequencyConfiguration"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],{options:monthOptions,value:month,onChange:e=>onChange({month:e.target.value}),fullWidth:true,prepend:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.cronYearly.fieldMonth.textInLabel",{defaultMessage:"In"}),"data-test-subj":"cronFrequencyYearlyMonthSelect"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"esUi.cronEditor.cronYearly.fieldDateLabel",defaultMessage:"Date"}),fullWidth:true,"data-test-subj":"cronFrequencyConfiguration"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],{options:dateOptions,value:date,onChange:e=>onChange({date:e.target.value}),fullWidth:true,prepend:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.cronYearly.fieldDate.textOnTheLabel",{defaultMessage:"On the"}),"data-test-subj":"cronFrequencyYearlyDateSelect"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"esUi.cronEditor.cronYearly.fieldTimeLabel",defaultMessage:"Time"}),fullWidth:true,"data-test-subj":"cronFrequencyConfiguration"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],{options:hourOptions,value:hour,"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.cronYearly.hourSelectLabel",{defaultMessage:"Hour"}),onChange:e=>onChange({hour:e.target.value}),fullWidth:true,prepend:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.cronYearly.fieldHour.textAtLabel",{defaultMessage:"At"}),"data-test-subj":"cronFrequencyYearlyHourSelect"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],{options:minuteOptions,value:minute,"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.cronYearly.minuteSelectLabel",{defaultMessage:"Minute"}),onChange:e=>onChange({minute:e.target.value}),fullWidth:true,prepend:":","data-test-subj":"cronFrequencyYearlyMinuteSelect"})))));function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const excludeBlockListedFrequencies=(units,blockListedUnits=[])=>{if(blockListedUnits.length===0){return units}return units.filter(({value:value})=>!blockListedUnits.includes(value))};class cron_editor_CronEditor extends external_kbnSharedDeps_React_["Component"]{static getDerivedStateFromProps(props){const{cronExpression:cronExpression}=props;return cronExpressionToParts(cronExpression)}constructor(props){super(props);_defineProperty(this,"onChangeFrequency",frequency=>{const{onChange:onChange,fieldToPreferredValueMap:fieldToPreferredValueMap}=this.props;const editableFields=Object.keys(frequencyToFieldsMap[frequency]);const inheritedFields=editableFields.reduce((fieldBaselines,field)=>{if(fieldToPreferredValueMap[field]!=null){fieldBaselines[field]=fieldToPreferredValueMap[field]}return fieldBaselines},{...frequencyToBaselineFieldsMap[frequency]});const newCronExpression=cronPartsToExpression(inheritedFields);onChange({frequency:frequency,cronExpression:newCronExpression,fieldToPreferredValueMap:fieldToPreferredValueMap})});_defineProperty(this,"onChangeFields",fields=>{const{onChange:onChange,frequency:frequency,fieldToPreferredValueMap:fieldToPreferredValueMap}=this.props;const editableFields=Object.keys(frequencyToFieldsMap[frequency]);const newFieldToPreferredValueMap={};const editedFields=editableFields.reduce((accumFields,field)=>{if(fields[field]!==undefined){accumFields[field]=fields[field];newFieldToPreferredValueMap[field]=fields[field]}else{accumFields[field]=this.state[field]}return accumFields},{...frequencyToBaselineFieldsMap[frequency]});const newCronExpression=cronPartsToExpression(editedFields);onChange({frequency:frequency,cronExpression:newCronExpression,fieldToPreferredValueMap:{...fieldToPreferredValueMap,...newFieldToPreferredValueMap}})});const{cronExpression:cronExpression}=props;const parsedCron=cronExpressionToParts(cronExpression);this.state={...parsedCron}}renderForm(){const{frequency:frequency}=this.props;const{minute:minute,hour:hour,day:day,date:date,month:month}=this.state;switch(frequency){case"MINUTE":return;case"HOUR":return external_kbnSharedDeps_React_default.a.createElement(CronHourly,{minute:minute,minuteOptions:MINUTE_OPTIONS,onChange:this.onChangeFields});case"DAY":return external_kbnSharedDeps_React_default.a.createElement(CronDaily,{minute:minute,minuteOptions:MINUTE_OPTIONS,hour:hour,hourOptions:HOUR_OPTIONS,onChange:this.onChangeFields});case"WEEK":return external_kbnSharedDeps_React_default.a.createElement(CronWeekly,{minute:minute,minuteOptions:MINUTE_OPTIONS,hour:hour,hourOptions:HOUR_OPTIONS,day:day,dayOptions:DAY_OPTIONS,onChange:this.onChangeFields});case"MONTH":return external_kbnSharedDeps_React_default.a.createElement(CronMonthly,{minute:minute,minuteOptions:MINUTE_OPTIONS,hour:hour,hourOptions:HOUR_OPTIONS,date:date,dateOptions:DATE_OPTIONS,onChange:this.onChangeFields});case"YEAR":return external_kbnSharedDeps_React_default.a.createElement(CronYearly,{minute:minute,minuteOptions:MINUTE_OPTIONS,hour:hour,hourOptions:HOUR_OPTIONS,date:date,dateOptions:DATE_OPTIONS,month:month,monthOptions:MONTH_OPTIONS,onChange:this.onChangeFields});default:return}}render(){const{frequency:frequency,frequencyBlockList:frequencyBlockList}=this.props;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"esUi.cronEditor.fieldFrequencyLabel",defaultMessage:"Frequency"}),fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],{autoFocus:this.props.autoFocus,options:excludeBlockListedFrequencies(UNITS,frequencyBlockList),value:frequency,onChange:e=>this.onChangeFrequency(e.target.value),fullWidth:true,prepend:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.cronEditor.textEveryLabel",{defaultMessage:"Every"}),"data-test-subj":"cronFrequencySelect"})),this.renderForm())}}const sendRequest=async(httpClient,{path:path,method:method,body:body,query:query,asSystemRequest:asSystemRequest})=>{try{const stringifiedBody=typeof body==="string"?body:JSON.stringify(body);const response=await httpClient[method](path,{body:stringifiedBody,query:query,asSystemRequest:asSystemRequest});return{data:response.data?response.data:response,error:null}}catch(e){var _e$response$data,_e$response;return{data:null,error:(_e$response$data=(_e$response=e.response)===null||_e$response===void 0?void 0:_e$response.data)!==null&&_e$response$data!==void 0?_e$response$data:e.body}}};const useRequest=(httpClient,{path:path,method:method,query:query,body:body,pollIntervalMs:pollIntervalMs,initialData:initialData,deserializer:deserializer})=>{const isMounted=Object(external_kbnSharedDeps_React_["useRef"])(false);const[error,setError]=Object(external_kbnSharedDeps_React_["useState"])(null);const[isLoading,setIsLoading]=Object(external_kbnSharedDeps_React_["useState"])(true);const[data,setData]=Object(external_kbnSharedDeps_React_["useState"])(initialData);const requestCountRef=Object(external_kbnSharedDeps_React_["useRef"])(0);const isInitialRequestRef=Object(external_kbnSharedDeps_React_["useRef"])(true);const pollIntervalIdRef=Object(external_kbnSharedDeps_React_["useRef"])(null);const clearPollInterval=Object(external_kbnSharedDeps_React_["useCallback"])(()=>{if(pollIntervalIdRef.current){clearTimeout(pollIntervalIdRef.current);pollIntervalIdRef.current=null}},[]);const queryStringified=query?JSON.stringify(query):undefined;const bodyStringified=body?JSON.stringify(body):undefined;const requestBody=Object(external_kbnSharedDeps_React_["useMemo"])(()=>({path:path,method:method,query:queryStringified?query:undefined,body:bodyStringified?body:undefined}),[path,method,queryStringified,bodyStringified]);const resendRequest=Object(external_kbnSharedDeps_React_["useCallback"])(async asSystemRequest=>{clearPollInterval();const requestId=++requestCountRef.current;setIsLoading(true);const requestPayload={...requestBody,asSystemRequest:asSystemRequest};const response=await sendRequest(httpClient,requestPayload);const{data:serializedResponseData,error:responseError}=response;const isOutdatedRequest=requestId!==requestCountRef.current;const isUnmounted=isMounted.current===false;if(isOutdatedRequest||isUnmounted){return}isInitialRequestRef.current=false;setError(responseError);if(!responseError){const responseData=deserializer?deserializer(serializedResponseData):serializedResponseData;setData(responseData)}setIsLoading(false)},[requestBody,httpClient,deserializer,clearPollInterval]);const scheduleRequest=Object(external_kbnSharedDeps_React_["useCallback"])(()=>{clearPollInterval();if(pollIntervalMs){pollIntervalIdRef.current=setTimeout(()=>resendRequest(true),pollIntervalMs)}},[pollIntervalMs,resendRequest,clearPollInterval]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{resendRequest()},[resendRequest]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(!isLoading){scheduleRequest()}},[isLoading,scheduleRequest]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{isMounted.current=true;return()=>{isMounted.current=false;clearPollInterval()}},[clearPollInterval]);const resendRequestForConsumer=Object(external_kbnSharedDeps_React_["useCallback"])(()=>resendRequest(),[resendRequest]);return{isInitialRequest:isInitialRequestRef.current,isLoading:isLoading,error:error,data:data,resendRequest:resendRequestForConsumer}};var public_=__webpack_require__(10);const INDEX_ILLEGAL_CHARACTERS_VISIBLE=[...public_["indexPatterns"].ILLEGAL_CHARACTERS_VISIBLE,"*"];const insertionIndex=Math.floor(public_["indexPatterns"].ILLEGAL_CHARACTERS_VISIBLE.length/2);INDEX_ILLEGAL_CHARACTERS_VISIBLE.splice(insertionIndex,0,",");function indexNameBeginsWithPeriod(indexName){if(indexName===undefined){return false}return indexName[0]==="."}function findIllegalCharactersInIndexName(indexName){const illegalCharacters=INDEX_ILLEGAL_CHARACTERS_VISIBLE.reduce((chars,char)=>{if(indexName.includes(char)){chars.push(char)}return chars},[]);return illegalCharacters}function indexNameContainsSpaces(indexName){return indexName.includes(" ")}const indices={INDEX_ILLEGAL_CHARACTERS_VISIBLE:INDEX_ILLEGAL_CHARACTERS_VISIBLE,indexNameBeginsWithPeriod:indexNameBeginsWithPeriod,findIllegalCharactersInIndexName:findIllegalCharactersInIndexName,indexNameContainsSpaces:indexNameContainsSpaces};const initialValue={isLoading:true,apiError:null,privileges:{hasAllPrivileges:true,missingPrivileges:{}}};const AuthorizationContext=Object(external_kbnSharedDeps_React_["createContext"])(initialValue);const useAuthorizationContext=()=>{const ctx=Object(external_kbnSharedDeps_React_["useContext"])(AuthorizationContext);if(!ctx){throw new Error("AuthorizationContext can only be used inside of AuthorizationProvider!")}return ctx};const AuthorizationProvider=({privilegesEndpoint:privilegesEndpoint,httpClient:httpClient,children:children})=>{const{isLoading:isLoading,error:error,data:privilegesData}=useRequest(httpClient,{path:privilegesEndpoint,method:"get"});const value={isLoading:isLoading,privileges:isLoading?{hasAllPrivileges:true,missingPrivileges:{}}:privilegesData,apiError:error?error:null};return external_kbnSharedDeps_React_default.a.createElement(AuthorizationContext.Provider,{value:value},children)};const toArray=value=>Array.isArray(value)?value:[value];const WithPrivileges=({privileges:requiredPrivileges,children:children})=>{const{isLoading:isLoading,privileges:privileges}=useAuthorizationContext();const privilegesToArray=toArray(requiredPrivileges).map(p=>{const[section,privilege]=p.split(".");if(!privilege){throw new Error('Required privilege must have the format "section.privilege"')}return[section,privilege]});const hasPrivileges=isLoading?false:privilegesToArray.every(privilege=>{const[section,requiredPrivilege]=privilege;if(!privileges.missingPrivileges[section]){return true}if(privileges.missingPrivileges[section].length===0){return true}if(requiredPrivilege==="*"){return false}return!privileges.missingPrivileges[section].includes(requiredPrivilege)});const privilegesMissing=privilegesToArray.reduce((acc,[section,privilege])=>{if(privilege==="*"){acc[section]=privileges.missingPrivileges[section]||[]}else if(privileges.missingPrivileges[section]&&privileges.missingPrivileges[section].includes(privilege)){const missing=acc[section]||[];acc[section]=[...missing,privilege]}return acc},{});return children({isLoading:isLoading,hasPrivileges:hasPrivileges,privilegesMissing:privilegesMissing})};const NotAuthorizedSection=({title:title,message:message})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiEmptyPrompt"],{iconType:"securityApp",title:external_kbnSharedDeps_React_default.a.createElement("h2",null,title),body:external_kbnSharedDeps_React_default.a.createElement("p",null,message)});function section_error_extends(){section_error_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return section_error_extends.apply(this,arguments)}const SectionError=({title:title,error:error,actions:actions,...rest})=>{const{error:errorString,cause:cause,message:message}=error;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],section_error_extends({title:title,color:"danger",iconType:"alert"},rest),cause?message||errorString:external_kbnSharedDeps_React_default.a.createElement("p",null,message||errorString),cause&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement("ul",null,cause.map((causeMsg,i)=>external_kbnSharedDeps_React_default.a.createElement("li",{key:i},causeMsg)))),actions?actions:null)};var authorization_types=__webpack_require__(20);var query_string=__webpack_require__(37);function extractQueryParams(queryString=""){const hrefSplit=queryString.split("?");if(!hrefSplit.length){return{}}return Object(query_string["parse"])(hrefSplit[1],{sort:false})}const attemptToURIDecode=value=>{let result=value;try{result=value?decodeURIComponent(value):value}catch(e){}return result};function public_plugin(){return new class EsUiSharedPlugin{setup(){}start(){}}}},function(module,exports,__webpack_require__){"use strict";var isOldIE=function isOldIE(){var memo;return function memorize(){if(typeof memo==="undefined"){memo=Boolean(window&&document&&document.all&&!window.atob)}return memo}}();var getTarget=function getTarget(){var memo={};return function memorize(target){if(typeof memo[target]==="undefined"){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement){try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}}memo[target]=styleTarget}return memo[target]}}();var stylesInDom=[];function getIndexByIdentifier(identifier){var result=-1;for(var i=0;i<stylesInDom.length;i++){if(stylesInDom[i].identifier===identifier){result=i;break}}return result}function modulesToDom(list,options){var idCountMap={};var identifiers=[];for(var i=0;i<list.length;i++){var item=list[i];var id=options.base?item[0]+options.base:item[0];var count=idCountMap[id]||0;var identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier);var obj={css:item[1],media:item[2],sourceMap:item[3]};if(index!==-1){stylesInDom[index].references++;stylesInDom[index].updater(obj)}else{stylesInDom.push({identifier:identifier,updater:addStyle(obj,options),references:1})}identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement("style");var attributes=options.attributes||{};if(typeof attributes.nonce==="undefined"){var nonce=true?__webpack_require__.nc:undefined;if(nonce){attributes.nonce=nonce}}Object.keys(attributes).forEach((function(key){style.setAttribute(key,attributes[key])}));if(typeof options.insert==="function"){options.insert(style)}else{var target=getTarget(options.insert||"head");if(!target){throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.")}target.appendChild(style)}return style}function removeStyleElement(style){if(style.parentNode===null){return false}style.parentNode.removeChild(style)}var replaceText=function replaceText(){var textStore=[];return function replace(index,replacement){textStore[index]=replacement;return textStore.filter(Boolean).join("\n")}}();function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.media?"@media ".concat(obj.media," {").concat(obj.css,"}"):obj.css;if(style.styleSheet){style.styleSheet.cssText=replaceText(index,css)}else{var cssNode=document.createTextNode(css);var childNodes=style.childNodes;if(childNodes[index]){style.removeChild(childNodes[index])}if(childNodes.length){style.insertBefore(cssNode,childNodes[index])}else{style.appendChild(cssNode)}}}function applyToTag(style,options,obj){var css=obj.css;var media=obj.media;var sourceMap=obj.sourceMap;if(media){style.setAttribute("media",media)}else{style.removeAttribute("media")}if(sourceMap&&btoa){css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")}if(style.styleSheet){style.styleSheet.cssText=css}else{while(style.firstChild){style.removeChild(style.firstChild)}style.appendChild(document.createTextNode(css))}}var singleton=null;var singletonCounter=0;function addStyle(obj,options){var style;var update;var remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options));update=applyToSingletonTag.bind(null,style,styleIndex,false);remove=applyToSingletonTag.bind(null,style,styleIndex,true)}else{style=insertStyleElement(options);update=applyToTag.bind(null,style,options);remove=function remove(){removeStyleElement(style)}}update(obj);return function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap){return}update(obj=newObj)}else{remove()}}}module.exports=function(list,options){options=options||{};if(!options.singleton&&typeof options.singleton!=="boolean"){options.singleton=isOldIE()}list=list||[];var lastIdentifiers=modulesToDom(list,options);return function update(newList){newList=newList||[];if(Object.prototype.toString.call(newList)!=="[object Array]"){return}for(var i=0;i<lastIdentifiers.length;i++){var identifier=lastIdentifiers[i];var index=getIndexByIdentifier(identifier);stylesInDom[index].references--}var newLastIdentifiers=modulesToDom(newList,options);for(var _i=0;_i<lastIdentifiers.length;_i++){var _identifier=lastIdentifiers[_i];var _index=getIndexByIdentifier(_identifier);if(stylesInDom[_index].references===0){stylesInDom[_index].updater();stylesInDom.splice(_index,1)}}lastIdentifiers=newLastIdentifiers}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(useSourceMap){var list=[];list.toString=function toString(){return this.map((function(item){var content=cssWithMappingToString(item,useSourceMap);if(item[2]){return"@media ".concat(item[2]," {").concat(content,"}")}return content})).join("")};list.i=function(modules,mediaQuery,dedupe){if(typeof modules==="string"){modules=[[null,modules,""]]}var alreadyImportedModules={};if(dedupe){for(var i=0;i<this.length;i++){var id=this[i][0];if(id!=null){alreadyImportedModules[id]=true}}}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);if(dedupe&&alreadyImportedModules[item[0]]){continue}if(mediaQuery){if(!item[2]){item[2]=mediaQuery}else{item[2]="".concat(mediaQuery," and ").concat(item[2])}}list.push(item)}};return list};function cssWithMappingToString(item,useSourceMap){var content=item[1]||"";var cssMapping=item[3];if(!cssMapping){return content}if(useSourceMap&&typeof btoa==="function"){var sourceMapping=toComment(cssMapping);var sourceURLs=cssMapping.sources.map((function(source){return"/*# sourceURL=".concat(cssMapping.sourceRoot||"").concat(source," */")}));return[content].concat(sourceURLs).concat([sourceMapping]).join("\n")}return[content].join("\n")}function toComment(sourceMap){var base64=btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));var data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);return"/*# ".concat(data," */")}},function(module,exports,__webpack_require__){var getNative=__webpack_require__(21);var nativeCreate=getNative(Object,"create");module.exports=nativeCreate},function(module,exports,__webpack_require__){var eq=__webpack_require__(31);function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length}}return-1}module.exports=assocIndexOf},function(module,exports,__webpack_require__){var isKeyable=__webpack_require__(90);function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=="string"?"string":"hash"]:data.map}module.exports=getMapData},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getFieldValidityAndErrorMessage}));const getFieldValidityAndErrorMessage=field=>{const isInvalid=!field.isChangingValue&&field.errors.length>0;const errorMessage=!field.isChangingValue&&field.errors.length?field.errors[0].message:null;return{isInvalid:isInvalid,errorMessage:errorMessage}}},function(module,exports,__webpack_require__){exports.set=__webpack_require__(55);exports.setWith=__webpack_require__(99)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FormDataContextProvider}));__webpack_require__.d(__webpack_exports__,"b",(function(){return useFormDataContext}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);const FormDataContext=Object(react__WEBPACK_IMPORTED_MODULE_0__["createContext"])(undefined);const FormDataContextProvider=({children:children,getFormData$:getFormData$,getFormData:getFormData})=>{const value=Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(()=>({getFormData:getFormData,getFormData$:getFormData$}),[getFormData,getFormData$]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FormDataContext.Provider,{value:value},children)};function useFormDataContext(){return Object(react__WEBPACK_IMPORTED_MODULE_0__["useContext"])(FormDataContext)}},function(module,exports){},function(module,exports,__webpack_require__){var baseIsNative=__webpack_require__(59),getValue=__webpack_require__(67);function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined}module.exports=getNative},function(module,exports,__webpack_require__){var root=__webpack_require__(23);var Symbol=root.Symbol;module.exports=Symbol},function(module,exports,__webpack_require__){var freeGlobal=__webpack_require__(60);var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function("return this")();module.exports=root},function(module,exports){function isObject(value){var type=typeof value;return value!=null&&(type=="object"||type=="function")}module.exports=isObject},function(module,exports){var isArray=Array.isArray;module.exports=isArray},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(30),isObjectLike=__webpack_require__(70);var symbolTag="[object Symbol]";function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&baseGetTag(value)==symbolTag}module.exports=isSymbol},function(module,exports){},function(module,exports,__webpack_require__){var assignValue=__webpack_require__(56),castPath=__webpack_require__(68),isFunction=__webpack_require__(29),isIndex=__webpack_require__(97),isObject=__webpack_require__(24),toKey=__webpack_require__(98);function baseSet(object,path,value,customizer){if(!isObject(object)){return object}path=castPath(path,object);var index=-1,length=path.length,lastIndex=length-1,nested=object;while(nested!=null&&++index<length){var key=toKey(path[index]),newValue=value;if(key=="prototype"&&isFunction(nested)){throw new Error("Illegal access of function prototype")}if(index!=lastIndex){var objValue=hasOwnProperty.call(nested,key)?nested[key]:undefined;newValue=customizer?customizer(objValue,key,nested):undefined;if(newValue===undefined){newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{}}}assignValue(nested,key,newValue);nested=nested[key]}return object}module.exports=baseSet},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(30),isObject=__webpack_require__(24);var asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(value){if(!isObject(value)){return false}var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}module.exports=isFunction},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(22),getRawTag=__webpack_require__(62),objectToString=__webpack_require__(63);var nullTag="[object Null]",undefinedTag="[object Undefined]";var symToStringTag=Symbol?Symbol.toStringTag:undefined;function baseGetTag(value){if(value==null){return value===undefined?undefinedTag:nullTag}return symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}module.exports=baseGetTag},function(module,exports){function eq(value,other){return value===other||value!==value&&other!==other}module.exports=eq},function(module,exports){},function(module,exports){var getRandomValues=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(getRandomValues){var rnds8=new Uint8Array(16);module.exports=function whatwgRNG(){getRandomValues(rnds8);return rnds8}}else{var rnds=new Array(16);module.exports=function mathRNG(){for(var i=0,r;i<16;i++){if((i&3)===0)r=Math.random()*4294967296;rnds[i]=r>>>((i&3)<<3)&255}return rnds}}},function(module,exports){var byteToHex=[];for(var i=0;i<256;++i){byteToHex[i]=(i+256).toString(16).substr(1)}function bytesToUuid(buf,offset){var i=offset||0;var bth=byteToHex;return[bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]]].join("")}module.exports=bytesToUuid},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Form}));__webpack_require__.d(__webpack_exports__,"d",(function(){return UseField}));__webpack_require__.d(__webpack_exports__,"f",(function(){return getUseField}));__webpack_require__.d(__webpack_exports__,"e",(function(){return UseMultiFields}));__webpack_require__.d(__webpack_exports__,"c",(function(){return UseArray}));__webpack_require__.d(__webpack_exports__,"b",(function(){return FormDataProvider}));var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(1);var form_context=__webpack_require__(8);var form_data_context=__webpack_require__(19);const Form=({form:form,FormWrapper:FormWrapper=external_kbnSharedDeps_ElasticEui_["EuiForm"],...rest})=>{const{getFormData:getFormData,__getFormData$:__getFormData$}=form;return external_kbnSharedDeps_React_default.a.createElement(form_data_context["a"],{getFormData:getFormData,getFormData$:__getFormData$},external_kbnSharedDeps_React_default.a.createElement(form_context["a"],{form:form},external_kbnSharedDeps_React_default.a.createElement(FormWrapper,rest)))};var hooks=__webpack_require__(7);function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function UseFieldComp(props){const{path:path,config:config,defaultValue:defaultValue,component:component,componentProps:componentProps,readDefaultValueOnForm:readDefaultValueOnForm=true,onChange:onChange,onError:onError,children:children,...rest}=props;const form=Object(form_context["b"])();const ComponentToRender=component!==null&&component!==void 0?component:"input";const propsToForward={...componentProps,...rest};const fieldConfig=config!==undefined?{...config}:{...form.__readFieldConfigFromSchema(path)};if(defaultValue!==undefined){form.__updateDefaultValueAt(path,defaultValue);fieldConfig.initialValue=defaultValue}else{if(readDefaultValueOnForm){var _ref;fieldConfig.initialValue=(_ref=form.__getFieldDefaultValue(path))!==null&&_ref!==void 0?_ref:fieldConfig.defaultValue}}const field=Object(hooks["a"])(form,path,fieldConfig,onChange,onError);if(children){return children(field)}if(ComponentToRender==="input"){return external_kbnSharedDeps_React_default.a.createElement(ComponentToRender,_extends({type:field.type,onChange:field.onChange,value:field.value},propsToForward))}return external_kbnSharedDeps_React_default.a.createElement(ComponentToRender,{field:field,...propsToForward})}const UseField=external_kbnSharedDeps_React_default.a.memo(UseFieldComp);function getUseField(partialProps){return function(props){const componentProps={...partialProps,...props};return external_kbnSharedDeps_React_default.a.createElement(UseField,componentProps)}}function UseMultiFields({fields:fields,children:children}){const fieldsArray=Object.entries(fields).reduce((acc,[fieldId,field])=>[...acc,{id:fieldId,...field}],[]);const hookFields={};const renderField=index=>{const{id:id}=fieldsArray[index];return external_kbnSharedDeps_React_default.a.createElement(UseField,fields[id],field=>{hookFields[id]=field;return index===fieldsArray.length-1?children(hookFields):renderField(index+1)})};if(!Boolean(fieldsArray.length)){return null}return renderField(0)}var helpers=__webpack_require__(17);const UseArray=({path:path,initialNumberOfItems:initialNumberOfItems,validations:validations,readDefaultValueOnForm:readDefaultValueOnForm=true,children:children})=>{const isMounted=Object(external_kbnSharedDeps_React_["useRef"])(false);const uniqueId=Object(external_kbnSharedDeps_React_["useRef"])(0);const form=Object(form_context["b"])();const{__getFieldDefaultValue:__getFieldDefaultValue}=form;const getNewItemAtIndex=Object(external_kbnSharedDeps_React_["useCallback"])(index=>({id:uniqueId.current++,path:`${path}[${index}]`,isNew:true}),[path]);const fieldDefaultValue=Object(external_kbnSharedDeps_React_["useMemo"])(()=>{const defaultValues=readDefaultValueOnForm?__getFieldDefaultValue(path):undefined;const getInitialItemsFromValues=values=>values.map((_,index)=>({id:uniqueId.current++,path:`${path}[${index}]`,isNew:false}));return defaultValues?getInitialItemsFromValues(defaultValues):new Array(initialNumberOfItems).fill("").map((_,i)=>getNewItemAtIndex(i))},[path,initialNumberOfItems,readDefaultValueOnForm,__getFieldDefaultValue,getNewItemAtIndex]);const fieldConfigBase={defaultValue:fieldDefaultValue,valueChangeDebounceTime:0,isIncludedInOutput:false};const fieldConfig=validations?{validations:validations,...fieldConfigBase}:fieldConfigBase;const field=Object(hooks["a"])(form,path,fieldConfig);const{setValue:setValue,value:value,isChangingValue:isChangingValue,errors:errors}=field;const error=Object(external_kbnSharedDeps_React_["useMemo"])(()=>{const{errorMessage:errorMessage}=Object(helpers["a"])({isChangingValue:isChangingValue,errors:errors});return errorMessage},[isChangingValue,errors]);const updatePaths=Object(external_kbnSharedDeps_React_["useCallback"])(_rows=>_rows.map((row,index)=>({...row,path:`${path}[${index}]`})),[path]);const addItem=Object(external_kbnSharedDeps_React_["useCallback"])(()=>{setValue(previousItems=>{const itemIndex=previousItems.length;return[...previousItems,getNewItemAtIndex(itemIndex)]})},[setValue,getNewItemAtIndex]);const removeItem=Object(external_kbnSharedDeps_React_["useCallback"])(id=>{setValue(previousItems=>{const updatedItems=previousItems.filter(item=>item.id!==id);return updatePaths(updatedItems)})},[setValue,updatePaths]);const moveItem=Object(external_kbnSharedDeps_React_["useCallback"])((sourceIdx,destinationIdx)=>{setValue(previousItems=>{const nextItems=[...previousItems];const removed=nextItems.splice(sourceIdx,1)[0];nextItems.splice(destinationIdx,0,removed);return updatePaths(nextItems)})},[setValue,updatePaths]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(!isMounted.current){return}setValue(prev=>updatePaths(prev))},[path,updatePaths,setValue]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{isMounted.current=true;return()=>{isMounted.current=false}},[]);return children({items:value,error:error,form:form,addItem:addItem,removeItem:removeItem,moveItem:moveItem})};const FormDataProviderComp=function({children:children,pathsToWatch:pathsToWatch}){const{0:formData,2:isReady}=Object(hooks["c"])({watch:pathsToWatch});if(!isReady){return null}return children(formData)};const FormDataProvider=external_kbnSharedDeps_React_default.a.memo(FormDataProviderComp)},function(module,exports){module.exports=__kbnSharedDeps__.ReactDom},function(module,exports,__webpack_require__){"use strict";const strictUriEncode=__webpack_require__(50);const decodeComponent=__webpack_require__(51);const splitOnFirst=__webpack_require__(52);const isNullOrUndefined=value=>value===null||value===undefined;function encoderForArrayFormat(options){switch(options.arrayFormat){case"index":return key=>(result,value)=>{const index=result.length;if(value===undefined||options.skipNull&&value===null||options.skipEmptyString&&value===""){return result}if(value===null){return[...result,[encode(key,options),"[",index,"]"].join("")]}return[...result,[encode(key,options),"[",encode(index,options),"]=",encode(value,options)].join("")]};case"bracket":return key=>(result,value)=>{if(value===undefined||options.skipNull&&value===null||options.skipEmptyString&&value===""){return result}if(value===null){return[...result,[encode(key,options),"[]"].join("")]}return[...result,[encode(key,options),"[]=",encode(value,options)].join("")]};case"comma":case"separator":return key=>(result,value)=>{if(value===null||value===undefined||value.length===0){return result}if(result.length===0){return[[encode(key,options),"=",encode(value,options)].join("")]}return[[result,encode(value,options)].join(options.arrayFormatSeparator)]};default:return key=>(result,value)=>{if(value===undefined||options.skipNull&&value===null||options.skipEmptyString&&value===""){return result}if(value===null){return[...result,encode(key,options)]}return[...result,[encode(key,options),"=",encode(value,options)].join("")]}}}function parserForArrayFormat(options){let result;switch(options.arrayFormat){case"index":return(key,value,accumulator)=>{result=/\[(\d*)\]$/.exec(key);key=key.replace(/\[\d*\]$/,"");if(!result){accumulator[key]=value;return}if(accumulator[key]===undefined){accumulator[key]={}}accumulator[key][result[1]]=value};case"bracket":return(key,value,accumulator)=>{result=/(\[\])$/.exec(key);key=key.replace(/\[\]$/,"");if(!result){accumulator[key]=value;return}if(accumulator[key]===undefined){accumulator[key]=[value];return}accumulator[key]=[].concat(accumulator[key],value)};case"comma":case"separator":return(key,value,accumulator)=>{const isArray=typeof value==="string"&&value.split("").indexOf(options.arrayFormatSeparator)>-1;const newValue=isArray?value.split(options.arrayFormatSeparator).map(item=>decode(item,options)):value===null?value:decode(value,options);accumulator[key]=newValue};default:return(key,value,accumulator)=>{if(accumulator[key]===undefined){accumulator[key]=value;return}accumulator[key]=[].concat(accumulator[key],value)}}}function validateArrayFormatSeparator(value){if(typeof value!=="string"||value.length!==1){throw new TypeError("arrayFormatSeparator must be single character string")}}function encode(value,options){if(options.encode){return options.strict?strictUriEncode(value):encodeURIComponent(value)}return value}function decode(value,options){if(options.decode){return decodeComponent(value)}return value}function keysSorter(input){if(Array.isArray(input)){return input.sort()}if(typeof input==="object"){return keysSorter(Object.keys(input)).sort((a,b)=>Number(a)-Number(b)).map(key=>input[key])}return input}function removeHash(input){const hashStart=input.indexOf("#");if(hashStart!==-1){input=input.slice(0,hashStart)}return input}function getHash(url){let hash="";const hashStart=url.indexOf("#");if(hashStart!==-1){hash=url.slice(hashStart)}return hash}function extract(input){input=removeHash(input);const queryStart=input.indexOf("?");if(queryStart===-1){return""}return input.slice(queryStart+1)}function parseValue(value,options){if(options.parseNumbers&&!Number.isNaN(Number(value))&&(typeof value==="string"&&value.trim()!=="")){value=Number(value)}else if(options.parseBooleans&&value!==null&&(value.toLowerCase()==="true"||value.toLowerCase()==="false")){value=value.toLowerCase()==="true"}return value}function parse(input,options){options=Object.assign({decode:true,sort:true,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:false,parseBooleans:false},options);validateArrayFormatSeparator(options.arrayFormatSeparator);const formatter=parserForArrayFormat(options);const ret=Object.create(null);if(typeof input!=="string"){return ret}input=input.trim().replace(/^[?#&]/,"");if(!input){return ret}for(const param of input.split("&")){let[key,value]=splitOnFirst(options.decode?param.replace(/\+/g," "):param,"=");value=value===undefined?null:["comma","separator"].includes(options.arrayFormat)?value:decode(value,options);formatter(decode(key,options),value,ret)}for(const key of Object.keys(ret)){const value=ret[key];if(typeof value==="object"&&value!==null){for(const k of Object.keys(value)){value[k]=parseValue(value[k],options)}}else{ret[key]=parseValue(value,options)}}if(options.sort===false){return ret}return(options.sort===true?Object.keys(ret).sort():Object.keys(ret).sort(options.sort)).reduce((result,key)=>{const value=ret[key];if(Boolean(value)&&typeof value==="object"&&!Array.isArray(value)){result[key]=keysSorter(value)}else{result[key]=value}return result},Object.create(null))}exports.extract=extract;exports.parse=parse;exports.stringify=(object,options)=>{if(!object){return""}options=Object.assign({encode:true,strict:true,arrayFormat:"none",arrayFormatSeparator:","},options);validateArrayFormatSeparator(options.arrayFormatSeparator);const shouldFilter=key=>options.skipNull&&isNullOrUndefined(object[key])||options.skipEmptyString&&object[key]==="";const formatter=encoderForArrayFormat(options);const objectCopy={};for(const key of Object.keys(object)){if(!shouldFilter(key)){objectCopy[key]=object[key]}}const keys=Object.keys(objectCopy);if(options.sort!==false){keys.sort(options.sort)}return keys.map(key=>{const value=object[key];if(value===undefined){return""}if(value===null){return encode(key,options)}if(Array.isArray(value)){return value.reduce(formatter(key),[]).join("&")}return encode(key,options)+"="+encode(value,options)}).filter(x=>x.length>0).join("&")};exports.parseUrl=(input,options)=>{options=Object.assign({decode:true},options);const[url,hash]=splitOnFirst(input,"#");return Object.assign({url:url.split("?")[0]||"",query:parse(extract(input),options)},options&&options.parseFragmentIdentifier&&hash?{fragmentIdentifier:decode(hash,options)}:{})};exports.stringifyUrl=(input,options)=>{options=Object.assign({encode:true,strict:true},options);const url=removeHash(input.url).split("?")[0]||"";const queryFromUrl=exports.extract(input.url);const parsedQueryFromUrl=exports.parse(queryFromUrl,{sort:false});const query=Object.assign(parsedQueryFromUrl,input.query);let queryString=exports.stringify(query,options);if(queryString){queryString=`?${queryString}`}let hash=getHash(input.url);if(input.fragmentIdentifier){hash=`#${encode(input.fragmentIdentifier,options)}`}return`${url}${queryString}${hash}`}},function(module,exports,__webpack_require__){var v1=__webpack_require__(100);var v4=__webpack_require__(101);var uuid=v4;uuid.v1=v1;uuid.v4=v4;module.exports=uuid},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_val_loader_dist_cjs_js_key_esUiShared_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(40);var _node_modules_val_loader_dist_cjs_js_key_esUiShared_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_val_loader_dist_cjs_js_key_esUiShared_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__);__kbnBundles__.define("plugin/esUiShared/public",__webpack_require__,11);__kbnBundles__.define("plugin/esUiShared/static/forms/components",__webpack_require__,104);__kbnBundles__.define("plugin/esUiShared/static/forms/helpers",__webpack_require__,103);__kbnBundles__.define("plugin/esUiShared/static/forms/hook_form_lib",__webpack_require__,3);__kbnBundles__.define("plugin/esUiShared/static/validators/string",__webpack_require__,4);__kbnBundles__.define("plugin/esUiShared/static/forms/helpers/field_validators/types",__webpack_require__,102)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__kbnPublicPath__["esUiShared"]},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(42);case"v7light":return __webpack_require__(44);case"v8dark":return __webpack_require__(46);case"v8light":return __webpack_require__(48)}},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(43);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(13);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".kbnUiAceKeyboardHint {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  background: rgba(29, 30, 36, 0.7);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  opacity: 0; }\n  .kbnUiAceKeyboardHint:focus {\n    opacity: 1;\n    border: 2px solid #1BA9F5;\n    z-index: 1000; }\n  .kbnUiAceKeyboardHint.kbnUiAceKeyboardHint-isInactive {\n    display: none; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(45);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(13);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".kbnUiAceKeyboardHint {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  background: rgba(255, 255, 255, 0.7);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  opacity: 0; }\n  .kbnUiAceKeyboardHint:focus {\n    opacity: 1;\n    border: 2px solid #006BB4;\n    z-index: 1000; }\n  .kbnUiAceKeyboardHint.kbnUiAceKeyboardHint-isInactive {\n    display: none; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(47);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(13);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".kbnUiAceKeyboardHint {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  background: rgba(29, 30, 36, 0.7);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  opacity: 0; }\n  .kbnUiAceKeyboardHint:focus {\n    opacity: 1;\n    border: 2px solid #36A2EF;\n    z-index: 1000; }\n  .kbnUiAceKeyboardHint.kbnUiAceKeyboardHint-isInactive {\n    display: none; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(12);var content=__webpack_require__(49);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(13);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".kbnUiAceKeyboardHint {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  background: rgba(255, 255, 255, 0.7);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  opacity: 0; }\n  .kbnUiAceKeyboardHint:focus {\n    opacity: 1;\n    border: 2px solid #07C;\n    z-index: 1000; }\n  .kbnUiAceKeyboardHint.kbnUiAceKeyboardHint-isInactive {\n    display: none; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){"use strict";module.exports=str=>encodeURIComponent(str).replace(/[!'()*]/g,x=>`%${x.charCodeAt(0).toString(16).toUpperCase()}`)},function(module,exports,__webpack_require__){"use strict";var token="%[a-f0-9]{2}";var singleMatcher=new RegExp(token,"gi");var multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(components,split){try{return decodeURIComponent(components.join(""))}catch(err){}if(components.length===1){return components}split=split||1;var left=components.slice(0,split);var right=components.slice(split);return Array.prototype.concat.call([],decodeComponents(left),decodeComponents(right))}function decode(input){try{return decodeURIComponent(input)}catch(err){var tokens=input.match(singleMatcher);for(var i=1;i<tokens.length;i++){input=decodeComponents(tokens,i).join("");tokens=input.match(singleMatcher)}return input}}function customDecodeURIComponent(input){var replaceMap={"%FE%FF":"��","%FF%FE":"��"};var match=multiMatcher.exec(input);while(match){try{replaceMap[match[0]]=decodeURIComponent(match[0])}catch(err){var result=decode(match[0]);if(result!==match[0]){replaceMap[match[0]]=result}}match=multiMatcher.exec(input)}replaceMap["%C2"]="�";var entries=Object.keys(replaceMap);for(var i=0;i<entries.length;i++){var key=entries[i];input=input.replace(new RegExp(key,"g"),replaceMap[key])}return input}module.exports=function(encodedURI){if(typeof encodedURI!=="string"){throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof encodedURI+"`")}try{encodedURI=encodedURI.replace(/\+/g," ");return decodeURIComponent(encodedURI)}catch(err){return customDecodeURIComponent(encodedURI)}}},function(module,exports,__webpack_require__){"use strict";module.exports=(string,separator)=>{if(!(typeof string==="string"&&typeof separator==="string")){throw new TypeError("Expected the arguments to be of type `string`")}if(separator===""){return[string]}const separatorIndex=string.indexOf(separator);if(separatorIndex===-1){return[string]}return[string.slice(0,separatorIndex),string.slice(separatorIndex+separator.length)]}},function(module,exports,__webpack_require__){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(acequire,exports,module){"use strict";var oop=acequire("../lib/oop");var TextHighlightRules=acequire("./text_highlight_rules").TextHighlightRules;var JsonHighlightRules=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};oop.inherits(JsonHighlightRules,TextHighlightRules);exports.JsonHighlightRules=JsonHighlightRules}));ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],(function(acequire,exports,module){"use strict";var Range=acequire("../range").Range;var MatchingBraceOutdent=function(){};(function(){this.checkOutdent=function(line,input){if(!/^\s+$/.test(line))return false;return/^\s*\}/.test(input)};this.autoOutdent=function(doc,row){var line=doc.getLine(row);var match=line.match(/^(\s*\})/);if(!match)return 0;var column=match[1].length;var openBracePos=doc.findMatchingBracket({row:row,column:column});if(!openBracePos||openBracePos.row==row)return 0;var indent=this.$getIndent(doc.getLine(openBracePos.row));doc.replace(new Range(row,0,row,column-1),indent)};this.$getIndent=function(line){return line.match(/^\s*/)[0]}}).call(MatchingBraceOutdent.prototype);exports.MatchingBraceOutdent=MatchingBraceOutdent}));ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(acequire,exports,module){"use strict";var oop=acequire("../../lib/oop");var Range=acequire("../../range").Range;var BaseFoldMode=acequire("./fold_mode").FoldMode;var FoldMode=exports.FoldMode=function(commentRegex){if(commentRegex){this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+commentRegex.start));this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+commentRegex.end))}};oop.inherits(FoldMode,BaseFoldMode);(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/;this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/;this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/;this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/;this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/;this._getFoldWidgetBase=this.getFoldWidget;this.getFoldWidget=function(session,foldStyle,row){var line=session.getLine(row);if(this.singleLineBlockCommentRe.test(line)){if(!this.startRegionRe.test(line)&&!this.tripleStarBlockCommentRe.test(line))return""}var fw=this._getFoldWidgetBase(session,foldStyle,row);if(!fw&&this.startRegionRe.test(line))return"start";return fw};this.getFoldWidgetRange=function(session,foldStyle,row,forceMultiline){var line=session.getLine(row);if(this.startRegionRe.test(line))return this.getCommentRegionBlock(session,line,row);var match=line.match(this.foldingStartMarker);if(match){var i=match.index;if(match[1])return this.openingBracketBlock(session,match[1],row,i);var range=session.getCommentFoldRange(row,i+match[0].length,1);if(range&&!range.isMultiLine()){if(forceMultiline){range=this.getSectionRange(session,row)}else if(foldStyle!="all")range=null}return range}if(foldStyle==="markbegin")return;var match=line.match(this.foldingStopMarker);if(match){var i=match.index+match[0].length;if(match[1])return this.closingBracketBlock(session,match[1],row,i);return session.getCommentFoldRange(row,i,-1)}};this.getSectionRange=function(session,row){var line=session.getLine(row);var startIndent=line.search(/\S/);var startRow=row;var startColumn=line.length;row=row+1;var endRow=row;var maxRow=session.getLength();while(++row<maxRow){line=session.getLine(row);var indent=line.search(/\S/);if(indent===-1)continue;if(startIndent>indent)break;var subRange=this.getFoldWidgetRange(session,"all",row);if(subRange){if(subRange.start.row<=startRow){break}else if(subRange.isMultiLine()){row=subRange.end.row}else if(startIndent==indent){break}}endRow=row}return new Range(startRow,startColumn,endRow,session.getLine(endRow).length)};this.getCommentRegionBlock=function(session,line,row){var startColumn=line.search(/\s*$/);var maxRow=session.getLength();var startRow=row;var re=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/;var depth=1;while(++row<maxRow){line=session.getLine(row);var m=re.exec(line);if(!m)continue;if(m[1])depth--;else depth++;if(!depth)break}var endRow=row;if(endRow>startRow){return new Range(startRow,startColumn,endRow,line.length)}}}).call(FoldMode.prototype)}));ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],(function(acequire,exports,module){"use strict";var oop=acequire("../lib/oop");var TextMode=acequire("./text").Mode;var HighlightRules=acequire("./json_highlight_rules").JsonHighlightRules;var MatchingBraceOutdent=acequire("./matching_brace_outdent").MatchingBraceOutdent;var CstyleBehaviour=acequire("./behaviour/cstyle").CstyleBehaviour;var CStyleFoldMode=acequire("./folding/cstyle").FoldMode;var WorkerClient=acequire("../worker/worker_client").WorkerClient;var Mode=function(){this.HighlightRules=HighlightRules;this.$outdent=new MatchingBraceOutdent;this.$behaviour=new CstyleBehaviour;this.foldingRules=new CStyleFoldMode};oop.inherits(Mode,TextMode);(function(){this.getNextLineIndent=function(state,line,tab){var indent=this.$getIndent(line);if(state=="start"){var match=line.match(/^.*[\{\(\[]\s*$/);if(match){indent+=tab}}return indent};this.checkOutdent=function(state,line,input){return this.$outdent.checkOutdent(line,input)};this.autoOutdent=function(state,doc,row){this.$outdent.autoOutdent(doc,row)};this.createWorker=function(session){var worker=new WorkerClient(["ace"],__webpack_require__(54),"JsonWorker");worker.attachToDocument(session.getDocument());worker.on("annotate",(function(e){session.setAnnotations(e.data)}));worker.on("terminate",(function(){session.clearAnnotations()}));return worker};this.$id="ace/mode/json"}).call(Mode.prototype);exports.Mode=Mode}))},function(module,exports){module.exports.id="ace/mode/json_worker";module.exports.src='"no use strict";!function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}}(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/json/json_parse",["require","exports","module"],function(){"use strict";var at,ch,text,value,escapee={\'"\':\'"\',"\\\\":"\\\\","/":"/",b:"\\b",f:"\\f",n:"\\n",r:"\\r",t:"\t"},error=function(m){throw{name:"SyntaxError",message:m,at:at,text:text}},next=function(c){return c&&c!==ch&&error("Expected \'"+c+"\' instead of \'"+ch+"\'"),ch=text.charAt(at),at+=1,ch},number=function(){var number,string="";for("-"===ch&&(string="-",next("-"));ch>="0"&&"9">=ch;)string+=ch,next();if("."===ch)for(string+=".";next()&&ch>="0"&&"9">=ch;)string+=ch;if("e"===ch||"E"===ch)for(string+=ch,next(),("-"===ch||"+"===ch)&&(string+=ch,next());ch>="0"&&"9">=ch;)string+=ch,next();return number=+string,isNaN(number)?(error("Bad number"),void 0):number},string=function(){var hex,i,uffff,string="";if(\'"\'===ch)for(;next();){if(\'"\'===ch)return next(),string;if("\\\\"===ch)if(next(),"u"===ch){for(uffff=0,i=0;4>i&&(hex=parseInt(next(),16),isFinite(hex));i+=1)uffff=16*uffff+hex;string+=String.fromCharCode(uffff)}else{if("string"!=typeof escapee[ch])break;string+=escapee[ch]}else string+=ch}error("Bad string")},white=function(){for(;ch&&" ">=ch;)next()},word=function(){switch(ch){case"t":return next("t"),next("r"),next("u"),next("e"),!0;case"f":return next("f"),next("a"),next("l"),next("s"),next("e"),!1;case"n":return next("n"),next("u"),next("l"),next("l"),null}error("Unexpected \'"+ch+"\'")},array=function(){var array=[];if("["===ch){if(next("["),white(),"]"===ch)return next("]"),array;for(;ch;){if(array.push(value()),white(),"]"===ch)return next("]"),array;next(","),white()}}error("Bad array")},object=function(){var key,object={};if("{"===ch){if(next("{"),white(),"}"===ch)return next("}"),object;for(;ch;){if(key=string(),white(),next(":"),Object.hasOwnProperty.call(object,key)&&error(\'Duplicate key "\'+key+\'"\'),object[key]=value(),white(),"}"===ch)return next("}"),object;next(","),white()}}error("Bad object")};return value=function(){switch(white(),ch){case"{":return object();case"[":return array();case\'"\':return string();case"-":return number();default:return ch>="0"&&"9">=ch?number():word()}},function(source,reviver){var result;return text=source,at=0,ch=" ",result=value(),white(),ch&&error("Syntax error"),"function"==typeof reviver?function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)Object.hasOwnProperty.call(value,k)&&(v=walk(value,k),void 0!==v?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}({"":result},""):result}}),ace.define("ace/mode/json_worker",["require","exports","module","ace/lib/oop","ace/worker/mirror","ace/mode/json/json_parse"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop"),Mirror=acequire("../worker/mirror").Mirror,parse=acequire("./json/json_parse"),JsonWorker=exports.JsonWorker=function(sender){Mirror.call(this,sender),this.setTimeout(200)};oop.inherits(JsonWorker,Mirror),function(){this.onUpdate=function(){var value=this.doc.getValue(),errors=[];try{value&&parse(value)}catch(e){var pos=this.doc.indexToPosition(e.at-1);errors.push({row:pos.row,column:pos.column,text:e.message,type:"error"})}this.sender.emit("annotate",errors)}}.call(JsonWorker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0\n}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r   ᠎             　\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});'},function(module,exports,__webpack_require__){var baseSet=__webpack_require__(28);function set(object,path,value){return object==null?object:baseSet(object,path,value)}module.exports=set},function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__(57),eq=__webpack_require__(31);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object)){baseAssignValue(object,key,value)}}module.exports=assignValue},function(module,exports,__webpack_require__){var defineProperty=__webpack_require__(58);function baseAssignValue(object,key,value){if(key=="__proto__"&&defineProperty){defineProperty(object,key,{configurable:true,enumerable:true,value:value,writable:true})}else{object[key]=value}}module.exports=baseAssignValue},function(module,exports,__webpack_require__){var getNative=__webpack_require__(21);var defineProperty=function(){try{var func=getNative(Object,"defineProperty");func({},"",{});return func}catch(e){}}();module.exports=defineProperty},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(29),isMasked=__webpack_require__(64),isObject=__webpack_require__(24),toSource=__webpack_require__(66);var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reIsHostCtor=/^\[object .+?Constructor\]$/;var funcProto=Function.prototype,objectProto=Object.prototype;var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(value){if(!isObject(value)||isMasked(value)){return false}var pattern=isFunction(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}module.exports=baseIsNative},function(module,exports,__webpack_require__){(function(global){var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;module.exports=freeGlobal}).call(this,__webpack_require__(61))},function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){if(typeof window==="object")g=window}module.exports=g},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(22);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var nativeObjectToString=objectProto.toString;var symToStringTag=Symbol?Symbol.toStringTag:undefined;function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=true}catch(e){}var result=nativeObjectToString.call(value);if(unmasked){if(isOwn){value[symToStringTag]=tag}else{delete value[symToStringTag]}}return result}module.exports=getRawTag},function(module,exports){var objectProto=Object.prototype;var nativeObjectToString=objectProto.toString;function objectToString(value){return nativeObjectToString.call(value)}module.exports=objectToString},function(module,exports,__webpack_require__){var coreJsData=__webpack_require__(65);var maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}();function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}module.exports=isMasked},function(module,exports,__webpack_require__){var root=__webpack_require__(23);var coreJsData=root["__core-js_shared__"];module.exports=coreJsData},function(module,exports){var funcProto=Function.prototype;var funcToString=funcProto.toString;function toSource(func){if(func!=null){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}module.exports=toSource},function(module,exports){function getValue(object,key){return object==null?undefined:object[key]}module.exports=getValue},function(module,exports,__webpack_require__){var isArray=__webpack_require__(25),isKey=__webpack_require__(69),stringToPath=__webpack_require__(71),toString=__webpack_require__(94);function castPath(value,object){if(isArray(value)){return value}return isKey(value,object)?[value]:stringToPath(toString(value))}module.exports=castPath},function(module,exports,__webpack_require__){var isArray=__webpack_require__(25),isSymbol=__webpack_require__(26);var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(value,object){if(isArray(value)){return false}var type=typeof value;if(type=="number"||type=="symbol"||type=="boolean"||value==null||isSymbol(value)){return true}return reIsPlainProp.test(value)||!reIsDeepProp.test(value)||object!=null&&value in Object(object)}module.exports=isKey},function(module,exports){function isObjectLike(value){return value!=null&&typeof value=="object"}module.exports=isObjectLike},function(module,exports,__webpack_require__){var memoizeCapped=__webpack_require__(72);var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var reEscapeChar=/\\(\\)?/g;var stringToPath=memoizeCapped((function(string){var result=[];if(string.charCodeAt(0)===46){result.push("")}string.replace(rePropName,(function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)}));return result}));module.exports=stringToPath},function(module,exports,__webpack_require__){var memoize=__webpack_require__(73);var MAX_MEMOIZE_SIZE=500;function memoizeCapped(func){var result=memoize(func,(function(key){if(cache.size===MAX_MEMOIZE_SIZE){cache.clear()}return key}));var cache=result.cache;return result}module.exports=memoizeCapped},function(module,exports,__webpack_require__){var MapCache=__webpack_require__(74);var FUNC_ERROR_TEXT="Expected a function";function memoize(func,resolver){if(typeof func!="function"||resolver!=null&&typeof resolver!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key)}var result=func.apply(this,args);memoized.cache=cache.set(key,result)||cache;return result};memoized.cache=new(memoize.Cache||MapCache);return memoized}memoize.Cache=MapCache;module.exports=memoize},function(module,exports,__webpack_require__){var mapCacheClear=__webpack_require__(75),mapCacheDelete=__webpack_require__(89),mapCacheGet=__webpack_require__(91),mapCacheHas=__webpack_require__(92),mapCacheSet=__webpack_require__(93);function MapCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype["delete"]=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;module.exports=MapCache},function(module,exports,__webpack_require__){var Hash=__webpack_require__(76),ListCache=__webpack_require__(82),Map=__webpack_require__(88);function mapCacheClear(){this.size=0;this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}module.exports=mapCacheClear},function(module,exports,__webpack_require__){var hashClear=__webpack_require__(77),hashDelete=__webpack_require__(78),hashGet=__webpack_require__(79),hashHas=__webpack_require__(80),hashSet=__webpack_require__(81);function Hash(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}Hash.prototype.clear=hashClear;Hash.prototype["delete"]=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;module.exports=Hash},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(14);function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{};this.size=0}module.exports=hashClear},function(module,exports){function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];this.size-=result?1:0;return result}module.exports=hashDelete},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(14);var HASH_UNDEFINED="__lodash_hash_undefined__";var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(data,key)?data[key]:undefined}module.exports=hashGet},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(14);var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key)}module.exports=hashHas},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(14);var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(key,value){var data=this.__data__;this.size+=this.has(key)?0:1;data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value;return this}module.exports=hashSet},function(module,exports,__webpack_require__){var listCacheClear=__webpack_require__(83),listCacheDelete=__webpack_require__(84),listCacheGet=__webpack_require__(85),listCacheHas=__webpack_require__(86),listCacheSet=__webpack_require__(87);function ListCache(entries){var index=-1,length=entries==null?0:entries.length;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype["delete"]=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;module.exports=ListCache},function(module,exports){function listCacheClear(){this.__data__=[];this.size=0}module.exports=listCacheClear},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(15);var arrayProto=Array.prototype;var splice=arrayProto.splice;function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){return false}var lastIndex=data.length-1;if(index==lastIndex){data.pop()}else{splice.call(data,index,1)}--this.size;return true}module.exports=listCacheDelete},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(15);function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]}module.exports=listCacheGet},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(15);function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}module.exports=listCacheHas},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(15);function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){++this.size;data.push([key,value])}else{data[index][1]=value}return this}module.exports=listCacheSet},function(module,exports,__webpack_require__){var getNative=__webpack_require__(21),root=__webpack_require__(23);var Map=getNative(root,"Map");module.exports=Map},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(16);function mapCacheDelete(key){var result=getMapData(this,key)["delete"](key);this.size-=result?1:0;return result}module.exports=mapCacheDelete},function(module,exports){function isKeyable(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}module.exports=isKeyable},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(16);function mapCacheGet(key){return getMapData(this,key).get(key)}module.exports=mapCacheGet},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(16);function mapCacheHas(key){return getMapData(this,key).has(key)}module.exports=mapCacheHas},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(16);function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;data.set(key,value);this.size+=data.size==size?0:1;return this}module.exports=mapCacheSet},function(module,exports,__webpack_require__){var baseToString=__webpack_require__(95);function toString(value){return value==null?"":baseToString(value)}module.exports=toString},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(22),arrayMap=__webpack_require__(96),isArray=__webpack_require__(25),isSymbol=__webpack_require__(26);var INFINITY=1/0;var symbolProto=Symbol?Symbol.prototype:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function baseToString(value){if(typeof value=="string"){return value}if(isArray(value)){return arrayMap(value,baseToString)+""}if(isSymbol(value)){return symbolToString?symbolToString.call(value):""}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}module.exports=baseToString},function(module,exports){function arrayMap(array,iteratee){var index=-1,length=array==null?0:array.length,result=Array(length);while(++index<length){result[index]=iteratee(array[index],index,array)}return result}module.exports=arrayMap},function(module,exports){var MAX_SAFE_INTEGER=9007199254740991;var reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(value,length){var type=typeof value;length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(type=="number"||type!="symbol"&&reIsUint.test(value))&&(value>-1&&value%1==0&&value<length)}module.exports=isIndex},function(module,exports,__webpack_require__){var isSymbol=__webpack_require__(26);var INFINITY=1/0;function toKey(value){if(typeof value=="string"||isSymbol(value)){return value}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}module.exports=toKey},function(module,exports,__webpack_require__){var baseSet=__webpack_require__(28);function setWith(object,path,value,customizer){customizer=typeof customizer=="function"?customizer:undefined;return object==null?object:baseSet(object,path,value,customizer)}module.exports=setWith},function(module,exports,__webpack_require__){var rng=__webpack_require__(33);var bytesToUuid=__webpack_require__(34);var _nodeId;var _clockseq;var _lastMSecs=0;var _lastNSecs=0;function v1(options,buf,offset){var i=buf&&offset||0;var b=buf||[];options=options||{};var node=options.node||_nodeId;var clockseq=options.clockseq!==undefined?options.clockseq:_clockseq;if(node==null||clockseq==null){var seedBytes=rng();if(node==null){node=_nodeId=[seedBytes[0]|1,seedBytes[1],seedBytes[2],seedBytes[3],seedBytes[4],seedBytes[5]]}if(clockseq==null){clockseq=_clockseq=(seedBytes[6]<<8|seedBytes[7])&16383}}var msecs=options.msecs!==undefined?options.msecs:(new Date).getTime();var nsecs=options.nsecs!==undefined?options.nsecs:_lastNSecs+1;var dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(dt<0&&options.clockseq===undefined){clockseq=clockseq+1&16383}if((dt<0||msecs>_lastMSecs)&&options.nsecs===undefined){nsecs=0}if(nsecs>=1e4){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}_lastMSecs=msecs;_lastNSecs=nsecs;_clockseq=clockseq;msecs+=122192928e5;var tl=((msecs&268435455)*1e4+nsecs)%4294967296;b[i++]=tl>>>24&255;b[i++]=tl>>>16&255;b[i++]=tl>>>8&255;b[i++]=tl&255;var tmh=msecs/4294967296*1e4&268435455;b[i++]=tmh>>>8&255;b[i++]=tmh&255;b[i++]=tmh>>>24&15|16;b[i++]=tmh>>>16&255;b[i++]=clockseq>>>8|128;b[i++]=clockseq&255;for(var n=0;n<6;++n){b[i+n]=node[n]}return buf?buf:bytesToUuid(b)}module.exports=v1},function(module,exports,__webpack_require__){var rng=__webpack_require__(33);var bytesToUuid=__webpack_require__(34);function v4(options,buf,offset){var i=buf&&offset||0;if(typeof options=="string"){buf=options==="binary"?new Array(16):null;options=null}options=options||{};var rnds=options.random||(options.rng||rng)();rnds[6]=rnds[6]&15|64;rnds[8]=rnds[8]&63|128;if(buf){for(var ii=0;ii<16;++ii){buf[i+ii]=rnds[ii]}}return buf||bytesToUuid(rnds)}module.exports=v4},function(module,exports){},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"fieldValidators",(function(){return fieldValidators}));__webpack_require__.d(__webpack_exports__,"fieldFormatters",(function(){return fieldFormatters}));__webpack_require__.d(__webpack_exports__,"deserializers",(function(){return deserializers}));__webpack_require__.d(__webpack_exports__,"serializers",(function(){return serializers}));var serializers_namespaceObject={};__webpack_require__.r(serializers_namespaceObject);__webpack_require__.d(serializers_namespaceObject,"multiSelectComponent",(function(){return multiSelectComponent}));__webpack_require__.d(serializers_namespaceObject,"stripEmptyFields",(function(){return stripEmptyFields}));var field_validators_namespaceObject={};__webpack_require__.r(field_validators_namespaceObject);__webpack_require__.d(field_validators_namespaceObject,"emptyField",(function(){return emptyField}));__webpack_require__.d(field_validators_namespaceObject,"maxLengthField",(function(){return maxLengthField}));__webpack_require__.d(field_validators_namespaceObject,"minLengthField",(function(){return minLengthField}));__webpack_require__.d(field_validators_namespaceObject,"minSelectableSelectionField",(function(){return minSelectableSelectionField}));__webpack_require__.d(field_validators_namespaceObject,"urlField",(function(){return urlField}));__webpack_require__.d(field_validators_namespaceObject,"indexNameField",(function(){return indexNameField}));__webpack_require__.d(field_validators_namespaceObject,"containsCharsField",(function(){return containsCharsField}));__webpack_require__.d(field_validators_namespaceObject,"startsWithField",(function(){return startsWithField}));__webpack_require__.d(field_validators_namespaceObject,"indexPatternField",(function(){return indexPatternField}));__webpack_require__.d(field_validators_namespaceObject,"lowerCaseStringField",(function(){return lowerCaseStringField}));__webpack_require__.d(field_validators_namespaceObject,"isJsonField",(function(){return isJsonField}));__webpack_require__.d(field_validators_namespaceObject,"numberGreaterThanField",(function(){return numberGreaterThanField}));__webpack_require__.d(field_validators_namespaceObject,"numberSmallerThanField",(function(){return numberSmallerThanField}));var field_formatters_namespaceObject={};__webpack_require__.r(field_formatters_namespaceObject);__webpack_require__.d(field_formatters_namespaceObject,"toInt",(function(){return toInt}));var de_serializers_namespaceObject={};__webpack_require__.r(de_serializers_namespaceObject);__webpack_require__.d(de_serializers_namespaceObject,"multiSelectComponent",(function(){return de_serializers_multiSelectComponent}));var string=__webpack_require__(4);const hasMaxLengthArray=(length=5)=>value=>value.length<=length;const hasMinLengthArray=(length=1)=>value=>value.length>=length;const isEmptyArray=value=>value.length===0;const emptyField=message=>(...args)=>{const[{value:value,path:path}]=args;if(typeof value==="string"){return Object(string["isEmptyString"])(value)?{code:"ERR_FIELD_MISSING",path:path,message:message}:undefined}if(Array.isArray(value)){return isEmptyArray(value)?{code:"ERR_FIELD_MISSING",path:path,message:message}:undefined}};const maxLengthField=({length:length=0,message:message})=>(...args)=>{const[{value:value}]=args;if(Array.isArray(value)){return hasMaxLengthArray(length)(value)?undefined:{code:"ERR_MAX_LENGTH",length:length,message:typeof message==="function"?message({length:length}):message}}return Object(string["hasMaxLengthString"])(length)(value.trim())?undefined:{code:"ERR_MAX_LENGTH",length:length,message:typeof message==="function"?message({length:length}):message}};const minLengthField=({length:length=0,message:message})=>(...args)=>{const[{value:value}]=args;if(Array.isArray(value)){return hasMinLengthArray(length)(value)?undefined:{code:"ERR_MIN_LENGTH",length:length,message:typeof message==="function"?message({length:length}):message}}return Object(string["hasMinLengthString"])(length)(value.trim())?undefined:{code:"ERR_MIN_LENGTH",length:length,message:typeof message==="function"?message({length:length}):message}};const multiSelectComponent={optionsToSelectedValue(options){return options.filter(option=>option.checked==="on").map(option=>option.label)}};const stripEmptyFields=(object,options)=>{if(object===undefined){return{}}const{types:types=["string","object"],recursive:recursive=false}=options||{};return Object.entries(object).reduce((acc,[key,value])=>{const type=typeof value;const shouldStrip=types.includes(type);if(shouldStrip&&type==="string"&&value.trim()===""){return acc}else if(type==="object"&&!Array.isArray(value)&&value!==null){if(Object.keys(value).length===0&&shouldStrip){return acc}else if(recursive){value=stripEmptyFields({...value},options)}}acc[key]=value;return acc},{})};const{optionsToSelectedValue:optionsToSelectedValue}=multiSelectComponent;const minSelectableSelectionField=({total:total=0,message:message})=>(...args)=>{const[{value:value}]=args;return hasMinLengthArray(total)(optionsToSelectedValue(value))?undefined:{code:"ERR_MIN_SELECTION",total:total,message:typeof message==="function"?message({length:length}):message}};const urlField=message=>(...args)=>{const[{value:value}]=args;const error={code:"ERR_FIELD_FORMAT",formatType:"URL",message:message};if(typeof value!=="string"){return error}return Object(string["isUrl"])(value)?undefined:error};var public_0=__webpack_require__(11);const indexNameField=i18n=>(...args)=>{const[{value:value}]=args;if(Object(string["startsWith"])(".")(value)){return{code:"ERR_FIELD_FORMAT",formatType:"INDEX_NAME",message:i18n.translate("esUi.forms.fieldValidation.indexNameStartsWithDotError",{defaultMessage:"The index name cannot start with a dot (.)."})}}const{doesContain:doesContainSpaces}=Object(string["containsChars"])(" ")(value);if(doesContainSpaces){return{code:"ERR_FIELD_FORMAT",formatType:"INDEX_NAME",message:i18n.translate("esUi.forms.fieldValidation.indexNameSpacesError",{defaultMessage:"The index name cannot contain spaces."})}}const{charsFound:charsFound,doesContain:doesContain}=Object(string["containsChars"])(public_0["indices"].INDEX_ILLEGAL_CHARACTERS_VISIBLE)(value);if(doesContain){return{message:i18n.translate("esUi.forms.fieldValidation.indexNameInvalidCharactersError",{defaultMessage:"The index name contains the invalid {characterListLength, plural, one {character} other {characters}} { characterList }.",values:{characterList:charsFound.join(" "),characterListLength:charsFound.length}})}}};const containsCharsField=({message:message,chars:chars})=>(...args)=>{const[{value:value}]=args;if(typeof value!=="string"){return}const{doesContain:doesContain,charsFound:charsFound}=Object(string["containsChars"])(chars)(value);if(doesContain){return{code:"ERR_INVALID_CHARS",charsFound:charsFound,message:typeof message==="function"?message({charsFound:charsFound}):message}}};const startsWithField=({message:message,char:char})=>(...args)=>{const[{value:value}]=args;if(typeof value!=="string"){return}if(Object(string["startsWith"])(char)(value)){return{code:"ERR_FIRST_CHAR",char:char,message:message}}};var public_=__webpack_require__(10);const indexPatternField=i18n=>(...args)=>{const[{value:value}]=args;if(typeof value!=="string"){return}const{doesContain:doesContain}=Object(string["containsChars"])(" ")(value);if(doesContain){return{code:"ERR_FIELD_FORMAT",formatType:"INDEX_PATTERN",message:i18n.translate("esUi.forms.fieldValidation.indexPatternSpacesError",{defaultMessage:"The index pattern cannot contain spaces."})}}const errors=public_["indexPatterns"].validate(value);if(errors[public_["indexPatterns"].ILLEGAL_CHARACTERS_KEY]){return{code:"ERR_FIELD_FORMAT",formatType:"INDEX_PATTERN",message:i18n.translate("esUi.forms.fieldValidation.indexPatternInvalidCharactersError",{defaultMessage:"The index pattern contains the invalid {characterListLength, plural, one {character} other {characters}} { characterList }.",values:{characterList:errors[public_["indexPatterns"].ILLEGAL_CHARACTERS_KEY].join(" "),characterListLength:errors[public_["indexPatterns"].ILLEGAL_CHARACTERS_KEY].length}})}}};const lowerCaseStringField=message=>(...args)=>{const[{value:value}]=args;if(typeof value!=="string"){return}if(!Object(string["isLowerCaseString"])(value)){return{code:"ERR_LOWERCASE_STRING",message:message}}};const isJsonField=(message,{allowEmptyString:allowEmptyString=false}={})=>(...args)=>{const[{value:value}]=args;if(typeof value!=="string"||allowEmptyString&&value.trim()===""){return}if(!Object(string["isJSON"])(value)){return{code:"ERR_JSON_FORMAT",message:message}}};const isNumberGreaterThan=(than,allowEquality=false)=>value=>allowEquality?value>=than:value>than;const isNumberSmallerThan=(than,allowEquality=false)=>value=>allowEquality?value<=than:value<than;const numberGreaterThanField=({than:than,message:message,allowEquality:allowEquality=false})=>(...args)=>{const[{value:value}]=args;return isNumberGreaterThan(than,allowEquality)(value)?undefined:{code:"ERR_GREATER_THAN_NUMBER",than:than,message:typeof message==="function"?message({than:than}):message}};const numberSmallerThanField=({than:than,message:message,allowEquality:allowEquality=false})=>(...args)=>{const[{value:value}]=args;return isNumberSmallerThan(than,allowEquality)(value)?undefined:{code:"ERR_SMALLER_THAN_NUMBER",than:than,message:typeof message==="function"?message({than:than}):message}};const toInt=value=>parseFloat(value);const de_serializers_multiSelectComponent={selectedValueToOptions(selectOptions){return defaultFormValue=>{if(!defaultFormValue){return selectOptions}return selectOptions.map(option=>({...option,checked:defaultFormValue.includes(option.label)?"on":undefined}))}}};const fieldValidators=field_validators_namespaceObject;const fieldFormatters=field_formatters_namespaceObject;const deserializers=de_serializers_namespaceObject;const serializers=serializers_namespaceObject},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"Field",(function(){return Field}));__webpack_require__.d(__webpack_exports__,"FormRow",(function(){return FormRow}));__webpack_require__.d(__webpack_exports__,"getFormRow",(function(){return getFormRow}));__webpack_require__.d(__webpack_exports__,"TextField",(function(){return TextField}));__webpack_require__.d(__webpack_exports__,"NumericField",(function(){return NumericField}));__webpack_require__.d(__webpack_exports__,"CheckBoxField",(function(){return CheckBoxField}));__webpack_require__.d(__webpack_exports__,"ComboBoxField",(function(){return ComboBoxField}));__webpack_require__.d(__webpack_exports__,"MultiSelectField",(function(){return MultiSelectField}));__webpack_require__.d(__webpack_exports__,"RadioGroupField",(function(){return RadioGroupField}));__webpack_require__.d(__webpack_exports__,"RangeField",(function(){return RangeField}));__webpack_require__.d(__webpack_exports__,"SelectField",(function(){return SelectField}));__webpack_require__.d(__webpack_exports__,"SuperSelectField",(function(){return SuperSelectField}));__webpack_require__.d(__webpack_exports__,"ToggleField",(function(){return ToggleField}));__webpack_require__.d(__webpack_exports__,"TextAreaField",(function(){return TextAreaField}));__webpack_require__.d(__webpack_exports__,"JsonEditorField",(function(){return JsonEditorField}));var json=__webpack_require__(53);var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var hook_form_lib=__webpack_require__(3);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(1);function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}const TextField=({field:field,euiFieldProps:euiFieldProps={},idAria:idAria,...rest})=>{const{isInvalid:isInvalid,errorMessage:errorMessage}=Object(hook_form_lib["getFieldValidityAndErrorMessage"])(field);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],_extends({label:field.label,labelAppend:field.labelAppend,helpText:typeof field.helpText==="function"?field.helpText():field.helpText,error:errorMessage,isInvalid:isInvalid,fullWidth:true,describedByIds:idAria?[idAria]:undefined},rest),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldText"],_extends({isInvalid:isInvalid,value:field.value,onChange:field.onChange,isLoading:field.isValidating,fullWidth:true,"data-test-subj":"input"},euiFieldProps)))};function numeric_field_extends(){numeric_field_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return numeric_field_extends.apply(this,arguments)}const NumericField=({field:field,euiFieldProps:euiFieldProps={},idAria:idAria,...rest})=>{const{isInvalid:isInvalid,errorMessage:errorMessage}=Object(hook_form_lib["getFieldValidityAndErrorMessage"])(field);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],numeric_field_extends({label:field.label,helpText:typeof field.helpText==="function"?field.helpText():field.helpText,error:errorMessage,isInvalid:isInvalid,fullWidth:true,describedByIds:idAria?[idAria]:undefined},rest),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldNumber"],numeric_field_extends({isInvalid:isInvalid,value:field.value,onChange:field.onChange,isLoading:field.isValidating,fullWidth:true,"data-test-subj":"input"},euiFieldProps)))};var uuid=__webpack_require__(38);var uuid_default=__webpack_require__.n(uuid);function checkbox_field_extends(){checkbox_field_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return checkbox_field_extends.apply(this,arguments)}const CheckBoxField=({field:field,euiFieldProps:euiFieldProps={},idAria:idAria,...rest})=>{const{isInvalid:isInvalid,errorMessage:errorMessage}=Object(hook_form_lib["getFieldValidityAndErrorMessage"])(field);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],checkbox_field_extends({helpText:typeof field.helpText==="function"?field.helpText():field.helpText,error:errorMessage,isInvalid:isInvalid,fullWidth:true,describedByIds:idAria?[idAria]:undefined},rest),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCheckbox"],checkbox_field_extends({label:field.label,checked:field.value,onChange:field.onChange,id:euiFieldProps.id||uuid_default()(),"data-test-subj":"input"},euiFieldProps)))};var external_kbnSharedDeps_KbnI18n_=__webpack_require__(2);function combobox_field_extends(){combobox_field_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return combobox_field_extends.apply(this,arguments)}const ComboBoxField=({field:field,euiFieldProps:euiFieldProps={},idAria:idAria,...rest})=>{const errorMessageField=field.getErrorsMessages();const errorMessageArrayItem=field.getErrorsMessages({validationType:hook_form_lib["VALIDATION_TYPES"].ARRAY_ITEM});const isInvalid=field.errors.length?errorMessageField!==null||errorMessageArrayItem!==null:false;const errorMessage=errorMessageField&&errorMessageArrayItem?`${errorMessageField}, ${errorMessageArrayItem}`:errorMessageField?errorMessageField:errorMessageArrayItem;const onCreateComboOption=value=>{const{isValid:isValid}=field.validate({value:value,validationType:hook_form_lib["VALIDATION_TYPES"].ARRAY_ITEM});if(!isValid){return false}const newValue=[...field.value,value];field.setValue(newValue)};const onComboChange=options=>{field.setValue(options.map(option=>option.label))};const onSearchComboChange=value=>{if(value!==undefined){field.clearErrors(hook_form_lib["VALIDATION_TYPES"].ARRAY_ITEM)}};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],combobox_field_extends({label:field.label,labelAppend:field.labelAppend,helpText:typeof field.helpText==="function"?field.helpText():field.helpText,error:errorMessage,isInvalid:isInvalid,fullWidth:true,describedByIds:idAria?[idAria]:undefined},rest),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiComboBox"],combobox_field_extends({noSuggestions:true,placeholder:external_kbnSharedDeps_KbnI18n_["i18n"].translate("esUi.forms.comboBoxField.placeHolderText",{defaultMessage:'Type and then hit "ENTER"'}),selectedOptions:field.value.map(v=>({label:v})),onCreateOption:onCreateComboOption,onChange:onComboChange,onSearchChange:onSearchComboChange,fullWidth:true,"data-test-subj":"input"},euiFieldProps)))};function multi_select_field_extends(){multi_select_field_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return multi_select_field_extends.apply(this,arguments)}const MultiSelectField=({field:field,euiFieldProps:euiFieldProps={},idAria:idAria,...rest})=>{const{isInvalid:isInvalid,errorMessage:errorMessage}=Object(hook_form_lib["getFieldValidityAndErrorMessage"])(field);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],multi_select_field_extends({label:field.label,helpText:typeof field.helpText==="function"?field.helpText():field.helpText,error:errorMessage,isInvalid:isInvalid,fullWidth:true,describedByIds:idAria?[idAria]:undefined},rest),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelectable"],multi_select_field_extends({allowExclusions:false,height:300,onChange:options=>{field.setValue(options)},options:field.value,"data-test-subj":"select"},euiFieldProps),(list,search)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{paddingSize:"s",hasShadow:false},search,list)))};function radio_group_field_extends(){radio_group_field_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return radio_group_field_extends.apply(this,arguments)}const RadioGroupField=({field:field,euiFieldProps:euiFieldProps={},idAria:idAria,...rest})=>{const{isInvalid:isInvalid,errorMessage:errorMessage}=Object(hook_form_lib["getFieldValidityAndErrorMessage"])(field);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],radio_group_field_extends({label:field.label,helpText:typeof field.helpText==="function"?field.helpText():field.helpText,error:errorMessage,isInvalid:isInvalid,fullWidth:true,describedByIds:idAria?[idAria]:undefined},rest),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiRadioGroup"],radio_group_field_extends({idSelected:field.value,options:[],onChange:field.setValue,"data-test-subj":"input"},euiFieldProps)))};function range_field_extends(){range_field_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return range_field_extends.apply(this,arguments)}const RangeField=({field:field,euiFieldProps:euiFieldProps={},idAria:idAria,...rest})=>{const{isInvalid:isInvalid,errorMessage:errorMessage}=Object(hook_form_lib["getFieldValidityAndErrorMessage"])(field);const{onChange:onFieldChange}=field;const onChange=Object(external_kbnSharedDeps_React_["useCallback"])(e=>{const event={...e,value:`${e.currentTarget.value}`};onFieldChange(event)},[onFieldChange]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],range_field_extends({label:field.label,helpText:typeof field.helpText==="function"?field.helpText():field.helpText,error:errorMessage,isInvalid:isInvalid,fullWidth:true,describedByIds:idAria?[idAria]:undefined},rest),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiRange"],range_field_extends({value:field.value,onChange:onChange,max:10,min:0,showRange:true,showInput:true,fullWidth:true,"data-test-subj":"range"},euiFieldProps)))};function select_field_extends(){select_field_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return select_field_extends.apply(this,arguments)}const SelectField=({field:field,euiFieldProps:euiFieldProps,idAria:idAria,...rest})=>{const{isInvalid:isInvalid,errorMessage:errorMessage}=Object(hook_form_lib["getFieldValidityAndErrorMessage"])(field);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],select_field_extends({label:field.label,helpText:typeof field.helpText==="function"?field.helpText():field.helpText,error:errorMessage,isInvalid:isInvalid,fullWidth:true,describedByIds:idAria?[idAria]:undefined},rest),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],select_field_extends({fullWidth:true,value:field.value,onChange:e=>{field.setValue(e.target.value)},hasNoInitialSelection:true,isInvalid:isInvalid,"data-test-subj":"select"},euiFieldProps)))};function super_select_field_extends(){super_select_field_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return super_select_field_extends.apply(this,arguments)}const SuperSelectField=({field:field,euiFieldProps:euiFieldProps={options:[]},idAria:idAria,...rest})=>{const{isInvalid:isInvalid,errorMessage:errorMessage}=Object(hook_form_lib["getFieldValidityAndErrorMessage"])(field);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],super_select_field_extends({label:field.label,helpText:typeof field.helpText==="function"?field.helpText():field.helpText,error:errorMessage,isInvalid:isInvalid,fullWidth:true,describedByIds:idAria?[idAria]:undefined},rest),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSuperSelect"],super_select_field_extends({fullWidth:true,valueOfSelected:field.value,onChange:value=>{field.setValue(value)},isInvalid:isInvalid,"data-test-subj":"select"},euiFieldProps)))};function toggle_field_extends(){toggle_field_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return toggle_field_extends.apply(this,arguments)}const ToggleField=({field:field,euiFieldProps:euiFieldProps={},idAria:idAria,...rest})=>{const{isInvalid:isInvalid,errorMessage:errorMessage}=Object(hook_form_lib["getFieldValidityAndErrorMessage"])(field);const onChange=e=>{const event={...e,value:`${e.target.checked}`};field.onChange(event)};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],toggle_field_extends({helpText:typeof field.helpText==="function"?field.helpText():field.helpText,error:errorMessage,isInvalid:isInvalid,fullWidth:true,describedByIds:idAria?[idAria]:undefined},rest),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSwitch"],toggle_field_extends({label:field.label,checked:field.value,onChange:onChange,"data-test-subj":"input"},euiFieldProps)))};function text_area_field_extends(){text_area_field_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return text_area_field_extends.apply(this,arguments)}const TextAreaField=({field:field,euiFieldProps:euiFieldProps={},idAria:idAria,...rest})=>{const{isInvalid:isInvalid,errorMessage:errorMessage}=Object(hook_form_lib["getFieldValidityAndErrorMessage"])(field);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],text_area_field_extends({label:field.label,helpText:typeof field.helpText==="function"?field.helpText():field.helpText,error:errorMessage,isInvalid:isInvalid,fullWidth:true,describedByIds:idAria?[idAria]:undefined},rest),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextArea"],text_area_field_extends({isInvalid:isInvalid,value:field.value,onChange:field.onChange,fullWidth:true,"data-test-subj":"input"},euiFieldProps)))};var public_0=__webpack_require__(11);function json_editor_field_extends(){json_editor_field_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return json_editor_field_extends.apply(this,arguments)}const JsonEditorField=({field:field,...rest})=>{const{errorMessage:errorMessage}=Object(hook_form_lib["getFieldValidityAndErrorMessage"])(field);const{label:label,helpText:helpText,value:value,setValue:setValue}=field;const onJsonUpdate=Object(external_kbnSharedDeps_React_["useCallback"])(updatedJson=>{setValue(updatedJson.data.raw)},[setValue]);return external_kbnSharedDeps_React_default.a.createElement(public_0["JsonEditor"],json_editor_field_extends({label:label,helpText:helpText,value:value,onUpdate:onJsonUpdate,error:errorMessage},rest))};const mapTypeToFieldComponent={[hook_form_lib["FIELD_TYPES"].TEXT]:TextField,[hook_form_lib["FIELD_TYPES"].TEXTAREA]:TextAreaField,[hook_form_lib["FIELD_TYPES"].NUMBER]:NumericField,[hook_form_lib["FIELD_TYPES"].CHECKBOX]:CheckBoxField,[hook_form_lib["FIELD_TYPES"].COMBO_BOX]:ComboBoxField,[hook_form_lib["FIELD_TYPES"].MULTI_SELECT]:MultiSelectField,[hook_form_lib["FIELD_TYPES"].RADIO_GROUP]:RadioGroupField,[hook_form_lib["FIELD_TYPES"].RANGE]:RangeField,[hook_form_lib["FIELD_TYPES"].SELECT]:SelectField,[hook_form_lib["FIELD_TYPES"].SUPER_SELECT]:SuperSelectField,[hook_form_lib["FIELD_TYPES"].TOGGLE]:ToggleField,[hook_form_lib["FIELD_TYPES"].JSON]:JsonEditorField};const Field=props=>{const FieldComponent=mapTypeToFieldComponent[props.field.type]||TextField;return external_kbnSharedDeps_React_default.a.createElement(FieldComponent,props)};function form_row_extends(){form_row_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return form_row_extends.apply(this,arguments)}function isTitleString(title){return typeof title==="string"||title.type.name==="FormattedMessage"}const FormRow=({title:title,idAria:idAria,description:description,field:field,children:children,titleTag:titleTag="h4",...rest})=>{let titleWrapped;if(isTitleString(title)){const titleWithHTag=external_kbnSharedDeps_React_default.a.createElement(titleTag,undefined,title);titleWrapped=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},titleWithHTag)}else{titleWrapped=title}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescribedFormGroup"],{title:titleWrapped,description:description,fullWidth:true},children?children:field?external_kbnSharedDeps_React_default.a.createElement(Field,form_row_extends({field:field},rest)):null)};const getFormRow=partialProps=>props=>{const componentProps={...partialProps,...props};return external_kbnSharedDeps_React_default.a.createElement(FormRow,componentProps)}}]);