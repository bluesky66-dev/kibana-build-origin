/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window["triggersActionsUi_bundle_jsonpfunction"]=window["triggersActionsUi_bundle_jsonpfunction"]||[]).push([[16],{264:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"EmailParamsFields",(function(){return EmailParamsFields}));__webpack_require__.d(__webpack_exports__,"default",(function(){return EmailParamsFields}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8);var _kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__);var _elastic_eui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2);var _elastic_eui__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__);var _text_field_with_message_variables__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(89);var _text_area_with_message_variables__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(88);const EmailParamsFields=({actionParams:actionParams,editAction:editAction,index:index,errors:errors,messageVariables:messageVariables,defaultMessage:defaultMessage})=>{const{to:to,cc:cc,bcc:bcc,subject:subject,message:message}=actionParams;const toOptions=to?to.map(label=>({label:label})):[];const ccOptions=cc?cc.map(label=>({label:label})):[];const bccOptions=bcc?bcc.map(label=>({label:label})):[];const[addCC,setAddCC]=Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false);const[addBCC,setAddBCC]=Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false);const[[isUsingDefault,defaultMessageUsed],setDefaultMessageUsage]=Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])([false,defaultMessage]);Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(()=>{if(!(actionParams!==null&&actionParams!==void 0&&actionParams.message)||isUsingDefault&&(actionParams===null||actionParams===void 0?void 0:actionParams.message)===defaultMessageUsed&&defaultMessageUsed!==defaultMessage){setDefaultMessageUsage([true,defaultMessage]);editAction("message",defaultMessage,index)}},[defaultMessage]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__["Fragment"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiFormRow"],{fullWidth:true,error:errors.to,isInvalid:errors.to.length>0&&to!==undefined,label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__["i18n"].translate("xpack.triggersActionsUI.sections.builtinActionTypes.emailAction.recipientTextFieldLabel",{defaultMessage:"To"}),labelAppend:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__["Fragment"],null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,!addCC?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiButtonEmpty"],{size:"xs",onClick:()=>setAddCC(true)},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__["FormattedMessage"],{defaultMessage:"Cc",id:"xpack.triggersActionsUI.sections.builtinActionTypes.emailAction.addCcButton"})):null,!addBCC?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiButtonEmpty"],{size:"xs",onClick:()=>setAddBCC(true)},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_1__["FormattedMessage"],{defaultMessage:"Bcc",id:"xpack.triggersActionsUI.sections.builtinActionTypes.emailAction.addBccButton"})):null))},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiComboBox"],{noSuggestions:true,isInvalid:errors.to.length>0&&to!==undefined,fullWidth:true,"data-test-subj":"toEmailAddressInput",selectedOptions:toOptions,onCreateOption:searchValue=>{const newOptions=[...toOptions,{label:searchValue}];editAction("to",newOptions.map(newOption=>newOption.label),index)},onChange:selectedOptions=>{editAction("to",selectedOptions.map(selectedOption=>selectedOption.label),index)},onBlur:()=>{if(!to){editAction("to",[],index)}}})),addCC?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiFormRow"],{fullWidth:true,error:errors.cc,isInvalid:errors.cc.length>0&&cc!==undefined,label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__["i18n"].translate("xpack.triggersActionsUI.sections.builtinActionTypes.emailAction.recipientCopyTextFieldLabel",{defaultMessage:"Cc"})},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiComboBox"],{noSuggestions:true,isInvalid:errors.cc.length>0&&cc!==undefined,fullWidth:true,"data-test-subj":"ccEmailAddressInput",selectedOptions:ccOptions,onCreateOption:searchValue=>{const newOptions=[...ccOptions,{label:searchValue}];editAction("cc",newOptions.map(newOption=>newOption.label),index)},onChange:selectedOptions=>{editAction("cc",selectedOptions.map(selectedOption=>selectedOption.label),index)},onBlur:()=>{if(!cc){editAction("cc",[],index)}}})):null,addBCC?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiFormRow"],{fullWidth:true,error:errors.bcc,isInvalid:errors.bcc.length>0&&bcc!==undefined,label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__["i18n"].translate("xpack.triggersActionsUI.sections.builtinActionTypes.emailAction.recipientBccTextFieldLabel",{defaultMessage:"Bcc"})},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiComboBox"],{noSuggestions:true,isInvalid:errors.bcc.length>0&&bcc!==undefined,fullWidth:true,"data-test-subj":"bccEmailAddressInput",selectedOptions:bccOptions,onCreateOption:searchValue=>{const newOptions=[...bccOptions,{label:searchValue}];editAction("bcc",newOptions.map(newOption=>newOption.label),index)},onChange:selectedOptions=>{editAction("bcc",selectedOptions.map(selectedOption=>selectedOption.label),index)},onBlur:()=>{if(!bcc){editAction("bcc",[],index)}}})):null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiFormRow"],{fullWidth:true,error:errors.subject,isInvalid:errors.subject.length>0&&subject!==undefined,label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__["i18n"].translate("xpack.triggersActionsUI.sections.builtinActionTypes.emailAction.subjectTextFieldLabel",{defaultMessage:"Subject"})},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_text_field_with_message_variables__WEBPACK_IMPORTED_MODULE_4__["a"],{index:index,editAction:editAction,messageVariables:messageVariables,paramsProperty:"subject",inputTargetValue:subject,errors:errors.subject})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_text_area_with_message_variables__WEBPACK_IMPORTED_MODULE_5__["a"],{index:index,editAction:editAction,messageVariables:messageVariables,paramsProperty:"message",inputTargetValue:message,label:_kbn_i18n__WEBPACK_IMPORTED_MODULE_3__["i18n"].translate("xpack.triggersActionsUI.sections.builtinActionTypes.emailAction.messageTextAreaFieldLabel",{defaultMessage:"Message"}),errors:errors.message}))}},76:function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(79);case"v7light":return __webpack_require__(81);case"v8dark":return __webpack_require__(83);case"v8light":return __webpack_require__(85)}},77:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return templateActionVariable}));function templateActionVariable(variable){return variable.useWithTripleBracesInTemplates?`{{{${variable.name}}}}`:`{{${variable.name}}}`}},78:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return AddMessageVariables}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__);var _elastic_eui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2);var _elastic_eui__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__);var _add_message_variables_scss__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(76);var _add_message_variables_scss__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_add_message_variables_scss__WEBPACK_IMPORTED_MODULE_3__);var _lib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(77);const AddMessageVariables=({messageVariables:messageVariables,paramsProperty:paramsProperty,onSelectEventHandler:onSelectEventHandler})=>{var _messageVariables$len;const[isVariablesPopoverOpen,setIsVariablesPopoverOpen]=Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(false);const getMessageVariables=()=>messageVariables===null||messageVariables===void 0?void 0:messageVariables.map((variable,i)=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiContextMenuItem"],{key:variable.name,"data-test-subj":`variableMenuButton-${variable.name}`,icon:"empty",onClick:()=>{onSelectEventHandler(variable);setIsVariablesPopoverOpen(false)}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiText"],{size:"m","data-test-subj":`variableMenuButton-${i}-templated-name`},Object(_lib__WEBPACK_IMPORTED_MODULE_4__["a"])(variable)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiText"],{size:"m",color:"subdued"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"euiTextColor--subdued"},variable.description)))));const addVariableButtonTitle=_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("xpack.triggersActionsUI.components.addMessageVariables.addVariableTitle",{defaultMessage:"Add alert variable"});return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiPopover"],{button:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiButtonIcon"],{id:`${paramsProperty}AddVariableButton`,"data-test-subj":`${paramsProperty}AddVariableButton`,isDisabled:((_messageVariables$len=messageVariables===null||messageVariables===void 0?void 0:messageVariables.length)!==null&&_messageVariables$len!==void 0?_messageVariables$len:0)===0,title:addVariableButtonTitle,onClick:()=>setIsVariablesPopoverOpen(true),iconType:"indexOpen","aria-label":_kbn_i18n__WEBPACK_IMPORTED_MODULE_1__["i18n"].translate("xpack.triggersActionsUI.components.addMessageVariables.addVariablePopoverButton",{defaultMessage:"Add variable"})}),isOpen:isVariablesPopoverOpen,closePopover:()=>setIsVariablesPopoverOpen(false),panelPaddingSize:"none",anchorPosition:"downLeft"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_2__["EuiContextMenuPanel"],{className:"messageVariablesPanel",items:getMessageVariables()}))}},79:function(module,exports,__webpack_require__){var api=__webpack_require__(25);var content=__webpack_require__(80);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},80:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(26);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".messageVariablesPanel {\n  scrollbar-width: thin;\n  height: 100%;\n  overflow-y: auto;\n  -webkit-mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);\n          mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);\n  max-height: 320px;\n  max-width: 320px; }\n  .messageVariablesPanel::-webkit-scrollbar {\n    width: 16px;\n    height: 16px; }\n  .messageVariablesPanel::-webkit-scrollbar-thumb {\n    background-color: rgba(152, 162, 179, 0.5);\n    border: 6px solid transparent;\n    background-clip: content-box; }\n  .messageVariablesPanel::-webkit-scrollbar-corner, .messageVariablesPanel::-webkit-scrollbar-track {\n    background-color: transparent; }\n",""]);module.exports=exports},81:function(module,exports,__webpack_require__){var api=__webpack_require__(25);var content=__webpack_require__(82);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},82:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(26);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".messageVariablesPanel {\n  scrollbar-width: thin;\n  height: 100%;\n  overflow-y: auto;\n  -webkit-mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);\n          mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);\n  max-height: 320px;\n  max-width: 320px; }\n  .messageVariablesPanel::-webkit-scrollbar {\n    width: 16px;\n    height: 16px; }\n  .messageVariablesPanel::-webkit-scrollbar-thumb {\n    background-color: rgba(105, 112, 125, 0.5);\n    border: 6px solid transparent;\n    background-clip: content-box; }\n  .messageVariablesPanel::-webkit-scrollbar-corner, .messageVariablesPanel::-webkit-scrollbar-track {\n    background-color: transparent; }\n",""]);module.exports=exports},83:function(module,exports,__webpack_require__){var api=__webpack_require__(25);var content=__webpack_require__(84);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},84:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(26);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".messageVariablesPanel {\n  scrollbar-width: thin;\n  height: 100%;\n  overflow-y: auto;\n  -webkit-mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);\n          mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);\n  max-height: 320px;\n  max-width: 320px; }\n  .messageVariablesPanel::-webkit-scrollbar {\n    width: 16px;\n    height: 16px; }\n  .messageVariablesPanel::-webkit-scrollbar-thumb {\n    background-color: rgba(152, 162, 179, 0.5);\n    border: 6px solid transparent;\n    background-clip: content-box; }\n  .messageVariablesPanel::-webkit-scrollbar-corner, .messageVariablesPanel::-webkit-scrollbar-track {\n    background-color: transparent; }\n",""]);module.exports=exports},85:function(module,exports,__webpack_require__){var api=__webpack_require__(25);var content=__webpack_require__(86);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},86:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(26);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".messageVariablesPanel {\n  scrollbar-width: thin;\n  height: 100%;\n  overflow-y: auto;\n  -webkit-mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);\n          mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);\n  max-height: 320px;\n  max-width: 320px; }\n  .messageVariablesPanel::-webkit-scrollbar {\n    width: 16px;\n    height: 16px; }\n  .messageVariablesPanel::-webkit-scrollbar-thumb {\n    background-color: rgba(105, 112, 125, 0.5);\n    border: 6px solid transparent;\n    background-clip: content-box; }\n  .messageVariablesPanel::-webkit-scrollbar-corner, .messageVariablesPanel::-webkit-scrollbar-track {\n    background-color: transparent; }\n",""]);module.exports=exports},88:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return TextAreaWithMessageVariables}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _elastic_eui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2);var _elastic_eui__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__);var _add_message_variables_scss__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(76);var _add_message_variables_scss__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_add_message_variables_scss__WEBPACK_IMPORTED_MODULE_2__);var _add_message_variables__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(78);var _lib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(77);const TextAreaWithMessageVariables=({messageVariables:messageVariables,paramsProperty:paramsProperty,index:index,inputTargetValue:inputTargetValue,editAction:editAction,label:label,errors:errors})=>{const[currentTextElement,setCurrentTextElement]=Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null);const onSelectMessageVariable=variable=>{var _currentTextElement$s,_currentTextElement$s2;const templatedVar=Object(_lib__WEBPACK_IMPORTED_MODULE_4__["a"])(variable);const startPosition=(_currentTextElement$s=currentTextElement===null||currentTextElement===void 0?void 0:currentTextElement.selectionStart)!==null&&_currentTextElement$s!==void 0?_currentTextElement$s:0;const endPosition=(_currentTextElement$s2=currentTextElement===null||currentTextElement===void 0?void 0:currentTextElement.selectionEnd)!==null&&_currentTextElement$s2!==void 0?_currentTextElement$s2:0;const newValue=(inputTargetValue!==null&&inputTargetValue!==void 0?inputTargetValue:"").substring(0,startPosition)+templatedVar+(inputTargetValue!==null&&inputTargetValue!==void 0?inputTargetValue:"").substring(endPosition,(inputTargetValue!==null&&inputTargetValue!==void 0?inputTargetValue:"").length);editAction(paramsProperty,newValue,index)};const onChangeWithMessageVariable=e=>{editAction(paramsProperty,e.target.value,index)};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFormRow"],{fullWidth:true,error:errors,isInvalid:errors&&errors.length>0&&inputTargetValue!==undefined,label:label,labelAppend:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_add_message_variables__WEBPACK_IMPORTED_MODULE_3__["a"],{messageVariables:messageVariables,onSelectEventHandler:onSelectMessageVariable,paramsProperty:paramsProperty})},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiTextArea"],{fullWidth:true,isInvalid:errors&&errors.length>0&&inputTargetValue!==undefined,name:paramsProperty,value:inputTargetValue||"","data-test-subj":`${paramsProperty}TextArea`,onChange:e=>onChangeWithMessageVariable(e),onFocus:e=>{setCurrentTextElement(e.target)},onBlur:()=>{if(!inputTargetValue){editAction(paramsProperty,"",index)}}}))}},89:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return TextFieldWithMessageVariables}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _elastic_eui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2);var _elastic_eui__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__);var _add_message_variables_scss__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(76);var _add_message_variables_scss__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_add_message_variables_scss__WEBPACK_IMPORTED_MODULE_2__);var _add_message_variables__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(78);var _lib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(77);const TextFieldWithMessageVariables=({messageVariables:messageVariables,paramsProperty:paramsProperty,index:index,inputTargetValue:inputTargetValue,editAction:editAction,errors:errors,defaultValue:defaultValue})=>{const[currentTextElement,setCurrentTextElement]=Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(null);const onSelectMessageVariable=variable=>{var _currentTextElement$s,_currentTextElement$s2;const templatedVar=Object(_lib__WEBPACK_IMPORTED_MODULE_4__["a"])(variable);const startPosition=(_currentTextElement$s=currentTextElement===null||currentTextElement===void 0?void 0:currentTextElement.selectionStart)!==null&&_currentTextElement$s!==void 0?_currentTextElement$s:0;const endPosition=(_currentTextElement$s2=currentTextElement===null||currentTextElement===void 0?void 0:currentTextElement.selectionEnd)!==null&&_currentTextElement$s2!==void 0?_currentTextElement$s2:0;const newValue=(inputTargetValue!==null&&inputTargetValue!==void 0?inputTargetValue:"").substring(0,startPosition)+templatedVar+(inputTargetValue!==null&&inputTargetValue!==void 0?inputTargetValue:"").substring(endPosition,(inputTargetValue!==null&&inputTargetValue!==void 0?inputTargetValue:"").length);editAction(paramsProperty,newValue,index)};const onChangeWithMessageVariable=e=>{editAction(paramsProperty,e.target.value,index)};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiFieldText"],{fullWidth:true,name:paramsProperty,id:`${paramsProperty}Id`,isInvalid:errors&&errors.length>0&&inputTargetValue!==undefined,"data-test-subj":`${paramsProperty}Input`,value:inputTargetValue||"",defaultValue:defaultValue,onChange:e=>onChangeWithMessageVariable(e),onFocus:e=>{setCurrentTextElement(e.target)},onBlur:e=>{if(!inputTargetValue){editAction(paramsProperty,"",index)}},append:react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_add_message_variables__WEBPACK_IMPORTED_MODULE_3__["a"],{messageVariables:messageVariables,onSelectEventHandler:onSelectMessageVariable,paramsProperty:paramsProperty})})}}}]);