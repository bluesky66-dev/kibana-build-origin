(window["visTypeTimeseries_bundle_jsonpfunction"]=window["visTypeTimeseries_bundle_jsonpfunction"]||[]).push([[11],{154:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ErrorComponent}));var _elastic_eui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12);var _elastic_eui__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);var react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);var lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(31);var lodash__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);var _kbn_i18n_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(30);var _kbn_i18n_react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_3__);const guidPattern=/\[[[a-f\d-\\]{36}\]/g;function ErrorComponent(props){const{error:error}=props;let additionalInfo;const type=lodash__WEBPACK_IMPORTED_MODULE_2___default.a.get(error,"error.caused_by.type")||lodash__WEBPACK_IMPORTED_MODULE_2___default.a.get(error,"error.type");let reason=lodash__WEBPACK_IMPORTED_MODULE_2___default.a.get(error,"error.caused_by.reason");const title=lodash__WEBPACK_IMPORTED_MODULE_2___default.a.get(error,"error.caused_by.title");if(!reason){reason=lodash__WEBPACK_IMPORTED_MODULE_2___default.a.get(error,"message")}if(["runtime_exception","illegal_argument_exception"].includes(type)){reason=lodash__WEBPACK_IMPORTED_MODULE_2___default.a.get(error,"error.reason").replace(guidPattern,``)}if(type==="script_exception"){const scriptStack=lodash__WEBPACK_IMPORTED_MODULE_2___default.a.get(error,"error.caused_by.script_stack");reason=lodash__WEBPACK_IMPORTED_MODULE_2___default.a.get(error,"error.caused_by.caused_by.reason");additionalInfo=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"tvbError__additional"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",null,reason),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"tvbError__stack"},scriptStack.join("\n")))}else if(reason){additionalInfo=react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"tvbError__additional"},reason)}return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"visError"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__["EuiText"],{size:"xs",color:"subdued"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__["EuiIcon"],{type:"alert",size:"m",color:"danger","aria-hidden":"true"}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_0__["EuiSpacer"],{size:"s"}),title||react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_3__["FormattedMessage"],{id:"visTypeTimeseries.error.requestForPanelFailedErrorMessage",defaultMessage:"The request for this panel failed"}),additionalInfo))}},350:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",(function(){return TimeseriesVisualization}));var external_kbnSharedDeps_React_=__webpack_require__(1);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var components_error=__webpack_require__(154);const timeseries=Object(external_kbnSharedDeps_React_["lazy"])(()=>Promise.all([__webpack_require__.e(0),__webpack_require__.e(2),__webpack_require__.e(7)]).then(__webpack_require__.bind(null,348)));const metric=Object(external_kbnSharedDeps_React_["lazy"])(()=>Promise.all([__webpack_require__.e(0),__webpack_require__.e(2),__webpack_require__.e(1),__webpack_require__.e(3),__webpack_require__.e(10)]).then(__webpack_require__.bind(null,351)));const topN=Object(external_kbnSharedDeps_React_["lazy"])(()=>Promise.all([__webpack_require__.e(0),__webpack_require__.e(2),__webpack_require__.e(1),__webpack_require__.e(3),__webpack_require__.e(12)]).then(__webpack_require__.bind(null,352)));const table=Object(external_kbnSharedDeps_React_["lazy"])(()=>Promise.all([__webpack_require__.e(0),__webpack_require__.e(9)]).then(__webpack_require__.bind(null,353)));const gauge=Object(external_kbnSharedDeps_React_["lazy"])(()=>Promise.all([__webpack_require__.e(0),__webpack_require__.e(2),__webpack_require__.e(1),__webpack_require__.e(3),__webpack_require__.e(8)]).then(__webpack_require__.bind(null,349)));const markdown=Object(external_kbnSharedDeps_React_["lazy"])(()=>Promise.all([__webpack_require__.e(0),__webpack_require__.e(2),__webpack_require__.e(1),__webpack_require__.e(6)]).then(__webpack_require__.bind(null,346)));const TimeseriesVisTypes={timeseries:timeseries,metric:metric,top_n:topN,table:table,gauge:gauge,markdown:markdown};function TimeseriesVisualization({className:className="tvbVis",visData:visData,model:model,handlers:handlers,uiState:uiState,getConfig:getConfig}){var _visData$model$id;const onBrush=Object(external_kbnSharedDeps_React_["useCallback"])((gte,lte)=>{handlers.event({name:"applyFilter",data:{timeFieldName:"*",filters:[{range:{"*":{gte:gte,lte:lte}}}]}})},[handlers]);const handleUiState=Object(external_kbnSharedDeps_React_["useCallback"])((field,value)=>{uiState.set(field,value);uiState.emit("reload")},[uiState]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{handlers.done()});const error=(_visData$model$id=visData[model.id])===null||_visData$model$id===void 0?void 0:_visData$model$id.error;if(error){return external_kbnSharedDeps_React_default.a.createElement("div",{className:className},external_kbnSharedDeps_React_default.a.createElement(components_error["a"],{error:error}))}const VisComponent=TimeseriesVisTypes[model.type];if(VisComponent){return external_kbnSharedDeps_React_default.a.createElement(VisComponent,{getConfig:getConfig,model:model,visData:visData,uiState:uiState,onBrush:onBrush,onUiState:handleUiState})}return external_kbnSharedDeps_React_default.a.createElement("div",{className:className})}}}]);