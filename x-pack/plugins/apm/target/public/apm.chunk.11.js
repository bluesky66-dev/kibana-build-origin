/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window["apm_bundle_jsonpfunction"]=window["apm_bundle_jsonpfunction"]||[]).push([[11],{1416:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"fetchObservabilityOverviewPageData",(function(){return fetchObservabilityOverviewPageData}));__webpack_require__.d(__webpack_exports__,"hasData",(function(){return hasData}));var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(12);var lodash__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);var _createCallApmApi__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(57);__webpack_require__.d(__webpack_exports__,"createCallApmApi",(function(){return _createCallApmApi__WEBPACK_IMPORTED_MODULE_1__["b"]}));const fetchObservabilityOverviewPageData=async({absoluteTime:absoluteTime,relativeTime:relativeTime,bucketSize:bucketSize})=>{const data=await Object(_createCallApmApi__WEBPACK_IMPORTED_MODULE_1__["a"])({endpoint:"GET /api/apm/observability_overview",signal:null,params:{query:{start:new Date(absoluteTime.start).toISOString(),end:new Date(absoluteTime.end).toISOString(),bucketSize:bucketSize}}});const{serviceCount:serviceCount,transactionCoordinates:transactionCoordinates}=data;return{appLink:`/app/apm/services?rangeFrom=${relativeTime.start}&rangeTo=${relativeTime.end}`,stats:{services:{type:"number",value:serviceCount},transactions:{type:"number",value:Object(lodash__WEBPACK_IMPORTED_MODULE_0__["mean"])(transactionCoordinates.map(({y:y})=>y).filter(y=>y&&isFinite(y)))||0}},series:{transactions:{coordinates:transactionCoordinates}}}};async function hasData(){return await Object(_createCallApmApi__WEBPACK_IMPORTED_MODULE_1__["a"])({endpoint:"GET /api/apm/observability_overview/has_data",signal:null})}}}]);