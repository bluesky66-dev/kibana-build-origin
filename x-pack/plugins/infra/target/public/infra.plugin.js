/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */(function(modules){function webpackJsonpCallback(data){var chunkIds=data[0];var moreModules=data[1];var moduleId,chunkId,i=0,resolves=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]){resolves.push(installedChunks[chunkId][0])}installedChunks[chunkId]=0}for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){modules[moduleId]=moreModules[moduleId]}}if(parentJsonpFunction)parentJsonpFunction(data);while(resolves.length){resolves.shift()()}}var installedModules={};var installedChunks={7:0};function jsonpScriptSrc(chunkId){return __webpack_require__.p+"infra.chunk."+chunkId+".js"}function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.e=function requireEnsure(chunkId){var promises=[];var installedChunkData=installedChunks[chunkId];if(installedChunkData!==0){if(installedChunkData){promises.push(installedChunkData[2])}else{var promise=new Promise((function(resolve,reject){installedChunkData=installedChunks[chunkId]=[resolve,reject]}));promises.push(installedChunkData[2]=promise);var script=document.createElement("script");var onScriptComplete;script.charset="utf-8";script.timeout=120;if(__webpack_require__.nc){script.setAttribute("nonce",__webpack_require__.nc)}script.src=jsonpScriptSrc(chunkId);var error=new Error;onScriptComplete=function(event){script.onerror=script.onload=null;clearTimeout(timeout);var chunk=installedChunks[chunkId];if(chunk!==0){if(chunk){var errorType=event&&(event.type==="load"?"missing":event.type);var realSrc=event&&event.target&&event.target.src;error.message="Loading chunk "+chunkId+" failed.\n("+errorType+": "+realSrc+")";error.name="ChunkLoadError";error.type=errorType;error.request=realSrc;chunk[1](error)}installedChunks[chunkId]=undefined}};var timeout=setTimeout((function(){onScriptComplete({type:"timeout",target:script})}),12e4);script.onerror=script.onload=onScriptComplete;document.head.appendChild(script)}}return Promise.all(promises)};__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";__webpack_require__.oe=function(err){console.error(err);throw err};var jsonpArray=window["infra_bundle_jsonpfunction"]=window["infra_bundle_jsonpfunction"]||[];var oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback;jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;return __webpack_require__(__webpack_require__.s=52)})([function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p]};return extendStatics(d,b)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:true});var Either_1=__webpack_require__(14);var map=Either_1.either.map;var chain=Either_1.either.chain;var Type=function(){function Type(name,is,validate,encode){this.name=name;this.is=is;this.validate=validate;this.encode=encode;this.decode=this.decode.bind(this)}Type.prototype.pipe=function(ab,name){var _this=this;if(name===void 0){name="pipe("+this.name+", "+ab.name+")"}return new Type(name,ab.is,(function(i,c){return chain(_this.validate(i,c),(function(a){return ab.validate(a,c)}))}),this.encode===exports.identity&&ab.encode===exports.identity?exports.identity:function(b){return _this.encode(ab.encode(b))})};Type.prototype.asDecoder=function(){return this};Type.prototype.asEncoder=function(){return this};Type.prototype.decode=function(i){return this.validate(i,[{key:"",type:this,actual:i}])};return Type}();exports.Type=Type;exports.identity=function(a){return a};exports.getFunctionName=function(f){return f.displayName||f.name||"<function"+f.length+">"};exports.getContextEntry=function(key,decoder){return{key:key,type:decoder}};exports.appendContext=function(c,key,decoder,actual){var len=c.length;var r=Array(len+1);for(var i=0;i<len;i++){r[i]=c[i]}r[len]={key:key,type:decoder,actual:actual};return r};exports.failures=Either_1.left;exports.failure=function(value,context,message){return exports.failures([{value:value,context:context,message:message}])};exports.success=Either_1.right;var pushAll=function(xs,ys){var l=ys.length;for(var i=0;i<l;i++){xs.push(ys[i])}};var getIsCodec=function(tag){return function(codec){return codec._tag===tag}};var isAnyCodec=getIsCodec("AnyType");var isInterfaceCodec=getIsCodec("InterfaceType");var isPartialCodec=getIsCodec("PartialType");var NullType=function(_super){__extends(NullType,_super);function NullType(){var _this=_super.call(this,"null",(function(u){return u===null}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;_this._tag="NullType";return _this}return NullType}(Type);exports.NullType=NullType;exports.nullType=new NullType;exports.null=exports.nullType;var UndefinedType=function(_super){__extends(UndefinedType,_super);function UndefinedType(){var _this=_super.call(this,"undefined",(function(u){return u===void 0}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;_this._tag="UndefinedType";return _this}return UndefinedType}(Type);exports.UndefinedType=UndefinedType;var undefinedType=new UndefinedType;exports.undefined=undefinedType;var VoidType=function(_super){__extends(VoidType,_super);function VoidType(){var _this=_super.call(this,"void",undefinedType.is,undefinedType.validate,exports.identity)||this;_this._tag="VoidType";return _this}return VoidType}(Type);exports.VoidType=VoidType;exports.voidType=new VoidType;exports.void=exports.voidType;var UnknownType=function(_super){__extends(UnknownType,_super);function UnknownType(){var _this=_super.call(this,"unknown",(function(_){return true}),exports.success,exports.identity)||this;_this._tag="UnknownType";return _this}return UnknownType}(Type);exports.UnknownType=UnknownType;exports.unknown=new UnknownType;var StringType=function(_super){__extends(StringType,_super);function StringType(){var _this=_super.call(this,"string",(function(u){return typeof u==="string"}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;_this._tag="StringType";return _this}return StringType}(Type);exports.StringType=StringType;exports.string=new StringType;var NumberType=function(_super){__extends(NumberType,_super);function NumberType(){var _this=_super.call(this,"number",(function(u){return typeof u==="number"}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;_this._tag="NumberType";return _this}return NumberType}(Type);exports.NumberType=NumberType;exports.number=new NumberType;var BooleanType=function(_super){__extends(BooleanType,_super);function BooleanType(){var _this=_super.call(this,"boolean",(function(u){return typeof u==="boolean"}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;_this._tag="BooleanType";return _this}return BooleanType}(Type);exports.BooleanType=BooleanType;exports.boolean=new BooleanType;var AnyArrayType=function(_super){__extends(AnyArrayType,_super);function AnyArrayType(){var _this=_super.call(this,"UnknownArray",Array.isArray,(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;_this._tag="AnyArrayType";return _this}return AnyArrayType}(Type);exports.AnyArrayType=AnyArrayType;exports.UnknownArray=new AnyArrayType;exports.Array=exports.UnknownArray;var AnyDictionaryType=function(_super){__extends(AnyDictionaryType,_super);function AnyDictionaryType(){var _this=_super.call(this,"UnknownRecord",(function(u){return Object.prototype.toString.call(u)==="[object Object]"}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;_this._tag="AnyDictionaryType";return _this}return AnyDictionaryType}(Type);exports.AnyDictionaryType=AnyDictionaryType;exports.UnknownRecord=new AnyDictionaryType;var FunctionType=function(_super){__extends(FunctionType,_super);function FunctionType(){var _this=_super.call(this,"Function",(function(u){return typeof u==="function"}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;_this._tag="FunctionType";return _this}return FunctionType}(Type);exports.FunctionType=FunctionType;exports.Function=new FunctionType;var RefinementType=function(_super){__extends(RefinementType,_super);function RefinementType(name,is,validate,encode,type,predicate){var _this=_super.call(this,name,is,validate,encode)||this;_this.type=type;_this.predicate=predicate;_this._tag="RefinementType";return _this}return RefinementType}(Type);exports.RefinementType=RefinementType;exports.brand=function(codec,predicate,name){return refinement(codec,predicate,name)};exports.Int=exports.brand(exports.number,(function(n){return Number.isInteger(n)}),"Int");var LiteralType=function(_super){__extends(LiteralType,_super);function LiteralType(name,is,validate,encode,value){var _this=_super.call(this,name,is,validate,encode)||this;_this.value=value;_this._tag="LiteralType";return _this}return LiteralType}(Type);exports.LiteralType=LiteralType;exports.literal=function(value,name){if(name===void 0){name=JSON.stringify(value)}var is=function(u){return u===value};return new LiteralType(name,is,(function(u,c){return is(u)?exports.success(value):exports.failure(u,c)}),exports.identity,value)};var KeyofType=function(_super){__extends(KeyofType,_super);function KeyofType(name,is,validate,encode,keys){var _this=_super.call(this,name,is,validate,encode)||this;_this.keys=keys;_this._tag="KeyofType";return _this}return KeyofType}(Type);exports.KeyofType=KeyofType;var hasOwnProperty=Object.prototype.hasOwnProperty;exports.keyof=function(keys,name){if(name===void 0){name=Object.keys(keys).map((function(k){return JSON.stringify(k)})).join(" | ")}var is=function(u){return exports.string.is(u)&&hasOwnProperty.call(keys,u)};return new KeyofType(name,is,(function(u,c){return is(u)?exports.success(u):exports.failure(u,c)}),exports.identity,keys)};var RecursiveType=function(_super){__extends(RecursiveType,_super);function RecursiveType(name,is,validate,encode,runDefinition){var _this=_super.call(this,name,is,validate,encode)||this;_this.runDefinition=runDefinition;_this._tag="RecursiveType";return _this}return RecursiveType}(Type);exports.RecursiveType=RecursiveType;Object.defineProperty(RecursiveType.prototype,"type",{get:function(){return this.runDefinition()},enumerable:true,configurable:true});exports.recursion=function(name,definition){var cache;var runDefinition=function(){if(!cache){cache=definition(Self);cache.name=name}return cache};var Self=new RecursiveType(name,(function(u){return runDefinition().is(u)}),(function(u,c){return runDefinition().validate(u,c)}),(function(a){return runDefinition().encode(a)}),runDefinition);return Self};var ArrayType=function(_super){__extends(ArrayType,_super);function ArrayType(name,is,validate,encode,type){var _this=_super.call(this,name,is,validate,encode)||this;_this.type=type;_this._tag="ArrayType";return _this}return ArrayType}(Type);exports.ArrayType=ArrayType;exports.array=function(codec,name){if(name===void 0){name="Array<"+codec.name+">"}return new ArrayType(name,(function(u){return exports.UnknownArray.is(u)&&u.every(codec.is)}),(function(u,c){return chain(exports.UnknownArray.validate(u,c),(function(us){var len=us.length;var as=us;var errors=[];for(var i=0;i<len;i++){var ui=us[i];var result=codec.validate(ui,exports.appendContext(c,String(i),codec,ui));if(Either_1.isLeft(result)){pushAll(errors,result.left)}else{var ai=result.right;if(ai!==ui){if(as===us){as=us.slice()}as[i]=ai}}}return errors.length>0?exports.failures(errors):exports.success(as)}))}),codec.encode===exports.identity?exports.identity:function(a){return a.map(codec.encode)},codec)};var InterfaceType=function(_super){__extends(InterfaceType,_super);function InterfaceType(name,is,validate,encode,props){var _this=_super.call(this,name,is,validate,encode)||this;_this.props=props;_this._tag="InterfaceType";return _this}return InterfaceType}(Type);exports.InterfaceType=InterfaceType;var getNameFromProps=function(props){return Object.keys(props).map((function(k){return k+": "+props[k].name})).join(", ")};var useIdentity=function(codecs){for(var i=0;i<codecs.length;i++){if(codecs[i].encode!==exports.identity){return false}}return true};var getInterfaceTypeName=function(props){return"{ "+getNameFromProps(props)+" }"};exports.type=function(props,name){if(name===void 0){name=getInterfaceTypeName(props)}var keys=Object.keys(props);var types=keys.map((function(key){return props[key]}));var len=keys.length;return new InterfaceType(name,(function(u){if(exports.UnknownRecord.is(u)){for(var i=0;i<len;i++){var k=keys[i];if(!hasOwnProperty.call(u,k)||!types[i].is(u[k])){return false}}return true}return false}),(function(u,c){return chain(exports.UnknownRecord.validate(u,c),(function(o){var a=o;var errors=[];for(var i=0;i<len;i++){var k=keys[i];if(!hasOwnProperty.call(a,k)){if(a===o){a=__assign({},o)}a[k]=a[k]}var ak=a[k];var type_1=types[i];var result=type_1.validate(ak,exports.appendContext(c,k,type_1,ak));if(Either_1.isLeft(result)){pushAll(errors,result.left)}else{var vak=result.right;if(vak!==ak){if(a===o){a=__assign({},o)}a[k]=vak}}}return errors.length>0?exports.failures(errors):exports.success(a)}))}),useIdentity(types)?exports.identity:function(a){var s=__assign({},a);for(var i=0;i<len;i++){var k=keys[i];var encode=types[i].encode;if(encode!==exports.identity){s[k]=encode(a[k])}}return s},props)};exports.interface=exports.type;var PartialType=function(_super){__extends(PartialType,_super);function PartialType(name,is,validate,encode,props){var _this=_super.call(this,name,is,validate,encode)||this;_this.props=props;_this._tag="PartialType";return _this}return PartialType}(Type);exports.PartialType=PartialType;var getPartialTypeName=function(inner){return"Partial<"+inner+">"};exports.partial=function(props,name){if(name===void 0){name=getPartialTypeName(getInterfaceTypeName(props))}var keys=Object.keys(props);var types=keys.map((function(key){return props[key]}));var len=keys.length;return new PartialType(name,(function(u){if(exports.UnknownRecord.is(u)){for(var i=0;i<len;i++){var k=keys[i];var uk=u[k];if(uk!==undefined&&!props[k].is(uk)){return false}}return true}return false}),(function(u,c){return chain(exports.UnknownRecord.validate(u,c),(function(o){var a=o;var errors=[];for(var i=0;i<len;i++){var k=keys[i];var ak=a[k];var type_2=props[k];var result=type_2.validate(ak,exports.appendContext(c,k,type_2,ak));if(Either_1.isLeft(result)){if(ak!==undefined){pushAll(errors,result.left)}}else{var vak=result.right;if(vak!==ak){if(a===o){a=__assign({},o)}a[k]=vak}}}return errors.length>0?exports.failures(errors):exports.success(a)}))}),useIdentity(types)?exports.identity:function(a){var s=__assign({},a);for(var i=0;i<len;i++){var k=keys[i];var ak=a[k];if(ak!==undefined){s[k]=types[i].encode(ak)}}return s},props)};var DictionaryType=function(_super){__extends(DictionaryType,_super);function DictionaryType(name,is,validate,encode,domain,codomain){var _this=_super.call(this,name,is,validate,encode)||this;_this.domain=domain;_this.codomain=codomain;_this._tag="DictionaryType";return _this}return DictionaryType}(Type);exports.DictionaryType=DictionaryType;exports.record=function(domain,codomain,name){if(name===void 0){name="{ [K in "+domain.name+"]: "+codomain.name+" }"}return new DictionaryType(name,(function(u){if(exports.UnknownRecord.is(u)){return Object.keys(u).every((function(k){return domain.is(k)&&codomain.is(u[k])}))}return isAnyCodec(codomain)&&Array.isArray(u)}),(function(u,c){if(exports.UnknownRecord.is(u)){var a={};var errors=[];var keys=Object.keys(u);var len=keys.length;var changed=false;for(var i=0;i<len;i++){var k=keys[i];var ok=u[k];var domainResult=domain.validate(k,exports.appendContext(c,k,domain,k));if(Either_1.isLeft(domainResult)){pushAll(errors,domainResult.left)}else{var vk=domainResult.right;changed=changed||vk!==k;k=vk;var codomainResult=codomain.validate(ok,exports.appendContext(c,k,codomain,ok));if(Either_1.isLeft(codomainResult)){pushAll(errors,codomainResult.left)}else{var vok=codomainResult.right;changed=changed||vok!==ok;a[k]=vok}}}return errors.length>0?exports.failures(errors):exports.success(changed?a:u)}if(isAnyCodec(codomain)&&Array.isArray(u)){return exports.success(u)}return exports.failure(u,c)}),domain.encode===exports.identity&&codomain.encode===exports.identity?exports.identity:function(a){var s={};var keys=Object.keys(a);var len=keys.length;for(var i=0;i<len;i++){var k=keys[i];s[String(domain.encode(k))]=codomain.encode(a[k])}return s},domain,codomain)};var UnionType=function(_super){__extends(UnionType,_super);function UnionType(name,is,validate,encode,types){var _this=_super.call(this,name,is,validate,encode)||this;_this.types=types;_this._tag="UnionType";return _this}return UnionType}(Type);exports.UnionType=UnionType;var getUnionName=function(codecs){return"("+codecs.map((function(type){return type.name})).join(" | ")+")"};exports.union=function(codecs,name){if(name===void 0){name=getUnionName(codecs)}var index=getIndex(codecs);if(index!==undefined&&codecs.length>0){var tag_1=index[0],groups_1=index[1];var len_1=groups_1.length;var find_1=function(value){for(var i=0;i<len_1;i++){if(groups_1[i].indexOf(value)!==-1){return i}}return undefined};return new TaggedUnionType(name,(function(u){if(exports.UnknownRecord.is(u)){var i=find_1(u[tag_1]);return i!==undefined?codecs[i].is(u):false}return false}),(function(u,c){return chain(exports.UnknownRecord.validate(u,c),(function(r){var i=find_1(r[tag_1]);if(i===undefined){return exports.failure(u,c)}var codec=codecs[i];return codec.validate(r,exports.appendContext(c,String(i),codec,r))}))}),useIdentity(codecs)?exports.identity:function(a){var i=find_1(a[tag_1]);if(i===undefined){throw new Error("no codec found to encode value in union codec "+name)}else{return codecs[i].encode(a)}},codecs,tag_1)}else{return new UnionType(name,(function(u){return codecs.some((function(type){return type.is(u)}))}),(function(u,c){var errors=[];for(var i=0;i<codecs.length;i++){var codec=codecs[i];var result=codec.validate(u,exports.appendContext(c,String(i),codec,u));if(Either_1.isLeft(result)){pushAll(errors,result.left)}else{return exports.success(result.right)}}return exports.failures(errors)}),useIdentity(codecs)?exports.identity:function(a){for(var _i=0,codecs_1=codecs;_i<codecs_1.length;_i++){var codec=codecs_1[_i];if(codec.is(a)){return codec.encode(a)}}throw new Error("no codec found to encode value in union type "+name)},codecs)}};var IntersectionType=function(_super){__extends(IntersectionType,_super);function IntersectionType(name,is,validate,encode,types){var _this=_super.call(this,name,is,validate,encode)||this;_this.types=types;_this._tag="IntersectionType";return _this}return IntersectionType}(Type);exports.IntersectionType=IntersectionType;var mergeAll=function(base,us){var equal=true;var primitive=true;for(var _i=0,us_1=us;_i<us_1.length;_i++){var u=us_1[_i];if(u!==base){equal=false}if(exports.UnknownRecord.is(u)){primitive=false}}if(equal){return base}else if(primitive){return us[us.length-1]}var r={};for(var _a=0,us_2=us;_a<us_2.length;_a++){var u=us_2[_a];for(var k in u){if(u[k]!==base[k]||!r.hasOwnProperty(k)){r[k]=u[k]}}}return r};function intersection(codecs,name){if(name===void 0){name="("+codecs.map((function(type){return type.name})).join(" & ")+")"}var len=codecs.length;return new IntersectionType(name,(function(u){return codecs.every((function(type){return type.is(u)}))}),codecs.length===0?exports.success:function(u,c){var us=[];var errors=[];for(var i=0;i<len;i++){var codec=codecs[i];var result=codec.validate(u,exports.appendContext(c,String(i),codec,u));if(Either_1.isLeft(result)){pushAll(errors,result.left)}else{us.push(result.right)}}return errors.length>0?exports.failures(errors):exports.success(mergeAll(u,us))},codecs.length===0?exports.identity:function(a){return mergeAll(a,codecs.map((function(codec){return codec.encode(a)})))},codecs)}exports.intersection=intersection;var TupleType=function(_super){__extends(TupleType,_super);function TupleType(name,is,validate,encode,types){var _this=_super.call(this,name,is,validate,encode)||this;_this.types=types;_this._tag="TupleType";return _this}return TupleType}(Type);exports.TupleType=TupleType;function tuple(codecs,name){if(name===void 0){name="["+codecs.map((function(type){return type.name})).join(", ")+"]"}var len=codecs.length;return new TupleType(name,(function(u){return exports.UnknownArray.is(u)&&u.length===len&&codecs.every((function(type,i){return type.is(u[i])}))}),(function(u,c){return chain(exports.UnknownArray.validate(u,c),(function(us){var as=us.length>len?us.slice(0,len):us;var errors=[];for(var i=0;i<len;i++){var a=us[i];var type_3=codecs[i];var result=type_3.validate(a,exports.appendContext(c,String(i),type_3,a));if(Either_1.isLeft(result)){pushAll(errors,result.left)}else{var va=result.right;if(va!==a){if(as===us){as=us.slice()}as[i]=va}}}return errors.length>0?exports.failures(errors):exports.success(as)}))}),useIdentity(codecs)?exports.identity:function(a){return codecs.map((function(type,i){return type.encode(a[i])}))},codecs)}exports.tuple=tuple;var ReadonlyType=function(_super){__extends(ReadonlyType,_super);function ReadonlyType(name,is,validate,encode,type){var _this=_super.call(this,name,is,validate,encode)||this;_this.type=type;_this._tag="ReadonlyType";return _this}return ReadonlyType}(Type);exports.ReadonlyType=ReadonlyType;exports.readonly=function(codec,name){if(name===void 0){name="Readonly<"+codec.name+">"}return new ReadonlyType(name,codec.is,(function(u,c){return map(codec.validate(u,c),(function(x){if(false){}return x}))}),codec.encode===exports.identity?exports.identity:codec.encode,codec)};var ReadonlyArrayType=function(_super){__extends(ReadonlyArrayType,_super);function ReadonlyArrayType(name,is,validate,encode,type){var _this=_super.call(this,name,is,validate,encode)||this;_this.type=type;_this._tag="ReadonlyArrayType";return _this}return ReadonlyArrayType}(Type);exports.ReadonlyArrayType=ReadonlyArrayType;exports.readonlyArray=function(codec,name){if(name===void 0){name="ReadonlyArray<"+codec.name+">"}var arrayType=exports.array(codec);return new ReadonlyArrayType(name,arrayType.is,(function(u,c){return map(arrayType.validate(u,c),(function(x){if(false){}return x}))}),arrayType.encode,codec)};exports.strict=function(props,name){return exports.exact(exports.type(props),name)};var TaggedUnionType=function(_super){__extends(TaggedUnionType,_super);function TaggedUnionType(name,is,validate,encode,codecs,tag){var _this=_super.call(this,name,is,validate,encode,codecs)||this;_this.tag=tag;return _this}return TaggedUnionType}(UnionType);exports.TaggedUnionType=TaggedUnionType;exports.taggedUnion=function(tag,codecs,name){if(name===void 0){name=getUnionName(codecs)}var U=exports.union(codecs,name);if(U instanceof TaggedUnionType){return U}else{console.warn("[io-ts] Cannot build a tagged union for "+name+", returning a de-optimized union");return new TaggedUnionType(name,U.is,U.validate,U.encode,codecs,tag)}};var ExactType=function(_super){__extends(ExactType,_super);function ExactType(name,is,validate,encode,type){var _this=_super.call(this,name,is,validate,encode)||this;_this.type=type;_this._tag="ExactType";return _this}return ExactType}(Type);exports.ExactType=ExactType;var getProps=function(codec){switch(codec._tag){case"RefinementType":case"ReadonlyType":return getProps(codec.type);case"InterfaceType":case"StrictType":case"PartialType":return codec.props;case"IntersectionType":return codec.types.reduce((function(props,type){return Object.assign(props,getProps(type))}),{})}};var stripKeys=function(o,props){var keys=Object.getOwnPropertyNames(o);var shouldStrip=false;var r={};for(var i=0;i<keys.length;i++){var key=keys[i];if(!hasOwnProperty.call(props,key)){shouldStrip=true}else{r[key]=o[key]}}return shouldStrip?r:o};var getExactTypeName=function(codec){if(isInterfaceCodec(codec)){return"{| "+getNameFromProps(codec.props)+" |}"}else if(isPartialCodec(codec)){return getPartialTypeName("{| "+getNameFromProps(codec.props)+" |}")}return"Exact<"+codec.name+">"};exports.exact=function(codec,name){if(name===void 0){name=getExactTypeName(codec)}var props=getProps(codec);return new ExactType(name,codec.is,(function(u,c){return chain(exports.UnknownRecord.validate(u,c),(function(){return map(codec.validate(u,c),(function(a){return stripKeys(a,props)}))}))}),(function(a){return codec.encode(stripKeys(a,props))}),codec)};exports.getValidationError=function(value,context){return{value:value,context:context}};exports.getDefaultContext=function(decoder){return[{key:"",type:decoder}]};var NeverType=function(_super){__extends(NeverType,_super);function NeverType(){var _this=_super.call(this,"never",(function(_){return false}),(function(u,c){return exports.failure(u,c)}),(function(){throw new Error("cannot encode never")}))||this;_this._tag="NeverType";return _this}return NeverType}(Type);exports.NeverType=NeverType;exports.never=new NeverType;var AnyType=function(_super){__extends(AnyType,_super);function AnyType(){var _this=_super.call(this,"any",(function(_){return true}),exports.success,exports.identity)||this;_this._tag="AnyType";return _this}return AnyType}(Type);exports.AnyType=AnyType;exports.any=new AnyType;exports.Dictionary=exports.UnknownRecord;var ObjectType=function(_super){__extends(ObjectType,_super);function ObjectType(){var _this=_super.call(this,"object",(function(u){return u!==null&&typeof u==="object"}),(function(u,c){return _this.is(u)?exports.success(u):exports.failure(u,c)}),exports.identity)||this;_this._tag="ObjectType";return _this}return ObjectType}(Type);exports.ObjectType=ObjectType;exports.object=new ObjectType;function refinement(codec,predicate,name){if(name===void 0){name="("+codec.name+" | "+exports.getFunctionName(predicate)+")"}return new RefinementType(name,(function(u){return codec.is(u)&&predicate(u)}),(function(i,c){return chain(codec.validate(i,c),(function(a){return predicate(a)?exports.success(a):exports.failure(a,c)}))}),codec.encode,codec,predicate)}exports.refinement=refinement;exports.Integer=refinement(exports.number,Number.isInteger,"Integer");exports.dictionary=exports.record;var StrictType=function(_super){__extends(StrictType,_super);function StrictType(name,is,validate,encode,props){var _this=_super.call(this,name,is,validate,encode)||this;_this.props=props;_this._tag="StrictType";return _this}return StrictType}(Type);exports.StrictType=StrictType;function clean(codec){return codec}exports.clean=clean;function alias(codec){return function(){return codec}}exports.alias=alias;var isNonEmpty=function(as){return as.length>0};exports.emptyTags={};function intersect(a,b){var r=[];for(var _i=0,a_1=a;_i<a_1.length;_i++){var v=a_1[_i];if(b.indexOf(v)!==-1){r.push(v)}}return r}function mergeTags(a,b){if(a===exports.emptyTags){return b}if(b===exports.emptyTags){return a}var r=Object.assign({},a);for(var k in b){if(a.hasOwnProperty(k)){var intersection_1=intersect(a[k],b[k]);if(isNonEmpty(intersection_1)){r[k]=intersection_1}else{r=exports.emptyTags;break}}else{r[k]=b[k]}}return r}function intersectTags(a,b){if(a===exports.emptyTags||b===exports.emptyTags){return exports.emptyTags}var r=exports.emptyTags;for(var k in a){if(b.hasOwnProperty(k)){var intersection_2=intersect(a[k],b[k]);if(intersection_2.length===0){if(r===exports.emptyTags){r={}}r[k]=a[k].concat(b[k])}}}return r}function isLiteralC(codec){return codec._tag==="LiteralType"}function isTypeC(codec){return codec._tag==="InterfaceType"}function isStrictC(codec){return codec._tag==="StrictType"}function isExactC(codec){return codec._tag==="ExactType"}function isRefinementC(codec){return codec._tag==="RefinementType"}function isIntersectionC(codec){return codec._tag==="IntersectionType"}function isUnionC(codec){return codec._tag==="UnionType"}function isRecursiveC(codec){return codec._tag==="RecursiveType"}var lazyCodecs=[];function getTags(codec){if(lazyCodecs.indexOf(codec)!==-1){return exports.emptyTags}if(isTypeC(codec)||isStrictC(codec)){var index=exports.emptyTags;for(var k in codec.props){var prop=codec.props[k];if(isLiteralC(prop)){if(index===exports.emptyTags){index={}}index[k]=[prop.value]}}return index}else if(isExactC(codec)||isRefinementC(codec)){return getTags(codec.type)}else if(isIntersectionC(codec)){return codec.types.reduce((function(tags,codec){return mergeTags(tags,getTags(codec))}),exports.emptyTags)}else if(isUnionC(codec)){return codec.types.slice(1).reduce((function(tags,codec){return intersectTags(tags,getTags(codec))}),getTags(codec.types[0]))}else if(isRecursiveC(codec)){lazyCodecs.push(codec);var tags=getTags(codec.type);lazyCodecs.pop();return tags}return exports.emptyTags}exports.getTags=getTags;function getIndex(codecs){var tags=getTags(codecs[0]);var keys=Object.keys(tags);var len=codecs.length;var _loop_1=function(k){var all=tags[k].slice();var index=[tags[k]];for(var i=1;i<len;i++){var codec=codecs[i];var ctags=getTags(codec);var values=ctags[k];if(values===undefined){return"continue-keys"}else{if(values.some((function(v){return all.indexOf(v)!==-1}))){return"continue-keys"}else{all.push.apply(all,values);index.push(values)}}}return{value:[k,index]}};keys:for(var _i=0,keys_1=keys;_i<keys_1.length;_i++){var k=keys_1[_i];var state_1=_loop_1(k);if(typeof state_1==="object")return state_1.value;switch(state_1){case"continue-keys":continue keys}}return undefined}exports.getIndex=getIndex},function(module,exports){module.exports=__kbnSharedDeps__.React},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18n},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return badRequestErrorRT}));__webpack_require__.d(__webpack_exports__,"b",(function(){return forbiddenErrorRT}));__webpack_require__.d(__webpack_exports__,"d",(function(){return time_range["a"]}));__webpack_require__.d(__webpack_exports__,"c",(function(){return routeTimingMetadataRT}));var lib=__webpack_require__(0);const badRequestErrorRT=lib["intersection"]([lib["type"]({statusCode:lib["literal"](400),error:lib["literal"]("Bad Request"),message:lib["string"]}),lib["partial"]({attributes:lib["unknown"]})]);const forbiddenErrorRT=lib["intersection"]([lib["type"]({statusCode:lib["literal"](403),error:lib["literal"]("Forbidden"),message:lib["string"]}),lib["partial"]({attributes:lib["unknown"]})]);const conflictErrorRT=lib["intersection"]([lib["type"]({statusCode:lib["literal"](409),error:lib["literal"]("Conflict"),message:lib["string"]}),lib["partial"]({attributes:lib["unknown"]})]);const metricStatisticsRT=lib["type"]({avg:lib["union"]([lib["number"],lib["null"]]),count:lib["number"],max:lib["union"]([lib["number"],lib["null"]]),min:lib["union"]([lib["number"],lib["null"]]),sum:lib["number"]});var time_range=__webpack_require__(35);var uuid=__webpack_require__(36);var uuid_default=__webpack_require__.n(uuid);const tracingSpanRT=lib["type"]({duration:lib["number"],id:lib["string"],name:lib["string"],start:lib["number"]});const startTracingSpan=name=>{const initialState={duration:Number.POSITIVE_INFINITY,id:uuid_default.a.v4(),name:name,start:Date.now()};return(endTime=Date.now())=>({...initialState,duration:endTime-initialState.start})};const routeTimingMetadataRT=lib["type"]({spans:lib["array"](tracingSpanRT)})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return LOG_DOCUMENT_COUNT_ALERT_TYPE_ID}));__webpack_require__.d(__webpack_exports__,"a",(function(){return Comparator}));__webpack_require__.d(__webpack_exports__,"b",(function(){return ComparatorToi18nMap}));__webpack_require__.d(__webpack_exports__,"d",(function(){return countCriteriaRT}));__webpack_require__.d(__webpack_exports__,"j",(function(){return timeUnitRT}));__webpack_require__.d(__webpack_exports__,"i",(function(){return timeSizeRT}));__webpack_require__.d(__webpack_exports__,"g",(function(){return groupByRT}));__webpack_require__.d(__webpack_exports__,"h",(function(){return isRatioAlert}));__webpack_require__.d(__webpack_exports__,"f",(function(){return getNumerator}));__webpack_require__.d(__webpack_exports__,"e",(function(){return getDenominator}));var external_kbnSharedDeps_KbnI18n_=__webpack_require__(2);var lib=__webpack_require__(0);const commonSearchSuccessResponseFieldsRT=lib["type"]({_shards:lib["type"]({total:lib["number"],successful:lib["number"],skipped:lib["number"],failed:lib["number"]}),timed_out:lib["boolean"],took:lib["number"]});const LOG_DOCUMENT_COUNT_ALERT_TYPE_ID="logs.alert.document.count";const ThresholdTypeRT=lib["keyof"]({count:null,ratio:null});let Comparator;(function(Comparator){Comparator["GT"]="more than";Comparator["GT_OR_EQ"]="more than or equals";Comparator["LT"]="less than";Comparator["LT_OR_EQ"]="less than or equals";Comparator["EQ"]="equals";Comparator["NOT_EQ"]="does not equal";Comparator["MATCH"]="matches";Comparator["NOT_MATCH"]="does not match";Comparator["MATCH_PHRASE"]="matches phrase";Comparator["NOT_MATCH_PHRASE"]="does not match phrase"})(Comparator||(Comparator={}));const ComparatorRT=lib["keyof"]({[Comparator.GT]:null,[Comparator.GT_OR_EQ]:null,[Comparator.LT]:null,[Comparator.LT_OR_EQ]:null,[Comparator.EQ]:null,[Comparator.NOT_EQ]:null,[Comparator.MATCH]:null,[Comparator.NOT_MATCH]:null,[Comparator.MATCH_PHRASE]:null,[Comparator.NOT_MATCH_PHRASE]:null});const ComparatorToi18nMap={[Comparator.GT]:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.logs.alerting.comparator.gt",{defaultMessage:"more than"}),[Comparator.GT_OR_EQ]:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.logs.alerting.comparator.gtOrEq",{defaultMessage:"more than or equals"}),[Comparator.LT]:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.logs.alerting.comparator.lt",{defaultMessage:"less than"}),[Comparator.LT_OR_EQ]:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.logs.alerting.comparator.ltOrEq",{defaultMessage:"less than or equals"}),[Comparator.EQ]:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.logs.alerting.comparator.eq",{defaultMessage:"is"}),[Comparator.NOT_EQ]:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.logs.alerting.comparator.notEq",{defaultMessage:"is not"}),[`${Comparator.EQ}:number`]:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.logs.alerting.comparator.eqNumber",{defaultMessage:"equals"}),[`${Comparator.NOT_EQ}:number`]:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.logs.alerting.comparator.notEqNumber",{defaultMessage:"does not equal"}),[Comparator.MATCH]:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.logs.alerting.comparator.match",{defaultMessage:"matches"}),[Comparator.NOT_MATCH]:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.logs.alerting.comparator.notMatch",{defaultMessage:"does not match"}),[Comparator.MATCH_PHRASE]:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.logs.alerting.comparator.matchPhrase",{defaultMessage:"matches phrase"}),[Comparator.NOT_MATCH_PHRASE]:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.logs.alerting.comparator.notMatchPhrase",{defaultMessage:"does not match phrase"})};let AlertStates;(function(AlertStates){AlertStates[AlertStates["OK"]=0]="OK";AlertStates[AlertStates["ALERT"]=1]="ALERT";AlertStates[AlertStates["NO_DATA"]=2]="NO_DATA";AlertStates[AlertStates["ERROR"]=3]="ERROR"})(AlertStates||(AlertStates={}));const ThresholdRT=lib["type"]({comparator:ComparatorRT,value:lib["number"]});const criterionRT=lib["type"]({field:lib["string"],comparator:ComparatorRT,value:lib["union"]([lib["string"],lib["number"]])});const partialCriterionRT=lib["partial"](criterionRT.props);const countCriteriaRT=lib["array"](criterionRT);const partialCountCriteriaRT=lib["array"](partialCriterionRT);const ratioCriteriaRT=lib["tuple"]([countCriteriaRT,countCriteriaRT]);const partialRatioCriteriaRT=lib["tuple"]([partialCountCriteriaRT,partialCountCriteriaRT]);const partialCriteriaRT=lib["union"]([partialCountCriteriaRT,partialRatioCriteriaRT]);const timeUnitRT=lib["union"]([lib["literal"]("s"),lib["literal"]("m"),lib["literal"]("h"),lib["literal"]("d")]);const timeSizeRT=lib["number"];const groupByRT=lib["array"](lib["string"]);const RequiredAlertParamsRT=lib["type"]({count:ThresholdRT,timeUnit:timeUnitRT,timeSize:timeSizeRT});const partialRequiredAlertParamsRT=lib["partial"](RequiredAlertParamsRT.props);const OptionalAlertParamsRT=lib["partial"]({groupBy:groupByRT});const countAlertParamsRT=lib["intersection"]([lib["type"]({criteria:countCriteriaRT,...RequiredAlertParamsRT.props}),lib["partial"]({...OptionalAlertParamsRT.props})]);const partialCountAlertParamsRT=lib["intersection"]([lib["type"]({criteria:partialCountCriteriaRT,...RequiredAlertParamsRT.props}),lib["partial"]({...OptionalAlertParamsRT.props})]);const ratioAlertParamsRT=lib["intersection"]([lib["type"]({criteria:ratioCriteriaRT,...RequiredAlertParamsRT.props}),lib["partial"]({...OptionalAlertParamsRT.props})]);const partialRatioAlertParamsRT=lib["intersection"]([lib["type"]({criteria:partialRatioCriteriaRT,...RequiredAlertParamsRT.props}),lib["partial"]({...OptionalAlertParamsRT.props})]);const alertParamsRT=lib["union"]([countAlertParamsRT,ratioAlertParamsRT]);const partialAlertParamsRT=lib["union"]([partialCountAlertParamsRT,partialRatioAlertParamsRT]);const isRatioAlert=criteria=>criteria.length>0&&Array.isArray(criteria[0])?true:false;const isRatioAlertParams=params=>isRatioAlert(params.criteria);const getNumerator=criteria=>criteria[0];const getDenominator=criteria=>criteria[1];const hasGroupBy=alertParams=>{const{groupBy:groupBy}=alertParams;return groupBy&&groupBy.length>0?true:false};const chartPreviewHistogramBucket=lib["type"]({key:lib["number"],doc_count:lib["number"]});const UngroupedSearchQueryResponseRT=lib["intersection"]([commonSearchSuccessResponseFieldsRT,lib["intersection"]([lib["type"]({hits:lib["type"]({total:lib["type"]({value:lib["number"]})})}),lib["partial"]({aggregations:lib["type"]({histogramBuckets:lib["type"]({buckets:lib["array"](chartPreviewHistogramBucket)})})})])]);const GroupedSearchQueryResponseRT=lib["intersection"]([commonSearchSuccessResponseFieldsRT,lib["type"]({aggregations:lib["type"]({groups:lib["intersection"]([lib["type"]({buckets:lib["array"](lib["type"]({key:lib["record"](lib["string"],lib["string"]),doc_count:lib["number"],filtered_results:lib["intersection"]([lib["type"]({doc_count:lib["number"]}),lib["partial"]({histogramBuckets:lib["type"]({buckets:lib["array"](chartPreviewHistogramBucket)})})])}))}),lib["partial"]({after_key:lib["record"](lib["string"],lib["string"])})])}),hits:lib["type"]({total:lib["type"]({value:lib["number"]})})})])},function(module,exports,__webpack_require__){const moment=__webpack_require__(50);const unitsMap={ms:{weight:1,type:"fixed",base:1},s:{weight:2,type:"fixed",base:1e3},m:{weight:3,type:"mixed",base:1e3*60},h:{weight:4,type:"mixed",base:1e3*60*60},d:{weight:5,type:"mixed",base:1e3*60*60*24},w:{weight:6,type:"calendar",base:NaN},M:{weight:7,type:"calendar",base:NaN},y:{weight:9,type:"calendar",base:NaN}};const units=Object.keys(unitsMap).sort((a,b)=>unitsMap[b].weight-unitsMap[a].weight);const unitsDesc=[...units];const unitsAsc=[...units].reverse();const isDate=d=>Object.prototype.toString.call(d)==="[object Date]";const isValidDate=d=>isDate(d)&&!isNaN(d.valueOf());function parse(text,{roundUp:roundUp=false,momentInstance:momentInstance=moment,forceNow:forceNow}={}){if(!text)return undefined;if(momentInstance.isMoment(text))return text;if(isDate(text))return momentInstance(text);if(forceNow!==undefined&&!isValidDate(forceNow)){throw new Error("forceNow must be a valid Date")}let time;let mathString="";let index;let parseString;if(text.substring(0,3)==="now"){time=momentInstance(forceNow);mathString=text.substring("now".length)}else{index=text.indexOf("||");if(index===-1){parseString=text;mathString=""}else{parseString=text.substring(0,index);mathString=text.substring(index+2)}time=momentInstance(parseString)}if(!mathString.length){return time}return parseDateMath(mathString,time,roundUp)}function parseDateMath(mathString,time,roundUp){const dateTime=time;const len=mathString.length;let i=0;while(i<len){const c=mathString.charAt(i++);let type;let num;let unit;if(c==="/"){type=0}else if(c==="+"){type=1}else if(c==="-"){type=2}else{return}if(isNaN(mathString.charAt(i))){num=1}else if(mathString.length===2){num=mathString.charAt(i)}else{const numFrom=i;while(!isNaN(mathString.charAt(i))){i++;if(i>=len)return}num=parseInt(mathString.substring(numFrom,i),10)}if(type===0){if(num!==1){return}}unit=mathString.charAt(i++);for(let j=i;j<len;j++){const unitChar=mathString.charAt(i);if(/[a-z]/i.test(unitChar)){unit+=unitChar;i++}else{break}}if(units.indexOf(unit)===-1){return}else{if(type===0){if(roundUp)dateTime.endOf(unit);else dateTime.startOf(unit)}else if(type===1){dateTime.add(num,unit)}else if(type===2){dateTime.subtract(num,unit)}}}return dateTime}module.exports={parse:parse,unitsMap:Object.freeze(unitsMap),units:Object.freeze(units),unitsAsc:Object.freeze(unitsAsc),unitsDesc:Object.freeze(unitsDesc)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return formatNumber}));const formatNumber=val=>Number(val).toLocaleString("en",{maximumFractionDigits:1})},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEui},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return getLogSourceConfigurationSuccessResponsePayloadRT}));__webpack_require__.d(__webpack_exports__,"c",(function(){return getLogSourceStatusPath}));__webpack_require__.d(__webpack_exports__,"d",(function(){return getLogSourceStatusSuccessResponsePayloadRT}));__webpack_require__.d(__webpack_exports__,"a",(function(){return getLogSourceConfigurationPath}));__webpack_require__.d(__webpack_exports__,"e",(function(){return logSourceColumnConfigurationRT}));__webpack_require__.d(__webpack_exports__,"f",(function(){return patchLogSourceConfigurationRequestBodyRT}));__webpack_require__.d(__webpack_exports__,"g",(function(){return patchLogSourceConfigurationSuccessResponsePayloadRT}));var lib=__webpack_require__(0);var shared=__webpack_require__(4);const LOG_SOURCE_CONFIGURATION_PATH_PREFIX="/api/infra/log_source_configurations";const LOG_SOURCE_CONFIGURATION_PATH=`${LOG_SOURCE_CONFIGURATION_PATH_PREFIX}/{sourceId}`;const getLogSourceConfigurationPath=sourceId=>`${LOG_SOURCE_CONFIGURATION_PATH_PREFIX}/${sourceId}`;const logSourceConfigurationOriginRT=lib["keyof"]({fallback:null,internal:null,stored:null});const logSourceFieldsConfigurationRT=lib["strict"]({container:lib["string"],host:lib["string"],pod:lib["string"],timestamp:lib["string"],tiebreaker:lib["string"]});const logSourceCommonColumnConfigurationRT=lib["strict"]({id:lib["string"]});const logSourceTimestampColumnConfigurationRT=lib["strict"]({timestampColumn:logSourceCommonColumnConfigurationRT});const logSourceMessageColumnConfigurationRT=lib["strict"]({messageColumn:logSourceCommonColumnConfigurationRT});const logSourceFieldColumnConfigurationRT=lib["strict"]({fieldColumn:lib["intersection"]([logSourceCommonColumnConfigurationRT,lib["strict"]({field:lib["string"]})])});const logSourceColumnConfigurationRT=lib["union"]([logSourceTimestampColumnConfigurationRT,logSourceMessageColumnConfigurationRT,logSourceFieldColumnConfigurationRT]);const logSourceConfigurationPropertiesRT=lib["strict"]({name:lib["string"],description:lib["string"],logAlias:lib["string"],fields:logSourceFieldsConfigurationRT,logColumns:lib["array"](logSourceColumnConfigurationRT)});const logSourceConfigurationRT=lib["exact"](lib["intersection"]([lib["type"]({id:lib["string"],origin:logSourceConfigurationOriginRT,configuration:logSourceConfigurationPropertiesRT}),lib["partial"]({updatedAt:lib["number"],version:lib["string"]})]));const getLogSourceConfigurationRequestParamsRT=lib["type"]({sourceId:lib["string"]});const getLogSourceConfigurationSuccessResponsePayloadRT=lib["intersection"]([lib["type"]({data:logSourceConfigurationRT}),lib["partial"]({timing:shared["c"]})]);const getLogSourceConfigurationErrorResponsePayloadRT=lib["union"]([shared["a"],shared["b"]]);const getLogSourceConfigurationResponsePayloadRT=lib["union"]([getLogSourceConfigurationSuccessResponsePayloadRT,getLogSourceConfigurationErrorResponsePayloadRT]);const LOG_SOURCE_STATUS_PATH_SUFFIX="status";const LOG_SOURCE_STATUS_PATH=`${LOG_SOURCE_CONFIGURATION_PATH}/${LOG_SOURCE_STATUS_PATH_SUFFIX}`;const getLogSourceStatusPath=sourceId=>`${getLogSourceConfigurationPath(sourceId)}/${LOG_SOURCE_STATUS_PATH_SUFFIX}`;const getLogSourceStatusRequestParamsRT=lib["type"]({sourceId:lib["string"]});const logIndexFieldRT=lib["strict"]({name:lib["string"],type:lib["string"],searchable:lib["boolean"],aggregatable:lib["boolean"]});const logIndexStatusRT=lib["keyof"]({missing:null,empty:null,available:null});const logSourceStatusRT=lib["strict"]({logIndexFields:lib["array"](logIndexFieldRT),logIndexStatus:logIndexStatusRT});const getLogSourceStatusSuccessResponsePayloadRT=lib["intersection"]([lib["type"]({data:logSourceStatusRT}),lib["partial"]({timing:shared["c"]})]);const patchLogSourceConfigurationRequestParamsRT=lib["type"]({sourceId:lib["string"]});const logSourceConfigurationProperiesPatchRT=lib["partial"]({...logSourceConfigurationPropertiesRT.type.props,fields:lib["partial"](logSourceConfigurationPropertiesRT.type.props.fields.type.props)});const patchLogSourceConfigurationRequestBodyRT=lib["type"]({data:logSourceConfigurationProperiesPatchRT});const patchLogSourceConfigurationSuccessResponsePayloadRT=getLogSourceConfigurationSuccessResponsePayloadRT;const patchLogSourceConfigurationResponsePayloadRT=lib["union"]([patchLogSourceConfigurationSuccessResponsePayloadRT,shared["a"],shared["b"]])},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Comparator}));let Comparator;(function(Comparator){Comparator["GT"]=">";Comparator["LT"]="<";Comparator["GT_OR_EQ"]=">=";Comparator["LT_OR_EQ"]="<=";Comparator["BETWEEN"]="between";Comparator["OUTSIDE_RANGE"]="outside"})(Comparator||(Comparator={}));let Aggregators;(function(Aggregators){Aggregators["COUNT"]="count";Aggregators["AVERAGE"]="avg";Aggregators["SUM"]="sum";Aggregators["MIN"]="min";Aggregators["MAX"]="max";Aggregators["RATE"]="rate";Aggregators["CARDINALITY"]="cardinality";Aggregators["P95"]="p95";Aggregators["P99"]="p99"})(Aggregators||(Aggregators={}));let AlertStates;(function(AlertStates){AlertStates[AlertStates["OK"]=0]="OK";AlertStates[AlertStates["ALERT"]=1]="ALERT";AlertStates[AlertStates["WARNING"]=2]="WARNING";AlertStates[AlertStates["NO_DATA"]=3]="NO_DATA";AlertStates[AlertStates["ERROR"]=4]="ERROR"})(AlertStates||(AlertStates={}))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaReact/common");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nReact},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return createPlainError}));__webpack_require__.d(__webpack_exports__,"c",(function(){return throwErrors}));__webpack_require__.d(__webpack_exports__,"b",(function(){return decodeOrThrow}));var fp_ts_lib_Either__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14);var fp_ts_lib_Either__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(fp_ts_lib_Either__WEBPACK_IMPORTED_MODULE_0__);var fp_ts_lib_function__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(15);var fp_ts_lib_function__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(fp_ts_lib_function__WEBPACK_IMPORTED_MODULE_1__);var fp_ts_lib_pipeable__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(22);var fp_ts_lib_pipeable__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(fp_ts_lib_pipeable__WEBPACK_IMPORTED_MODULE_2__);var io_ts__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0);var io_ts__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(io_ts__WEBPACK_IMPORTED_MODULE_3__);const getErrorPath=([first,...rest])=>{if(typeof first==="undefined"){return[]}else if(first.type instanceof io_ts__WEBPACK_IMPORTED_MODULE_3__["IntersectionType"]){const[,...next]=rest;return getErrorPath(next)}else if(first.type instanceof io_ts__WEBPACK_IMPORTED_MODULE_3__["UnionType"]){const[,...next]=rest;return[first.key,...getErrorPath(next)]}return[first.key,...getErrorPath(rest)]};const getErrorType=({context:context})=>{var _context$type$name,_context,_context$type;return(_context$type$name=(_context=context[context.length-1])===null||_context===void 0?void 0:(_context$type=_context.type)===null||_context$type===void 0?void 0:_context$type.name)!==null&&_context$type$name!==void 0?_context$type$name:"unknown"};const formatError=error=>{var _error$message;return(_error$message=error.message)!==null&&_error$message!==void 0?_error$message:`in ${getErrorPath(error.context).join("/")}: ${JSON.stringify(error.value)} does not match expected type ${getErrorType(error)}`};const formatErrors=errors=>`Failed to validate: \n${errors.map(error=>`  ${formatError(error)}`).join("\n")}`;const createPlainError=message=>new Error(message);const throwErrors=createError=>errors=>{throw createError(formatErrors(errors))};const decodeOrThrow=(runtimeType,createError=createPlainError)=>inputValue=>Object(fp_ts_lib_pipeable__WEBPACK_IMPORTED_MODULE_2__["pipe"])(runtimeType.decode(inputValue),Object(fp_ts_lib_Either__WEBPACK_IMPORTED_MODULE_0__["fold"])(throwErrors(createError),fp_ts_lib_function__WEBPACK_IMPORTED_MODULE_1__["identity"]));const createValidationFunction=runtimeType=>(inputValue,{badRequest:badRequest,ok:ok})=>Object(fp_ts_lib_pipeable__WEBPACK_IMPORTED_MODULE_2__["pipe"])(runtimeType.decode(inputValue),Object(fp_ts_lib_Either__WEBPACK_IMPORTED_MODULE_0__["fold"])(errors=>badRequest(formatErrors(errors)),result=>ok(result)))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.apS=exports.apSW=exports.bind=exports.bindW=exports.bindTo=exports.exists=exports.elem=exports.toError=exports.either=exports.getValidationMonoid=exports.MonadThrow=exports.ChainRec=exports.Extend=exports.Alt=exports.Bifunctor=exports.Traversable=exports.Foldable=exports.Monad=exports.Applicative=exports.Functor=exports.getValidationSemigroup=exports.getValidation=exports.getAltValidation=exports.getApplicativeValidation=exports.getWitherable=exports.getFilterable=exports.getApplyMonoid=exports.getApplySemigroup=exports.getSemigroup=exports.getEq=exports.getShow=exports.URI=exports.throwError=exports.sequence=exports.traverse=exports.reduceRight=exports.foldMap=exports.reduce=exports.duplicate=exports.extend=exports.alt=exports.flatten=exports.chainFirst=exports.chainFirstW=exports.chain=exports.chainW=exports.of=exports.apSecond=exports.apFirst=exports.ap=exports.apW=exports.mapLeft=exports.bimap=exports.map=exports.filterOrElse=exports.orElse=exports.swap=exports.getOrElse=exports.getOrElseW=exports.fold=exports.fromPredicate=exports.fromOption=exports.stringifyJSON=exports.parseJSON=exports.tryCatch=exports.fromNullable=exports.right=exports.left=exports.isRight=exports.isLeft=void 0;var ChainRec_1=__webpack_require__(54);var function_1=__webpack_require__(15);exports.isLeft=function(ma){return ma._tag==="Left"};exports.isRight=function(ma){return ma._tag==="Right"};exports.left=function(e){return{_tag:"Left",left:e}};exports.right=function(a){return{_tag:"Right",right:a}};function fromNullable(e){return function(a){return a==null?exports.left(e):exports.right(a)}}exports.fromNullable=fromNullable;function tryCatch(f,onError){try{return exports.right(f())}catch(e){return exports.left(onError(e))}}exports.tryCatch=tryCatch;function parseJSON(s,onError){return tryCatch((function(){return JSON.parse(s)}),onError)}exports.parseJSON=parseJSON;function stringifyJSON(u,onError){return tryCatch((function(){return JSON.stringify(u)}),onError)}exports.stringifyJSON=stringifyJSON;exports.fromOption=function(onNone){return function(ma){return ma._tag==="None"?exports.left(onNone()):exports.right(ma.value)}};exports.fromPredicate=function(predicate,onFalse){return function(a){return predicate(a)?exports.right(a):exports.left(onFalse(a))}};function fold(onLeft,onRight){return function(ma){return exports.isLeft(ma)?onLeft(ma.left):onRight(ma.right)}}exports.fold=fold;exports.getOrElseW=function(onLeft){return function(ma){return exports.isLeft(ma)?onLeft(ma.left):ma.right}};exports.getOrElse=exports.getOrElseW;function swap(ma){return exports.isLeft(ma)?exports.right(ma.left):exports.left(ma.right)}exports.swap=swap;function orElse(onLeft){return function(ma){return exports.isLeft(ma)?onLeft(ma.left):ma}}exports.orElse=orElse;exports.filterOrElse=function(predicate,onFalse){return exports.chain((function(a){return predicate(a)?exports.right(a):exports.left(onFalse(a))}))};var map_=function(fa,f){return function_1.pipe(fa,exports.map(f))};var ap_=function(fab,fa){return function_1.pipe(fab,exports.ap(fa))};var chain_=function(ma,f){return function_1.pipe(ma,exports.chain(f))};var reduce_=function(fa,b,f){return function_1.pipe(fa,exports.reduce(b,f))};var foldMap_=function(M){return function(fa,f){var foldMapM=exports.foldMap(M);return function_1.pipe(fa,foldMapM(f))}};var reduceRight_=function(fa,b,f){return function_1.pipe(fa,exports.reduceRight(b,f))};var traverse_=function(F){var traverseF=exports.traverse(F);return function(ta,f){return function_1.pipe(ta,traverseF(f))}};var bimap_=function(fa,f,g){return function_1.pipe(fa,exports.bimap(f,g))};var mapLeft_=function(fa,f){return function_1.pipe(fa,exports.mapLeft(f))};var alt_=function(fa,that){return function_1.pipe(fa,exports.alt(that))};var extend_=function(wa,f){return function_1.pipe(wa,exports.extend(f))};var chainRec_=function(a,f){return ChainRec_1.tailRec(f(a),(function(e){return exports.isLeft(e)?exports.right(exports.left(e.left)):exports.isLeft(e.right)?exports.left(f(e.right.left)):exports.right(exports.right(e.right.right))}))};exports.map=function(f){return function(fa){return exports.isLeft(fa)?fa:exports.right(f(fa.right))}};exports.bimap=function(f,g){return function(fa){return exports.isLeft(fa)?exports.left(f(fa.left)):exports.right(g(fa.right))}};exports.mapLeft=function(f){return function(fa){return exports.isLeft(fa)?exports.left(f(fa.left)):fa}};exports.apW=function(fa){return function(fab){return exports.isLeft(fab)?fab:exports.isLeft(fa)?fa:exports.right(fab.right(fa.right))}};exports.ap=exports.apW;exports.apFirst=function(fb){return function_1.flow(exports.map((function(a){return function(){return a}})),exports.ap(fb))};exports.apSecond=function(fb){return function_1.flow(exports.map((function(){return function(b){return b}})),exports.ap(fb))};exports.of=exports.right;exports.chainW=function(f){return function(ma){return exports.isLeft(ma)?ma:f(ma.right)}};exports.chain=exports.chainW;exports.chainFirstW=function(f){return function(ma){return function_1.pipe(ma,exports.chainW((function(a){return function_1.pipe(f(a),exports.map((function(){return a})))})))}};exports.chainFirst=exports.chainFirstW;exports.flatten=exports.chain(function_1.identity);exports.alt=function(that){return function(fa){return exports.isLeft(fa)?that():fa}};exports.extend=function(f){return function(wa){return exports.isLeft(wa)?wa:exports.right(f(wa))}};exports.duplicate=exports.extend(function_1.identity);exports.reduce=function(b,f){return function(fa){return exports.isLeft(fa)?b:f(b,fa.right)}};exports.foldMap=function(M){return function(f){return function(fa){return exports.isLeft(fa)?M.empty:f(fa.right)}}};exports.reduceRight=function(b,f){return function(fa){return exports.isLeft(fa)?b:f(fa.right,b)}};exports.traverse=function(F){return function(f){return function(ta){return exports.isLeft(ta)?F.of(exports.left(ta.left)):F.map(f(ta.right),exports.right)}}};exports.sequence=function(F){return function(ma){return exports.isLeft(ma)?F.of(exports.left(ma.left)):F.map(ma.right,exports.right)}};exports.throwError=exports.left;exports.URI="Either";function getShow(SE,SA){return{show:function(ma){return exports.isLeft(ma)?"left("+SE.show(ma.left)+")":"right("+SA.show(ma.right)+")"}}}exports.getShow=getShow;function getEq(EL,EA){return{equals:function(x,y){return x===y||(exports.isLeft(x)?exports.isLeft(y)&&EL.equals(x.left,y.left):exports.isRight(y)&&EA.equals(x.right,y.right))}}}exports.getEq=getEq;function getSemigroup(S){return{concat:function(x,y){return exports.isLeft(y)?x:exports.isLeft(x)?y:exports.right(S.concat(x.right,y.right))}}}exports.getSemigroup=getSemigroup;function getApplySemigroup(S){return{concat:function(x,y){return exports.isLeft(x)?x:exports.isLeft(y)?y:exports.right(S.concat(x.right,y.right))}}}exports.getApplySemigroup=getApplySemigroup;function getApplyMonoid(M){return{concat:getApplySemigroup(M).concat,empty:exports.right(M.empty)}}exports.getApplyMonoid=getApplyMonoid;function getFilterable(M){var empty=exports.left(M.empty);var compact=function(ma){return exports.isLeft(ma)?ma:ma.right._tag==="None"?empty:exports.right(ma.right.value)};var separate=function(ma){return exports.isLeft(ma)?{left:ma,right:ma}:exports.isLeft(ma.right)?{left:exports.right(ma.right.left),right:empty}:{left:empty,right:exports.right(ma.right.right)}};var partitionMap=function(ma,f){if(exports.isLeft(ma)){return{left:ma,right:ma}}var e=f(ma.right);return exports.isLeft(e)?{left:exports.right(e.left),right:empty}:{left:empty,right:exports.right(e.right)}};var partition=function(ma,p){return exports.isLeft(ma)?{left:ma,right:ma}:p(ma.right)?{left:empty,right:exports.right(ma.right)}:{left:exports.right(ma.right),right:empty}};var filterMap=function(ma,f){if(exports.isLeft(ma)){return ma}var ob=f(ma.right);return ob._tag==="None"?empty:exports.right(ob.value)};var filter=function(ma,predicate){return exports.isLeft(ma)?ma:predicate(ma.right)?ma:empty};return{URI:exports.URI,_E:undefined,map:map_,compact:compact,separate:separate,filter:filter,filterMap:filterMap,partition:partition,partitionMap:partitionMap}}exports.getFilterable=getFilterable;function getWitherable(M){var F_=getFilterable(M);var wither=function(F){var traverseF=traverse_(F);return function(ma,f){return F.map(traverseF(ma,f),F_.compact)}};var wilt=function(F){var traverseF=traverse_(F);return function(ma,f){return F.map(traverseF(ma,f),F_.separate)}};return{URI:exports.URI,_E:undefined,map:map_,compact:F_.compact,separate:F_.separate,filter:F_.filter,filterMap:F_.filterMap,partition:F_.partition,partitionMap:F_.partitionMap,traverse:traverse_,sequence:exports.sequence,reduce:reduce_,foldMap:foldMap_,reduceRight:reduceRight_,wither:wither,wilt:wilt}}exports.getWitherable=getWitherable;function getApplicativeValidation(SE){return{URI:exports.URI,_E:undefined,map:map_,ap:function(fab,fa){return exports.isLeft(fab)?exports.isLeft(fa)?exports.left(SE.concat(fab.left,fa.left)):fab:exports.isLeft(fa)?fa:exports.right(fab.right(fa.right))},of:exports.of}}exports.getApplicativeValidation=getApplicativeValidation;function getAltValidation(SE){return{URI:exports.URI,_E:undefined,map:map_,alt:function(me,that){if(exports.isRight(me)){return me}var ea=that();return exports.isLeft(ea)?exports.left(SE.concat(me.left,ea.left)):ea}}}exports.getAltValidation=getAltValidation;function getValidation(SE){var applicativeValidation=getApplicativeValidation(SE);var altValidation=getAltValidation(SE);return{URI:exports.URI,_E:undefined,map:map_,of:exports.of,chain:chain_,bimap:bimap_,mapLeft:mapLeft_,reduce:reduce_,foldMap:foldMap_,reduceRight:reduceRight_,extend:extend_,traverse:traverse_,sequence:exports.sequence,chainRec:chainRec_,throwError:exports.throwError,ap:applicativeValidation.ap,alt:altValidation.alt}}exports.getValidation=getValidation;function getValidationSemigroup(SE,SA){return{concat:function(x,y){return exports.isLeft(x)?exports.isLeft(y)?exports.left(SE.concat(x.left,y.left)):x:exports.isLeft(y)?y:exports.right(SA.concat(x.right,y.right))}}}exports.getValidationSemigroup=getValidationSemigroup;exports.Functor={URI:exports.URI,map:map_};exports.Applicative={URI:exports.URI,map:map_,ap:ap_,of:exports.of};exports.Monad={URI:exports.URI,map:map_,ap:ap_,of:exports.of,chain:chain_};exports.Foldable={URI:exports.URI,reduce:reduce_,foldMap:foldMap_,reduceRight:reduceRight_};exports.Traversable={URI:exports.URI,map:map_,reduce:reduce_,foldMap:foldMap_,reduceRight:reduceRight_,traverse:traverse_,sequence:exports.sequence};exports.Bifunctor={URI:exports.URI,bimap:bimap_,mapLeft:mapLeft_};exports.Alt={URI:exports.URI,map:map_,alt:alt_};exports.Extend={URI:exports.URI,map:map_,extend:extend_};exports.ChainRec={URI:exports.URI,map:map_,ap:ap_,chain:chain_,chainRec:chainRec_};exports.MonadThrow={URI:exports.URI,map:map_,ap:ap_,of:exports.of,chain:chain_,throwError:exports.throwError};function getValidationMonoid(SE,SA){return{concat:getValidationSemigroup(SE,SA).concat,empty:exports.right(SA.empty)}}exports.getValidationMonoid=getValidationMonoid;exports.either={URI:exports.URI,map:map_,of:exports.of,ap:ap_,chain:chain_,reduce:reduce_,foldMap:foldMap_,reduceRight:reduceRight_,traverse:traverse_,sequence:exports.sequence,bimap:bimap_,mapLeft:mapLeft_,alt:alt_,extend:extend_,chainRec:chainRec_,throwError:exports.throwError};function toError(e){return e instanceof Error?e:new Error(String(e))}exports.toError=toError;function elem(E){return function(a,ma){return exports.isLeft(ma)?false:E.equals(a,ma.right)}}exports.elem=elem;function exists(predicate){return function(ma){return exports.isLeft(ma)?false:predicate(ma.right)}}exports.exists=exists;exports.bindTo=function(name){return exports.map(function_1.bindTo_(name))};exports.bindW=function(name,f){return exports.chainW((function(a){return function_1.pipe(f(a),exports.map((function(b){return function_1.bind_(a,name,b)})))}))};exports.bind=exports.bindW;exports.apSW=function(name,fb){return function_1.flow(exports.map((function(a){return function(b){return function_1.bind_(a,name,b)}})),exports.apW(fb))};exports.apS=exports.apSW},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.bindTo_=exports.bind_=exports.hole=exports.pipe=exports.untupled=exports.tupled=exports.absurd=exports.decrement=exports.increment=exports.tuple=exports.flow=exports.flip=exports.constVoid=exports.constUndefined=exports.constNull=exports.constFalse=exports.constTrue=exports.constant=exports.not=exports.unsafeCoerce=exports.identity=void 0;function identity(a){return a}exports.identity=identity;exports.unsafeCoerce=identity;function not(predicate){return function(a){return!predicate(a)}}exports.not=not;function constant(a){return function(){return a}}exports.constant=constant;exports.constTrue=function(){return true};exports.constFalse=function(){return false};exports.constNull=function(){return null};exports.constUndefined=function(){return};exports.constVoid=function(){return};function flip(f){return function(b,a){return f(a,b)}}exports.flip=flip;function flow(ab,bc,cd,de,ef,fg,gh,hi,ij){switch(arguments.length){case 1:return ab;case 2:return function(){return bc(ab.apply(this,arguments))};case 3:return function(){return cd(bc(ab.apply(this,arguments)))};case 4:return function(){return de(cd(bc(ab.apply(this,arguments))))};case 5:return function(){return ef(de(cd(bc(ab.apply(this,arguments)))))};case 6:return function(){return fg(ef(de(cd(bc(ab.apply(this,arguments))))))};case 7:return function(){return gh(fg(ef(de(cd(bc(ab.apply(this,arguments)))))))};case 8:return function(){return hi(gh(fg(ef(de(cd(bc(ab.apply(this,arguments))))))))};case 9:return function(){return ij(hi(gh(fg(ef(de(cd(bc(ab.apply(this,arguments)))))))))}}return}exports.flow=flow;function tuple(){var t=[];for(var _i=0;_i<arguments.length;_i++){t[_i]=arguments[_i]}return t}exports.tuple=tuple;function increment(n){return n+1}exports.increment=increment;function decrement(n){return n-1}exports.decrement=decrement;function absurd(_){throw new Error("Called `absurd` function which should be uncallable")}exports.absurd=absurd;function tupled(f){return function(a){return f.apply(void 0,a)}}exports.tupled=tupled;function untupled(f){return function(){var a=[];for(var _i=0;_i<arguments.length;_i++){a[_i]=arguments[_i]}return f(a)}}exports.untupled=untupled;function pipe(a,ab,bc,cd,de,ef,fg,gh,hi,ij,jk,kl,lm,mn,no,op,pq,qr,rs,st){switch(arguments.length){case 1:return a;case 2:return ab(a);case 3:return bc(ab(a));case 4:return cd(bc(ab(a)));case 5:return de(cd(bc(ab(a))));case 6:return ef(de(cd(bc(ab(a)))));case 7:return fg(ef(de(cd(bc(ab(a))))));case 8:return gh(fg(ef(de(cd(bc(ab(a)))))));case 9:return hi(gh(fg(ef(de(cd(bc(ab(a))))))));case 10:return ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))));case 11:return jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a))))))))));case 12:return kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))))));case 13:return lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a))))))))))));case 14:return mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))))))));case 15:return no(mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a))))))))))))));case 16:return op(no(mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))))))))));case 17:return pq(op(no(mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a))))))))))))))));case 18:return qr(pq(op(no(mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))))))))))));case 19:return rs(qr(pq(op(no(mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a))))))))))))))))));case 20:return st(rs(qr(pq(op(no(mn(lm(kl(jk(ij(hi(gh(fg(ef(de(cd(bc(ab(a)))))))))))))))))))}return}exports.pipe=pipe;exports.hole=absurd;exports.bind_=function(a,name,b){var _a;return Object.assign({},a,(_a={},_a[name]=b,_a))};exports.bindTo_=function(name){return function(b){var _a;return _a={},_a[name]=b,_a}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return METRIC_THRESHOLD_ALERT_TYPE_ID}));var _common_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10);__webpack_require__.d(__webpack_exports__,"a",(function(){return _common_types__WEBPACK_IMPORTED_MODULE_0__["a"]}));const METRIC_THRESHOLD_ALERT_TYPE_ID="metrics.alert.threshold";let Aggregators;(function(Aggregators){Aggregators["COUNT"]="count";Aggregators["AVERAGE"]="avg";Aggregators["SUM"]="sum";Aggregators["MIN"]="min";Aggregators["MAX"]="max";Aggregators["RATE"]="rate";Aggregators["CARDINALITY"]="cardinality";Aggregators["P95"]="p95";Aggregators["P99"]="p99"})(Aggregators||(Aggregators={}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return TriggerActionsContext}));__webpack_require__.d(__webpack_exports__,"b",(function(){return TriggersActionsProvider}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);const TriggerActionsContext=react__WEBPACK_IMPORTED_MODULE_0__["createContext"]({triggersActionsUI:null});const TriggersActionsProvider=props=>react__WEBPACK_IMPORTED_MODULE_0__["createElement"](TriggerActionsContext.Provider,{value:{triggersActionsUI:props.triggersActionsUI}},props.children)},function(module,exports){module.exports=__kbnSharedDeps__.ReactDom},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return useNavigationWarningPrompt}));__webpack_require__.d(__webpack_exports__,"a",(function(){return NavigationWarningPromptProvider}));__webpack_require__.d(__webpack_exports__,"b",(function(){return Prompt}));var external_kbnSharedDeps_React_=__webpack_require__(1);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);const NavigationWarningPromptContext=Object(external_kbnSharedDeps_React_["createContext"])({setPrompt:prompt=>{}});const useNavigationWarningPrompt=()=>Object(external_kbnSharedDeps_React_["useContext"])(NavigationWarningPromptContext);const NavigationWarningPromptProvider=({children:children})=>{const[prompt,setPrompt]=Object(external_kbnSharedDeps_React_["useState"])(undefined);return external_kbnSharedDeps_React_default.a.createElement(NavigationWarningPromptContext.Provider,{value:{prompt:prompt,setPrompt:setPrompt}},children)};const Prompt=({prompt:prompt})=>{const{setPrompt:setPrompt}=useNavigationWarningPrompt();Object(external_kbnSharedDeps_React_["useEffect"])(()=>{setPrompt(prompt);return()=>{setPrompt(undefined)}},[prompt,setPrompt]);return null}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return METRIC_INVENTORY_THRESHOLD_ALERT_TYPE_ID}));var _common_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10);__webpack_require__.d(__webpack_exports__,"a",(function(){return _common_types__WEBPACK_IMPORTED_MODULE_0__["a"]}));const METRIC_INVENTORY_THRESHOLD_ALERT_TYPE_ID="metrics.alert.inventory.threshold"},function(module,exports){module.exports=__kbnSharedDeps__.Lodash},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.pipeable=exports.pipe=void 0;var function_1=__webpack_require__(15);exports.pipe=function_1.pipe;var isFunctor=function(I){return typeof I.map==="function"};var isContravariant=function(I){return typeof I.contramap==="function"};var isFunctorWithIndex=function(I){return typeof I.mapWithIndex==="function"};var isApply=function(I){return typeof I.ap==="function"};var isChain=function(I){return typeof I.chain==="function"};var isBifunctor=function(I){return typeof I.bimap==="function"};var isExtend=function(I){return typeof I.extend==="function"};var isFoldable=function(I){return typeof I.reduce==="function"};var isFoldableWithIndex=function(I){return typeof I.reduceWithIndex==="function"};var isAlt=function(I){return typeof I.alt==="function"};var isCompactable=function(I){return typeof I.compact==="function"};var isFilterable=function(I){return typeof I.filter==="function"};var isFilterableWithIndex=function(I){return typeof I.filterWithIndex==="function"};var isProfunctor=function(I){return typeof I.promap==="function"};var isSemigroupoid=function(I){return typeof I.compose==="function"};var isMonadThrow=function(I){return typeof I.throwError==="function"};function pipeable(I){var r={};if(isFunctor(I)){var map=function(f){return function(fa){return I.map(fa,f)}};r.map=map}if(isContravariant(I)){var contramap=function(f){return function(fa){return I.contramap(fa,f)}};r.contramap=contramap}if(isFunctorWithIndex(I)){var mapWithIndex=function(f){return function(fa){return I.mapWithIndex(fa,f)}};r.mapWithIndex=mapWithIndex}if(isApply(I)){var ap=function(fa){return function(fab){return I.ap(fab,fa)}};var apFirst=function(fb){return function(fa){return I.ap(I.map(fa,(function(a){return function(){return a}})),fb)}};r.ap=ap;r.apFirst=apFirst;r.apSecond=function(fb){return function(fa){return I.ap(I.map(fa,(function(){return function(b){return b}})),fb)}}}if(isChain(I)){var chain=function(f){return function(ma){return I.chain(ma,f)}};var chainFirst=function(f){return function(ma){return I.chain(ma,(function(a){return I.map(f(a),(function(){return a}))}))}};var flatten=function(mma){return I.chain(mma,function_1.identity)};r.chain=chain;r.chainFirst=chainFirst;r.flatten=flatten}if(isBifunctor(I)){var bimap=function(f,g){return function(fa){return I.bimap(fa,f,g)}};var mapLeft=function(f){return function(fa){return I.mapLeft(fa,f)}};r.bimap=bimap;r.mapLeft=mapLeft}if(isExtend(I)){var extend=function(f){return function(wa){return I.extend(wa,f)}};var duplicate=function(wa){return I.extend(wa,function_1.identity)};r.extend=extend;r.duplicate=duplicate}if(isFoldable(I)){var reduce=function(b,f){return function(fa){return I.reduce(fa,b,f)}};var foldMap=function(M){var foldMapM=I.foldMap(M);return function(f){return function(fa){return foldMapM(fa,f)}}};var reduceRight=function(b,f){return function(fa){return I.reduceRight(fa,b,f)}};r.reduce=reduce;r.foldMap=foldMap;r.reduceRight=reduceRight}if(isFoldableWithIndex(I)){var reduceWithIndex=function(b,f){return function(fa){return I.reduceWithIndex(fa,b,f)}};var foldMapWithIndex=function(M){var foldMapM=I.foldMapWithIndex(M);return function(f){return function(fa){return foldMapM(fa,f)}}};var reduceRightWithIndex=function(b,f){return function(fa){return I.reduceRightWithIndex(fa,b,f)}};r.reduceWithIndex=reduceWithIndex;r.foldMapWithIndex=foldMapWithIndex;r.reduceRightWithIndex=reduceRightWithIndex}if(isAlt(I)){var alt=function(that){return function(fa){return I.alt(fa,that)}};r.alt=alt}if(isCompactable(I)){r.compact=I.compact;r.separate=I.separate}if(isFilterable(I)){var filter=function(predicate){return function(fa){return I.filter(fa,predicate)}};var filterMap=function(f){return function(fa){return I.filterMap(fa,f)}};var partition=function(predicate){return function(fa){return I.partition(fa,predicate)}};var partitionMap=function(f){return function(fa){return I.partitionMap(fa,f)}};r.filter=filter;r.filterMap=filterMap;r.partition=partition;r.partitionMap=partitionMap}if(isFilterableWithIndex(I)){var filterWithIndex=function(predicateWithIndex){return function(fa){return I.filterWithIndex(fa,predicateWithIndex)}};var filterMapWithIndex=function(f){return function(fa){return I.filterMapWithIndex(fa,f)}};var partitionWithIndex=function(predicateWithIndex){return function(fa){return I.partitionWithIndex(fa,predicateWithIndex)}};var partitionMapWithIndex=function(f){return function(fa){return I.partitionMapWithIndex(fa,f)}};r.filterWithIndex=filterWithIndex;r.filterMapWithIndex=filterMapWithIndex;r.partitionWithIndex=partitionWithIndex;r.partitionMapWithIndex=partitionMapWithIndex}if(isProfunctor(I)){var promap=function(f,g){return function(fa){return I.promap(fa,f,g)}};r.promap=promap}if(isSemigroupoid(I)){var compose=function(that){return function(fa){return I.compose(fa,that)}};r.compose=compose}if(isMonadThrow(I)){var fromOption=function(onNone){return function(ma){return ma._tag==="None"?I.throwError(onNone()):I.of(ma.value)}};var fromEither=function(ma){return ma._tag==="Left"?I.throwError(ma.left):I.of(ma.right)};var fromPredicate=function(predicate,onFalse){return function(a){return predicate(a)?I.of(a):I.throwError(onFalse(a))}};var filterOrElse=function(predicate,onFalse){return function(ma){return I.chain(ma,(function(a){return predicate(a)?I.of(a):I.throwError(onFalse(a))}))}};r.fromOption=fromOption;r.fromEither=fromEither;r.fromPredicate=fromPredicate;r.filterOrElse=filterOrElse}return r}exports.pipeable=pipeable},function(module,exports,__webpack_require__){(function(root,factory){if(true){module.exports=factory()}else{}})(typeof self!=="undefined"?self:this,(function(){var rison={};rison.uri_ok={"~":true,"!":true,"*":true,"(":true,")":true,"-":true,_:true,".":true,",":true,":":true,"@":true,$:true,"'":true,"/":true};(function(){var l=[];for(var hi=0;hi<16;hi++){for(var lo=0;lo<16;lo++){if(hi+lo===0)continue;var c=String.fromCharCode(hi*16+lo);if(!/\w|[-_./~]/.test(c))l.push("\\u00"+hi.toString(16)+lo.toString(16))}}rison.not_idchar=l.join("")})();rison.not_idchar=" '!:(),*@$";rison.not_idstart="-0123456789";(function(){var idrx="[^"+rison.not_idstart+rison.not_idchar+"][^"+rison.not_idchar+"]*";rison.id_ok=new RegExp("^"+idrx+"$");rison.next_id=new RegExp(idrx,"g")})();rison.quote=function(x){if(/^[-A-Za-z0-9~!*()_.',:@$/]*$/.test(x))return x;return encodeURIComponent(x).replace(/%2C/g,",").replace(/%3A/g,":").replace(/%40/g,"@").replace(/%24/g,"$").replace(/%2F/g,"/").replace(/%20/g,"+")};(function(){var sq={"'":true,"!":true},enc=function(v){if(v&&typeof v.toJSON==="function")v=v.toJSON();var fn=s[typeof v];if(fn)return fn(v)},s={array:function(x){var a=["!("],b,i,l=x.length,v;for(i=0;i<l;i+=1){v=enc(x[i]);if(typeof v=="string"){if(b){a[a.length]=","}a[a.length]=v;b=true}}a[a.length]=")";return a.join("")},boolean:function(x){if(x)return"!t";return"!f"},null:function(){return"!n"},number:function(x){if(!isFinite(x))return"!n";return String(x).replace(/\+/,"")},object:function(x){if(x){if(x instanceof Array){return s.array(x)}if(typeof x.__prototype__==="object"&&typeof x.__prototype__.encode_rison!=="undefined")return x.encode_rison();var a=["("],b,i,v,ki,ks=[];for(i in x)ks[ks.length]=i;ks.sort();for(ki=0;ki<ks.length;ki++){i=ks[ki];v=enc(x[i]);if(typeof v=="string"){if(b){a[a.length]=","}a.push(s.string(i),":",v);b=true}}a[a.length]=")";return a.join("")}return"!n"},string:function(x){if(x==="")return"''";if(rison.id_ok.test(x))return x;x=x.replace(/(['!])/g,(function(a,b){if(sq[b])return"!"+b;return b}));return"'"+x+"'"},undefined:function(){return}};rison.encode=function(v){return enc(v)};rison.encode_object=function(v){if(typeof v!="object"||v===null||v instanceof Array)throw new Error("rison.encode_object expects an object argument");var r=s[typeof v](v);return r.substring(1,r.length-1)};rison.encode_array=function(v){if(!(v instanceof Array))throw new Error("rison.encode_array expects an array argument");var r=s[typeof v](v);return r.substring(2,r.length-1)};rison.encode_uri=function(v){return rison.quote(s[typeof v](v))}})();rison.decode=function(r){var errcb=function(e){throw Error("rison decoder error: "+e)};if(typeof r!=="string")return errcb("decode input must be a string");var p=new rison.parser(errcb);return p.parse(r)};rison.decode_object=function(r){return rison.decode("("+r+")")};rison.decode_array=function(r){return rison.decode("!("+r+")")};rison.parser=function(errcb){this.errorHandler=errcb};rison.parser.WHITESPACE="";rison.parser.prototype.setOptions=function(options){if(options["errorHandler"])this.errorHandler=options.errorHandler};rison.parser.prototype.parse=function(str){this.string=str;this.index=0;this.message=null;var value=this.readValue();if(!this.message&&this.next())value=this.error("unable to parse string as rison: '"+rison.encode(str)+"'");if(this.message&&this.errorHandler)this.errorHandler(this.message,this.index);return value};rison.parser.prototype.error=function(message){if(typeof console!=="undefined")console.log("rison parser error: ",message);this.message=message;return undefined};rison.parser.prototype.readValue=function(){var c=this.next();var fn=c&&this.table[c];if(fn)return fn.apply(this);var s=this.string;var i=this.index-1;rison.next_id.lastIndex=i;var m=rison.next_id.exec(s);if(m.length>0){var id=m[0];this.index=i+id.length;return id}if(c)return this.error("invalid character: '"+c+"'");return this.error("empty expression")};rison.parser.parse_array=function(parser){var ar=[];var c;while((c=parser.next())!==")"){if(!c)return parser.error("unmatched '!('");if(ar.length){if(c!==",")parser.error("missing ','")}else if(c===","){return parser.error("extra ','")}else--parser.index;var n=parser.readValue();if(typeof n=="undefined")return undefined;ar.push(n)}return ar};rison.parser.bangs={t:true,f:false,n:null,"(":rison.parser.parse_array};rison.parser.prototype.table={"!":function(){var s=this.string;var c=s.charAt(this.index++);if(!c)return this.error('"!" at end of input');var x=rison.parser.bangs[c];if(typeof x=="function"){return x.call(null,this)}else if(typeof x=="undefined"){return this.error('unknown literal: "!'+c+'"')}return x},"(":function(){var o={};var c;var count=0;while((c=this.next())!==")"){if(count){if(c!==",")this.error("missing ','")}else if(c===","){return this.error("extra ','")}else--this.index;var k=this.readValue();if(typeof k==="undefined")return undefined;if(this.next()!==":")return this.error("missing ':'");var v=this.readValue();if(typeof v==="undefined")return undefined;o[k]=v;count++}return o},"'":function(){var s=this.string;var i=this.index;var start=i;var segments=[];var c;while((c=s.charAt(i++))!=="'"){if(!c)return this.error('unmatched "\'"');if(c==="!"){if(start<i-1)segments.push(s.slice(start,i-1));c=s.charAt(i++);if("!'".indexOf(c)>=0){segments.push(c)}else{return this.error('invalid string escape: "!'+c+'"')}start=i}}if(start<i-1)segments.push(s.slice(start,i-1));this.index=i;return segments.length===1?segments[0]:segments.join("")},"-":function(){var s=this.string;var i=this.index;var start=i-1;var state="int";var permittedSigns="-";var transitions={"int+.":"frac","int+e":"exp","frac+e":"exp"};do{var c=s.charAt(i++);if(!c)break;if("0"<=c&&c<="9")continue;if(permittedSigns.indexOf(c)>=0){permittedSigns="";continue}state=transitions[state+"+"+c.toLowerCase()];if(state==="exp")permittedSigns="-"}while(state);this.index=--i;s=s.slice(start,i);if(s==="-")return this.error("invalid number");return Number(s)}};(function(table){for(var i=0;i<=9;i++)table[String(i)]=table["-"]})(rison.parser.prototype.table);rison.parser.prototype.next=function(){var c;var s=this.string;var i=this.index;do{if(i===s.length)return undefined;c=s.charAt(i++)}while(rison.parser.WHITESPACE.indexOf(c)>=0);this.index=i;return c};return rison}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return isValidDatemath}));__webpack_require__.d(__webpack_exports__,"a",(function(){return datemathToEpochMillis}));__webpack_require__.d(__webpack_exports__,"b",(function(){return extendDatemath}));var _elastic_datemath__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6);var _elastic_datemath__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_elastic_datemath__WEBPACK_IMPORTED_MODULE_0__);const JS_MAX_DATE=864e13;function isValidDatemath(value){const parsedValue=_elastic_datemath__WEBPACK_IMPORTED_MODULE_0___default.a.parse(value);return!!(parsedValue&&parsedValue.isValid())}function datemathToEpochMillis(value,round="down"){const parsedValue=_elastic_datemath__WEBPACK_IMPORTED_MODULE_0___default.a.parse(value,{roundUp:round==="up"});if(!parsedValue||!parsedValue.isValid()){return null}return parsedValue.valueOf()}const datemathNowExpression=/(\+|\-)(\d+)(ms|s|m|h|d|w|M|y)$/;function extendDatemath(value,direction="before",oppositeEdge){if(!isValidDatemath(value)){return undefined}if(value==="now"){return{value:"now"}}if(value.startsWith("now")){return extendRelativeDatemath(value,direction)}else if(oppositeEdge&&isValidDatemath(oppositeEdge)){return extendAbsoluteDatemath(value,direction,oppositeEdge)}return undefined}function extendRelativeDatemath(value,direction){const[,operator,amount,unit]=datemathNowExpression.exec(value)||[];if(!operator||!amount||!unit){return undefined}const mustIncreaseAmount=operator==="-"&&direction==="before"||operator==="+"&&direction==="after";const parsedAmount=parseInt(amount,10);let newUnit=unit;let newAmount;switch(unit){case"ms":case"s":newAmount=mustIncreaseAmount?parsedAmount*2:Math.floor(parsedAmount/2);break;case"m":let ratio;const MINUTES_LARGE=10;if(mustIncreaseAmount){ratio=parsedAmount>=MINUTES_LARGE?.5:1;newAmount=parsedAmount+Math.floor(parsedAmount*ratio)}else{newAmount=parsedAmount>=MINUTES_LARGE?Math.floor(parsedAmount/1.5):parsedAmount-Math.floor(parsedAmount*.5)}break;case"h":if(parsedAmount===1){newAmount=mustIncreaseAmount?90:30;newUnit="m"}else{newAmount=mustIncreaseAmount?parsedAmount+1:parsedAmount-1}break;case"d":case"w":case"M":case"y":if(parsedAmount===1){newUnit=_elastic_datemath__WEBPACK_IMPORTED_MODULE_0___default.a.unitsDesc[_elastic_datemath__WEBPACK_IMPORTED_MODULE_0___default.a.unitsDesc.indexOf(unit)+1];newAmount=mustIncreaseAmount?convertDate(1,unit,newUnit)+1:convertDate(1,unit,newUnit)-1}else{newAmount=mustIncreaseAmount?parsedAmount+1:parsedAmount-1}break;default:throw new TypeError("Unhandled datemath unit")}const{unit:normalizedUnit,amount:normalizedAmount}=normalizeDate(newAmount,newUnit);const diffAmount=Math.abs(normalizedAmount-convertDate(parsedAmount,unit,normalizedUnit));const shouldKeepDiffUnit=diffAmount%1!==0;const nextValue=`now${operator}${normalizedAmount}${normalizedUnit}`;if(isDateInRange(nextValue)){return{value:nextValue,diffUnit:shouldKeepDiffUnit?unit:newUnit,diffAmount:shouldKeepDiffUnit?Math.abs(newAmount-parsedAmount):diffAmount}}else{return undefined}}function extendAbsoluteDatemath(value,direction,oppositeEdge){const valueTimestamp=datemathToEpochMillis(value);const oppositeEdgeTimestamp=datemathToEpochMillis(oppositeEdge);const actualTimestampDiff=Math.abs(valueTimestamp-oppositeEdgeTimestamp);const normalizedDiff=normalizeDate(actualTimestampDiff,"ms");const normalizedTimestampDiff=convertDate(normalizedDiff.amount,normalizedDiff.unit,"ms");const newValue=direction==="before"?valueTimestamp-normalizedTimestampDiff:valueTimestamp+normalizedTimestampDiff;if(isDateInRange(newValue)){return{value:new Date(newValue).toISOString(),diffUnit:normalizedDiff.unit,diffAmount:normalizedDiff.amount}}else{return undefined}}const CONVERSION_RATIOS={wy:[["w",52],["y",1]],w:[["ms",1e3],["s",60],["m",60],["h",24],["d",7],["w",4],["M",12],["y",1]],M:[["ms",1e3],["s",60],["m",60],["h",24],["d",30],["M",12],["y",1]],default:[["ms",1e3],["s",60],["m",60],["h",24],["d",365],["y",1]]};function getRatioScale(from,to){if(from==="y"&&to==="w"||from==="w"&&to==="y"){return CONVERSION_RATIOS.wy}else if(from==="w"||to==="w"){return CONVERSION_RATIOS.w}else if(from==="M"||to==="M"){return CONVERSION_RATIOS.M}else{return CONVERSION_RATIOS.default}}function convertDate(value,from,to){if(from===to){return value}const ratioScale=getRatioScale(from,to);const fromIdx=ratioScale.findIndex(ratio=>ratio[0]===from);const toIdx=ratioScale.findIndex(ratio=>ratio[0]===to);let convertedValue=value;if(fromIdx>toIdx){for(let i=toIdx;i<fromIdx;i++){convertedValue*=ratioScale[i][1]}}else{for(let i=fromIdx;i<toIdx;i++){convertedValue/=ratioScale[i][1]}}return convertedValue}function normalizeDate(amount,unit){if(unit==="y"){return{amount:amount,unit:unit}}const nextUnit=_elastic_datemath__WEBPACK_IMPORTED_MODULE_0___default.a.unitsAsc[_elastic_datemath__WEBPACK_IMPORTED_MODULE_0___default.a.unitsAsc.indexOf(unit)+1];const ratioScale=getRatioScale(unit,nextUnit);const ratio=ratioScale.find(r=>r[0]===unit)[1];const newAmount=amount/ratio;if(newAmount===1){return{amount:newAmount,unit:nextUnit}}if(newAmount>=2){return normalizeDate(Math.round(newAmount),nextUnit)}return{amount:amount,unit:unit}}function isDateInRange(date){try{var _datemathToEpochMilli;const epoch=typeof date==="string"?(_datemathToEpochMilli=datemathToEpochMillis(date))!==null&&_datemathToEpochMilli!==void 0?_datemathToEpochMilli:-1:date;return epoch>=0&&epoch<=JS_MAX_DATE}catch{return false}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DEFAULT_SOURCE_ID}));__webpack_require__.d(__webpack_exports__,"b",(function(){return METRICS_INDEX_PATTERN}));const DEFAULT_SOURCE_ID="default";const METRICS_INDEX_PATTERN="metrics-*,metricbeat-*";const LOGS_INDEX_PATTERN="logs-*,filebeat-*,kibana_sample_data_logs*";const TIMESTAMP_FIELD="@timestamp"},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("entry/core/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/home/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return createKibanaContextForPlugin}));__webpack_require__.d(__webpack_exports__,"b",(function(){return useKibanaContextForPlugin}));var _src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3);var _src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_0__);const createKibanaContextForPlugin=(core,pluginsStart)=>Object(_src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_0__["createKibanaReactContext"])({...core,...pluginsStart});const useKibanaContextForPlugin=_src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_0__["useKibana"]},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return useLinkProps}));__webpack_require__.d(__webpack_exports__,"a",(function(){return shouldHandleLinkEvent}));var external_kbnSharedDeps_React_=__webpack_require__(1);var query_string=__webpack_require__(34);var url=__webpack_require__(44);var url_default=__webpack_require__.n(url);var public_=__webpack_require__(33);var kibanaReact_public_=__webpack_require__(3);const usePrefixPathWithBasepath=()=>{var _useKibana$services$a;const getUrlForApp=(_useKibana$services$a=Object(kibanaReact_public_["useKibana"])().services.application)===null||_useKibana$services$a===void 0?void 0:_useKibana$services$a.getUrlForApp;const prefixer=Object(external_kbnSharedDeps_React_["useMemo"])(()=>{if(!getUrlForApp){throw new Error("Application core service is unavailable")}return(app,path)=>getUrlForApp(app,{path:path})},[getUrlForApp]);return prefixer};var navigation_warning_prompt=__webpack_require__(19);const useLinkProps=({app:app,pathname:pathname,hash:hash,search:search},options={})=>{var _useKibana$services$a;validateParams({app:app,pathname:pathname,hash:hash,search:search});const{prompt:prompt}=Object(navigation_warning_prompt["c"])();const prefixer=usePrefixPathWithBasepath();const navigateToApp=(_useKibana$services$a=Object(kibanaReact_public_["useKibana"])().services.application)===null||_useKibana$services$a===void 0?void 0:_useKibana$services$a.navigateToApp;const{hrefOnly:hrefOnly}=options;const encodedSearch=Object(external_kbnSharedDeps_React_["useMemo"])(()=>search?encodeSearch(search):undefined,[search]);const mergedHash=Object(external_kbnSharedDeps_React_["useMemo"])(()=>hash&&encodedSearch?`${hash}?${encodedSearch}`:hash,[hash,encodedSearch]);const mergedPathname=Object(external_kbnSharedDeps_React_["useMemo"])(()=>pathname&&encodedSearch?`${pathname}?${encodedSearch}`:pathname,[pathname,encodedSearch]);const href=Object(external_kbnSharedDeps_React_["useMemo"])(()=>{const link=url_default.a.format({pathname:pathname,hash:mergedHash,search:!hash?encodedSearch:undefined});return prefixer(app,link)},[mergedHash,hash,encodedSearch,pathname,prefixer,app]);const onClick=Object(external_kbnSharedDeps_React_["useMemo"])(()=>e=>{if(!shouldHandleLinkEvent(e)){return}e.preventDefault();const navigate=()=>{if(navigateToApp){const navigationPath=mergedHash?`#${mergedHash}`:mergedPathname;navigateToApp(app,{path:navigationPath?navigationPath:undefined})}};if(prompt){const wantsToNavigate=window.confirm(prompt);if(wantsToNavigate){navigate()}else{return}}else{navigate()}},[navigateToApp,mergedHash,mergedPathname,app,prompt]);return{href:href,onClick:hrefOnly?undefined:onClick}};const encodeSearch=search=>Object(query_string["stringify"])(public_["url"].encodeQuery(search),{sort:false,encode:false});const validateParams=({app:app,pathname:pathname,hash:hash,search:search})=>{if(!app&&hash){throw new Error("The metrics and logs apps use browserHistory. Please provide a pathname rather than a hash.")}};const isModifiedEvent=event=>!!(event.metaKey||event.altKey||event.ctrlKey||event.shiftKey);const shouldHandleLinkEvent=e=>!e.defaultPrevented&&!isModifiedEvent(e)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",(function(){return PALETTES}));__webpack_require__.d(__webpack_exports__,"d",(function(){return InventoryColorPaletteRT}));__webpack_require__.d(__webpack_exports__,"f",(function(){return StepLegendRT}));__webpack_require__.d(__webpack_exports__,"a",(function(){return GradientLegendRT}));__webpack_require__.d(__webpack_exports__,"g",(function(){return SteppedGradientLegendRT}));__webpack_require__.d(__webpack_exports__,"c",(function(){return InfraWaffleMapRuleOperator}));__webpack_require__.d(__webpack_exports__,"b",(function(){return InfraFormatterType}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__);var io_ts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0);var io_ts__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(io_ts__WEBPACK_IMPORTED_MODULE_1__);const OperatorRT=io_ts__WEBPACK_IMPORTED_MODULE_1__["keyof"]({gt:null,gte:null,lt:null,lte:null,eq:null});const PALETTES={status:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.infra.legendControls.palettes.status",{defaultMessage:"Status"}),temperature:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.infra.legendControls.palettes.temperature",{defaultMessage:"Temperature"}),cool:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.infra.legendControls.palettes.cool",{defaultMessage:"Cool"}),warm:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.infra.legendControls.palettes.warm",{defaultMessage:"Warm"}),positive:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.infra.legendControls.palettes.positive",{defaultMessage:"Positive"}),negative:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.infra.legendControls.palettes.negative",{defaultMessage:"Negative"})};const InventoryColorPaletteRT=io_ts__WEBPACK_IMPORTED_MODULE_1__["keyof"](PALETTES);const StepRuleRT=io_ts__WEBPACK_IMPORTED_MODULE_1__["intersection"]([io_ts__WEBPACK_IMPORTED_MODULE_1__["type"]({value:io_ts__WEBPACK_IMPORTED_MODULE_1__["number"],operator:OperatorRT,color:io_ts__WEBPACK_IMPORTED_MODULE_1__["string"]}),io_ts__WEBPACK_IMPORTED_MODULE_1__["partial"]({label:io_ts__WEBPACK_IMPORTED_MODULE_1__["string"]})]);const StepLegendRT=io_ts__WEBPACK_IMPORTED_MODULE_1__["type"]({type:io_ts__WEBPACK_IMPORTED_MODULE_1__["literal"]("step"),rules:io_ts__WEBPACK_IMPORTED_MODULE_1__["array"](StepRuleRT)});const GradientRuleRT=io_ts__WEBPACK_IMPORTED_MODULE_1__["type"]({value:io_ts__WEBPACK_IMPORTED_MODULE_1__["number"],color:io_ts__WEBPACK_IMPORTED_MODULE_1__["string"]});const GradientLegendRT=io_ts__WEBPACK_IMPORTED_MODULE_1__["type"]({type:io_ts__WEBPACK_IMPORTED_MODULE_1__["literal"]("gradient"),rules:io_ts__WEBPACK_IMPORTED_MODULE_1__["array"](GradientRuleRT)});const SteppedGradientLegendRT=io_ts__WEBPACK_IMPORTED_MODULE_1__["type"]({type:io_ts__WEBPACK_IMPORTED_MODULE_1__["literal"]("steppedGradient"),rules:io_ts__WEBPACK_IMPORTED_MODULE_1__["array"](GradientRuleRT)});const LegendRT=io_ts__WEBPACK_IMPORTED_MODULE_1__["union"]([StepLegendRT,GradientLegendRT,SteppedGradientLegendRT]);let InfraWaffleMapRuleOperator;(function(InfraWaffleMapRuleOperator){InfraWaffleMapRuleOperator["gt"]="gt";InfraWaffleMapRuleOperator["gte"]="gte";InfraWaffleMapRuleOperator["lt"]="lt";InfraWaffleMapRuleOperator["lte"]="lte";InfraWaffleMapRuleOperator["eq"]="eq"})(InfraWaffleMapRuleOperator||(InfraWaffleMapRuleOperator={}));let InfraFormatterType;(function(InfraFormatterType){InfraFormatterType["number"]="number";InfraFormatterType["abbreviatedNumber"]="abbreviatedNumber";InfraFormatterType["bytes"]="bytes";InfraFormatterType["bits"]="bits";InfraFormatterType["percent"]="percent"})(InfraFormatterType||(InfraFormatterType={}))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/data/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FORMATTERS}));__webpack_require__.d(__webpack_exports__,"b",(function(){return createFormatter}));var mustache=__webpack_require__(49);var mustache_default=__webpack_require__.n(mustache);var number=__webpack_require__(7);let InfraWaffleMapDataFormat;(function(InfraWaffleMapDataFormat){InfraWaffleMapDataFormat["bytesDecimal"]="bytesDecimal";InfraWaffleMapDataFormat["bitsDecimal"]="bitsDecimal";InfraWaffleMapDataFormat["abbreviatedNumber"]="abbreviatedNumber"})(InfraWaffleMapDataFormat||(InfraWaffleMapDataFormat={}));const LABELS={[InfraWaffleMapDataFormat.bytesDecimal]:["B","kB","MB","GB","TB","PB","EB","ZB","YB"],[InfraWaffleMapDataFormat.bitsDecimal]:["bit","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],[InfraWaffleMapDataFormat.abbreviatedNumber]:["","K","M","B","T"]};const BASES={[InfraWaffleMapDataFormat.bytesDecimal]:1e3,[InfraWaffleMapDataFormat.bitsDecimal]:1e3,[InfraWaffleMapDataFormat.abbreviatedNumber]:1e3};const createBytesFormatter=format=>bytes=>{const labels=LABELS[format];const base=BASES[format];const value=format===InfraWaffleMapDataFormat.bitsDecimal?bytes*8:bytes;const power=Math.min(Math.floor(Math.log(Math.abs(value))/Math.log(base)),labels.length-1);if(power<0){return`${Object(number["a"])(value)}${labels[0]}`}return`${Object(number["a"])(value/Math.pow(base,power))}${labels[power]}`};const formatPercent=val=>`${Object(number["a"])(val*100)}%`;const formatHighPercision=val=>Number(val).toLocaleString("en",{maximumFractionDigits:5});const FORMATTERS={number:number["a"],abbreviatedNumber:createBytesFormatter(InfraWaffleMapDataFormat.abbreviatedNumber),bytes:createBytesFormatter(InfraWaffleMapDataFormat.bytesDecimal),bits:createBytesFormatter(InfraWaffleMapDataFormat.bitsDecimal),percent:formatPercent,highPercision:formatHighPercision};const createFormatter=(format,template="{{value}}")=>val=>{if(val==null){return""}const fmtFn=FORMATTERS[format];const value=fmtFn(Number(val));return mustache_default.a.render(template,{value:value})}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports,__webpack_require__){"use strict";const strictUriEncode=__webpack_require__(55);const decodeComponent=__webpack_require__(56);const splitOnFirst=__webpack_require__(57);const isNullOrUndefined=value=>value===null||value===undefined;function encoderForArrayFormat(options){switch(options.arrayFormat){case"index":return key=>(result,value)=>{const index=result.length;if(value===undefined||options.skipNull&&value===null||options.skipEmptyString&&value===""){return result}if(value===null){return[...result,[encode(key,options),"[",index,"]"].join("")]}return[...result,[encode(key,options),"[",encode(index,options),"]=",encode(value,options)].join("")]};case"bracket":return key=>(result,value)=>{if(value===undefined||options.skipNull&&value===null||options.skipEmptyString&&value===""){return result}if(value===null){return[...result,[encode(key,options),"[]"].join("")]}return[...result,[encode(key,options),"[]=",encode(value,options)].join("")]};case"comma":case"separator":return key=>(result,value)=>{if(value===null||value===undefined||value.length===0){return result}if(result.length===0){return[[encode(key,options),"=",encode(value,options)].join("")]}return[[result,encode(value,options)].join(options.arrayFormatSeparator)]};default:return key=>(result,value)=>{if(value===undefined||options.skipNull&&value===null||options.skipEmptyString&&value===""){return result}if(value===null){return[...result,encode(key,options)]}return[...result,[encode(key,options),"=",encode(value,options)].join("")]}}}function parserForArrayFormat(options){let result;switch(options.arrayFormat){case"index":return(key,value,accumulator)=>{result=/\[(\d*)\]$/.exec(key);key=key.replace(/\[\d*\]$/,"");if(!result){accumulator[key]=value;return}if(accumulator[key]===undefined){accumulator[key]={}}accumulator[key][result[1]]=value};case"bracket":return(key,value,accumulator)=>{result=/(\[\])$/.exec(key);key=key.replace(/\[\]$/,"");if(!result){accumulator[key]=value;return}if(accumulator[key]===undefined){accumulator[key]=[value];return}accumulator[key]=[].concat(accumulator[key],value)};case"comma":case"separator":return(key,value,accumulator)=>{const isArray=typeof value==="string"&&value.split("").indexOf(options.arrayFormatSeparator)>-1;const newValue=isArray?value.split(options.arrayFormatSeparator).map(item=>decode(item,options)):value===null?value:decode(value,options);accumulator[key]=newValue};default:return(key,value,accumulator)=>{if(accumulator[key]===undefined){accumulator[key]=value;return}accumulator[key]=[].concat(accumulator[key],value)}}}function validateArrayFormatSeparator(value){if(typeof value!=="string"||value.length!==1){throw new TypeError("arrayFormatSeparator must be single character string")}}function encode(value,options){if(options.encode){return options.strict?strictUriEncode(value):encodeURIComponent(value)}return value}function decode(value,options){if(options.decode){return decodeComponent(value)}return value}function keysSorter(input){if(Array.isArray(input)){return input.sort()}if(typeof input==="object"){return keysSorter(Object.keys(input)).sort((a,b)=>Number(a)-Number(b)).map(key=>input[key])}return input}function removeHash(input){const hashStart=input.indexOf("#");if(hashStart!==-1){input=input.slice(0,hashStart)}return input}function getHash(url){let hash="";const hashStart=url.indexOf("#");if(hashStart!==-1){hash=url.slice(hashStart)}return hash}function extract(input){input=removeHash(input);const queryStart=input.indexOf("?");if(queryStart===-1){return""}return input.slice(queryStart+1)}function parseValue(value,options){if(options.parseNumbers&&!Number.isNaN(Number(value))&&(typeof value==="string"&&value.trim()!=="")){value=Number(value)}else if(options.parseBooleans&&value!==null&&(value.toLowerCase()==="true"||value.toLowerCase()==="false")){value=value.toLowerCase()==="true"}return value}function parse(input,options){options=Object.assign({decode:true,sort:true,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:false,parseBooleans:false},options);validateArrayFormatSeparator(options.arrayFormatSeparator);const formatter=parserForArrayFormat(options);const ret=Object.create(null);if(typeof input!=="string"){return ret}input=input.trim().replace(/^[?#&]/,"");if(!input){return ret}for(const param of input.split("&")){let[key,value]=splitOnFirst(options.decode?param.replace(/\+/g," "):param,"=");value=value===undefined?null:["comma","separator"].includes(options.arrayFormat)?value:decode(value,options);formatter(decode(key,options),value,ret)}for(const key of Object.keys(ret)){const value=ret[key];if(typeof value==="object"&&value!==null){for(const k of Object.keys(value)){value[k]=parseValue(value[k],options)}}else{ret[key]=parseValue(value,options)}}if(options.sort===false){return ret}return(options.sort===true?Object.keys(ret).sort():Object.keys(ret).sort(options.sort)).reduce((result,key)=>{const value=ret[key];if(Boolean(value)&&typeof value==="object"&&!Array.isArray(value)){result[key]=keysSorter(value)}else{result[key]=value}return result},Object.create(null))}exports.extract=extract;exports.parse=parse;exports.stringify=(object,options)=>{if(!object){return""}options=Object.assign({encode:true,strict:true,arrayFormat:"none",arrayFormatSeparator:","},options);validateArrayFormatSeparator(options.arrayFormatSeparator);const shouldFilter=key=>options.skipNull&&isNullOrUndefined(object[key])||options.skipEmptyString&&object[key]==="";const formatter=encoderForArrayFormat(options);const objectCopy={};for(const key of Object.keys(object)){if(!shouldFilter(key)){objectCopy[key]=object[key]}}const keys=Object.keys(objectCopy);if(options.sort!==false){keys.sort(options.sort)}return keys.map(key=>{const value=object[key];if(value===undefined){return""}if(value===null){return encode(key,options)}if(Array.isArray(value)){return value.reduce(formatter(key),[]).join("&")}return encode(key,options)+"="+encode(value,options)}).filter(x=>x.length>0).join("&")};exports.parseUrl=(input,options)=>{options=Object.assign({decode:true},options);const[url,hash]=splitOnFirst(input,"#");return Object.assign({url:url.split("?")[0]||"",query:parse(extract(input),options)},options&&options.parseFragmentIdentifier&&hash?{fragmentIdentifier:decode(hash,options)}:{})};exports.stringifyUrl=(input,options)=>{options=Object.assign({encode:true,strict:true},options);const url=removeHash(input.url).split("?")[0]||"";const queryFromUrl=exports.extract(input.url);const parsedQueryFromUrl=exports.parse(queryFromUrl,{sort:false});const query=Object.assign(parsedQueryFromUrl,input.query);let queryString=exports.stringify(query,options);if(queryString){queryString=`?${queryString}`}let hash=getHash(input.url);if(input.fragmentIdentifier){hash=`#${encode(input.fragmentIdentifier,options)}`}return`${url}${queryString}${hash}`}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return timeRangeRT}));var io_ts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var io_ts__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(io_ts__WEBPACK_IMPORTED_MODULE_0__);const timeRangeRT=io_ts__WEBPACK_IMPORTED_MODULE_0__["type"]({startTime:io_ts__WEBPACK_IMPORTED_MODULE_0__["number"],endTime:io_ts__WEBPACK_IMPORTED_MODULE_0__["number"]})},function(module,exports,__webpack_require__){var v1=__webpack_require__(64);var v4=__webpack_require__(65);var uuid=v4;uuid.v1=v1;uuid.v4=v4;module.exports=uuid},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return callFetchLogSourceConfigurationAPI}));var _common_http_api_log_sources__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9);var _common_runtime_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(13);const callFetchLogSourceConfigurationAPI=async(sourceId,fetch)=>{const response=await fetch(Object(_common_http_api_log_sources__WEBPACK_IMPORTED_MODULE_0__["a"])(sourceId),{method:"GET"});return Object(_common_runtime_types__WEBPACK_IMPORTED_MODULE_1__["b"])(_common_http_api_log_sources__WEBPACK_IMPORTED_MODULE_0__["b"])(response)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return callFetchLogSourceStatusAPI}));var _common_http_api_log_sources__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9);var _common_runtime_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(13);const callFetchLogSourceStatusAPI=async(sourceId,fetch)=>{const response=await fetch(Object(_common_http_api_log_sources__WEBPACK_IMPORTED_MODULE_0__["c"])(sourceId),{method:"GET"});return Object(_common_runtime_types__WEBPACK_IMPORTED_MODULE_1__["b"])(_common_http_api_log_sources__WEBPACK_IMPORTED_MODULE_0__["d"])(response)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return CommonInfraProviders}));__webpack_require__.d(__webpack_exports__,"b",(function(){return CoreProviders}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11);var _src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__);var _src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3);var _src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_2__);var _hooks_use_kibana__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(28);var _utils_header_action_menu_provider__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(40);var _utils_navigation_warning_prompt__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(19);var _utils_triggers_actions_context__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(17);const CommonInfraProviders=({children:children,triggersActionsUI:triggersActionsUI,setHeaderActionMenu:setHeaderActionMenu,appName:appName,storage:storage})=>{const[darkMode]=Object(_src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_2__["useUiSetting$"])("theme:darkMode");return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_utils_triggers_actions_context__WEBPACK_IMPORTED_MODULE_6__["b"],{triggersActionsUI:triggersActionsUI},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_plugins_kibana_react_common__WEBPACK_IMPORTED_MODULE_1__["EuiThemeProvider"],{darkMode:darkMode},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DataUIProviders,{appName:appName,storage:storage},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_utils_header_action_menu_provider__WEBPACK_IMPORTED_MODULE_4__["b"],{setHeaderActionMenu:setHeaderActionMenu},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_utils_navigation_warning_prompt__WEBPACK_IMPORTED_MODULE_5__["a"],null,children)))))};const CoreProviders=({children:children,core:core,plugins:plugins})=>{const{Provider:KibanaContextProviderForPlugin}=Object(react__WEBPACK_IMPORTED_MODULE_0__["useMemo"])(()=>Object(_hooks_use_kibana__WEBPACK_IMPORTED_MODULE_3__["a"])(core,plugins),[core,plugins]);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(KibanaContextProviderForPlugin,{services:{...core,...plugins}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(core.i18n.Context,null,children))};const DataUIProviders=({appName:appName,children:children,storage:storage})=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_2__["KibanaContextProvider"],{services:{appName:appName,storage:storage}},children)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return HeaderActionMenuContext}));__webpack_require__.d(__webpack_exports__,"b",(function(){return HeaderActionMenuProvider}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);const HeaderActionMenuContext=react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext({});const HeaderActionMenuProvider=({setHeaderActionMenu:setHeaderActionMenu,children:children})=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(HeaderActionMenuContext.Provider,{value:{setHeaderActionMenu:setHeaderActionMenu}},children)},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return validateMetricThreshold}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__);var _server_lib_alerting_metric_threshold_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(16);function validateMetricThreshold({criteria:criteria}){const validationResult={errors:{}};const errors={};validationResult.errors=errors;if(!criteria||!criteria.length){return validationResult}criteria.forEach((c,idx)=>{const id=idx.toString();errors[id]=errors[id]||{aggField:[],timeSizeUnit:[],timeWindowSize:[],critical:{threshold0:[],threshold1:[]},warning:{threshold0:[],threshold1:[]},metric:[]};if(!c.aggType){errors[id].aggField.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.infra.metrics.alertFlyout.error.aggregationRequired",{defaultMessage:"Aggregation is required."}))}if(!c.threshold||!c.threshold.length){errors[id].critical.threshold0.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.infra.metrics.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."}))}if(c.warningThreshold&&!c.warningThreshold.length){errors[id].warning.threshold0.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.infra.metrics.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."}))}for(const props of[{comparator:c.comparator,threshold:c.threshold,type:"critical"},{comparator:c.warningComparator,threshold:c.warningThreshold,type:"warning"}]){const{comparator:comparator,threshold:threshold,type:type}=props;if(threshold&&threshold.length&&![...threshold].every(isNumber)){[...threshold].forEach((v,i)=>{if(!isNumber(v)){const key=i===0?"threshold0":"threshold1";errors[id][type][key].push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.infra.metrics.alertFlyout.error.thresholdTypeRequired",{defaultMessage:"Thresholds must contain a valid number."}))}})}if(comparator===_server_lib_alerting_metric_threshold_types__WEBPACK_IMPORTED_MODULE_1__["a"].BETWEEN&&(!threshold||threshold.length<2)){errors[id][type].threshold1.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.infra.metrics.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."}))}}if(!c.timeSize){errors[id].timeWindowSize.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.infra.metrics.alertFlyout.error.timeRequred",{defaultMessage:"Time size is Required."}))}if(!c.metric&&c.aggType!=="count"){errors[id].metric.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.infra.metrics.alertFlyout.error.metricRequired",{defaultMessage:"Metric is required."}))}});return validationResult}const isNumber=value=>typeof value==="number"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return validateMetricThreshold}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__);var _server_lib_alerting_inventory_metric_threshold_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(20);function validateMetricThreshold({criteria:criteria}){const validationResult={errors:{}};const errors={};validationResult.errors=errors;if(!criteria||!criteria.length){return validationResult}criteria.forEach((c,idx)=>{var _c$customMetric;const id=idx.toString();errors[id]=errors[id]||{timeSizeUnit:[],timeWindowSize:[],critical:{threshold0:[],threshold1:[]},warning:{threshold0:[],threshold1:[]},metric:[]};if(!c.threshold||!c.threshold.length){errors[id].critical.threshold0.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.infra.metrics.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."}))}if(c.warningThreshold&&!c.warningThreshold.length){errors[id].warning.threshold0.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.infra.metrics.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."}))}for(const props of[{comparator:c.comparator,threshold:c.threshold,type:"critical"},{comparator:c.warningComparator,threshold:c.warningThreshold,type:"warning"}]){const{comparator:comparator,threshold:threshold,type:type}=props;if(threshold&&threshold.length&&![...threshold].every(isNumber)){[...threshold].forEach((v,i)=>{if(!isNumber(v)){const key=i===0?"threshold0":"threshold1";errors[id][type][key].push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.infra.metrics.alertFlyout.error.thresholdTypeRequired",{defaultMessage:"Thresholds must contain a valid number."}))}})}if(comparator===_server_lib_alerting_inventory_metric_threshold_types__WEBPACK_IMPORTED_MODULE_1__["a"].BETWEEN&&(!threshold||threshold.length<2)){errors[id][type].threshold1.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.infra.metrics.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."}))}}if(!c.timeSize){errors[id].timeWindowSize.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.infra.metrics.alertFlyout.error.timeRequred",{defaultMessage:"Time size is Required."}))}if(!c.metric){errors[id].metric.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.infra.metrics.alertFlyout.error.metricRequired",{defaultMessage:"Metric is required."}))}if(c.metric==="custom"&&!((_c$customMetric=c.customMetric)!==null&&_c$customMetric!==void 0&&_c$customMetric.field)){errors[id].metric.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.infra.metrics.alertFlyout.error.customMetricFieldRequired",{defaultMessage:"Field is required."}))}});return validationResult}const isNumber=value=>typeof value==="number"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return errorsRT}));__webpack_require__.d(__webpack_exports__,"b",(function(){return validateExpression}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__);var io_ts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0);var io_ts__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(io_ts__WEBPACK_IMPORTED_MODULE_1__);var lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(21);var lodash__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);var _common_alerting_logs_log_threshold_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5);const criterionErrorRT=io_ts__WEBPACK_IMPORTED_MODULE_1__["type"]({field:io_ts__WEBPACK_IMPORTED_MODULE_1__["array"](io_ts__WEBPACK_IMPORTED_MODULE_1__["string"]),comparator:io_ts__WEBPACK_IMPORTED_MODULE_1__["array"](io_ts__WEBPACK_IMPORTED_MODULE_1__["string"]),value:io_ts__WEBPACK_IMPORTED_MODULE_1__["array"](io_ts__WEBPACK_IMPORTED_MODULE_1__["string"])});const criterionErrorsRT=io_ts__WEBPACK_IMPORTED_MODULE_1__["record"](io_ts__WEBPACK_IMPORTED_MODULE_1__["string"],criterionErrorRT);const alertingErrorRT=io_ts__WEBPACK_IMPORTED_MODULE_1__["recursion"]("AlertingError",()=>io_ts__WEBPACK_IMPORTED_MODULE_1__["record"](io_ts__WEBPACK_IMPORTED_MODULE_1__["string"],io_ts__WEBPACK_IMPORTED_MODULE_1__["union"]([io_ts__WEBPACK_IMPORTED_MODULE_1__["string"],io_ts__WEBPACK_IMPORTED_MODULE_1__["array"](io_ts__WEBPACK_IMPORTED_MODULE_1__["string"]),alertingErrorRT])));const errorsRT=io_ts__WEBPACK_IMPORTED_MODULE_1__["type"]({threshold:io_ts__WEBPACK_IMPORTED_MODULE_1__["type"]({value:io_ts__WEBPACK_IMPORTED_MODULE_1__["array"](io_ts__WEBPACK_IMPORTED_MODULE_1__["string"])}),criteria:io_ts__WEBPACK_IMPORTED_MODULE_1__["record"](io_ts__WEBPACK_IMPORTED_MODULE_1__["string"],criterionErrorsRT),timeWindowSize:io_ts__WEBPACK_IMPORTED_MODULE_1__["array"](io_ts__WEBPACK_IMPORTED_MODULE_1__["string"]),timeSizeUnit:io_ts__WEBPACK_IMPORTED_MODULE_1__["array"](io_ts__WEBPACK_IMPORTED_MODULE_1__["string"])});function validateExpression({count:count,criteria:criteria,timeSize:timeSize}){const validationResult={errors:{}};const errors={threshold:{value:[]},criteria:{},timeSizeUnit:[],timeWindowSize:[]};validationResult.errors=errors;if(!Object(lodash__WEBPACK_IMPORTED_MODULE_2__["isNumber"])(count===null||count===void 0?void 0:count.value)&&!Object(lodash__WEBPACK_IMPORTED_MODULE_2__["isFinite"])(count===null||count===void 0?void 0:count.value)){errors.threshold.value.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.infra.logs.alertFlyout.error.thresholdRequired",{defaultMessage:"Numeric threshold value is Required."}))}if(!timeSize){errors.timeWindowSize.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.infra.logs.alertFlyout.error.timeSizeRequired",{defaultMessage:"Time size is Required."}))}if(criteria&&criteria.length>0){const getCriterionErrors=_criteria=>{const _errors={};_criteria.forEach((criterion,idx)=>{_errors[idx]={field:[],comparator:[],value:[]};if(!criterion.field){_errors[idx].field.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.infra.logs.alertFlyout.error.criterionFieldRequired",{defaultMessage:"Field is required."}))}if(!criterion.comparator){_errors[idx].comparator.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.infra.logs.alertFlyout.error.criterionComparatorRequired",{defaultMessage:"Comparator is required."}))}if(criterion.value===undefined||criterion.value===null){_errors[idx].value.push(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("xpack.infra.logs.alertFlyout.error.criterionValueRequired",{defaultMessage:"Value is required."}))}});return _errors};if(!Object(_common_alerting_logs_log_threshold_types__WEBPACK_IMPORTED_MODULE_3__["h"])(criteria)){const criteriaErrors=getCriterionErrors(criteria);errors.criteria[0]=criteriaErrors}else{const numeratorErrors=getCriterionErrors(Object(_common_alerting_logs_log_threshold_types__WEBPACK_IMPORTED_MODULE_3__["f"])(criteria));errors.criteria[0]=numeratorErrors;const denominatorErrors=getCriterionErrors(Object(_common_alerting_logs_log_threshold_types__WEBPACK_IMPORTED_MODULE_3__["e"])(criteria));errors.criteria[1]=denominatorErrors}}return validationResult}},function(module,exports,__webpack_require__){"use strict";var punycode=__webpack_require__(58);var util=__webpack_require__(60);exports.parse=urlParse;exports.resolve=urlResolve;exports.resolveObject=urlResolveObject;exports.format=urlFormat;exports.Url=Url;function Url(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:true,"javascript:":true},hostlessProtocol={javascript:true,"javascript:":true},slashedProtocol={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},querystring=__webpack_require__(61);function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;var u=new Url;u.parse(url,parseQueryString,slashesDenoteHost);return u}Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url)){throw new TypeError("Parameter 'url' must be a string, not "+typeof url)}var queryIndex=url.indexOf("?"),splitter=queryIndex!==-1&&queryIndex<url.indexOf("#")?"?":"#",uSplit=url.split(splitter),slashRegex=/\\/g;uSplit[0]=uSplit[0].replace(slashRegex,"/");url=uSplit.join(splitter);var rest=url;rest=rest.trim();if(!slashesDenoteHost&&url.split("#").length===1){var simplePath=simplePathPattern.exec(rest);if(simplePath){this.path=rest;this.href=rest;this.pathname=simplePath[1];if(simplePath[2]){this.search=simplePath[2];if(parseQueryString){this.query=querystring.parse(this.search.substr(1))}else{this.query=this.search.substr(1)}}else if(parseQueryString){this.search="";this.query={}}return this}}var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();this.protocol=lowerProto;rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes=rest.substr(0,2)==="//";if(slashes&&!(proto&&hostlessProtocol[proto])){rest=rest.substr(2);this.slashes=true}}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){var hostEnd=-1;for(var i=0;i<hostEndingChars.length;i++){var hec=rest.indexOf(hostEndingChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}var auth,atSign;if(hostEnd===-1){atSign=rest.lastIndexOf("@")}else{atSign=rest.lastIndexOf("@",hostEnd)}if(atSign!==-1){auth=rest.slice(0,atSign);rest=rest.slice(atSign+1);this.auth=decodeURIComponent(auth)}hostEnd=-1;for(var i=0;i<nonHostChars.length;i++){var hec=rest.indexOf(nonHostChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}if(hostEnd===-1)hostEnd=rest.length;this.host=rest.slice(0,hostEnd);rest=rest.slice(hostEnd);this.parseHost();this.hostname=this.hostname||"";var ipv6Hostname=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ipv6Hostname){var hostparts=this.hostname.split(/\./);for(var i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(!part)continue;if(!part.match(hostnamePartPattern)){var newpart="";for(var j=0,k=part.length;j<k;j++){if(part.charCodeAt(j)>127){newpart+="x"}else{newpart+=part[j]}}if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i);var notHost=hostparts.slice(i+1);var bit=part.match(hostnamePartStart);if(bit){validParts.push(bit[1]);notHost.unshift(bit[2])}if(notHost.length){rest="/"+notHost.join(".")+rest}this.hostname=validParts.join(".");break}}}}if(this.hostname.length>hostnameMaxLen){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!ipv6Hostname){this.hostname=punycode.toASCII(this.hostname)}var p=this.port?":"+this.port:"";var h=this.hostname||"";this.host=h+p;this.href+=this.host;if(ipv6Hostname){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(rest[0]!=="/"){rest="/"+rest}}}if(!unsafeProtocol[lowerProto]){for(var i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];if(rest.indexOf(ae)===-1)continue;var esc=encodeURIComponent(ae);if(esc===ae){esc=escape(ae)}rest=rest.split(ae).join(esc)}}var hash=rest.indexOf("#");if(hash!==-1){this.hash=rest.substr(hash);rest=rest.slice(0,hash)}var qm=rest.indexOf("?");if(qm!==-1){this.search=rest.substr(qm);this.query=rest.substr(qm+1);if(parseQueryString){this.query=querystring.parse(this.query)}rest=rest.slice(0,qm)}else if(parseQueryString){this.search="";this.query={}}if(rest)this.pathname=rest;if(slashedProtocol[lowerProto]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var p=this.pathname||"";var s=this.search||"";this.path=p+s}this.href=this.format();return this};function urlFormat(obj){if(util.isString(obj))obj=urlParse(obj);if(!(obj instanceof Url))return Url.prototype.format.call(obj);return obj.format()}Url.prototype.format=function(){var auth=this.auth||"";if(auth){auth=encodeURIComponent(auth);auth=auth.replace(/%3A/i,":");auth+="@"}var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=false,query="";if(this.host){host=auth+this.host}else if(this.hostname){host=auth+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){host+=":"+this.port}}if(this.query&&util.isObject(this.query)&&Object.keys(this.query).length){query=querystring.stringify(this.query)}var search=this.search||query&&"?"+query||"";if(protocol&&protocol.substr(-1)!==":")protocol+=":";if(this.slashes||(!protocol||slashedProtocol[protocol])&&host!==false){host="//"+(host||"");if(pathname&&pathname.charAt(0)!=="/")pathname="/"+pathname}else if(!host){host=""}if(hash&&hash.charAt(0)!=="#")hash="#"+hash;if(search&&search.charAt(0)!=="?")search="?"+search;pathname=pathname.replace(/[?#]/g,(function(match){return encodeURIComponent(match)}));search=search.replace("#","%23");return protocol+host+pathname+search+hash};function urlResolve(source,relative){return urlParse(source,false,true).resolve(relative)}Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,false,true)).format()};function urlResolveObject(source,relative){if(!source)return relative;return urlParse(source,false,true).resolveObject(relative)}Url.prototype.resolveObject=function(relative){if(util.isString(relative)){var rel=new Url;rel.parse(relative,false,true);relative=rel}var result=new Url;var tkeys=Object.keys(this);for(var tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey]}result.hash=relative.hash;if(relative.href===""){result.href=result.format();return result}if(relative.slashes&&!relative.protocol){var rkeys=Object.keys(relative);for(var rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];if(rkey!=="protocol")result[rkey]=relative[rkey]}if(slashedProtocol[result.protocol]&&result.hostname&&!result.pathname){result.path=result.pathname="/"}result.href=result.format();return result}if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){var keys=Object.keys(relative);for(var v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k]}result.href=result.format();return result}result.protocol=relative.protocol;if(!relative.host&&!hostlessProtocol[relative.protocol]){var relPath=(relative.pathname||"").split("/");while(relPath.length&&!(relative.host=relPath.shift()));if(!relative.host)relative.host="";if(!relative.hostname)relative.hostname="";if(relPath[0]!=="")relPath.unshift("");if(relPath.length<2)relPath.unshift("");result.pathname=relPath.join("/")}else{result.pathname=relative.pathname}result.search=relative.search;result.query=relative.query;result.host=relative.host||"";result.auth=relative.auth;result.hostname=relative.hostname||relative.host;result.port=relative.port;if(result.pathname||result.search){var p=result.pathname||"";var s=result.search||"";result.path=p+s}result.slashes=result.slashes||relative.slashes;result.href=result.format();return result}var isSourceAbs=result.pathname&&result.pathname.charAt(0)==="/",isRelAbs=relative.host||relative.pathname&&relative.pathname.charAt(0)==="/",mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],relPath=relative.pathname&&relative.pathname.split("/")||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic){result.hostname="";result.port=null;if(result.host){if(srcPath[0]==="")srcPath[0]=result.host;else srcPath.unshift(result.host)}result.host="";if(relative.protocol){relative.hostname=null;relative.port=null;if(relative.host){if(relPath[0]==="")relPath[0]=relative.host;else relPath.unshift(relative.host)}relative.host=null}mustEndAbs=mustEndAbs&&(relPath[0]===""||srcPath[0]==="")}if(isRelAbs){result.host=relative.host||relative.host===""?relative.host:result.host;result.hostname=relative.hostname||relative.hostname===""?relative.hostname:result.hostname;result.search=relative.search;result.query=relative.query;srcPath=relPath}else if(relPath.length){if(!srcPath)srcPath=[];srcPath.pop();srcPath=srcPath.concat(relPath);result.search=relative.search;result.query=relative.query}else if(!util.isNullOrUndefined(relative.search)){if(psychotic){result.hostname=result.host=srcPath.shift();var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}result.search=relative.search;result.query=relative.query;if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.href=result.format();return result}if(!srcPath.length){result.pathname=null;if(result.search){result.path="/"+result.search}else{result.path=null}result.href=result.format();return result}var last=srcPath.slice(-1)[0];var hasTrailingSlash=(result.host||relative.host||srcPath.length>1)&&(last==="."||last==="..")||last==="";var up=0;for(var i=srcPath.length;i>=0;i--){last=srcPath[i];if(last==="."){srcPath.splice(i,1)}else if(last===".."){srcPath.splice(i,1);up++}else if(up){srcPath.splice(i,1);up--}}if(!mustEndAbs&&!removeAllDots){for(;up--;up){srcPath.unshift("..")}}if(mustEndAbs&&srcPath[0]!==""&&(!srcPath[0]||srcPath[0].charAt(0)!=="/")){srcPath.unshift("")}if(hasTrailingSlash&&srcPath.join("/").substr(-1)!=="/"){srcPath.push("")}var isAbsolute=srcPath[0]===""||srcPath[0]&&srcPath[0].charAt(0)==="/";if(psychotic){result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"";var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}mustEndAbs=mustEndAbs||result.host&&srcPath.length;if(mustEndAbs&&!isAbsolute){srcPath.unshift("")}if(!srcPath.length){result.pathname=null;result.path=null}else{result.pathname=srcPath.join("/")}if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.auth=relative.auth||result.auth;result.slashes=result.slashes||relative.slashes;result.href=result.format();return result};Url.prototype.parseHost=function(){var host=this.host;var port=portPattern.exec(host);if(port){port=port[0];if(port!==":"){this.port=port.substr(1)}host=host.substr(0,host.length-port.length)}if(host)this.hostname=host}},function(module,exports){var getRandomValues=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(getRandomValues){var rnds8=new Uint8Array(16);module.exports=function whatwgRNG(){getRandomValues(rnds8);return rnds8}}else{var rnds=new Array(16);module.exports=function mathRNG(){for(var i=0,r;i<16;i++){if((i&3)===0)r=Math.random()*4294967296;rnds[i]=r>>>((i&3)<<3)&255}return rnds}}},function(module,exports){var byteToHex=[];for(var i=0;i<256;++i){byteToHex[i]=(i+256).toString(16).substr(1)}function bytesToUuid(buf,offset){var i=offset||0;var bth=byteToHex;return[bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]]].join("")}module.exports=bytesToUuid},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/embeddable/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return getAlertType}));__webpack_require__.d(__webpack_exports__,"a",(function(){return AlertDropdown}));var external_kbnSharedDeps_KbnI18n_=__webpack_require__(2);var external_kbnSharedDeps_React_=__webpack_require__(1);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var types=__webpack_require__(5);var validation=__webpack_require__(43);function getAlertType(){return{id:types["c"],description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.logs.alertFlyout.alertDescription",{defaultMessage:"Alert when the log aggregation exceeds the threshold."}),iconClass:"bell",documentationUrl(docLinks){return`${docLinks.ELASTIC_WEBSITE_URL}guide/en/observability/${docLinks.DOC_LINK_VERSION}/logs-threshold-alert.html`},alertParamsExpression:external_kbnSharedDeps_React_default.a.lazy(()=>Promise.all([__webpack_require__.e(3),__webpack_require__.e(11)]).then(__webpack_require__.bind(null,492))),validate:validation["b"],defaultActionMessage:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.logs.alerting.threshold.defaultActionMessage",{defaultMessage:`\\{\\{^context.isRatio\\}\\}\\{\\{#context.group\\}\\}\\{\\{context.group\\}\\} - \\{\\{/context.group\\}\\}\\{\\{context.matchingDocuments\\}\\} log entries have matched the following conditions: \\{\\{context.conditions\\}\\}\\{\\{/context.isRatio\\}\\}\\{\\{#context.isRatio\\}\\}\\{\\{#context.group\\}\\}\\{\\{context.group\\}\\} - \\{\\{/context.group\\}\\} Ratio of the count of log entries matching \\{\\{context.numeratorConditions\\}\\} to the count of log entries matching \\{\\{context.denominatorConditions\\}\\} was \\{\\{context.ratio\\}\\}\\{\\{/context.isRatio\\}\\}`}),requiresAppContext:false}}var external_kbnSharedDeps_ElasticEui_=__webpack_require__(8);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(12);var triggers_actions_context=__webpack_require__(17);const AlertFlyout=props=>{const{visible:visible,setVisible:setVisible}=props;const{triggersActionsUI:triggersActionsUI}=Object(external_kbnSharedDeps_React_["useContext"])(triggers_actions_context["a"]);const onCloseFlyout=Object(external_kbnSharedDeps_React_["useCallback"])(()=>setVisible(false),[setVisible]);const AddAlertFlyout=Object(external_kbnSharedDeps_React_["useMemo"])(()=>triggersActionsUI&&triggersActionsUI.getAddAlertFlyout({consumer:"logs",onClose:onCloseFlyout,canChangeTrigger:false,alertTypeId:types["c"],metadata:{isInternal:true}}),[triggersActionsUI,onCloseFlyout]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,visible&&AddAlertFlyout)};var use_link_props=__webpack_require__(29);function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}const AlertDropdown=()=>{const[popoverOpen,setPopoverOpen]=Object(external_kbnSharedDeps_React_["useState"])(false);const[flyoutVisible,setFlyoutVisible]=Object(external_kbnSharedDeps_React_["useState"])(false);const manageAlertsLinkProps=Object(use_link_props["b"])({app:"management",pathname:"/insightsAndAlerting/triggersActions/alerts"},{hrefOnly:true});const closePopover=Object(external_kbnSharedDeps_React_["useCallback"])(()=>{setPopoverOpen(false)},[setPopoverOpen]);const openPopover=Object(external_kbnSharedDeps_React_["useCallback"])(()=>{setPopoverOpen(true)},[setPopoverOpen]);const menuItems=Object(external_kbnSharedDeps_React_["useMemo"])(()=>[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiContextMenuItem"],{icon:"bell",key:"createLink",onClick:()=>setFlyoutVisible(true)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.infra.alerting.logs.createAlertButton",defaultMessage:"Create alert"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiContextMenuItem"],_extends({icon:"tableOfContents",key:"manageLink"},manageAlertsLinkProps),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.infra.alerting.logs.manageAlerts",defaultMessage:"Manage alerts"}))],[manageAlertsLinkProps]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopover"],{panelPaddingSize:"none",button:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{iconSide:"right",iconType:"arrowDown",onClick:openPopover},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.infra.alerting.logs.alertsButton",defaultMessage:"Alerts"})),isOpen:popoverOpen,closePopover:closePopover},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiContextMenuPanel"],{items:menuItems})),external_kbnSharedDeps_React_default.a.createElement(AlertFlyout,{setVisible:setFlyoutVisible,visible:flyoutVisible}))}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */(function defineMustache(global,factory){if(true&&exports&&typeof exports.nodeName!=="string"){factory(exports)}else if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[exports],__WEBPACK_AMD_DEFINE_FACTORY__=factory,__WEBPACK_AMD_DEFINE_RESULT__=typeof __WEBPACK_AMD_DEFINE_FACTORY__==="function"?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{}})(this,(function mustacheFactory(mustache){var objectToString=Object.prototype.toString;var isArray=Array.isArray||function isArrayPolyfill(object){return objectToString.call(object)==="[object Array]"};function isFunction(object){return typeof object==="function"}function typeStr(obj){return isArray(obj)?"array":typeof obj}function escapeRegExp(string){return string.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function hasProperty(obj,propName){return obj!=null&&typeof obj==="object"&&propName in obj}var regExpTest=RegExp.prototype.test;function testRegExp(re,string){return regExpTest.call(re,string)}var nonSpaceRe=/\S/;function isWhitespace(string){return!testRegExp(nonSpaceRe,string)}var entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function escapeHtml(string){return String(string).replace(/[&<>"'`=\/]/g,(function fromEntityMap(s){return entityMap[s]}))}var whiteRe=/\s*/;var spaceRe=/\s+/;var equalsRe=/\s*=/;var curlyRe=/\s*\}/;var tagRe=/#|\^|\/|>|\{|&|=|!/;function parseTemplate(template,tags){if(!template)return[];var sections=[];var tokens=[];var spaces=[];var hasTag=false;var nonSpace=false;function stripSpace(){if(hasTag&&!nonSpace){while(spaces.length)delete tokens[spaces.pop()]}else{spaces=[]}hasTag=false;nonSpace=false}var openingTagRe,closingTagRe,closingCurlyRe;function compileTags(tagsToCompile){if(typeof tagsToCompile==="string")tagsToCompile=tagsToCompile.split(spaceRe,2);if(!isArray(tagsToCompile)||tagsToCompile.length!==2)throw new Error("Invalid tags: "+tagsToCompile);openingTagRe=new RegExp(escapeRegExp(tagsToCompile[0])+"\\s*");closingTagRe=new RegExp("\\s*"+escapeRegExp(tagsToCompile[1]));closingCurlyRe=new RegExp("\\s*"+escapeRegExp("}"+tagsToCompile[1]))}compileTags(tags||mustache.tags);var scanner=new Scanner(template);var start,type,value,chr,token,openSection;while(!scanner.eos()){start=scanner.pos;value=scanner.scanUntil(openingTagRe);if(value){for(var i=0,valueLength=value.length;i<valueLength;++i){chr=value.charAt(i);if(isWhitespace(chr)){spaces.push(tokens.length)}else{nonSpace=true}tokens.push(["text",chr,start,start+1]);start+=1;if(chr==="\n")stripSpace()}}if(!scanner.scan(openingTagRe))break;hasTag=true;type=scanner.scan(tagRe)||"name";scanner.scan(whiteRe);if(type==="="){value=scanner.scanUntil(equalsRe);scanner.scan(equalsRe);scanner.scanUntil(closingTagRe)}else if(type==="{"){value=scanner.scanUntil(closingCurlyRe);scanner.scan(curlyRe);scanner.scanUntil(closingTagRe);type="&"}else{value=scanner.scanUntil(closingTagRe)}if(!scanner.scan(closingTagRe))throw new Error("Unclosed tag at "+scanner.pos);token=[type,value,start,scanner.pos];tokens.push(token);if(type==="#"||type==="^"){sections.push(token)}else if(type==="/"){openSection=sections.pop();if(!openSection)throw new Error('Unopened section "'+value+'" at '+start);if(openSection[1]!==value)throw new Error('Unclosed section "'+openSection[1]+'" at '+start)}else if(type==="name"||type==="{"||type==="&"){nonSpace=true}else if(type==="="){compileTags(value)}}openSection=sections.pop();if(openSection)throw new Error('Unclosed section "'+openSection[1]+'" at '+scanner.pos);return nestTokens(squashTokens(tokens))}function squashTokens(tokens){var squashedTokens=[];var token,lastToken;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];if(token){if(token[0]==="text"&&lastToken&&lastToken[0]==="text"){lastToken[1]+=token[1];lastToken[3]=token[3]}else{squashedTokens.push(token);lastToken=token}}}return squashedTokens}function nestTokens(tokens){var nestedTokens=[];var collector=nestedTokens;var sections=[];var token,section;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];switch(token[0]){case"#":case"^":collector.push(token);sections.push(token);collector=token[4]=[];break;case"/":section=sections.pop();section[5]=token[2];collector=sections.length>0?sections[sections.length-1][4]:nestedTokens;break;default:collector.push(token)}}return nestedTokens}function Scanner(string){this.string=string;this.tail=string;this.pos=0}Scanner.prototype.eos=function eos(){return this.tail===""};Scanner.prototype.scan=function scan(re){var match=this.tail.match(re);if(!match||match.index!==0)return"";var string=match[0];this.tail=this.tail.substring(string.length);this.pos+=string.length;return string};Scanner.prototype.scanUntil=function scanUntil(re){var index=this.tail.search(re),match;switch(index){case-1:match=this.tail;this.tail="";break;case 0:match="";break;default:match=this.tail.substring(0,index);this.tail=this.tail.substring(index)}this.pos+=match.length;return match};function Context(view,parentContext){this.view=view;this.cache={".":this.view};this.parent=parentContext}Context.prototype.push=function push(view){return new Context(view,this)};Context.prototype.lookup=function lookup(name){var cache=this.cache;var value;if(cache.hasOwnProperty(name)){value=cache[name]}else{var context=this,names,index,lookupHit=false;while(context){if(name.indexOf(".")>0){value=context.view;names=name.split(".");index=0;while(value!=null&&index<names.length){if(index===names.length-1)lookupHit=hasProperty(value,names[index]);value=value[names[index++]]}}else{value=context.view[name];lookupHit=hasProperty(context.view,name)}if(lookupHit)break;context=context.parent}cache[name]=value}if(isFunction(value))value=value.call(this.view);return value};function Writer(){this.cache={}}Writer.prototype.clearCache=function clearCache(){this.cache={}};Writer.prototype.parse=function parse(template,tags){var cache=this.cache;var tokens=cache[template];if(tokens==null)tokens=cache[template]=parseTemplate(template,tags);return tokens};Writer.prototype.render=function render(template,view,partials){var tokens=this.parse(template);var context=view instanceof Context?view:new Context(view);return this.renderTokens(tokens,context,partials,template)};Writer.prototype.renderTokens=function renderTokens(tokens,context,partials,originalTemplate){var buffer="";var token,symbol,value;for(var i=0,numTokens=tokens.length;i<numTokens;++i){value=undefined;token=tokens[i];symbol=token[0];if(symbol==="#")value=this.renderSection(token,context,partials,originalTemplate);else if(symbol==="^")value=this.renderInverted(token,context,partials,originalTemplate);else if(symbol===">")value=this.renderPartial(token,context,partials,originalTemplate);else if(symbol==="&")value=this.unescapedValue(token,context);else if(symbol==="name")value=this.escapedValue(token,context);else if(symbol==="text")value=this.rawValue(token);if(value!==undefined)buffer+=value}return buffer};Writer.prototype.renderSection=function renderSection(token,context,partials,originalTemplate){var self=this;var buffer="";var value=context.lookup(token[1]);function subRender(template){return self.render(template,context,partials)}if(!value)return;if(isArray(value)){for(var j=0,valueLength=value.length;j<valueLength;++j){buffer+=this.renderTokens(token[4],context.push(value[j]),partials,originalTemplate)}}else if(typeof value==="object"||typeof value==="string"||typeof value==="number"){buffer+=this.renderTokens(token[4],context.push(value),partials,originalTemplate)}else if(isFunction(value)){if(typeof originalTemplate!=="string")throw new Error("Cannot use higher-order sections without the original template");value=value.call(context.view,originalTemplate.slice(token[3],token[5]),subRender);if(value!=null)buffer+=value}else{buffer+=this.renderTokens(token[4],context,partials,originalTemplate)}return buffer};Writer.prototype.renderInverted=function renderInverted(token,context,partials,originalTemplate){var value=context.lookup(token[1]);if(!value||isArray(value)&&value.length===0)return this.renderTokens(token[4],context,partials,originalTemplate)};Writer.prototype.renderPartial=function renderPartial(token,context,partials){if(!partials)return;var value=isFunction(partials)?partials(token[1]):partials[token[1]];if(value!=null)return this.renderTokens(this.parse(value),context,partials,value)};Writer.prototype.unescapedValue=function unescapedValue(token,context){var value=context.lookup(token[1]);if(value!=null)return value};Writer.prototype.escapedValue=function escapedValue(token,context){var value=context.lookup(token[1]);if(value!=null)return mustache.escape(value)};Writer.prototype.rawValue=function rawValue(token){return token[1]};mustache.name="mustache.js";mustache.version="2.3.2";mustache.tags=["{{","}}"];var defaultWriter=new Writer;mustache.clearCache=function clearCache(){return defaultWriter.clearCache()};mustache.parse=function parse(template,tags){return defaultWriter.parse(template,tags)};mustache.render=function render(template,view,partials){if(typeof template!=="string"){throw new TypeError('Invalid template! Template should be a "string" '+'but "'+typeStr(template)+'" was given as the first '+"argument for mustache#render(template, view, partials)")}return defaultWriter.render(template,view,partials)};mustache.to_html=function to_html(template,view,partials,send){var result=mustache.render(template,view,partials);if(isFunction(send)){send(result)}else{return result}};mustache.escape=escapeHtml;mustache.Scanner=Scanner;mustache.Context=Context;mustache.Writer=Writer;return mustache}))},function(module,exports){module.exports=__kbnSharedDeps__.Moment},function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){if(typeof window==="object")g=window}module.exports=g},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_val_loader_dist_cjs_js_key_infra_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(53);var _node_modules_val_loader_dist_cjs_js_key_infra_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_val_loader_dist_cjs_js_key_infra_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__);__kbnBundles__.define("plugin/infra/public",__webpack_require__,66)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__kbnPublicPath__["infra"]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.tailRec=void 0;function tailRec(a,f){var v=f(a);while(v._tag==="Left"){v=f(v.left)}return v.right}exports.tailRec=tailRec},function(module,exports,__webpack_require__){"use strict";module.exports=str=>encodeURIComponent(str).replace(/[!'()*]/g,x=>`%${x.charCodeAt(0).toString(16).toUpperCase()}`)},function(module,exports,__webpack_require__){"use strict";var token="%[a-f0-9]{2}";var singleMatcher=new RegExp(token,"gi");var multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(components,split){try{return decodeURIComponent(components.join(""))}catch(err){}if(components.length===1){return components}split=split||1;var left=components.slice(0,split);var right=components.slice(split);return Array.prototype.concat.call([],decodeComponents(left),decodeComponents(right))}function decode(input){try{return decodeURIComponent(input)}catch(err){var tokens=input.match(singleMatcher);for(var i=1;i<tokens.length;i++){input=decodeComponents(tokens,i).join("");tokens=input.match(singleMatcher)}return input}}function customDecodeURIComponent(input){var replaceMap={"%FE%FF":"��","%FF%FE":"��"};var match=multiMatcher.exec(input);while(match){try{replaceMap[match[0]]=decodeURIComponent(match[0])}catch(err){var result=decode(match[0]);if(result!==match[0]){replaceMap[match[0]]=result}}match=multiMatcher.exec(input)}replaceMap["%C2"]="�";var entries=Object.keys(replaceMap);for(var i=0;i<entries.length;i++){var key=entries[i];input=input.replace(new RegExp(key,"g"),replaceMap[key])}return input}module.exports=function(encodedURI){if(typeof encodedURI!=="string"){throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof encodedURI+"`")}try{encodedURI=encodedURI.replace(/\+/g," ");return decodeURIComponent(encodedURI)}catch(err){return customDecodeURIComponent(encodedURI)}}},function(module,exports,__webpack_require__){"use strict";module.exports=(string,separator)=>{if(!(typeof string==="string"&&typeof separator==="string")){throw new TypeError("Expected the arguments to be of type `string`")}if(separator===""){return[string]}const separatorIndex=string.indexOf(separator);if(separatorIndex===-1){return[string]}return[string.slice(0,separatorIndex),string.slice(separatorIndex+separator.length)]}},function(module,exports,__webpack_require__){(function(module,global){var __WEBPACK_AMD_DEFINE_RESULT__;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(root){var freeExports=true&&exports&&!exports.nodeType&&exports;var freeModule=true&&module&&!module.nodeType&&module;var freeGlobal=typeof global=="object"&&global;if(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal||freeGlobal.self===freeGlobal){root=freeGlobal}var punycode,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode,key;function error(type){throw new RangeError(errors[type])}function map(array,fn){var length=array.length;var result=[];while(length--){result[length]=fn(array[length])}return result}function mapDomain(string,fn){var parts=string.split("@");var result="";if(parts.length>1){result=parts[0]+"@";string=parts[1]}string=string.replace(regexSeparators,".");var labels=string.split(".");var encoded=map(labels,fn).join(".");return result+encoded}function ucs2decode(string){var output=[],counter=0,length=string.length,value,extra;while(counter<length){value=string.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<length){extra=string.charCodeAt(counter++);if((extra&64512)==56320){output.push(((value&1023)<<10)+(extra&1023)+65536)}else{output.push(value);counter--}}else{output.push(value)}}return output}function ucs2encode(array){return map(array,(function(value){var output="";if(value>65535){value-=65536;output+=stringFromCharCode(value>>>10&1023|55296);value=56320|value&1023}output+=stringFromCharCode(value);return output})).join("")}function basicToDigit(codePoint){if(codePoint-48<10){return codePoint-22}if(codePoint-65<26){return codePoint-65}if(codePoint-97<26){return codePoint-97}return base}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((flag!=0)<<5)}function adapt(delta,numPoints,firstTime){var k=0;delta=firstTime?floor(delta/damp):delta>>1;delta+=floor(delta/numPoints);for(;delta>baseMinusTMin*tMax>>1;k+=base){delta=floor(delta/baseMinusTMin)}return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var output=[],inputLength=input.length,out,i=0,n=initialN,bias=initialBias,basic,j,index,oldi,w,k,digit,t,baseMinusT;basic=input.lastIndexOf(delimiter);if(basic<0){basic=0}for(j=0;j<basic;++j){if(input.charCodeAt(j)>=128){error("not-basic")}output.push(input.charCodeAt(j))}for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;;k+=base){if(index>=inputLength){error("invalid-input")}digit=basicToDigit(input.charCodeAt(index++));if(digit>=base||digit>floor((maxInt-i)/w)){error("overflow")}i+=digit*w;t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(digit<t){break}baseMinusT=base-t;if(w>floor(maxInt/baseMinusT)){error("overflow")}w*=baseMinusT}out=output.length+1;bias=adapt(i-oldi,out,oldi==0);if(floor(i/out)>maxInt-n){error("overflow")}n+=floor(i/out);i%=out;output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,output=[],inputLength,handledCPCountPlusOne,baseMinusT,qMinusT;input=ucs2decode(input);inputLength=input.length;n=initialN;delta=0;bias=initialBias;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<128){output.push(stringFromCharCode(currentValue))}}handledCPCount=basicLength=output.length;if(basicLength){output.push(delimiter)}while(handledCPCount<inputLength){for(m=maxInt,j=0;j<inputLength;++j){currentValue=input[j];if(currentValue>=n&&currentValue<m){m=currentValue}}handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/handledCPCountPlusOne)){error("overflow")}delta+=(m-n)*handledCPCountPlusOne;n=m;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<n&&++delta>maxInt){error("overflow")}if(currentValue==n){for(q=delta,k=base;;k+=base){t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(q<t){break}qMinusT=q-t;baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0)));q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q,0)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount}}++delta;++n}return output.join("")}function toUnicode(input){return mapDomain(input,(function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string}))}function toASCII(input){return mapDomain(input,(function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string}))}punycode={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:toASCII,toUnicode:toUnicode};if(true){!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return punycode}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{}})(this)}).call(this,__webpack_require__(59)(module),__webpack_require__(51))},function(module,exports){module.exports=function(module){if(!module.webpackPolyfill){module.deprecate=function(){};module.paths=[];if(!module.children)module.children=[];Object.defineProperty(module,"loaded",{enumerable:true,get:function(){return module.l}});Object.defineProperty(module,"id",{enumerable:true,get:function(){return module.i}});module.webpackPolyfill=1}return module}},function(module,exports,__webpack_require__){"use strict";module.exports={isString:function(arg){return typeof arg==="string"},isObject:function(arg){return typeof arg==="object"&&arg!==null},isNull:function(arg){return arg===null},isNullOrUndefined:function(arg){return arg==null}}},function(module,exports,__webpack_require__){"use strict";exports.decode=exports.parse=__webpack_require__(62);exports.encode=exports.stringify=__webpack_require__(63)},function(module,exports,__webpack_require__){"use strict";function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&";eq=eq||"=";var obj={};if(typeof qs!=="string"||qs.length===0){return obj}var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1e3;if(options&&typeof options.maxKeys==="number"){maxKeys=options.maxKeys}var len=qs.length;if(maxKeys>0&&len>maxKeys){len=maxKeys}for(var i=0;i<len;++i){var x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq),kstr,vstr,k,v;if(idx>=0){kstr=x.substr(0,idx);vstr=x.substr(idx+1)}else{kstr=x;vstr=""}k=decodeURIComponent(kstr);v=decodeURIComponent(vstr);if(!hasOwnProperty(obj,k)){obj[k]=v}else if(isArray(obj[k])){obj[k].push(v)}else{obj[k]=[obj[k],v]}}return obj};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==="[object Array]"}},function(module,exports,__webpack_require__){"use strict";var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){sep=sep||"&";eq=eq||"=";if(obj===null){obj=undefined}if(typeof obj==="object"){return map(objectKeys(obj),(function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;if(isArray(obj[k])){return map(obj[k],(function(v){return ks+encodeURIComponent(stringifyPrimitive(v))})).join(sep)}else{return ks+encodeURIComponent(stringifyPrimitive(obj[k]))}})).join(sep)}if(!name)return"";return encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj))};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==="[object Array]"};function map(xs,f){if(xs.map)return xs.map(f);var res=[];for(var i=0;i<xs.length;i++){res.push(f(xs[i],i))}return res}var objectKeys=Object.keys||function(obj){var res=[];for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))res.push(key)}return res}},function(module,exports,__webpack_require__){var rng=__webpack_require__(45);var bytesToUuid=__webpack_require__(46);var _nodeId;var _clockseq;var _lastMSecs=0;var _lastNSecs=0;function v1(options,buf,offset){var i=buf&&offset||0;var b=buf||[];options=options||{};var node=options.node||_nodeId;var clockseq=options.clockseq!==undefined?options.clockseq:_clockseq;if(node==null||clockseq==null){var seedBytes=rng();if(node==null){node=_nodeId=[seedBytes[0]|1,seedBytes[1],seedBytes[2],seedBytes[3],seedBytes[4],seedBytes[5]]}if(clockseq==null){clockseq=_clockseq=(seedBytes[6]<<8|seedBytes[7])&16383}}var msecs=options.msecs!==undefined?options.msecs:(new Date).getTime();var nsecs=options.nsecs!==undefined?options.nsecs:_lastNSecs+1;var dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(dt<0&&options.clockseq===undefined){clockseq=clockseq+1&16383}if((dt<0||msecs>_lastMSecs)&&options.nsecs===undefined){nsecs=0}if(nsecs>=1e4){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}_lastMSecs=msecs;_lastNSecs=nsecs;_clockseq=clockseq;msecs+=122192928e5;var tl=((msecs&268435455)*1e4+nsecs)%4294967296;b[i++]=tl>>>24&255;b[i++]=tl>>>16&255;b[i++]=tl>>>8&255;b[i++]=tl&255;var tmh=msecs/4294967296*1e4&268435455;b[i++]=tmh>>>8&255;b[i++]=tmh&255;b[i++]=tmh>>>24&15|16;b[i++]=tmh>>>16&255;b[i++]=clockseq>>>8|128;b[i++]=clockseq&255;for(var n=0;n<6;++n){b[i+n]=node[n]}return buf?buf:bytesToUuid(b)}module.exports=v1},function(module,exports,__webpack_require__){var rng=__webpack_require__(45);var bytesToUuid=__webpack_require__(46);function v4(options,buf,offset){var i=buf&&offset||0;if(typeof options=="string"){buf=options==="binary"?new Array(16):null;options=null}options=options||{};var rnds=options.random||(options.rng||rng)();rnds[6]=rnds[6]&15|64;rnds[8]=rnds[8]&63|128;if(buf){for(var ii=0;ii<16;++ii){buf[i+ii]=rnds[ii]}}return buf||bytesToUuid(rnds)}module.exports=v4},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"plugin",(function(){return public_plugin}));__webpack_require__.d(__webpack_exports__,"FORMATTERS",(function(){return formatters["a"]}));__webpack_require__.d(__webpack_exports__,"InfraFormatterType",(function(){return lib["b"]}));__webpack_require__.d(__webpack_exports__,"LogStream",(function(){return LazyLogStreamWrapper}));var external_kbnSharedDeps_KbnI18n_=__webpack_require__(2);var public_=__webpack_require__(26);var external_kbnSharedDeps_React_=__webpack_require__(1);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var validation=__webpack_require__(41);var types=__webpack_require__(16);function createMetricThresholdAlertType(){return{id:types["b"],description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.metrics.alertFlyout.alertDescription",{defaultMessage:"Alert when the metrics aggregation exceeds the threshold."}),iconClass:"bell",documentationUrl(docLinks){return`${docLinks.ELASTIC_WEBSITE_URL}guide/en/observability/${docLinks.DOC_LINK_VERSION}/metrics-threshold-alert.html`},alertParamsExpression:external_kbnSharedDeps_React_default.a.lazy(()=>Promise.all([__webpack_require__.e(0),__webpack_require__.e(4),__webpack_require__.e(9)]).then(__webpack_require__.bind(null,493))),validate:validation["a"],defaultActionMessage:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.metrics.alerting.threshold.defaultActionMessage",{defaultMessage:`\\{\\{alertName\\}\\} - \\{\\{context.group\\}\\} is in a state of \\{\\{context.alertState\\}\\}\n\nReason:\n\\{\\{context.reason\\}\\}\n`}),requiresAppContext:false}}var inventory_metric_threshold_types=__webpack_require__(20);var components_validation=__webpack_require__(42);function createInventoryMetricAlertType(){return{id:inventory_metric_threshold_types["b"],description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.metrics.inventory.alertFlyout.alertDescription",{defaultMessage:"Alert when the inventory exceeds a defined threshold."}),iconClass:"bell",documentationUrl(docLinks){return`${docLinks.ELASTIC_WEBSITE_URL}guide/en/observability/${docLinks.DOC_LINK_VERSION}/infrastructure-threshold-alert.html`},alertParamsExpression:external_kbnSharedDeps_React_default.a.lazy(()=>Promise.all([__webpack_require__.e(0),__webpack_require__.e(2),__webpack_require__.e(4),__webpack_require__.e(6),__webpack_require__.e(13)]).then(__webpack_require__.bind(null,494))),validate:components_validation["a"],defaultActionMessage:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.metrics.alerting.inventory.threshold.defaultActionMessage",{defaultMessage:`\\{\\{alertName\\}\\} - \\{\\{context.group\\}\\} is in a state of \\{\\{context.alertState\\}\\}\n\nReason:\n\\{\\{context.reason\\}\\}\n`}),requiresAppContext:false}}var log_threshold=__webpack_require__(48);var home_public_=__webpack_require__(27);const registerFeatures=homePlugin=>{homePlugin.featureCatalogue.register({id:"metrics",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.registerFeatures.infraOpsTitle",{defaultMessage:"Metrics"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.registerFeatures.infraOpsDescription",{defaultMessage:"Explore infrastructure metrics and logs for common servers, containers, and services."}),icon:"metricsApp",path:`/app/metrics`,showOnHomePage:false,category:home_public_["FeatureCatalogueCategory"].DATA});homePlugin.featureCatalogue.register({id:"logs",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.registerFeatures.logsTitle",{defaultMessage:"Logs"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.registerFeatures.logsDescription",{defaultMessage:"Stream logs in real time or scroll through historical views in a console-like experience."}),icon:"logsApp",path:`/app/logs`,showOnHomePage:false,category:home_public_["FeatureCatalogueCategory"].DATA})};var rison=__webpack_require__(23);var constants=__webpack_require__(25);var fetch_log_source_configuration=__webpack_require__(37);var fetch_log_source_status=__webpack_require__(38);function getLogsHasDataFetcher(getStartServices){return async()=>{const[core]=await getStartServices();const sourceStatus=await Object(fetch_log_source_status["a"])(constants["a"],core.http.fetch);return sourceStatus.data.logIndexStatus==="available"}}function getLogsOverviewDataFetcher(getStartServices){return async params=>{const[core,startPlugins]=await getStartServices();const{data:data}=startPlugins;const sourceConfiguration=await Object(fetch_log_source_configuration["a"])(constants["a"],core.http.fetch);const{stats:stats,series:series}=await fetchLogsOverview({index:sourceConfiguration.data.configuration.logAlias,timestampField:sourceConfiguration.data.configuration.fields.timestamp},params,data);const timeSpanInMinutes=(params.absoluteTime.end-params.absoluteTime.start)/(1e3*60);return{appLink:`/app/logs/stream?logPosition=(end:${Object(rison["encode"])(params.relativeTime.end)},start:${Object(rison["encode"])(params.relativeTime.start)})`,stats:normalizeStats(stats,timeSpanInMinutes),series:normalizeSeries(series)}}}async function fetchLogsOverview(logParams,params,dataPlugin){return new Promise((resolve,reject)=>{let esResponse;dataPlugin.search.search({params:{index:logParams.index,body:{size:0,query:buildLogOverviewQuery(logParams,params),aggs:buildLogOverviewAggregations(logParams,params)}}}).subscribe(response=>esResponse=response.rawResponse,error=>reject(error),()=>{var _esResponse;if((_esResponse=esResponse)!==null&&_esResponse!==void 0&&_esResponse.aggregations){resolve(processLogsOverviewAggregations(esResponse.aggregations))}else{resolve({stats:{},series:{}})}})})}function buildLogOverviewQuery(logParams,params){return{range:{[logParams.timestampField]:{gt:new Date(params.absoluteTime.start).toISOString(),lte:new Date(params.absoluteTime.end).toISOString(),format:"strict_date_optional_time"}}}}function buildLogOverviewAggregations(logParams,params){return{stats:{terms:{field:"event.dataset",size:4,missing:"unknown"},aggs:{series:{date_histogram:{field:logParams.timestampField,fixed_interval:params.bucketSize}}}}}}function processLogsOverviewAggregations(aggregations){const processedStats={};const processedSeries={};aggregations.stats.buckets.forEach(stat=>{const label=stat.key;processedStats[stat.key]={type:"number",label:label,value:stat.doc_count};stat.series.buckets.forEach(series=>{processedSeries[label]=processedSeries[label]||{label:label,coordinates:[]};processedSeries[label].coordinates.push({x:series.key,y:series.doc_count})})});return{stats:processedStats,series:processedSeries}}function normalizeStats(stats,timeSpanInMinutes){return Object.keys(stats).reduce((normalized,key)=>{normalized[key]={...stats[key],value:stats[key].value/timeSpanInMinutes};return normalized},{})}function normalizeSeries(series){const seriesKeys=Object.keys(series);const timestamps=seriesKeys.flatMap(key=>series[key].coordinates.map(c=>c.x));const[first,second]=[...new Set(timestamps)].sort();const timeSpanInMinutes=(second-first)/(1e3*60);return seriesKeys.reduce((normalized,key)=>{normalized[key]={...series[key],coordinates:series[key].coordinates.map(c=>{if(c.y){return{...c,y:c.y/timeSpanInMinutes}}return c})};return normalized},{})}const createMetricsHasData=getStartServices=>async()=>{const[coreServices]=await getStartServices();const{http:http}=coreServices;const results=await http.get("/api/metrics/source/default/metrics/hasData");return results.hasData};const createMetricsFetchData=getStartServices=>async({absoluteTime:absoluteTime})=>{const[coreServices]=await getStartServices();const{http:http}=coreServices;const{start:start,end:end}=absoluteTime;const overviewRequest={sourceId:"default",timerange:{from:start,to:end}};const results=await http.post("/api/metrics/overview",{body:JSON.stringify(overviewRequest)});return{appLink:`/app/metrics/inventory?waffleTime=(currentTime:${end},isAutoReloading:!f)`,stats:{hosts:{type:"number",value:results.stats.hosts.value},cpu:{type:"percent",value:results.stats.cpu.value},memory:{type:"percent",value:results.stats.memory.value}}}};var external_kbnSharedDeps_ReactDom_=__webpack_require__(18);var external_kbnSharedDeps_ReactDom_default=__webpack_require__.n(external_kbnSharedDeps_ReactDom_);var data_public_=__webpack_require__(31);var embeddable_public_=__webpack_require__(47);var common_=__webpack_require__(11);var common_providers=__webpack_require__(39);var datemath=__webpack_require__(24);const LazyLogStream=external_kbnSharedDeps_React_default.a.lazy(()=>Promise.all([__webpack_require__.e(0),__webpack_require__.e(1)]).then(__webpack_require__.bind(null,251)));const LazyLogStreamWrapper=props=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Suspense,{fallback:external_kbnSharedDeps_React_default.a.createElement("div",null)},external_kbnSharedDeps_React_default.a.createElement(LazyLogStream,props));function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const LOG_STREAM_EMBEDDABLE="LOG_STREAM_EMBEDDABLE";class log_stream_embeddable_LogStreamEmbeddable extends embeddable_public_["Embeddable"]{constructor(core,pluginDeps,initialInput,parent){super(initialInput,{},parent);this.core=core;this.pluginDeps=pluginDeps;_defineProperty(this,"type",LOG_STREAM_EMBEDDABLE);_defineProperty(this,"node",void 0);_defineProperty(this,"subscription",void 0);this.subscription=this.getInput$().subscribe(()=>this.renderComponent())}render(node){if(this.node){external_kbnSharedDeps_ReactDom_default.a.unmountComponentAtNode(this.node)}this.node=node;this.renderComponent()}destroy(){super.destroy();this.subscription.unsubscribe();if(this.node){external_kbnSharedDeps_ReactDom_default.a.unmountComponentAtNode(this.node)}}async reload(){}renderComponent(){if(!this.node){return}const parsedQuery=data_public_["esQuery"].buildEsQuery(undefined,this.input.query,this.input.filters);const startTimestamp=Object(datemath["a"])(this.input.timeRange.from);const endTimestamp=Object(datemath["a"])(this.input.timeRange.to,"up");if(!startTimestamp||!endTimestamp){return}external_kbnSharedDeps_ReactDom_default.a.render(external_kbnSharedDeps_React_default.a.createElement(common_providers["b"],{core:this.core,plugins:this.pluginDeps},external_kbnSharedDeps_React_default.a.createElement(common_["EuiThemeProvider"],null,external_kbnSharedDeps_React_default.a.createElement("div",{style:{width:"100%"}},external_kbnSharedDeps_React_default.a.createElement(LazyLogStreamWrapper,{startTimestamp:startTimestamp,endTimestamp:endTimestamp,height:"100%",query:parsedQuery})))),this.node)}}function log_stream_embeddable_factory_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class log_stream_embeddable_factory_LogStreamEmbeddableFactoryDefinition{constructor(getStartServices){this.getStartServices=getStartServices;log_stream_embeddable_factory_defineProperty(this,"type",LOG_STREAM_EMBEDDABLE)}async isEditable(){const[{application:application}]=await this.getStartServices();return application.capabilities.logs.save}async create(initialInput,parent){const[core,plugins]=await this.getStartServices();return new log_stream_embeddable_LogStreamEmbeddable(core,plugins,initialInput,parent)}getDisplayName(){return external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.logStreamEmbeddable.displayName",{defaultMessage:"Log stream"})}async getExplicitInput(){return{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.logStreamEmbeddable.title",{defaultMessage:"Log stream"})}}}class plugin_Plugin{constructor(_context){}setup(core,pluginsSetup){if(pluginsSetup.home){registerFeatures(pluginsSetup.home)}pluginsSetup.triggersActionsUi.alertTypeRegistry.register(createInventoryMetricAlertType());pluginsSetup.triggersActionsUi.alertTypeRegistry.register(Object(log_threshold["b"])());pluginsSetup.triggersActionsUi.alertTypeRegistry.register(createMetricThresholdAlertType());if(pluginsSetup.observability){pluginsSetup.observability.dashboard.register({appName:"infra_logs",hasData:getLogsHasDataFetcher(core.getStartServices),fetchData:getLogsOverviewDataFetcher(core.getStartServices)});pluginsSetup.observability.dashboard.register({appName:"infra_metrics",hasData:createMetricsHasData(core.getStartServices),fetchData:createMetricsFetchData(core.getStartServices)})}pluginsSetup.embeddable.registerEmbeddableFactory(LOG_STREAM_EMBEDDABLE,new log_stream_embeddable_factory_LogStreamEmbeddableFactoryDefinition(core.getStartServices));core.application.register({id:"logs",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.logs.pluginTitle",{defaultMessage:"Logs"}),euiIconType:"logoObservability",order:8100,appRoute:"/app/logs",category:public_["DEFAULT_APP_CATEGORIES"].observability,mount:async params=>{const[coreStart,pluginsStart]=await core.getStartServices();const{renderApp:renderApp}=await Promise.all([__webpack_require__.e(0),__webpack_require__.e(1),__webpack_require__.e(2),__webpack_require__.e(3),__webpack_require__.e(5),__webpack_require__.e(10)]).then(__webpack_require__.bind(null,490));return renderApp(coreStart,pluginsStart,params)}});core.application.register({id:"metrics",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.infra.metrics.pluginTitle",{defaultMessage:"Metrics"}),euiIconType:"logoObservability",order:8200,appRoute:"/app/metrics",category:public_["DEFAULT_APP_CATEGORIES"].observability,mount:async params=>{const[coreStart,pluginsStart]=await core.getStartServices();const{renderApp:renderApp}=await Promise.all([__webpack_require__.e(0),__webpack_require__.e(1),__webpack_require__.e(2),__webpack_require__.e(3),__webpack_require__.e(4),__webpack_require__.e(5),__webpack_require__.e(6),__webpack_require__.e(8)]).then(__webpack_require__.bind(null,491));return renderApp(coreStart,pluginsStart,params)}});core.application.register({id:"infra",appRoute:"/app/infra",title:"infra",navLinkStatus:3,mount:async params=>{const{renderApp:renderApp}=await __webpack_require__.e(12).then(__webpack_require__.bind(null,489));return renderApp(params)}})}start(_core,_plugins){}stop(){}}var formatters=__webpack_require__(32);var lib=__webpack_require__(30);const public_plugin=context=>new plugin_Plugin(context)},function(module,exports){module.exports=__kbnSharedDeps__.ReactRouterDom},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/observability/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.ElasticCharts},function(module,exports){module.exports=__kbnSharedDeps__.TsLib},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaUtils/common");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.RxjsOperators},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/ml/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.Rxjs},function(module,exports){module.exports=__kbnSharedDeps__.ElasticNumeral},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/triggersActionsUi/public/common");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/licenseManagement/common/constants");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("entry/core/public/utils");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEuiChartsTheme},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEuiLibServices},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/triggersActionsUi/public/common/constants");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/triggersActionsUi/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))}]);