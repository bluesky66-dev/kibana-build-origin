(window["savedObjectsManagement_bundle_jsonpfunction"]=window["savedObjectsManagement_bundle_jsonpfunction"]||[]).push([[2],{22:function(module,exports,__webpack_require__){"use strict";var isOldIE=function isOldIE(){var memo;return function memorize(){if(typeof memo==="undefined"){memo=Boolean(window&&document&&document.all&&!window.atob)}return memo}}();var getTarget=function getTarget(){var memo={};return function memorize(target){if(typeof memo[target]==="undefined"){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement){try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}}memo[target]=styleTarget}return memo[target]}}();var stylesInDom=[];function getIndexByIdentifier(identifier){var result=-1;for(var i=0;i<stylesInDom.length;i++){if(stylesInDom[i].identifier===identifier){result=i;break}}return result}function modulesToDom(list,options){var idCountMap={};var identifiers=[];for(var i=0;i<list.length;i++){var item=list[i];var id=options.base?item[0]+options.base:item[0];var count=idCountMap[id]||0;var identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier);var obj={css:item[1],media:item[2],sourceMap:item[3]};if(index!==-1){stylesInDom[index].references++;stylesInDom[index].updater(obj)}else{stylesInDom.push({identifier:identifier,updater:addStyle(obj,options),references:1})}identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement("style");var attributes=options.attributes||{};if(typeof attributes.nonce==="undefined"){var nonce=true?__webpack_require__.nc:undefined;if(nonce){attributes.nonce=nonce}}Object.keys(attributes).forEach((function(key){style.setAttribute(key,attributes[key])}));if(typeof options.insert==="function"){options.insert(style)}else{var target=getTarget(options.insert||"head");if(!target){throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.")}target.appendChild(style)}return style}function removeStyleElement(style){if(style.parentNode===null){return false}style.parentNode.removeChild(style)}var replaceText=function replaceText(){var textStore=[];return function replace(index,replacement){textStore[index]=replacement;return textStore.filter(Boolean).join("\n")}}();function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.media?"@media ".concat(obj.media," {").concat(obj.css,"}"):obj.css;if(style.styleSheet){style.styleSheet.cssText=replaceText(index,css)}else{var cssNode=document.createTextNode(css);var childNodes=style.childNodes;if(childNodes[index]){style.removeChild(childNodes[index])}if(childNodes.length){style.insertBefore(cssNode,childNodes[index])}else{style.appendChild(cssNode)}}}function applyToTag(style,options,obj){var css=obj.css;var media=obj.media;var sourceMap=obj.sourceMap;if(media){style.setAttribute("media",media)}else{style.removeAttribute("media")}if(sourceMap&&btoa){css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")}if(style.styleSheet){style.styleSheet.cssText=css}else{while(style.firstChild){style.removeChild(style.firstChild)}style.appendChild(document.createTextNode(css))}}var singleton=null;var singletonCounter=0;function addStyle(obj,options){var style;var update;var remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options));update=applyToSingletonTag.bind(null,style,styleIndex,false);remove=applyToSingletonTag.bind(null,style,styleIndex,true)}else{style=insertStyleElement(options);update=applyToTag.bind(null,style,options);remove=function remove(){removeStyleElement(style)}}update(obj);return function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap){return}update(obj=newObj)}else{remove()}}}module.exports=function(list,options){options=options||{};if(!options.singleton&&typeof options.singleton!=="boolean"){options.singleton=isOldIE()}list=list||[];var lastIdentifiers=modulesToDom(list,options);return function update(newList){newList=newList||[];if(Object.prototype.toString.call(newList)!=="[object Array]"){return}for(var i=0;i<lastIdentifiers.length;i++){var identifier=lastIdentifiers[i];var index=getIndexByIdentifier(identifier);stylesInDom[index].references--}var newLastIdentifiers=modulesToDom(newList,options);for(var _i=0;_i<lastIdentifiers.length;_i++){var _identifier=lastIdentifiers[_i];var _index=getIndexByIdentifier(_identifier);if(stylesInDom[_index].references===0){stylesInDom[_index].updater();stylesInDom.splice(_index,1)}}lastIdentifiers=newLastIdentifiers}}},23:function(module,exports,__webpack_require__){"use strict";module.exports=function(useSourceMap){var list=[];list.toString=function toString(){return this.map((function(item){var content=cssWithMappingToString(item,useSourceMap);if(item[2]){return"@media ".concat(item[2]," {").concat(content,"}")}return content})).join("")};list.i=function(modules,mediaQuery,dedupe){if(typeof modules==="string"){modules=[[null,modules,""]]}var alreadyImportedModules={};if(dedupe){for(var i=0;i<this.length;i++){var id=this[i][0];if(id!=null){alreadyImportedModules[id]=true}}}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);if(dedupe&&alreadyImportedModules[item[0]]){continue}if(mediaQuery){if(!item[2]){item[2]=mediaQuery}else{item[2]="".concat(mediaQuery," and ").concat(item[2])}}list.push(item)}};return list};function cssWithMappingToString(item,useSourceMap){var content=item[1]||"";var cssMapping=item[3];if(!cssMapping){return content}if(useSourceMap&&typeof btoa==="function"){var sourceMapping=toComment(cssMapping);var sourceURLs=cssMapping.sources.map((function(source){return"/*# sourceURL=".concat(cssMapping.sourceRoot||"").concat(source," */")}));return[content].concat(sourceURLs).concat([sourceMapping]).join("\n")}return[content].join("\n")}function toComment(sourceMap){var base64=btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));var data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);return"/*# ".concat(data," */")}},24:function(module,exports,__webpack_require__){"use strict";const strictUriEncode=__webpack_require__(25);const decodeComponent=__webpack_require__(26);const splitOnFirst=__webpack_require__(27);const isNullOrUndefined=value=>value===null||value===undefined;function encoderForArrayFormat(options){switch(options.arrayFormat){case"index":return key=>(result,value)=>{const index=result.length;if(value===undefined||options.skipNull&&value===null||options.skipEmptyString&&value===""){return result}if(value===null){return[...result,[encode(key,options),"[",index,"]"].join("")]}return[...result,[encode(key,options),"[",encode(index,options),"]=",encode(value,options)].join("")]};case"bracket":return key=>(result,value)=>{if(value===undefined||options.skipNull&&value===null||options.skipEmptyString&&value===""){return result}if(value===null){return[...result,[encode(key,options),"[]"].join("")]}return[...result,[encode(key,options),"[]=",encode(value,options)].join("")]};case"comma":case"separator":return key=>(result,value)=>{if(value===null||value===undefined||value.length===0){return result}if(result.length===0){return[[encode(key,options),"=",encode(value,options)].join("")]}return[[result,encode(value,options)].join(options.arrayFormatSeparator)]};default:return key=>(result,value)=>{if(value===undefined||options.skipNull&&value===null||options.skipEmptyString&&value===""){return result}if(value===null){return[...result,encode(key,options)]}return[...result,[encode(key,options),"=",encode(value,options)].join("")]}}}function parserForArrayFormat(options){let result;switch(options.arrayFormat){case"index":return(key,value,accumulator)=>{result=/\[(\d*)\]$/.exec(key);key=key.replace(/\[\d*\]$/,"");if(!result){accumulator[key]=value;return}if(accumulator[key]===undefined){accumulator[key]={}}accumulator[key][result[1]]=value};case"bracket":return(key,value,accumulator)=>{result=/(\[\])$/.exec(key);key=key.replace(/\[\]$/,"");if(!result){accumulator[key]=value;return}if(accumulator[key]===undefined){accumulator[key]=[value];return}accumulator[key]=[].concat(accumulator[key],value)};case"comma":case"separator":return(key,value,accumulator)=>{const isArray=typeof value==="string"&&value.split("").indexOf(options.arrayFormatSeparator)>-1;const newValue=isArray?value.split(options.arrayFormatSeparator).map(item=>decode(item,options)):value===null?value:decode(value,options);accumulator[key]=newValue};default:return(key,value,accumulator)=>{if(accumulator[key]===undefined){accumulator[key]=value;return}accumulator[key]=[].concat(accumulator[key],value)}}}function validateArrayFormatSeparator(value){if(typeof value!=="string"||value.length!==1){throw new TypeError("arrayFormatSeparator must be single character string")}}function encode(value,options){if(options.encode){return options.strict?strictUriEncode(value):encodeURIComponent(value)}return value}function decode(value,options){if(options.decode){return decodeComponent(value)}return value}function keysSorter(input){if(Array.isArray(input)){return input.sort()}if(typeof input==="object"){return keysSorter(Object.keys(input)).sort((a,b)=>Number(a)-Number(b)).map(key=>input[key])}return input}function removeHash(input){const hashStart=input.indexOf("#");if(hashStart!==-1){input=input.slice(0,hashStart)}return input}function getHash(url){let hash="";const hashStart=url.indexOf("#");if(hashStart!==-1){hash=url.slice(hashStart)}return hash}function extract(input){input=removeHash(input);const queryStart=input.indexOf("?");if(queryStart===-1){return""}return input.slice(queryStart+1)}function parseValue(value,options){if(options.parseNumbers&&!Number.isNaN(Number(value))&&(typeof value==="string"&&value.trim()!=="")){value=Number(value)}else if(options.parseBooleans&&value!==null&&(value.toLowerCase()==="true"||value.toLowerCase()==="false")){value=value.toLowerCase()==="true"}return value}function parse(input,options){options=Object.assign({decode:true,sort:true,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:false,parseBooleans:false},options);validateArrayFormatSeparator(options.arrayFormatSeparator);const formatter=parserForArrayFormat(options);const ret=Object.create(null);if(typeof input!=="string"){return ret}input=input.trim().replace(/^[?#&]/,"");if(!input){return ret}for(const param of input.split("&")){let[key,value]=splitOnFirst(options.decode?param.replace(/\+/g," "):param,"=");value=value===undefined?null:["comma","separator"].includes(options.arrayFormat)?value:decode(value,options);formatter(decode(key,options),value,ret)}for(const key of Object.keys(ret)){const value=ret[key];if(typeof value==="object"&&value!==null){for(const k of Object.keys(value)){value[k]=parseValue(value[k],options)}}else{ret[key]=parseValue(value,options)}}if(options.sort===false){return ret}return(options.sort===true?Object.keys(ret).sort():Object.keys(ret).sort(options.sort)).reduce((result,key)=>{const value=ret[key];if(Boolean(value)&&typeof value==="object"&&!Array.isArray(value)){result[key]=keysSorter(value)}else{result[key]=value}return result},Object.create(null))}exports.extract=extract;exports.parse=parse;exports.stringify=(object,options)=>{if(!object){return""}options=Object.assign({encode:true,strict:true,arrayFormat:"none",arrayFormatSeparator:","},options);validateArrayFormatSeparator(options.arrayFormatSeparator);const shouldFilter=key=>options.skipNull&&isNullOrUndefined(object[key])||options.skipEmptyString&&object[key]==="";const formatter=encoderForArrayFormat(options);const objectCopy={};for(const key of Object.keys(object)){if(!shouldFilter(key)){objectCopy[key]=object[key]}}const keys=Object.keys(objectCopy);if(options.sort!==false){keys.sort(options.sort)}return keys.map(key=>{const value=object[key];if(value===undefined){return""}if(value===null){return encode(key,options)}if(Array.isArray(value)){return value.reduce(formatter(key),[]).join("&")}return encode(key,options)+"="+encode(value,options)}).filter(x=>x.length>0).join("&")};exports.parseUrl=(input,options)=>{options=Object.assign({decode:true},options);const[url,hash]=splitOnFirst(input,"#");return Object.assign({url:url.split("?")[0]||"",query:parse(extract(input),options)},options&&options.parseFragmentIdentifier&&hash?{fragmentIdentifier:decode(hash,options)}:{})};exports.stringifyUrl=(input,options)=>{options=Object.assign({encode:true,strict:true},options);const url=removeHash(input.url).split("?")[0]||"";const queryFromUrl=exports.extract(input.url);const parsedQueryFromUrl=exports.parse(queryFromUrl,{sort:false});const query=Object.assign(parsedQueryFromUrl,input.query);let queryString=exports.stringify(query,options);if(queryString){queryString=`?${queryString}`}let hash=getHash(input.url);if(input.fragmentIdentifier){hash=`#${encode(input.fragmentIdentifier,options)}`}return`${url}${queryString}${hash}`}},25:function(module,exports,__webpack_require__){"use strict";module.exports=str=>encodeURIComponent(str).replace(/[!'()*]/g,x=>`%${x.charCodeAt(0).toString(16).toUpperCase()}`)},26:function(module,exports,__webpack_require__){"use strict";var token="%[a-f0-9]{2}";var singleMatcher=new RegExp(token,"gi");var multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(components,split){try{return decodeURIComponent(components.join(""))}catch(err){}if(components.length===1){return components}split=split||1;var left=components.slice(0,split);var right=components.slice(split);return Array.prototype.concat.call([],decodeComponents(left),decodeComponents(right))}function decode(input){try{return decodeURIComponent(input)}catch(err){var tokens=input.match(singleMatcher);for(var i=1;i<tokens.length;i++){input=decodeComponents(tokens,i).join("");tokens=input.match(singleMatcher)}return input}}function customDecodeURIComponent(input){var replaceMap={"%FE%FF":"��","%FF%FE":"��"};var match=multiMatcher.exec(input);while(match){try{replaceMap[match[0]]=decodeURIComponent(match[0])}catch(err){var result=decode(match[0]);if(result!==match[0]){replaceMap[match[0]]=result}}match=multiMatcher.exec(input)}replaceMap["%C2"]="�";var entries=Object.keys(replaceMap);for(var i=0;i<entries.length;i++){var key=entries[i];input=input.replace(new RegExp(key,"g"),replaceMap[key])}return input}module.exports=function(encodedURI){if(typeof encodedURI!=="string"){throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof encodedURI+"`")}try{encodedURI=encodedURI.replace(/\+/g," ");return decodeURIComponent(encodedURI)}catch(err){return customDecodeURIComponent(encodedURI)}}},27:function(module,exports,__webpack_require__){"use strict";module.exports=(string,separator)=>{if(!(typeof string==="string"&&typeof separator==="string")){throw new TypeError("Expected the arguments to be of type `string`")}if(separator===""){return[string]}const separatorIndex=string.indexOf(separator);if(separatorIndex===-1){return[string]}return[string.slice(0,separatorIndex),string.slice(separatorIndex+separator.length)]}},84:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */var saveAs=saveAs||function(view){"use strict";if(typeof navigator!=="undefined"&&/MSIE [1-9]\./.test(navigator.userAgent)){return}var doc=view.document,get_URL=function(){return view.URL||view.webkitURL||view},save_link=doc.createElementNS("http://www.w3.org/1999/xhtml","a"),can_use_save_link="download"in save_link,click=function(node){var event=new MouseEvent("click");node.dispatchEvent(event)},webkit_req_fs=view.webkitRequestFileSystem,req_fs=view.requestFileSystem||webkit_req_fs||view.mozRequestFileSystem,throw_outside=function(ex){(view.setImmediate||view.setTimeout)((function(){throw ex}),0)},force_saveable_type="application/octet-stream",fs_min_size=0,arbitrary_revoke_timeout=500,revoke=function(file){var revoker=function(){if(typeof file==="string"){get_URL().revokeObjectURL(file)}else{file.remove()}};if(view.chrome){revoker()}else{setTimeout(revoker,arbitrary_revoke_timeout)}},dispatch=function(filesaver,event_types,event){event_types=[].concat(event_types);var i=event_types.length;while(i--){var listener=filesaver["on"+event_types[i]];if(typeof listener==="function"){try{listener.call(filesaver,event||filesaver)}catch(ex){throw_outside(ex)}}}},auto_bom=function(blob){if(/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(blob.type)){return new Blob(["\ufeff",blob],{type:blob.type})}return blob},FileSaver=function(blob,name,no_auto_bom){if(!no_auto_bom){blob=auto_bom(blob)}var filesaver=this,type=blob.type,blob_changed=false,object_url,target_view,dispatch_all=function(){dispatch(filesaver,"writestart progress write writeend".split(" "))},fs_error=function(){if(blob_changed||!object_url){object_url=get_URL().createObjectURL(blob)}if(target_view){target_view.location.href=object_url}else{var new_tab=view.open(object_url,"_blank");if(new_tab==undefined&&typeof safari!=="undefined"){view.location.href=object_url}}filesaver.readyState=filesaver.DONE;dispatch_all();revoke(object_url)},abortable=function(func){return function(){if(filesaver.readyState!==filesaver.DONE){return func.apply(this,arguments)}}},create_if_not_found={create:true,exclusive:false},slice;filesaver.readyState=filesaver.INIT;if(!name){name="download"}if(can_use_save_link){object_url=get_URL().createObjectURL(blob);save_link.href=object_url;save_link.download=name;setTimeout((function(){click(save_link);dispatch_all();revoke(object_url);filesaver.readyState=filesaver.DONE}));return}if(view.chrome&&type&&type!==force_saveable_type){slice=blob.slice||blob.webkitSlice;blob=slice.call(blob,0,blob.size,force_saveable_type);blob_changed=true}if(webkit_req_fs&&name!=="download"){name+=".download"}if(type===force_saveable_type||webkit_req_fs){target_view=view}if(!req_fs){fs_error();return}fs_min_size+=blob.size;req_fs(view.TEMPORARY,fs_min_size,abortable((function(fs){fs.root.getDirectory("saved",create_if_not_found,abortable((function(dir){var save=function(){dir.getFile(name,create_if_not_found,abortable((function(file){file.createWriter(abortable((function(writer){writer.onwriteend=function(event){target_view.location.href=file.toURL();filesaver.readyState=filesaver.DONE;dispatch(filesaver,"writeend",event);revoke(file)};writer.onerror=function(){var error=writer.error;if(error.code!==error.ABORT_ERR){fs_error()}};"writestart progress write abort".split(" ").forEach((function(event){writer["on"+event]=filesaver["on"+event]}));writer.write(blob);filesaver.abort=function(){writer.abort();filesaver.readyState=filesaver.DONE};filesaver.readyState=filesaver.WRITING})),fs_error)})),fs_error)};dir.getFile(name,{create:false},abortable((function(file){file.remove();save()})),abortable((function(ex){if(ex.code===ex.NOT_FOUND_ERR){save()}else{fs_error()}})))})),fs_error)})),fs_error)},FS_proto=FileSaver.prototype,saveAs=function(blob,name,no_auto_bom){return new FileSaver(blob,name,no_auto_bom)};if(typeof navigator!=="undefined"&&navigator.msSaveOrOpenBlob){return function(blob,name,no_auto_bom){if(!no_auto_bom){blob=auto_bom(blob)}return navigator.msSaveOrOpenBlob(blob,name||"download")}}FS_proto.abort=function(){var filesaver=this;filesaver.readyState=filesaver.DONE;dispatch(filesaver,"abort")};FS_proto.readyState=FS_proto.INIT=0;FS_proto.WRITING=1;FS_proto.DONE=2;FS_proto.error=FS_proto.onwritestart=FS_proto.onprogress=FS_proto.onwrite=FS_proto.onabort=FS_proto.onerror=FS_proto.onwriteend=null;return saveAs}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content);if(true&&module.exports){module.exports.saveAs=saveAs}else if(true&&__webpack_require__(85)!==null&&__webpack_require__(86)!=null){!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return saveAs}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}},85:function(module,exports){module.exports=function(){throw new Error("define cannot be used indirect")}},86:function(module,exports){(function(__webpack_amd_options__){module.exports=__webpack_amd_options__}).call(this,{})},87:function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(88);case"v7light":return __webpack_require__(90);case"v8dark":return __webpack_require__(92);case"v8light":return __webpack_require__(94)}},88:function(module,exports,__webpack_require__){var api=__webpack_require__(22);var content=__webpack_require__(89);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},89:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(23);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".savedObjectsManagementImportSummary__row {\n  margin-bottom: 4px; }\n\n.savedObjectsManagementImportSummary__title {\n  min-width: 0; }\n\n.savedObjectsManagementImportSummary__createdCount {\n  color: #7DE2D1; }\n\n.savedObjectsManagementImportSummary__errorCount {\n  color: #F66; }\n\n.savedObjectsManagementImportSummary__icon {\n  margin-left: 4px; }\n",""]);module.exports=exports},90:function(module,exports,__webpack_require__){var api=__webpack_require__(22);var content=__webpack_require__(91);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},91:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(23);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".savedObjectsManagementImportSummary__row {\n  margin-bottom: 4px; }\n\n.savedObjectsManagementImportSummary__title {\n  min-width: 0; }\n\n.savedObjectsManagementImportSummary__createdCount {\n  color: #017D73; }\n\n.savedObjectsManagementImportSummary__errorCount {\n  color: #BD271E; }\n\n.savedObjectsManagementImportSummary__icon {\n  margin-left: 4px; }\n",""]);module.exports=exports},92:function(module,exports,__webpack_require__){var api=__webpack_require__(22);var content=__webpack_require__(93);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},93:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(23);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".savedObjectsManagementImportSummary__row {\n  margin-bottom: 4px; }\n\n.savedObjectsManagementImportSummary__title {\n  min-width: 0; }\n\n.savedObjectsManagementImportSummary__createdCount {\n  color: #7DDED8; }\n\n.savedObjectsManagementImportSummary__errorCount {\n  color: #F86B63; }\n\n.savedObjectsManagementImportSummary__icon {\n  margin-left: 4px; }\n",""]);module.exports=exports},94:function(module,exports,__webpack_require__){var api=__webpack_require__(22);var content=__webpack_require__(95);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},95:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(23);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".savedObjectsManagementImportSummary__row {\n  margin-bottom: 4px; }\n\n.savedObjectsManagementImportSummary__title {\n  min-width: 0; }\n\n.savedObjectsManagementImportSummary__createdCount {\n  color: #007e77; }\n\n.savedObjectsManagementImportSummary__errorCount {\n  color: #BD271E; }\n\n.savedObjectsManagementImportSummary__icon {\n  margin-left: 4px; }\n",""]);module.exports=exports},96:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",(function(){return SavedObjectsTablePage}));var external_kbnSharedDeps_React_=__webpack_require__(12);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ReactRouterDom_=__webpack_require__(15);var external_kbnSharedDeps_Lodash_=__webpack_require__(0);var external_kbnSharedDeps_Lodash_default=__webpack_require__.n(external_kbnSharedDeps_Lodash_);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(13);var query_string=__webpack_require__(24);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(1);var file_saver=__webpack_require__(84);var public_=__webpack_require__(16);var lib=__webpack_require__(5);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(14);const Header=({onExportAll:onExportAll,onImport:onImport,onRefresh:onRefresh,filteredCount:filteredCount})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween",alignItems:"baseline"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],null,external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.header.savedObjectsTitle",defaultMessage:"Saved Objects"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"baseline",gutterSize:"m",responsive:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{size:"s",iconType:"exportAction","data-test-subj":"exportAllObjects",onClick:onExportAll},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.header.exportButtonLabel",defaultMessage:"Export {filteredCount, plural, one{# object} other {# objects}}",values:{filteredCount:filteredCount}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{size:"s",iconType:"importAction","data-test-subj":"importObjects",onClick:onImport},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.header.importButtonLabel",defaultMessage:"Import"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{size:"s",iconType:"refresh",onClick:onRefresh},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.header.refreshButtonLabel",defaultMessage:"Refresh"})))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.howToDeleteSavedObjectsDescription",defaultMessage:"Manage and share your saved objects. To edit the underlying data of an object, go to its associated application."})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}));function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class table_Table extends external_kbnSharedDeps_React_["PureComponent"]{constructor(props){super(props);_defineProperty(this,"state",{isSearchTextValid:true,parseErrorMessage:null,isExportPopoverOpen:false,isIncludeReferencesDeepChecked:true,activeAction:undefined});_defineProperty(this,"onChange",({query:query,error:error})=>{if(error){this.setState({isSearchTextValid:false,parseErrorMessage:error.message});return}this.setState({isSearchTextValid:true,parseErrorMessage:null});this.props.onQueryChange({query:query})});_defineProperty(this,"closeExportPopover",()=>{this.setState({isExportPopoverOpen:false})});_defineProperty(this,"toggleExportPopoverVisibility",()=>{this.setState(state=>({isExportPopoverOpen:!state.isExportPopoverOpen}))});_defineProperty(this,"toggleIsIncludeReferencesDeepChecked",()=>{this.setState(state=>({isIncludeReferencesDeepChecked:!state.isIncludeReferencesDeepChecked}))});_defineProperty(this,"onExportClick",()=>{const{onExport:onExport}=this.props;const{isIncludeReferencesDeepChecked:isIncludeReferencesDeepChecked}=this.state;onExport(isIncludeReferencesDeepChecked);this.setState({isExportPopoverOpen:false})})}render(){var _this$state$activeAct,_this$state$activeAct2;const{pageIndex:pageIndex,pageSize:pageSize,itemId:itemId,items:items,totalItemCount:totalItemCount,isSearching:isSearching,filterOptions:filterOptions,selectionConfig:selection,capabilities:capabilities,onDelete:onDelete,onActionRefresh:onActionRefresh,selectedSavedObjects:selectedSavedObjects,onTableChange:onTableChange,goInspectObject:goInspectObject,onShowRelationships:onShowRelationships,basePath:basePath,actionRegistry:actionRegistry,columnRegistry:columnRegistry,taggingApi:taggingApi}=this.props;const pagination={pageIndex:pageIndex,pageSize:pageSize,totalItemCount:totalItemCount,pageSizeOptions:[5,10,20,50]};const filters=[{type:"field_value_selection",field:"type",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.typeFilterName",{defaultMessage:"Type"}),multiSelect:"or",options:filterOptions},...taggingApi?[taggingApi.ui.getSearchBarFilter({useName:true})]:[]];const columns=[{field:"type",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnTypeName",{defaultMessage:"Type"}),width:"50px",align:"center",description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnTypeDescription",{defaultMessage:"Type of the saved object"}),sortable:false,"data-test-subj":"savedObjectsTableRowType",render:(type,object)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",content:Object(lib["getSavedObjectLabel"])(type)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{"aria-label":Object(lib["getSavedObjectLabel"])(type),type:object.meta.icon||"apps",size:"s","data-test-subj":"objectType"}))},{field:"meta.title",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnTitleName",{defaultMessage:"Title"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnTitleDescription",{defaultMessage:"Title of the saved object"}),dataType:"string",sortable:false,"data-test-subj":"savedObjectsTableRowTitle",render:(title,object)=>{const{path:path=""}=object.meta.inAppUrl||{};const canGoInApp=this.props.canGoInApp(object);if(!canGoInApp){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},title||Object(lib["getDefaultTitle"])(object))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:basePath.prepend(path)},title||Object(lib["getDefaultTitle"])(object))}},...taggingApi?[taggingApi.ui.getTableColumnDefinition()]:[],...columnRegistry.getAll().map(column=>({...column.euiColumn,sortable:false,"data-test-subj":`savedObjectsTableColumn-${column.id}`})),{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnActionsName",{defaultMessage:"Actions"}),width:"80px",actions:[{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnActions.inspectActionName",{defaultMessage:"Inspect"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnActions.inspectActionDescription",{defaultMessage:"Inspect this saved object"}),type:"icon",icon:"inspect",onClick:object=>goInspectObject(object),available:object=>!!object.meta.editUrl,"data-test-subj":"savedObjectsTableAction-inspect"},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnActions.viewRelationshipsActionName",{defaultMessage:"Relationships"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.columnActions.viewRelationshipsActionDescription",{defaultMessage:"View the relationships this saved object has to other saved objects"}),type:"icon",icon:"kqlSelector",onClick:object=>onShowRelationships(object),"data-test-subj":"savedObjectsTableAction-relationships"},...actionRegistry.getAll().map(action=>{action.setActionContext({capabilities:capabilities});return{...action.euiAction,"data-test-subj":`savedObjectsTableAction-${action.id}`,onClick:object=>{this.setState({activeAction:action});action.registerOnFinishCallback(()=>{this.setState({activeAction:undefined});const{refreshOnFinish:refreshOnFinish=(()=>false)}=action;if(refreshOnFinish()){onActionRefresh(object)}});if(action.euiAction.onClick){action.euiAction.onClick(object)}}}})]}];let queryParseError;if(!this.state.isSearchTextValid){const parseErrorMsg=external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.searchBar.unableToParseQueryErrorMessage",{defaultMessage:"Unable to parse query"});queryParseError=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormErrorText"],null,`${parseErrorMsg}. ${this.state.parseErrorMessage}`)}const button=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{iconType:"arrowDown",iconSide:"right",onClick:this.toggleExportPopoverVisibility,isDisabled:selectedSavedObjects.length===0},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.table.exportPopoverButtonLabel",defaultMessage:"Export"}));const activeActionContents=(_this$state$activeAct=(_this$state$activeAct2=this.state.activeAction)===null||_this$state$activeAct2===void 0?void 0:_this$state$activeAct2.render())!==null&&_this$state$activeAct!==void 0?_this$state$activeAct:null;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,activeActionContents,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSearchBar"],{box:{"data-test-subj":"savedObjectSearchBar"},filters:filters,onChange:this.onChange,defaultQuery:this.props.initialQuery,toolsRight:[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{key:"deleteSO",iconType:"trash",color:"danger",onClick:onDelete,isDisabled:selectedSavedObjects.length===0||!capabilities.savedObjectsManagement.delete,title:capabilities.savedObjectsManagement.delete?undefined:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.table.deleteButtonTitle",{defaultMessage:"Unable to delete saved objects"}),"data-test-subj":"savedObjectsManagementDelete"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.table.deleteButtonLabel",defaultMessage:"Delete"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopover"],{key:"exportSOOptions",button:button,isOpen:this.state.isExportPopoverOpen,closePopover:this.closeExportPopover},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.exportObjectsConfirmModal.exportOptionsLabel",defaultMessage:"Options"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSwitch"],{name:"includeReferencesDeep",label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.exportObjectsConfirmModal.includeReferencesDeepLabel",defaultMessage:"Include related objects"}),checked:this.state.isIncludeReferencesDeepChecked,onChange:this.toggleIsIncludeReferencesDeepChecked})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{key:"exportSO",iconType:"exportAction",onClick:this.onExportClick,fill:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.table.exportButtonLabel",defaultMessage:"Export"}))))]}),queryParseError,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement("div",{"data-test-subj":"savedObjectsTable"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBasicTable"],{loading:isSearching,itemId:itemId,items:items,columns:columns,pagination:pagination,selection:selection,onChange:onTableChange,rowProps:item=>({"data-test-subj":`savedObjectsTableRow row-${item.id}`})})))}}var resolve_saved_objects=__webpack_require__(3);var external_kbnSharedDeps_Moment_=__webpack_require__(18);var external_kbnSharedDeps_Moment_default=__webpack_require__.n(external_kbnSharedDeps_Moment_);const OverwriteModal=({conflict:conflict,onFinish:onFinish})=>{const{obj:obj,error:error}=conflict;let initialDestinationId;let selectControl=null;if(error.type==="conflict"){initialDestinationId=error.destinationId}else{initialDestinationId=error.destinations[0].id}const[destinationId,setDestinationId]=Object(external_kbnSharedDeps_React_["useState"])(initialDestinationId);if(error.type==="ambiguous_conflict"){const selectProps={options:error.destinations.map(destination=>{var _destination$title;const header=(_destination$title=destination.title)!==null&&_destination$title!==void 0?_destination$title:`${type} [id=${destination.id}]`;const lastUpdated=destination.updatedAt?external_kbnSharedDeps_Moment_default()(destination.updatedAt).fromNow():"never";const idText=`ID: ${destination.id}`;const lastUpdatedText=`Last updated: ${lastUpdated}`;return{value:destination.id,inputDisplay:destination.id,dropdownDisplay:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement("strong",null,header),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s",color:"subdued"},external_kbnSharedDeps_React_default.a.createElement("p",{className:"euiTextColor--subdued"},idText,external_kbnSharedDeps_React_default.a.createElement("br",null),lastUpdatedText)))}}),onChange:value=>{setDestinationId(value)}};selectControl=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSuperSelect"],{options:selectProps.options,valueOfSelected:destinationId,onChange:selectProps.onChange,prepend:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.overwriteModal.selectControlLabel",{defaultMessage:"Object ID"}),hasDividers:true,fullWidth:true,compressed:true})}const{type:type,meta:meta}=obj;const title=meta.title||Object(lib["getDefaultTitle"])(obj);const bodyText=error.type==="conflict"?external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.overwriteModal.body.conflict",{defaultMessage:'"{title}" conflicts with an existing object. Overwrite it?',values:{title:title}}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.overwriteModal.body.ambiguousConflict",{defaultMessage:'"{title}" conflicts with multiple existing objects. Overwrite one?',values:{title:title}});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiConfirmModal"],{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.overwriteModal.title",{defaultMessage:"Overwrite {type}?",values:{type:type}}),cancelButtonText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.overwriteModal.cancelButtonText",{defaultMessage:"Skip"}),confirmButtonText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.overwriteModal.overwriteButtonText",{defaultMessage:"Overwrite"}),buttonColor:"danger",onCancel:()=>onFinish(false),onConfirm:()=>onFinish(true,destinationId),defaultFocusedButton:external_kbnSharedDeps_ElasticEui_["EUI_MODAL_CONFIRM_BUTTON"],maxWidth:"500px"},external_kbnSharedDeps_React_default.a.createElement("p",null,bodyText),selectControl)};const createNewCopiesDisabled={id:"createNewCopiesDisabled",text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.importModeControl.createNewCopies.disabledTitle",{defaultMessage:"Check for existing objects"}),tooltip:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.importModeControl.createNewCopies.disabledText",{defaultMessage:"Check if objects were previously copied or imported."})};const createNewCopiesEnabled={id:"createNewCopiesEnabled",text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.importModeControl.createNewCopies.enabledTitle",{defaultMessage:"Create new objects with random IDs"}),tooltip:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.importModeControl.createNewCopies.enabledText",{defaultMessage:"Use this option to create one or more copies of the object."})};const overwriteEnabled={id:"overwriteEnabled",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.importModeControl.overwrite.enabledLabel",{defaultMessage:"Automatically overwrite conflicts"})};const overwriteDisabled={id:"overwriteDisabled",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.importModeControl.overwrite.disabledLabel",{defaultMessage:"Request action on conflict"})};const importOptionsTitle=external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.importModeControl.importOptionsTitle",{defaultMessage:"Import options"});const createLabel=({text:text,tooltip:tooltip})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,text)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIconTip"],{content:tooltip,position:"left",type:"iInCircle"})));const ImportModeControl=({initialValues:initialValues,isLegacyFile:isLegacyFile,updateSelection:updateSelection})=>{const[createNewCopies,setCreateNewCopies]=Object(external_kbnSharedDeps_React_["useState"])(initialValues.createNewCopies);const[overwrite,setOverwrite]=Object(external_kbnSharedDeps_React_["useState"])(initialValues.overwrite);const onChange=partial=>{if(partial.createNewCopies!==undefined){setCreateNewCopies(partial.createNewCopies)}else if(partial.overwrite!==undefined){setOverwrite(partial.overwrite)}updateSelection({createNewCopies:createNewCopies,overwrite:overwrite,...partial})};const overwriteRadio=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiRadioGroup"],{options:[overwriteEnabled,overwriteDisabled],idSelected:overwrite?overwriteEnabled.id:overwriteDisabled.id,onChange:id=>onChange({overwrite:id===overwriteEnabled.id}),disabled:createNewCopies&&!isLegacyFile,"data-test-subj":"savedObjectsManagement-importModeControl-overwriteRadioGroup"});if(isLegacyFile){return overwriteRadio}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormFieldset"],{legend:{children:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("span",null,importOptionsTitle))}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCheckableCard"],{id:createNewCopiesDisabled.id,label:createLabel(createNewCopiesDisabled),checked:!createNewCopies,onChange:()=>onChange({createNewCopies:false})},overwriteRadio),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCheckableCard"],{id:createNewCopiesEnabled.id,label:createLabel(createNewCopiesEnabled),checked:createNewCopies,onChange:()=>onChange({createNewCopies:true})}))};var import_summary=__webpack_require__(87);const DEFAULT_ICON="apps";const unsupportedTypeErrorMessage=external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.importSummary.unsupportedTypeError",{defaultMessage:"Unsupported object type"});const getErrorMessage=({error:error})=>{if(error.type==="unknown"){return error.message}else if(error.type==="unsupported_type"){return unsupportedTypeErrorMessage}};const mapFailedImport=failure=>{const{obj:obj}=failure;const{type:type,id:id,meta:meta}=obj;const title=meta.title||Object(lib["getDefaultTitle"])(obj);const icon=meta.icon||DEFAULT_ICON;const errorMessage=getErrorMessage(failure);return{type:type,id:id,title:title,icon:icon,outcome:"error",errorMessage:errorMessage}};const mapImportSuccess=obj=>{const{type:type,id:id,meta:meta,overwrite:overwrite}=obj;const title=meta.title||Object(lib["getDefaultTitle"])(obj);const icon=meta.icon||DEFAULT_ICON;const outcome=overwrite?"overwritten":"created";return{type:type,id:id,title:title,icon:icon,outcome:outcome}};const CountIndicators=({importItems:importItems})=>{if(!importItems.length){return null}const outcomeCounts=importItems.reduce((acc,{outcome:outcome})=>{var _acc$get;return acc.set(outcome,((_acc$get=acc.get(outcome))!==null&&_acc$get!==void 0?_acc$get:0)+1)},new Map);const createdCount=outcomeCounts.get("created");const overwrittenCount=outcomeCounts.get("overwritten");const errorCount=outcomeCounts.get("error");return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,createdCount&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h4",{className:"savedObjectsManagementImportSummary__createdCount"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.importSummary.createdCountHeader",defaultMessage:"{createdCount} new",values:{createdCount:createdCount}})))),overwrittenCount&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h4",{className:"savedObjectsManagementImportSummary__overwrittenCount"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.importSummary.overwrittenCountHeader",defaultMessage:"{overwrittenCount} overwritten",values:{overwrittenCount:overwrittenCount}})))),errorCount&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h4",{"data-test-subj":"importSavedObjectsErrorsCount",className:"savedObjectsManagementImportSummary__errorCount"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.importSummary.errorCountHeader",defaultMessage:"{errorCount} error",values:{errorCount:errorCount}})))))};const StatusIndicator=({item:item})=>{const{outcome:outcome,errorMessage:errorMessage="Error"}=item;switch(outcome){case"created":return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIconTip"],{type:"checkInCircleFilled",color:"success",content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.importSummary.createdOutcomeLabel",{defaultMessage:"Created"})});case"overwritten":return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIconTip"],{type:"check",content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.importSummary.overwrittenOutcomeLabel",{defaultMessage:"Overwritten"})});case"error":return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIconTip"],{type:"alert",color:"danger",content:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.importSummary.errorOutcomeLabel",{defaultMessage:"{errorMessage}",values:{errorMessage:errorMessage}})})}};const ImportWarnings=({warnings:warnings,basePath:basePath})=>{if(!warnings.length){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),warnings.map((warning,index)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],{key:`warning-${index}`},external_kbnSharedDeps_React_default.a.createElement(ImportWarning,{warning:warning,basePath:basePath}),index<warnings.length-1&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}))))};const ImportWarning=({warning:warning,basePath:basePath})=>{const warningContent=Object(external_kbnSharedDeps_React_["useMemo"])(()=>{if(warning.type==="action_required"){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"flexEnd",justifyContent:"flexEnd",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{size:"s",color:"warning",href:basePath.prepend(warning.actionPath),target:"_blank"},warning.buttonLabel||external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.importSummary.warnings.defaultButtonLabel",defaultMessage:"Go"}))))}return null},[warning,basePath]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{color:"warning",size:"s",iconType:"alert","data-test-subj":"importSavedObjectsWarning",title:warning.message},warningContent)};const ImportSummary=({failedImports:failedImports,successfulImports:successfulImports,importWarnings:importWarnings,basePath:basePath})=>{const importItems=Object(external_kbnSharedDeps_React_["useMemo"])(()=>external_kbnSharedDeps_Lodash_default.a.sortBy([...failedImports.map(x=>mapFailedImport(x)),...successfulImports.map(x=>mapImportSuccess(x))],["type","title"]),[successfulImports,failedImports]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s","data-test-subj":importItems.length?"importSavedObjectsSuccess":"importSavedObjectsSuccessNoneImported"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.importSummary.headerLabel",defaultMessage:"{importCount, plural, one {1 object} other {# objects}} imported",values:{importCount:importItems.length}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(CountIndicators,{importItems:importItems}),external_kbnSharedDeps_React_default.a.createElement(ImportWarnings,{warnings:importWarnings,basePath:basePath}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHorizontalRule"],null),importItems.map((item,index)=>{const{type:type,title:title,icon:icon}=item;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{responsive:false,key:index,alignItems:"center",gutterSize:"s",className:"savedObjectsManagementImportSummary__row"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",content:Object(lib["getSavedObjectLabel"])(type)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{"aria-label":Object(lib["getSavedObjectLabel"])(type),type:icon,size:"s"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{className:"savedObjectsManagementImportSummary__title"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("p",{className:"eui-textTruncate",title:title},title))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement("div",{className:"eui-textRight"},external_kbnSharedDeps_React_default.a.createElement(StatusIndicator,{item:item}))))}))};function flyout_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const CREATE_NEW_COPIES_DEFAULT=false;const OVERWRITE_ALL_DEFAULT=true;const flyout_getErrorMessage=e=>{var _e$body,_e$body2;const errorMessage=(_e$body=e.body)!==null&&_e$body!==void 0&&_e$body.error&&(_e$body2=e.body)!==null&&_e$body2!==void 0&&_e$body2.message?`${e.body.error}: ${e.body.message}`:e.message;return external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.importFileErrorMessage",{defaultMessage:'The file could not be processed due to error: "{error}"',values:{error:errorMessage}})};class flyout_Flyout extends external_kbnSharedDeps_React_["Component"]{constructor(props){super(props);flyout_defineProperty(this,"fetchIndexPatterns",async()=>{var _await$this$props$ind;const indexPatterns=(_await$this$props$ind=await this.props.indexPatterns.getCache())===null||_await$this$props$ind===void 0?void 0:_await$this$props$ind.map(savedObject=>({id:savedObject.id,title:savedObject.attributes.title}));this.setState({indexPatterns:indexPatterns})});flyout_defineProperty(this,"changeImportMode",importMode=>{this.setState(()=>({importMode:importMode}))});flyout_defineProperty(this,"setImportFile",files=>{if(!files||!files[0]){this.setState({file:undefined,isLegacyFile:false});return}const file=files[0];this.setState({file:file,isLegacyFile:/\.json$/i.test(file.name)||file.type==="application/json"})});flyout_defineProperty(this,"import",async()=>{const{http:http}=this.props;const{file:file,importMode:importMode}=this.state;this.setState({status:"loading",error:undefined});try{const response=await Object(lib["importFile"])(http,file,importMode);this.setState(Object(lib["processImportResponse"])(response),()=>{var _this$state$unmatched;if(((_this$state$unmatched=this.state.unmatchedReferences)===null||_this$state$unmatched===void 0?void 0:_this$state$unmatched.length)===0){this.resolveImportErrors()}})}catch(e){this.setState({status:"error",error:flyout_getErrorMessage(e)});return}});flyout_defineProperty(this,"getConflictResolutions",async failures=>{const resolutions={};for(const conflict of failures){const[overwrite,destinationId]=await new Promise(done=>{this.setState({conflictingRecord:{conflict:conflict,done:done}})});if(overwrite){const{type:type,id:id}=conflict.obj;resolutions[`${type}:${id}`]={retry:true,options:{overwrite:true,...destinationId&&{destinationId:destinationId}}}}this.setState({conflictingRecord:undefined})}return resolutions});flyout_defineProperty(this,"resolveImportErrors",async()=>{this.setState({error:undefined,status:"loading",loadingMessage:undefined});try{const updatedState=await Object(lib["resolveImportErrors"])({http:this.props.http,state:this.state,getConflictResolutions:this.getConflictResolutions});this.setState(updatedState)}catch(e){this.setState({status:"error",error:flyout_getErrorMessage(e)})}});flyout_defineProperty(this,"legacyImport",async()=>{const{serviceRegistry:serviceRegistry,indexPatterns:indexPatterns,overlays:overlays,http:http,allowedTypes:allowedTypes}=this.props;const{file:file,importMode:importMode}=this.state;this.setState({status:"loading",error:undefined});Object(lib["logLegacyImport"])(http);let contents;try{contents=await Object(lib["importLegacyFile"])(file)}catch(e){this.setState({status:"error",error:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.importLegacyFileErrorMessage",{defaultMessage:"The file could not be processed."})});return}if(!Array.isArray(contents)){this.setState({status:"error",error:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.invalidFormatOfImportedFileErrorMessage",{defaultMessage:"Saved objects file format is invalid and cannot be imported."})});return}contents=contents.filter(content=>allowedTypes.includes(content._type)).map(doc=>({...doc,_migrationVersion:doc._migrationVersion||{}}));const{conflictedIndexPatterns:conflictedIndexPatterns,conflictedSavedObjectsLinkedToSavedSearches:conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs:conflictedSearchDocs,importedObjectCount:importedObjectCount,failedImports:failedImports}=await Object(resolve_saved_objects["b"])(contents,importMode.overwrite,serviceRegistry.all().map(e=>e.service),indexPatterns,overlays.openConfirm);const byId={};conflictedIndexPatterns.map(({doc:doc,obj:obj})=>({doc:doc,obj:obj._serialize()})).forEach(({doc:doc,obj:obj})=>obj.references.forEach(ref=>{byId[ref.id]=byId[ref.id]!=null?byId[ref.id].concat({doc:doc,obj:obj}):[{doc:doc,obj:obj}]}));const unmatchedReferences=Object.entries(byId).reduce((accum,[existingIndexPatternId,list])=>{accum.push({existingIndexPatternId:existingIndexPatternId,newIndexPatternId:undefined,list:list.map(({doc:doc})=>({id:existingIndexPatternId,type:doc._type,title:doc._source.title}))});return accum},[]);this.setState({conflictedIndexPatterns:conflictedIndexPatterns,conflictedSavedObjectsLinkedToSavedSearches:conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs:conflictedSearchDocs,failedImports:failedImports,unmatchedReferences:unmatchedReferences,importCount:importedObjectCount,status:unmatchedReferences.length===0?"success":"idle"})});flyout_defineProperty(this,"confirmLegacyImport",async()=>{const{conflictedIndexPatterns:conflictedIndexPatterns,importMode:importMode,conflictedSavedObjectsLinkedToSavedSearches:conflictedSavedObjectsLinkedToSavedSearches,conflictedSearchDocs:conflictedSearchDocs,failedImports:failedImports}=this.state;const{serviceRegistry:serviceRegistry,indexPatterns:indexPatterns,search:search}=this.props;this.setState({error:undefined,status:"loading",loadingMessage:undefined});let importCount=this.state.importCount;if(this.hasUnmatchedReferences){try{const resolutions=this.resolutions;this.setState({loadingMessage:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.confirmLegacyImport.resolvingConflictsLoadingMessage",{defaultMessage:"Resolving conflicts…"})});if(resolutions.length){importCount+=await Object(resolve_saved_objects["a"])(resolutions,conflictedIndexPatterns,importMode.overwrite,{indexPatterns:indexPatterns,search:search})}this.setState({loadingMessage:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.confirmLegacyImport.savingConflictsLoadingMessage",{defaultMessage:"Saving conflicts…"})});importCount+=await Object(resolve_saved_objects["e"])(conflictedSavedObjectsLinkedToSavedSearches,importMode.overwrite);this.setState({loadingMessage:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.confirmLegacyImport.savedSearchAreLinkedProperlyLoadingMessage",{defaultMessage:"Ensure saved searches are linked properly…"})});importCount+=await Object(resolve_saved_objects["c"])(conflictedSearchDocs,serviceRegistry.all().map(e=>e.service),indexPatterns,importMode.overwrite);this.setState({loadingMessage:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.confirmLegacyImport.retryingFailedObjectsLoadingMessage",{defaultMessage:"Retrying failed objects…"})});importCount+=await Object(resolve_saved_objects["e"])(failedImports.map(({obj:obj})=>obj),importMode.overwrite)}catch(e){this.setState({status:"error",error:flyout_getErrorMessage(e),loadingMessage:undefined});return}}this.setState({status:"success",importCount:importCount})});flyout_defineProperty(this,"onIndexChanged",(id,e)=>{const value=e.target.value;this.setState(state=>{var _state$unmatchedRefer;const conflictIndex=(_state$unmatchedRefer=state.unmatchedReferences)===null||_state$unmatchedRefer===void 0?void 0:_state$unmatchedRefer.findIndex(conflict=>conflict.existingIndexPatternId===id);if(conflictIndex===undefined||conflictIndex===-1){return state}return{unmatchedReferences:[...state.unmatchedReferences.slice(0,conflictIndex),{...state.unmatchedReferences[conflictIndex],newIndexPatternId:value},...state.unmatchedReferences.slice(conflictIndex+1)]}})});this.state={conflictedIndexPatterns:undefined,conflictedSavedObjectsLinkedToSavedSearches:undefined,conflictedSearchDocs:undefined,unmatchedReferences:undefined,unmatchedReferencesTablePagination:{pageIndex:0,pageSize:5},conflictingRecord:undefined,error:undefined,file:undefined,importCount:0,indexPatterns:undefined,importMode:{createNewCopies:CREATE_NEW_COPIES_DEFAULT,overwrite:OVERWRITE_ALL_DEFAULT},loadingMessage:undefined,isLegacyFile:false,status:"idle"}}componentDidMount(){this.fetchIndexPatterns()}get hasUnmatchedReferences(){return this.state.unmatchedReferences&&this.state.unmatchedReferences.length>0}get resolutions(){return this.state.unmatchedReferences.reduce((accum,{existingIndexPatternId:existingIndexPatternId,newIndexPatternId:newIndexPatternId})=>{if(newIndexPatternId){accum.push({oldId:existingIndexPatternId,newId:newIndexPatternId})}return accum},[])}renderUnmatchedReferences(){const{unmatchedReferences:unmatchedReferences,unmatchedReferencesTablePagination:tablePagination}=this.state;if(!unmatchedReferences){return null}const columns=[{field:"existingIndexPatternId",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.renderConflicts.columnIdName",{defaultMessage:"ID"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.renderConflicts.columnIdDescription",{defaultMessage:"ID of the index pattern"}),sortable:true},{field:"list",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.renderConflicts.columnCountName",{defaultMessage:"Count"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.renderConflicts.columnCountDescription",{defaultMessage:"How many affected objects"}),render:list=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,list.length)},{field:"list",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.renderConflicts.columnSampleOfAffectedObjectsName",{defaultMessage:"Sample of affected objects"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.renderConflicts.columnSampleOfAffectedObjectsDescription",{defaultMessage:"Sample of affected objects"}),render:list=>external_kbnSharedDeps_React_default.a.createElement("ul",{style:{listStyle:"none"}},Object(external_kbnSharedDeps_Lodash_["take"])(list,3).map((obj,key)=>external_kbnSharedDeps_React_default.a.createElement("li",{key:key},obj.title)))},{field:"existingIndexPatternId",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.renderConflicts.columnNewIndexPatternName",{defaultMessage:"New index pattern"}),render:id=>{var _unmatchedReferences$,_unmatchedReferences$2;const options=[{text:"-- Skip Import --",value:""},...this.state.indexPatterns.map(indexPattern=>({text:indexPattern.title,value:indexPattern.id,"data-test-subj":`indexPatternOption-${indexPattern.title}`}))];const selectedValue=(_unmatchedReferences$=unmatchedReferences===null||unmatchedReferences===void 0?void 0:(_unmatchedReferences$2=unmatchedReferences.find(unmatchedRef=>unmatchedRef.existingIndexPatternId===id))===null||_unmatchedReferences$2===void 0?void 0:_unmatchedReferences$2.newIndexPatternId)!==null&&_unmatchedReferences$!==void 0?_unmatchedReferences$:"";return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],{value:selectedValue,"data-test-subj":`managementChangeIndexSelection-${id}`,onChange:e=>this.onIndexChanged(id,e),options:options})}}];const pagination={...tablePagination,pageSizeOptions:[5,10,25]};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiInMemoryTable"],{items:unmatchedReferences,columns:columns,pagination:pagination,onTableChange:({page:page})=>{if(page){this.setState({unmatchedReferencesTablePagination:{pageSize:page.size,pageIndex:page.index}})}}})}renderError(){const{error:error,status:status}=this.state;if(status!=="error"){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.errorCalloutTitle",defaultMessage:"Sorry, there was an error"}),color:"danger"},external_kbnSharedDeps_React_default.a.createElement("p",{"data-test-subj":"importSavedObjectsErrorText"},error)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}))}renderBody(){const{status:status,loadingMessage:loadingMessage,importCount:importCount,failedImports:failedImports=[],successfulImports:successfulImports=[],isLegacyFile:isLegacyFile,importMode:importMode,importWarnings:importWarnings}=this.state;if(status==="loading"){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceAround"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingElastic"],{size:"xl"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,loadingMessage))))}if(!isLegacyFile&&status==="success"){return external_kbnSharedDeps_React_default.a.createElement(ImportSummary,{basePath:this.props.http.basePath,failedImports:failedImports,successfulImports:successfulImports,importWarnings:importWarnings!==null&&importWarnings!==void 0?importWarnings:[]})}if(failedImports.length&&!this.hasUnmatchedReferences){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{"data-test-subj":"importSavedObjectsFailedWarning",title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.importFailedTitle",defaultMessage:"Import failed"}),color:"warning",iconType:"help"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.importFailedDescription",defaultMessage:"Failed to import {failedImportCount} of {totalImportCount} objects. Import failed",values:{failedImportCount:failedImports.length,totalImportCount:importCount+failedImports.length}})),external_kbnSharedDeps_React_default.a.createElement("p",null,failedImports.map(({error:error,obj:obj})=>{var _message;if(error.type==="missing_references"){return error.references.map(reference=>external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.importFailedMissingReference",{defaultMessage:"{type} [id={id}] could not locate {refType} [id={refId}]",values:{id:obj.id,type:obj.type,refId:reference.id,refType:reference.type}}))}else if(error.type==="unsupported_type"){return external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.flyout.importFailedUnsupportedType",{defaultMessage:"{type} [id={id}] unsupported type",values:{id:obj.id,type:obj.type}})}return Object(external_kbnSharedDeps_Lodash_["get"])(error,"body.message",(_message=error.message)!==null&&_message!==void 0?_message:"")}).join(" ")))}if(status==="success"){if(importCount===0){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{"data-test-subj":"importSavedObjectsSuccessNoneImported",title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.importSuccessfulCallout.noObjectsImportedTitle",defaultMessage:"No objects imported"}),color:"primary"})}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{"data-test-subj":"importSavedObjectsSuccess",title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.importSuccessfulTitle",defaultMessage:"Import successful"}),color:"success",iconType:"check"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.importSuccessfulDescription",defaultMessage:"Successfully imported {importCount} objects.",values:{importCount:importCount}})))}if(this.hasUnmatchedReferences){return this.renderUnmatchedReferences()}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiForm"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{fullWidth:true,label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("span",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.selectFileToImportFormRowLabel",defaultMessage:"Select a file to import"})))},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFilePicker"],{accept:".ndjson, .json",fullWidth:true,initialPromptText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.importPromptText",defaultMessage:"Import"}),onChange:this.setImportFile})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(ImportModeControl,{initialValues:importMode,isLegacyFile:isLegacyFile,updateSelection:newValues=>this.changeImportMode(newValues)})))}renderFooter(){const{isLegacyFile:isLegacyFile,status:status}=this.state;const{done:done,close:close}=this.props;let confirmButton;if(status==="success"){confirmButton=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{onClick:done,size:"s",fill:true,"data-test-subj":"importSavedObjectsDoneBtn"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.importSuccessful.confirmButtonLabel",defaultMessage:"Done"}))}else if(this.hasUnmatchedReferences){confirmButton=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{onClick:isLegacyFile?this.confirmLegacyImport:this.resolveImportErrors,size:"s",fill:true,isLoading:status==="loading","data-test-subj":"importSavedObjectsConfirmBtn"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.importSuccessful.confirmAllChangesButtonLabel",defaultMessage:"Confirm all changes"}))}else{confirmButton=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{onClick:isLegacyFile?this.legacyImport:this.import,size:"s",fill:true,isLoading:status==="loading","data-test-subj":"importSavedObjectsImportBtn"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.import.confirmButtonLabel",defaultMessage:"Import"}))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{onClick:close,size:"s",disabled:status==="loading"||isLegacyFile===false&&status==="success","data-test-subj":"importSavedObjectsCancelBtn"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.import.cancelButtonLabel",defaultMessage:"Cancel"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},confirmButton))}renderSubheader(){if(this.state.status==="loading"||this.state.status==="success"){return null}let legacyFileWarning;if(this.state.isLegacyFile){legacyFileWarning=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{"data-test-subj":"importSavedObjectsLegacyWarning",title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.legacyFileUsedTitle",defaultMessage:"Support for JSON files is going away"}),color:"warning",iconType:"help"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.legacyFileUsedBody",defaultMessage:"Use our updated export to generate NDJSON files, and you'll be all set."}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}))}let indexPatternConflictsWarning;if(this.hasUnmatchedReferences){indexPatternConflictsWarning=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{"data-test-subj":"importSavedObjectsConflictsWarning",title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.indexPatternConflictsTitle",defaultMessage:"Index Pattern Conflicts"}),color:"warning",iconType:"help"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.indexPatternConflictsDescription",defaultMessage:"The following saved objects use index patterns that do not exist. Please select the index patterns you'd like re-associated with them. You can {indexPatternLink} if necessary.",values:{indexPatternLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:this.props.newIndexPatternUrl},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.indexPatternConflictsCalloutLinkText",defaultMessage:"create a new index pattern"}))}})))}if(!legacyFileWarning&&!indexPatternConflictsWarning){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,legacyFileWarning&&external_kbnSharedDeps_React_default.a.createElement("span",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),legacyFileWarning),indexPatternConflictsWarning&&external_kbnSharedDeps_React_default.a.createElement("span",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),indexPatternConflictsWarning))}render(){const{close:close}=this.props;let confirmOverwriteModal;const{conflictingRecord:conflictingRecord}=this.state;if(conflictingRecord){const{conflict:conflict}=conflictingRecord;const onFinish=(overwrite,destinationId)=>conflictingRecord.done([overwrite,destinationId]);confirmOverwriteModal=external_kbnSharedDeps_React_default.a.createElement(OverwriteModal,{conflict:conflict,onFinish:onFinish})}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyout"],{onClose:close,size:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutHeader"],{hasBorder:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"m"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.flyout.importSavedObjectTitle",defaultMessage:"Import saved objects"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],null,this.renderSubheader(),this.renderError(),this.renderBody()),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutFooter"],null,this.renderFooter()),confirmOverwriteModal)}}const relationshipColumn={field:"relationship",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnRelationshipName",{defaultMessage:"Direct relationship"}),dataType:"string",sortable:false,width:"125px","data-test-subj":"directRelationship",render:relationship=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},relationship==="parent"?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.relationships.columnRelationship.parentAsValue",defaultMessage:"Parent"}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.relationships.columnRelationship.childAsValue",defaultMessage:"Child"}))};class relationships_Relationships extends external_kbnSharedDeps_React_["Component"]{constructor(props){super(props);this.state={relations:[],invalidRelations:[],isLoading:false,error:undefined}}UNSAFE_componentWillMount(){this.getRelationshipData()}UNSAFE_componentWillReceiveProps(nextProps){if(nextProps.savedObject.id!==this.props.savedObject.id){this.getRelationshipData()}}async getRelationshipData(){const{savedObject:savedObject,getRelationships:getRelationships}=this.props;this.setState({isLoading:true});try{const{relations:relations,invalidRelations:invalidRelations}=await getRelationships(savedObject.type,savedObject.id);this.setState({relations:relations,invalidRelations:invalidRelations,isLoading:false,error:undefined})}catch(err){this.setState({error:err.message,isLoading:false})}}renderError(){const{error:error}=this.state;if(!error){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.relationships.renderErrorMessage",defaultMessage:"Error"}),color:"danger"},error)}renderInvalidRelationship(){const{invalidRelations:invalidRelations}=this.state;if(!invalidRelations.length){return null}const columns=[{field:"type",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnTypeName",{defaultMessage:"Type"}),width:"150px",description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnTypeDescription",{defaultMessage:"Type of the saved object"}),sortable:false,"data-test-subj":"relationshipsObjectType"},{field:"id",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnIdName",{defaultMessage:"Id"}),width:"150px",description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnIdDescription",{defaultMessage:"Id of the saved object"}),sortable:false,"data-test-subj":"relationshipsObjectId"},relationshipColumn,{field:"error",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnErrorName",{defaultMessage:"Error"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnErrorDescription",{defaultMessage:"Error encountered with the relation"}),sortable:false,"data-test-subj":"relationshipsError"}];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{color:"warning",iconType:"alert",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.invalidRelationShip",{defaultMessage:"This saved object has some invalid relations."})}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiInMemoryTable"],{items:invalidRelations,columns:columns,pagination:true,rowProps:()=>({"data-test-subj":`invalidRelationshipsTableRow`})}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null))}renderRelationshipsTable(){const{goInspectObject:goInspectObject,basePath:basePath,savedObject:savedObject}=this.props;const{relations:relations,isLoading:isLoading,error:error}=this.state;if(error){return this.renderError()}if(isLoading){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingElastic"],{size:"xl"})}const columns=[{field:"type",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnTypeName",{defaultMessage:"Type"}),width:"50px",align:"center",description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnTypeDescription",{defaultMessage:"Type of the saved object"}),sortable:false,render:(type,object)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",content:Object(lib["getSavedObjectLabel"])(type)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{"aria-label":Object(lib["getSavedObjectLabel"])(type),type:object.meta.icon||"apps",size:"s","data-test-subj":"relationshipsObjectType"}))},relationshipColumn,{field:"meta.title",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnTitleName",{defaultMessage:"Title"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnTitleDescription",{defaultMessage:"Title of the saved object"}),dataType:"string",sortable:false,render:(title,object)=>{const{path:path=""}=object.meta.inAppUrl||{};const canGoInApp=this.props.canGoInApp(object);if(!canGoInApp){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s","data-test-subj":"relationshipsTitle"},title||Object(lib["getDefaultTitle"])(object))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:basePath.prepend(path),"data-test-subj":"relationshipsTitle"},title||Object(lib["getDefaultTitle"])(object))}},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnActionsName",{defaultMessage:"Actions"}),actions:[{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnActions.inspectActionName",{defaultMessage:"Inspect"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.columnActions.inspectActionDescription",{defaultMessage:"Inspect this saved object"}),type:"icon",icon:"inspect","data-test-subj":"relationshipsTableAction-inspect",onClick:object=>goInspectObject(object),available:object=>!!object.meta.editUrl}]}];const filterTypesMap=new Map(relations.map(relationship=>[relationship.type,{value:relationship.type,name:relationship.type,view:relationship.type}]));const search={filters:[{type:"field_value_selection",field:"relationship",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.search.filters.relationship.name",{defaultMessage:"Direct relationship"}),multiSelect:"or",options:[{value:"parent",name:"parent",view:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.search.filters.relationship.parentAsValue.view",{defaultMessage:"Parent"})},{value:"child",name:"child",view:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.search.filters.relationship.childAsValue.view",{defaultMessage:"Child"})}]},{type:"field_value_selection",field:"type",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.search.filters.type.name",{defaultMessage:"Type"}),multiSelect:"or",options:[...filterTypesMap.values()]}]};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.relationships.relationshipsTitle",{defaultMessage:"Here are the saved objects related to {title}. "+"Deleting this {type} affects its parent objects, but not its children.",values:{type:savedObject.type,title:savedObject.meta.title||Object(lib["getDefaultTitle"])(savedObject)}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiInMemoryTable"],{items:relations,columns:columns,pagination:true,search:search,rowProps:()=>({"data-test-subj":`relationshipsTableRow`})}))}render(){const{close:close,savedObject:savedObject}=this.props;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyout"],{onClose:close},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutHeader"],{hasBorder:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"m"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",content:Object(lib["getSavedObjectLabel"])(savedObject.type)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{"aria-label":Object(lib["getSavedObjectLabel"])(savedObject.type),size:"m",type:savedObject.meta.icon||"apps"})),"  ",savedObject.meta.title||Object(lib["getDefaultTitle"])(savedObject)))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],null,this.renderInvalidRelationship(),this.renderRelationshipsTable()))}}const DeleteConfirmModal=({isDeleting:isDeleting,onConfirm:onConfirm,onCancel:onCancel,selectedObjects:selectedObjects})=>{if(isDeleting){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiOverlayMask"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingElastic"],{size:"xl"}))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiModal"],{initialFocus:"soDeleteConfirmModalConfirmBtn",onClose:onCancel},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiModalHeader"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiModalHeaderTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.deleteSavedObjectsConfirmModalTitle",defaultMessage:"Delete saved objects"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiModalBody"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.deleteSavedObjectsConfirmModalDescription",defaultMessage:"This action will delete the following saved objects:"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiInMemoryTable"],{items:selectedObjects,columns:[{field:"type",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.deleteSavedObjectsConfirmModal.typeColumnName",{defaultMessage:"Type"}),width:"50px",render:(type,object)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",content:Object(lib["getSavedObjectLabel"])(type)},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:object.meta.icon||"apps"}))},{field:"id",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.deleteSavedObjectsConfirmModal.idColumnName",{defaultMessage:"Id"})},{field:"meta.title",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.deleteSavedObjectsConfirmModal.titleColumnName",{defaultMessage:"Title"})}],pagination:true,sorting:false})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiModalFooter"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexEnd"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{onClick:onCancel,"data-test-subj":"confirmModalCancelButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.deleteSavedObjectsConfirmModal.cancelButtonLabel",defaultMessage:"Cancel"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{id:"soDeleteConfirmModalConfirmBtn",fill:true,color:"danger",onClick:onConfirm,"data-test-subj":"confirmModalConfirmButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.deleteSavedObjectsConfirmModal.deleteButtonLabel",defaultMessage:"Delete"}))))))))};const ExportModal=({onCancel:onCancel,onExport:onExport,onSelectedOptionsChange:onSelectedOptionsChange,options:options,filteredItemCount:filteredItemCount,selectedOptions:selectedOptions,includeReferences:includeReferences,onIncludeReferenceChange:onIncludeReferenceChange})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiModal"],{onClose:onCancel},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiModalHeader"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiModalHeaderTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.exportObjectsConfirmModalTitle",defaultMessage:"Export {filteredItemCount, plural, one{# object} other {# objects}}",values:{filteredItemCount:filteredItemCount}}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiModalBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.exportObjectsConfirmModalDescription",defaultMessage:"Select which types to export"}),labelType:"legend"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCheckboxGroup"],{options:options,idToSelectedMap:selectedOptions,onChange:optionId=>{onSelectedOptionsChange({...selectedOptions,...{[optionId]:!selectedOptions[optionId]}})}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSwitch"],{name:"includeReferencesDeep",label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.exportObjectsConfirmModal.includeReferencesDeepLabel",defaultMessage:"Include related objects"}),checked:includeReferences,onChange:()=>onIncludeReferenceChange(!includeReferences)})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiModalFooter"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexEnd"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{onClick:onCancel},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.exportObjectsConfirmModal.cancelButtonLabel",defaultMessage:"Cancel"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{fill:true,onClick:onExport},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"savedObjectsManagement.objectsTable.exportObjectsConfirmModal.exportAllButtonLabel",defaultMessage:"Export all"}))))))));function saved_objects_table_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class saved_objects_table_SavedObjectsTable extends external_kbnSharedDeps_React_["Component"]{constructor(props){var _props$initialQuery;super(props);saved_objects_table_defineProperty(this,"_isMounted",false);saved_objects_table_defineProperty(this,"fetchCounts",async()=>{const{allowedTypes:allowedTypes,taggingApi:taggingApi}=this.props;const{queryText:queryText,visibleTypes:visibleTypes,selectedTags:selectedTags}=Object(lib["parseQuery"])(this.state.activeQuery);const selectedTypes=allowedTypes.filter(type=>!visibleTypes||visibleTypes.includes(type));const references=Object(lib["getTagFindReferences"])({selectedTags:selectedTags,taggingApi:taggingApi});const filteredSavedObjectCounts=await Object(lib["getSavedObjectCounts"])({http:this.props.http,typesToInclude:selectedTypes,searchString:queryText,references:references});const exportAllOptions=Object.entries(filteredSavedObjectCounts).map(([id,count])=>({id:id,label:`${id} (${count||0})`}));const exportAllSelectedOptions=exportAllOptions.reduce((record,{id:id})=>({...record,[id]:true}),{});const savedObjectCounts=await Object(lib["getSavedObjectCounts"])({http:this.props.http,typesToInclude:allowedTypes,searchString:queryText});this.setState(state=>({...state,savedObjectCounts:savedObjectCounts,exportAllOptions:exportAllOptions,exportAllSelectedOptions:exportAllSelectedOptions}))});saved_objects_table_defineProperty(this,"fetchSavedObjects",()=>{this.setState({isSearching:true},this.debouncedFetchObjects)});saved_objects_table_defineProperty(this,"fetchSavedObject",(type,id)=>{this.setState({isSearching:true},()=>this.debouncedFetchObject(type,id))});saved_objects_table_defineProperty(this,"debouncedFetchObjects",Object(external_kbnSharedDeps_Lodash_["debounce"])(async()=>{const{activeQuery:query,page:page,perPage:perPage}=this.state;const{notifications:notifications,http:http,allowedTypes:allowedTypes,taggingApi:taggingApi}=this.props;const{queryText:queryText,visibleTypes:visibleTypes,selectedTags:selectedTags}=Object(lib["parseQuery"])(query);const findOptions={search:queryText?`${queryText}*`:undefined,perPage:perPage,page:page+1,fields:["id"],type:allowedTypes.filter(type=>!visibleTypes||visibleTypes.includes(type))};if(findOptions.type.length>1){findOptions.sortField="type"}findOptions.hasReference=Object(lib["getTagFindReferences"])({selectedTags:selectedTags,taggingApi:taggingApi});try{const resp=await Object(lib["findObjects"])(http,findOptions);if(!this._isMounted){return}this.setState(({activeQuery:activeQuery})=>{if(activeQuery.text!==query.text){return null}return{savedObjects:resp.savedObjects,filteredItemCount:resp.total,isSearching:false}})}catch(error){if(this._isMounted){this.setState({isSearching:false})}notifications.toasts.addDanger({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.unableFindSavedObjectsNotificationMessage",{defaultMessage:"Unable find saved objects"}),text:`${error}`})}},300));saved_objects_table_defineProperty(this,"debouncedFetchObject",Object(external_kbnSharedDeps_Lodash_["debounce"])(async(type,id)=>{const{notifications:notifications,http:http}=this.props;try{const resp=await Object(lib["findObject"])(http,type,id);if(!this._isMounted){return}this.setState(({savedObjects:savedObjects,filteredItemCount:filteredItemCount})=>{const refreshedSavedObjects=savedObjects.map(object=>object.type===type&&object.id===id?resp:object);return{savedObjects:refreshedSavedObjects,filteredItemCount:filteredItemCount,isSearching:false}})}catch(error){if(this._isMounted){this.setState({isSearching:false})}notifications.toasts.addDanger({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.unableFindSavedObjectNotificationMessage",{defaultMessage:"Unable to find saved object"}),text:`${error}`})}},300));saved_objects_table_defineProperty(this,"refreshObjects",async()=>{await Promise.all([this.fetchSavedObjects(),this.fetchCounts()])});saved_objects_table_defineProperty(this,"refreshObject",async({type:type,id:id})=>{await this.fetchSavedObject(type,id)});saved_objects_table_defineProperty(this,"onSelectionChanged",selection=>{this.setState({selectedSavedObjects:selection})});saved_objects_table_defineProperty(this,"onQueryChange",({query:query})=>{this.setState({activeQuery:query,page:0,selectedSavedObjects:[]},()=>{this.fetchSavedObjects();this.fetchCounts()})});saved_objects_table_defineProperty(this,"onTableChange",async table=>{const{index:page,size:perPage}=table.page||{};this.setState({page:page,perPage:perPage,selectedSavedObjects:[]},this.fetchSavedObjects)});saved_objects_table_defineProperty(this,"onShowRelationships",object=>{this.setState({isShowingRelationships:true,relationshipObject:object})});saved_objects_table_defineProperty(this,"onHideRelationships",()=>{this.setState({isShowingRelationships:false,relationshipObject:undefined})});saved_objects_table_defineProperty(this,"onExport",async includeReferencesDeep=>{const{selectedSavedObjects:selectedSavedObjects}=this.state;const{notifications:notifications,http:http}=this.props;const objectsToExport=selectedSavedObjects.map(obj=>({id:obj.id,type:obj.type}));let blob;try{blob=await Object(lib["fetchExportObjects"])(http,objectsToExport,includeReferencesDeep)}catch(e){notifications.toasts.addDanger({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.export.dangerNotification",{defaultMessage:"Unable to generate export"})});throw e}Object(file_saver["saveAs"])(blob,"export.ndjson");const exportDetails=await Object(lib["extractExportDetails"])(blob);this.showExportSuccessMessage(exportDetails)});saved_objects_table_defineProperty(this,"onExportAll",async()=>{const{exportAllSelectedOptions:exportAllSelectedOptions,isIncludeReferencesDeepChecked:isIncludeReferencesDeepChecked,activeQuery:activeQuery}=this.state;const{notifications:notifications,http:http,taggingApi:taggingApi}=this.props;const{queryText:queryText,selectedTags:selectedTags}=Object(lib["parseQuery"])(activeQuery);const exportTypes=Object.entries(exportAllSelectedOptions).reduce((accum,[id,selected])=>{if(selected){accum.push(id)}return accum},[]);const references=Object(lib["getTagFindReferences"])({selectedTags:selectedTags,taggingApi:taggingApi});let blob;try{blob=await Object(lib["fetchExportByTypeAndSearch"])({http:http,search:queryText?`${queryText}*`:undefined,types:exportTypes,references:references,includeReferencesDeep:isIncludeReferencesDeepChecked})}catch(e){notifications.toasts.addDanger({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.export.dangerNotification",{defaultMessage:"Unable to generate export"})});throw e}Object(file_saver["saveAs"])(blob,"export.ndjson");const exportDetails=await Object(lib["extractExportDetails"])(blob);this.showExportSuccessMessage(exportDetails);this.setState({isShowingExportAllOptionsModal:false})});saved_objects_table_defineProperty(this,"showExportSuccessMessage",exportDetails=>{const{notifications:notifications}=this.props;if(exportDetails&&exportDetails.missingReferences.length>0){notifications.toasts.addWarning({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.export.successWithMissingRefsNotification",{defaultMessage:"Your file is downloading in the background. "+"Some related objects could not be found. "+"Please see the last line in the exported file for a list of missing objects."})})}else{notifications.toasts.addSuccess({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.objectsTable.export.successNotification",{defaultMessage:"Your file is downloading in the background"})})}});saved_objects_table_defineProperty(this,"finishImport",()=>{this.hideImportFlyout();this.fetchSavedObjects();this.fetchCounts()});saved_objects_table_defineProperty(this,"showImportFlyout",()=>{this.setState({isShowingImportFlyout:true})});saved_objects_table_defineProperty(this,"hideImportFlyout",()=>{this.setState({isShowingImportFlyout:false})});saved_objects_table_defineProperty(this,"onDelete",()=>{this.setState({isShowingDeleteConfirmModal:true})});saved_objects_table_defineProperty(this,"delete",async()=>{const{savedObjectsClient:savedObjectsClient}=this.props;const{selectedSavedObjects:selectedSavedObjects,isDeleting:isDeleting}=this.state;if(isDeleting){return}this.setState({isDeleting:true});const indexPatterns=selectedSavedObjects.filter(object=>object.type==="index-pattern");if(indexPatterns.length){await this.props.indexPatterns.clearCache()}const objects=await savedObjectsClient.bulkGet(selectedSavedObjects);const deletes=objects.savedObjects.map(object=>savedObjectsClient.delete(object.type,object.id,{force:true}));await Promise.all(deletes);this.setState({selectedSavedObjects:[]});await this.fetchSavedObjects();await this.fetchCounts();this.setState({isShowingDeleteConfirmModal:false,isDeleting:false})});saved_objects_table_defineProperty(this,"getRelationships",async(type,id)=>{const{allowedTypes:allowedTypes,http:http}=this.props;return await Object(lib["getRelationships"])(http,type,id,allowedTypes)});this.state={totalCount:0,page:0,perPage:props.perPageConfig||50,savedObjects:[],savedObjectCounts:props.allowedTypes.reduce((typeToCountMap,type)=>{typeToCountMap[type]=0;return typeToCountMap},{}),activeQuery:(_props$initialQuery=props.initialQuery)!==null&&_props$initialQuery!==void 0?_props$initialQuery:external_kbnSharedDeps_ElasticEui_["Query"].parse(""),selectedSavedObjects:[],isShowingImportFlyout:false,isSearching:false,filteredItemCount:0,isShowingRelationships:false,relationshipObject:undefined,isShowingDeleteConfirmModal:false,isShowingExportAllOptionsModal:false,isDeleting:false,exportAllOptions:[],exportAllSelectedOptions:{},isIncludeReferencesDeepChecked:true}}componentDidMount(){this._isMounted=true;this.fetchSavedObjects();this.fetchCounts()}componentWillUnmount(){this._isMounted=false;this.debouncedFetchObjects.cancel()}renderFlyout(){if(!this.state.isShowingImportFlyout){return null}const{applications:applications}=this.props;const newIndexPatternUrl=applications.getUrlForApp("management",{path:"kibana/indexPatterns"});return external_kbnSharedDeps_React_default.a.createElement(flyout_Flyout,{close:this.hideImportFlyout,done:this.finishImport,http:this.props.http,serviceRegistry:this.props.serviceRegistry,indexPatterns:this.props.indexPatterns,newIndexPatternUrl:newIndexPatternUrl,allowedTypes:this.props.allowedTypes,overlays:this.props.overlays,basePath:this.props.http.basePath,search:this.props.search})}renderRelationships(){if(!this.state.isShowingRelationships){return null}return external_kbnSharedDeps_React_default.a.createElement(relationships_Relationships,{basePath:this.props.http.basePath,savedObject:this.state.relationshipObject,getRelationships:this.getRelationships,close:this.onHideRelationships,goInspectObject:this.props.goInspectObject,canGoInApp:this.props.canGoInApp})}renderDeleteConfirmModal(){const{isShowingDeleteConfirmModal:isShowingDeleteConfirmModal,isDeleting:isDeleting,selectedSavedObjects:selectedSavedObjects}=this.state;if(!isShowingDeleteConfirmModal){return null}return external_kbnSharedDeps_React_default.a.createElement(DeleteConfirmModal,{isDeleting:isDeleting,onConfirm:()=>{this.delete()},onCancel:()=>{this.setState({isShowingDeleteConfirmModal:false})},selectedObjects:selectedSavedObjects})}renderExportAllOptionsModal(){const{isShowingExportAllOptionsModal:isShowingExportAllOptionsModal,filteredItemCount:filteredItemCount,exportAllOptions:exportAllOptions,exportAllSelectedOptions:exportAllSelectedOptions,isIncludeReferencesDeepChecked:isIncludeReferencesDeepChecked}=this.state;if(!isShowingExportAllOptionsModal){return null}return external_kbnSharedDeps_React_default.a.createElement(ExportModal,{onExport:this.onExportAll,onCancel:()=>{this.setState({isShowingExportAllOptionsModal:false})},onSelectedOptionsChange:newOptions=>{this.setState({exportAllSelectedOptions:newOptions})},filteredItemCount:filteredItemCount,options:exportAllOptions,selectedOptions:exportAllSelectedOptions,includeReferences:isIncludeReferencesDeepChecked,onIncludeReferenceChange:newIncludeReferences=>{this.setState({isIncludeReferencesDeepChecked:newIncludeReferences})}})}render(){const{selectedSavedObjects:selectedSavedObjects,page:page,perPage:perPage,savedObjects:savedObjects,filteredItemCount:filteredItemCount,isSearching:isSearching,savedObjectCounts:savedObjectCounts}=this.state;const{http:http,taggingApi:taggingApi,allowedTypes:allowedTypes,applications:applications}=this.props;const selectionConfig={onSelectionChange:this.onSelectionChanged};const filterOptions=allowedTypes.map(type=>({value:type,name:type,view:`${type} (${savedObjectCounts[type]||0})`}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],{horizontalPosition:"center"},this.renderFlyout(),this.renderRelationships(),this.renderDeleteConfirmModal(),this.renderExportAllOptionsModal(),external_kbnSharedDeps_React_default.a.createElement(Header,{onExportAll:()=>this.setState({isShowingExportAllOptionsModal:true}),onImport:this.showImportFlyout,onRefresh:this.refreshObjects,filteredCount:filteredItemCount}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"xs"}),external_kbnSharedDeps_React_default.a.createElement(public_["RedirectAppLinks"],{application:applications},external_kbnSharedDeps_React_default.a.createElement(table_Table,{basePath:http.basePath,taggingApi:taggingApi,initialQuery:this.props.initialQuery,itemId:"id",actionRegistry:this.props.actionRegistry,columnRegistry:this.props.columnRegistry,selectionConfig:selectionConfig,selectedSavedObjects:selectedSavedObjects,onQueryChange:this.onQueryChange,onTableChange:this.onTableChange,filterOptions:filterOptions,onExport:this.onExport,capabilities:applications.capabilities,onDelete:this.onDelete,onActionRefresh:this.refreshObject,goInspectObject:this.props.goInspectObject,pageIndex:page,pageSize:perPage,items:savedObjects,totalItemCount:filteredItemCount,isSearching:isSearching,onShowRelationships:this.onShowRelationships,canGoInApp:this.props.canGoInApp})))}}const EmptyFunctionComponent=({children:children})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,children);const SavedObjectsTablePage=({coreStart:coreStart,dataStart:dataStart,taggingApi:taggingApi,spacesApi:spacesApi,allowedTypes:allowedTypes,serviceRegistry:serviceRegistry,actionRegistry:actionRegistry,columnRegistry:columnRegistry,setBreadcrumbs:setBreadcrumbs})=>{const capabilities=coreStart.application.capabilities;const itemsPerPage=coreStart.uiSettings.get("savedObjects:perPage",50);const{search:search}=Object(external_kbnSharedDeps_ReactRouterDom_["useLocation"])();const initialQuery=Object(external_kbnSharedDeps_React_["useMemo"])(()=>{const query=Object(query_string["parse"])(search);try{var _ref;return external_kbnSharedDeps_ElasticEui_["Query"].parse((_ref=query.initialQuery)!==null&&_ref!==void 0?_ref:"")}catch(e){return external_kbnSharedDeps_ElasticEui_["Query"].parse("")}},[search]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{setBreadcrumbs([{text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("savedObjectsManagement.breadcrumb.index",{defaultMessage:"Saved objects"}),href:"/"}])},[setBreadcrumbs]);const ContextWrapper=Object(external_kbnSharedDeps_React_["useMemo"])(()=>(spacesApi===null||spacesApi===void 0?void 0:spacesApi.ui.components.SpacesContext)||EmptyFunctionComponent,[spacesApi]);return external_kbnSharedDeps_React_default.a.createElement(ContextWrapper,null,external_kbnSharedDeps_React_default.a.createElement(saved_objects_table_SavedObjectsTable,{initialQuery:initialQuery,allowedTypes:allowedTypes,serviceRegistry:serviceRegistry,actionRegistry:actionRegistry,columnRegistry:columnRegistry,taggingApi:taggingApi,savedObjectsClient:coreStart.savedObjects.client,indexPatterns:dataStart.indexPatterns,search:dataStart.search,http:coreStart.http,overlays:coreStart.overlays,notifications:coreStart.notifications,applications:coreStart.application,perPageConfig:itemsPerPage,goInspectObject:savedObject=>{const{editUrl:editUrl}=savedObject.meta;if(editUrl){return coreStart.application.navigateToUrl(coreStart.http.basePath.prepend(`/app${editUrl}`))}},canGoInApp:savedObject=>{const{inAppUrl:inAppUrl}=savedObject.meta;return inAppUrl?Boolean(Object(external_kbnSharedDeps_Lodash_["get"])(capabilities,inAppUrl.uiCapabilitiesPath)):false}}))}}}]);