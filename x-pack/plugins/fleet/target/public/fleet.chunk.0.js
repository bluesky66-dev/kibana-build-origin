/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window["fleet_bundle_jsonpfunction"]=window["fleet_bundle_jsonpfunction"]||[]).push([[0],Array(106).concat([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"K",(function(){return useCapabilities}));__webpack_require__.d(__webpack_exports__,"mb",(function(){return use_core["a"]}));__webpack_require__.d(__webpack_exports__,"M",(function(){return useConfig}));__webpack_require__.d(__webpack_exports__,"a",(function(){return ConfigContext}));__webpack_require__.d(__webpack_exports__,"fb",(function(){return useKibanaVersion}));__webpack_require__.d(__webpack_exports__,"c",(function(){return KibanaVersionContext}));__webpack_require__.d(__webpack_exports__,"d",(function(){return use_license["a"]}));__webpack_require__.d(__webpack_exports__,"gb",(function(){return use_license["b"]}));__webpack_require__.d(__webpack_exports__,"J",(function(){return useBreadcrumbs}));__webpack_require__.d(__webpack_exports__,"hb",(function(){return useLink}));__webpack_require__.d(__webpack_exports__,"eb",(function(){return useKibanaLink}));__webpack_require__.d(__webpack_exports__,"ib",(function(){return usePackageIconType}));__webpack_require__.d(__webpack_exports__,"jb",(function(){return usePagination}));__webpack_require__.d(__webpack_exports__,"nb",(function(){return useUrlPagination}));__webpack_require__.d(__webpack_exports__,"lb",(function(){return useSorting}));__webpack_require__.d(__webpack_exports__,"F",(function(){return use_request["a"]}));__webpack_require__.d(__webpack_exports__,"kb",(function(){return use_request["d"]}));__webpack_require__.d(__webpack_exports__,"O",(function(){return useGetAgentPolicies}));__webpack_require__.d(__webpack_exports__,"V",(function(){return useGetOneAgentPolicy}));__webpack_require__.d(__webpack_exports__,"W",(function(){return useGetOneAgentPolicyFull}));__webpack_require__.d(__webpack_exports__,"p",(function(){return sendGetOneAgentPolicyFull}));__webpack_require__.d(__webpack_exports__,"o",(function(){return sendGetOneAgentPolicy}));__webpack_require__.d(__webpack_exports__,"f",(function(){return sendCreateAgentPolicy}));__webpack_require__.d(__webpack_exports__,"H",(function(){return sendUpdateAgentPolicy}));__webpack_require__.d(__webpack_exports__,"e",(function(){return sendCopyAgentPolicy}));__webpack_require__.d(__webpack_exports__,"h",(function(){return sendDeleteAgentPolicy}));__webpack_require__.d(__webpack_exports__,"g",(function(){return sendCreatePackagePolicy}));__webpack_require__.d(__webpack_exports__,"I",(function(){return sendUpdatePackagePolicy}));__webpack_require__.d(__webpack_exports__,"j",(function(){return sendDeletePackagePolicy}));__webpack_require__.d(__webpack_exports__,"Z",(function(){return useGetPackagePolicies}));__webpack_require__.d(__webpack_exports__,"r",(function(){return sendGetOnePackagePolicy}));__webpack_require__.d(__webpack_exports__,"R",(function(){return useGetDataStreams}));__webpack_require__.d(__webpack_exports__,"U",(function(){return useGetOneAgent}));__webpack_require__.d(__webpack_exports__,"l",(function(){return sendGetAgents}));__webpack_require__.d(__webpack_exports__,"P",(function(){return useGetAgentStatus}));__webpack_require__.d(__webpack_exports__,"k",(function(){return sendGetAgentStatus}));__webpack_require__.d(__webpack_exports__,"C",(function(){return sendPutAgentReassign}));__webpack_require__.d(__webpack_exports__,"y",(function(){return sendPostBulkAgentReassign}));__webpack_require__.d(__webpack_exports__,"w",(function(){return sendPostAgentUnenroll}));__webpack_require__.d(__webpack_exports__,"z",(function(){return sendPostBulkAgentUnenroll}));__webpack_require__.d(__webpack_exports__,"x",(function(){return sendPostAgentUpgrade}));__webpack_require__.d(__webpack_exports__,"v",(function(){return sendPostAgentAction}));__webpack_require__.d(__webpack_exports__,"A",(function(){return sendPostBulkAgentUpgrade}));__webpack_require__.d(__webpack_exports__,"X",(function(){return useGetOneEnrollmentAPIKey}));__webpack_require__.d(__webpack_exports__,"q",(function(){return sendGetOneEnrollmentAPIKey}));__webpack_require__.d(__webpack_exports__,"i",(function(){return sendDeleteOneEnrollmentAPIKey}));__webpack_require__.d(__webpack_exports__,"m",(function(){return sendGetEnrollmentAPIKeys}));__webpack_require__.d(__webpack_exports__,"S",(function(){return useGetEnrollmentAPIKeys}));__webpack_require__.d(__webpack_exports__,"Q",(function(){return useGetCategories}));__webpack_require__.d(__webpack_exports__,"bb",(function(){return useGetPackages}));__webpack_require__.d(__webpack_exports__,"T",(function(){return useGetLimitedPackages}));__webpack_require__.d(__webpack_exports__,"Y",(function(){return useGetPackageInfoByKey}));__webpack_require__.d(__webpack_exports__,"ab",(function(){return useGetPackageStats}));__webpack_require__.d(__webpack_exports__,"s",(function(){return sendGetPackageInfoByKey}));__webpack_require__.d(__webpack_exports__,"n",(function(){return sendGetFileByPath}));__webpack_require__.d(__webpack_exports__,"u",(function(){return sendInstallPackage}));__webpack_require__.d(__webpack_exports__,"E",(function(){return sendRemovePackage}));__webpack_require__.d(__webpack_exports__,"cb",(function(){return useGetSettings}));__webpack_require__.d(__webpack_exports__,"D",(function(){return sendPutSettings}));__webpack_require__.d(__webpack_exports__,"G",(function(){return sendSetup}));__webpack_require__.d(__webpack_exports__,"B",(function(){return sendPostFleetSetup}));__webpack_require__.d(__webpack_exports__,"t",(function(){return sendGetPermissionsCheck}));__webpack_require__.d(__webpack_exports__,"db",(function(){return useInput}));__webpack_require__.d(__webpack_exports__,"L",(function(){return useComboInput}));__webpack_require__.d(__webpack_exports__,"ob",(function(){return useUrlParams}));__webpack_require__.d(__webpack_exports__,"b",(function(){return FleetStatusProvider}));__webpack_require__.d(__webpack_exports__,"N",(function(){return useFleetStatus}));function useCapabilities(){const core=Object(use_core["a"])();return core.application.capabilities.fleet}var use_core=__webpack_require__(113);var external_kbnSharedDeps_React_=__webpack_require__(2);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);const ConfigContext=external_kbnSharedDeps_React_default.a.createContext(null);function useConfig(){const config=Object(external_kbnSharedDeps_React_["useContext"])(ConfigContext);if(config===null){throw new Error("ConfigContext not initialized")}return config}const KibanaVersionContext=external_kbnSharedDeps_React_default.a.createContext(null);function useKibanaVersion(){const version=Object(external_kbnSharedDeps_React_["useContext"])(KibanaVersionContext);if(version===null){throw new Error("KibanaVersionContext is not initialized")}return version}var use_license=__webpack_require__(25);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(4);var constants=__webpack_require__(11);const BASE_BREADCRUMB={href:constants["m"].overview(),text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.fleet.breadcrumbs.appTitle",{defaultMessage:"Fleet"})};const breadcrumbGetters={base:()=>[BASE_BREADCRUMB],overview:()=>[BASE_BREADCRUMB,{text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.fleet.breadcrumbs.overviewPageTitle",{defaultMessage:"Overview"})}],integrations:()=>[BASE_BREADCRUMB,{text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.fleet.breadcrumbs.integrationsPageTitle",{defaultMessage:"Integrations"})}],integrations_all:()=>[BASE_BREADCRUMB,{href:constants["m"].integrations(),text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.fleet.breadcrumbs.integrationsPageTitle",{defaultMessage:"Integrations"})},{text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.fleet.breadcrumbs.allIntegrationsPageTitle",{defaultMessage:"All"})}],integrations_installed:()=>[BASE_BREADCRUMB,{href:constants["m"].integrations(),text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.fleet.breadcrumbs.integrationsPageTitle",{defaultMessage:"Integrations"})},{text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.fleet.breadcrumbs.installedIntegrationsPageTitle",{defaultMessage:"Installed"})}],integration_details_overview:({pkgTitle:pkgTitle})=>[BASE_BREADCRUMB,{href:constants["m"].integrations(),text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.fleet.breadcrumbs.integrationsPageTitle",{defaultMessage:"Integrations"})},{text:pkgTitle}],integration_policy_edit:({pkgTitle:pkgTitle,pkgkey:pkgkey,policyName:policyName})=>[BASE_BREADCRUMB,{href:constants["m"].integrations(),text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.fleet.breadcrumbs.integrationPageTitle",{defaultMessage:"Integration"})},{href:constants["m"].integration_details_policies({pkgkey:pkgkey}),text:pkgTitle},{text:policyName}],policies:()=>[BASE_BREADCRUMB,{text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.fleet.breadcrumbs.policiesPageTitle",{defaultMessage:"Policies"})}],policies_list:()=>[BASE_BREADCRUMB,{text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.fleet.breadcrumbs.policiesPageTitle",{defaultMessage:"Policies"})}],policy_details:({policyName:policyName})=>[BASE_BREADCRUMB,{href:constants["m"].policies(),text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.fleet.breadcrumbs.policiesPageTitle",{defaultMessage:"Policies"})},{text:policyName}],add_integration_from_policy:({policyName:policyName,policyId:policyId})=>[BASE_BREADCRUMB,{href:constants["m"].policies(),text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.fleet.breadcrumbs.policiesPageTitle",{defaultMessage:"Policies"})},{href:constants["m"].policy_details({policyId:policyId}),text:policyName},{text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.fleet.breadcrumbs.addPackagePolicyPageTitle",{defaultMessage:"Add integration"})}],add_integration_to_policy:({pkgTitle:pkgTitle,pkgkey:pkgkey})=>[BASE_BREADCRUMB,{href:constants["m"].integrations(),text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.fleet.breadcrumbs.integrationsPageTitle",{defaultMessage:"Integrations"})},{href:constants["m"].integration_details_overview({pkgkey:pkgkey}),text:pkgTitle},{text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.fleet.breadcrumbs.addPackagePolicyPageTitle",{defaultMessage:"Add integration"})}],edit_integration:({policyName:policyName,policyId:policyId})=>[BASE_BREADCRUMB,{href:constants["m"].policies(),text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.fleet.breadcrumbs.policiesPageTitle",{defaultMessage:"Policies"})},{href:constants["m"].policy_details({policyId:policyId}),text:policyName},{text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.fleet.breadcrumbs.editPackagePolicyPageTitle",{defaultMessage:"Edit integration"})}],fleet:()=>[BASE_BREADCRUMB,{text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.fleet.breadcrumbs.agentsPageTitle",{defaultMessage:"Agents"})}],fleet_agent_list:()=>[BASE_BREADCRUMB,{text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.fleet.breadcrumbs.agentsPageTitle",{defaultMessage:"Agents"})}],fleet_agent_details:({agentHost:agentHost})=>[BASE_BREADCRUMB,{href:constants["m"].fleet(),text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.fleet.breadcrumbs.agentsPageTitle",{defaultMessage:"Agents"})},{text:agentHost}],fleet_enrollment_tokens:()=>[BASE_BREADCRUMB,{href:constants["m"].fleet(),text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.fleet.breadcrumbs.agentsPageTitle",{defaultMessage:"Agents"})},{text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.fleet.breadcrumbs.enrollmentTokensPageTitle",{defaultMessage:"Enrollment tokens"})}],data_streams:()=>[BASE_BREADCRUMB,{text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.fleet.breadcrumbs.datastreamsPageTitle",{defaultMessage:"Data streams"})}]};function useBreadcrumbs(page,values={}){var _breadcrumbGetters$pa;const{chrome:chrome,http:http}=Object(use_core["a"])();const breadcrumbs=((_breadcrumbGetters$pa=breadcrumbGetters[page])===null||_breadcrumbGetters$pa===void 0?void 0:_breadcrumbGetters$pa.call(breadcrumbGetters,values).map(breadcrumb=>({...breadcrumb,href:breadcrumb.href?http.basePath.prepend(`${constants["e"]}#${breadcrumb.href}`):undefined})))||[];const docTitle=[...breadcrumbs].reverse().map(breadcrumb=>breadcrumb.text);chrome.docTitle.change(docTitle);chrome.setBreadcrumbs(breadcrumbs)}const getPath=(page,values={})=>values?constants["m"][page](values):constants["m"][page]();const useLink=()=>{const core=Object(use_core["a"])();return{getPath:getPath,getHref:(page,values)=>{const path=getPath(page,values);return core.http.basePath.prepend(`${constants["e"]}#${path}`)}}};const KIBANA_BASE_PATH="/app/kibana";function useKibanaLink(path="/"){const core=Object(use_core["a"])();return core.http.basePath.prepend(`${KIBANA_BASE_PATH}#${path}`)}var external_kbnSharedDeps_ElasticEui_=__webpack_require__(10);var hooks=__webpack_require__(109);const CACHED_ICONS=new Map;const usePackageIconType=({packageName:packageName,version:version,icons:paramIcons,tryApi:tryApi=false})=>{const{toPackageImage:toPackageImage}=Object(hooks["e"])();const[iconList,setIconList]=Object(external_kbnSharedDeps_React_["useState"])();const[iconType,setIconType]=Object(external_kbnSharedDeps_React_["useState"])("");const pkgKey=`${packageName}-${version}`;Object(external_kbnSharedDeps_React_["useEffect"])(()=>{var _ref;if(CACHED_ICONS.has(pkgKey)){setIconType(CACHED_ICONS.get(pkgKey)||"");return}const svgIcons=(_ref=paramIcons||iconList)===null||_ref===void 0?void 0:_ref.filter(iconDef=>iconDef.type==="image/svg+xml");const localIconSrc=Array.isArray(svgIcons)&&toPackageImage(svgIcons[0],packageName,version);if(localIconSrc){CACHED_ICONS.set(pkgKey,localIconSrc);setIconType(CACHED_ICONS.get(pkgKey)||"");return}const euiLogoIcon=external_kbnSharedDeps_ElasticEui_["ICON_TYPES"].find(key=>key.toLowerCase()===`logo${packageName}`);if(euiLogoIcon){CACHED_ICONS.set(pkgKey,euiLogoIcon);setIconType(euiLogoIcon);return}if(tryApi&&!paramIcons&&!iconList){sendGetPackageInfoByKey(pkgKey).catch(error=>undefined).then(res=>{var _res$data,_res$data$response;CACHED_ICONS.delete(pkgKey);setIconList(res===null||res===void 0?void 0:(_res$data=res.data)===null||_res$data===void 0?void 0:(_res$data$response=_res$data.response)===null||_res$data$response===void 0?void 0:_res$data$response.icons)})}CACHED_ICONS.set(pkgKey,"package");setIconType("package")},[paramIcons,pkgKey,toPackageImage,iconList,packageName,iconType,tryApi,version]);return iconType};const PAGE_SIZE_OPTIONS=[5,20,50];function usePagination(pageInfo={currentPage:1,pageSize:20}){const[pagination,setPagination]=Object(external_kbnSharedDeps_React_["useState"])(pageInfo);const pageSizeOptions=Object(external_kbnSharedDeps_React_["useMemo"])(()=>[...PAGE_SIZE_OPTIONS],[]);return{pagination:pagination,setPagination:setPagination,pageSizeOptions:pageSizeOptions}}var external_kbnSharedDeps_ReactRouterDom_=__webpack_require__(96);var query_string=__webpack_require__(134);function useUrlParams(){const{search:search}=Object(external_kbnSharedDeps_ReactRouterDom_["useLocation"])();const[urlParams,setUrlParams]=Object(external_kbnSharedDeps_React_["useState"])(()=>Object(query_string["parse"])(search));const toUrlParams=Object(external_kbnSharedDeps_React_["useCallback"])((params=urlParams)=>Object(query_string["stringify"])(params),[urlParams]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{setUrlParams(Object(query_string["parse"])(search))},[search]);return{urlParams:urlParams,toUrlParams:toUrlParams}}const useUrlPagination=()=>{const location=Object(external_kbnSharedDeps_ReactRouterDom_["useLocation"])();const history=Object(external_kbnSharedDeps_ReactRouterDom_["useHistory"])();const{urlParams:urlParams,toUrlParams:toUrlParams}=useUrlParams();const urlPaginationParams=Object(external_kbnSharedDeps_React_["useMemo"])(()=>paginationFromUrlParams(urlParams),[urlParams]);const{pagination:pagination,pageSizeOptions:pageSizeOptions,setPagination:setPagination}=usePagination(urlPaginationParams);const setUrlPagination=Object(external_kbnSharedDeps_React_["useCallback"])(({pageSize:pageSize,currentPage:currentPage})=>{history.push({...location,search:toUrlParams({...urlParams,currentPage:currentPage,pageSize:pageSize})})},[history,location,toUrlParams,urlParams]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{setPagination(prevState=>({...prevState,...paginationFromUrlParams(urlParams)}))},[setPagination,urlParams]);return{pagination:pagination,setPagination:setUrlPagination,pageSizeOptions:pageSizeOptions}};const paginationFromUrlParams=urlParams=>{var _ref,_Number,_ref2;const pagination={pageSize:20,currentPage:1};pagination.currentPage=Number((_ref=Array.isArray(urlParams.currentPage)?urlParams.currentPage.pop():urlParams.currentPage)!==null&&_ref!==void 0?_ref:pagination.currentPage);pagination.pageSize=(_Number=Number((_ref2=Array.isArray(urlParams.pageSize)?urlParams.pageSize.pop():urlParams.pageSize)!==null&&_ref2!==void 0?_ref2:pagination.pageSize))!==null&&_Number!==void 0?_Number:pagination.pageSize;if(!Number.isFinite(pagination.currentPage)||pagination.currentPage<1){pagination.currentPage=1}if(!PAGE_SIZE_OPTIONS.includes(pagination.pageSize)){pagination.pageSize=20}return pagination};function useSorting(defaultSorting){const[sorting,setSorting]=Object(external_kbnSharedDeps_React_["useState"])(defaultSorting);return{sorting:sorting,setSorting:setSorting}}function useDebounce(value,delay){const[debouncedValue,setDebouncedValue]=Object(external_kbnSharedDeps_React_["useState"])(value);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{const handler=setTimeout(()=>{setDebouncedValue(value)},delay);return()=>{clearTimeout(handler)}},[value,delay]);return debouncedValue}var use_request=__webpack_require__(23);var services=__webpack_require__(107);const useGetAgentPolicies=query=>Object(use_request["d"])({path:services["b"].getListPath(),method:"get",query:query});const useGetOneAgentPolicy=agentPolicyId=>Object(use_request["c"])({path:agentPolicyId?services["b"].getInfoPath(agentPolicyId):undefined,method:"get",shouldSendRequest:!!agentPolicyId});const useGetOneAgentPolicyFull=agentPolicyId=>Object(use_request["d"])({path:services["b"].getInfoFullPath(agentPolicyId),method:"get"});const sendGetOneAgentPolicyFull=(agentPolicyId,query={})=>Object(use_request["a"])({path:services["b"].getInfoFullPath(agentPolicyId),method:"get",query:query});const sendGetOneAgentPolicy=agentPolicyId=>Object(use_request["a"])({path:services["b"].getInfoPath(agentPolicyId),method:"get"});const sendCreateAgentPolicy=(body,{withSysMonitoring:withSysMonitoring}={withSysMonitoring:false})=>Object(use_request["a"])({path:services["b"].getCreatePath(),method:"post",body:JSON.stringify(body),query:withSysMonitoring?{sys_monitoring:true}:{}});const sendUpdateAgentPolicy=(agentPolicyId,body)=>Object(use_request["a"])({path:services["b"].getUpdatePath(agentPolicyId),method:"put",body:JSON.stringify(body)});const sendCopyAgentPolicy=(agentPolicyId,body)=>Object(use_request["a"])({path:services["b"].getCopyPath(agentPolicyId),method:"post",body:JSON.stringify(body)});const sendDeleteAgentPolicy=body=>Object(use_request["a"])({path:services["b"].getDeletePath(),method:"post",body:JSON.stringify(body)});const sendCreatePackagePolicy=body=>Object(use_request["a"])({path:services["p"].getCreatePath(),method:"post",body:JSON.stringify(body)});const sendUpdatePackagePolicy=(packagePolicyId,body)=>Object(use_request["a"])({path:services["p"].getUpdatePath(packagePolicyId),method:"put",body:JSON.stringify(body)});const sendDeletePackagePolicy=body=>Object(use_request["a"])({path:services["p"].getDeletePath(),method:"post",body:JSON.stringify(body)});function useGetPackagePolicies(query){return Object(use_request["d"])({method:"get",path:services["p"].getListPath(),query:query})}const sendGetOnePackagePolicy=packagePolicyId=>Object(use_request["a"])({path:services["p"].getInfoPath(packagePolicyId),method:"get"});const useGetDataStreams=()=>Object(use_request["d"])({path:services["e"].getListPath(),method:"get"});function useGetOneAgent(agentId,options){return Object(use_request["d"])({path:services["c"].getInfoPath(agentId),method:"get",...options})}function useGetOneAgentEvents(agentId,query,options){return Object(use_request["d"])({path:services["c"].getEventsPath(agentId),method:"get",query:query,...options})}function useGetAgents(query,options){return Object(use_request["d"])({method:"get",path:services["c"].getListPath(),query:query,...options})}function sendGetAgents(query,options){return Object(use_request["a"])({method:"get",path:services["c"].getListPath(),query:query,...options})}function useGetAgentStatus(query,options){return Object(use_request["d"])({method:"get",path:services["c"].getStatusPath(),query:query,...options})}function sendGetAgentStatus(query,options){return Object(use_request["a"])({method:"get",path:services["c"].getStatusPath(),query:query,...options})}function sendPutAgentReassign(agentId,body,options){return Object(use_request["a"])({method:"put",path:services["c"].getReassignPath(agentId),body:body,...options})}function sendPostBulkAgentReassign(body,options){return Object(use_request["a"])({method:"post",path:services["c"].getBulkReassignPath(),body:body,...options})}function sendPostAgentUnenroll(agentId,body,options){return Object(use_request["a"])({path:services["c"].getUnenrollPath(agentId),method:"post",body:body,...options})}function sendPostBulkAgentUnenroll(body,options){return Object(use_request["a"])({path:services["c"].getBulkUnenrollPath(),method:"post",body:body,...options})}function sendPostAgentUpgrade(agentId,body,options){return Object(use_request["a"])({path:services["c"].getUpgradePath(agentId),method:"post",body:body,...options})}function sendPostAgentAction(agentId,body,options){return Object(use_request["a"])({path:services["c"].getCreateActionPath(agentId),method:"post",body:body,...options})}function sendPostBulkAgentUpgrade(body,options){return Object(use_request["a"])({path:services["c"].getBulkUpgradePath(),method:"post",body:body,...options})}function useGetOneEnrollmentAPIKey(keyId){return Object(use_request["c"])({method:"get",path:keyId?services["g"].getInfoPath(keyId):undefined,shouldSendRequest:!!keyId})}function sendGetOneEnrollmentAPIKey(keyId,options){return Object(use_request["a"])({method:"get",path:services["g"].getInfoPath(keyId),...options})}function sendDeleteOneEnrollmentAPIKey(keyId,options){return Object(use_request["a"])({method:"delete",path:services["g"].getDeletePath(keyId),...options})}function sendGetEnrollmentAPIKeys(query,options){return Object(use_request["a"])({method:"get",path:services["g"].getListPath(),query:query,...options})}function useGetEnrollmentAPIKeys(query,options){return Object(use_request["d"])({method:"get",path:services["g"].getListPath(),query:query,...options})}const useGetCategories=(query={})=>Object(use_request["d"])({path:services["h"].getCategoriesPath(),method:"get",query:{experimental:true,...query}});const useGetPackages=(query={})=>Object(use_request["d"])({path:services["h"].getListPath(),method:"get",query:{experimental:true,...query}});const useGetLimitedPackages=()=>Object(use_request["d"])({path:services["h"].getListLimitedPath(),method:"get"});const useGetPackageInfoByKey=pkgkey=>Object(use_request["d"])({path:services["h"].getInfoPath(pkgkey),method:"get"});const useGetPackageStats=pkgName=>Object(use_request["d"])({path:services["h"].getStatsPath(pkgName),method:"get"});const sendGetPackageInfoByKey=pkgkey=>Object(use_request["a"])({path:services["h"].getInfoPath(pkgkey),method:"get"});const useGetFileByPath=filePath=>Object(use_request["d"])({path:services["h"].getFilePath(filePath),method:"get"});const sendGetFileByPath=filePath=>Object(use_request["a"])({path:services["h"].getFilePath(filePath),method:"get"});const sendInstallPackage=pkgkey=>Object(use_request["a"])({path:services["h"].getInstallPath(pkgkey),method:"post"});const sendRemovePackage=pkgkey=>Object(use_request["a"])({path:services["h"].getRemovePath(pkgkey),method:"delete"});var outputs=__webpack_require__(120);function useGetSettings(){return Object(use_request["d"])({method:"get",path:services["r"].getInfoPath()})}function sendPutSettings(body){return Object(use_request["a"])({method:"put",path:services["r"].getUpdatePath(),body:body})}const sendSetup=()=>Object(use_request["a"])({path:services["s"].getSetupPath(),method:"post"});const sendGetFleetStatus=()=>Object(use_request["a"])({path:services["i"].getFleetSetupPath(),method:"get"});const sendPostFleetSetup=({forceRecreate:forceRecreate})=>Object(use_request["a"])({method:"post",path:services["i"].postFleetSetupPath(),body:{forceRecreate:forceRecreate}});const sendGetPermissionsCheck=()=>Object(use_request["a"])({path:services["d"].getCheckPermissionsPath(),method:"get"});function useInput(defaultValue="",validate){const[value,setValue]=external_kbnSharedDeps_React_default.a.useState(defaultValue);const[errors,setErrors]=external_kbnSharedDeps_React_default.a.useState();const onChange=e=>{const newValue=e.target.value;setValue(newValue);if(errors&&validate&&validate(newValue)===undefined){setErrors(undefined)}};const isInvalid=errors!==undefined;return{value:value,errors:errors,props:{onChange:onChange,value:value,isInvalid:isInvalid},formRowProps:{error:errors,isInvalid:isInvalid},clear:()=>{setValue("")},validate:()=>{if(validate){const newErrors=validate(value);setErrors(newErrors);return newErrors===undefined}return true},setValue:setValue}}function useComboInput(defaultValue=[],validate){const[value,setValue]=external_kbnSharedDeps_React_default.a.useState(defaultValue);const[errors,setErrors]=external_kbnSharedDeps_React_default.a.useState();const isInvalid=errors!==undefined;return{props:{selectedOptions:value.map(val=>({label:val})),onCreateOption:newVal=>{setValue([...value,newVal])},onChange:newSelectedOptions=>{const newValues=newSelectedOptions.map(option=>option.label);setValue(newValues);if(errors&&validate&&validate(newValues)===undefined){setErrors(undefined)}},isInvalid:isInvalid},formRowProps:{error:errors,isInvalid:isInvalid},value:value,clear:()=>{setValue([])},setValue:setValue,validate:()=>{if(validate){const newErrors=validate(value);setErrors(newErrors);return newErrors===undefined}return true}}}const FleetStatusContext=external_kbnSharedDeps_React_default.a.createContext(undefined);const FleetStatusProvider=({children:children})=>{const config=useConfig();const[state,setState]=Object(external_kbnSharedDeps_React_["useState"])({enabled:config.agents.enabled,isLoading:false,isReady:false});async function sendGetStatus(){try{setState(s=>({...s,isLoading:true}));const res=await sendGetFleetStatus();if(res.error){throw res.error}setState(s=>{var _res$data$isReady,_res$data,_res$data2;return{...s,isLoading:false,isReady:(_res$data$isReady=(_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.isReady)!==null&&_res$data$isReady!==void 0?_res$data$isReady:false,missingRequirements:(_res$data2=res.data)===null||_res$data2===void 0?void 0:_res$data2.missing_requirements}})}catch(error){setState(s=>({...s,isLoading:false,error:error}))}}Object(external_kbnSharedDeps_React_["useEffect"])(()=>{sendGetStatus()},[]);return external_kbnSharedDeps_React_default.a.createElement(FleetStatusContext.Provider,{value:{...state,refresh:()=>sendGetStatus()}},children)};function useFleetStatus(){const context=Object(external_kbnSharedDeps_React_["useContext"])(FleetStatusContext);if(!context){throw new Error("FleetStatusContext not set")}return context}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _kbn_std__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(127);var _kbn_std__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_kbn_std__WEBPACK_IMPORTED_MODULE_0__);__webpack_require__.d(__webpack_exports__,"k",(function(){return _kbn_std__WEBPACK_IMPORTED_MODULE_0__["getFlattenedObject"]}));var _common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);__webpack_require__.d(__webpack_exports__,"a",(function(){return _common__WEBPACK_IMPORTED_MODULE_1__["AgentStatusKueryHelper"]}));__webpack_require__.d(__webpack_exports__,"b",(function(){return _common__WEBPACK_IMPORTED_MODULE_1__["agentPolicyRouteService"]}));__webpack_require__.d(__webpack_exports__,"p",(function(){return _common__WEBPACK_IMPORTED_MODULE_1__["packagePolicyRouteService"]}));__webpack_require__.d(__webpack_exports__,"e",(function(){return _common__WEBPACK_IMPORTED_MODULE_1__["dataStreamRouteService"]}));__webpack_require__.d(__webpack_exports__,"i",(function(){return _common__WEBPACK_IMPORTED_MODULE_1__["fleetSetupRouteService"]}));__webpack_require__.d(__webpack_exports__,"c",(function(){return _common__WEBPACK_IMPORTED_MODULE_1__["agentRouteService"]}));__webpack_require__.d(__webpack_exports__,"g",(function(){return _common__WEBPACK_IMPORTED_MODULE_1__["enrollmentAPIKeyRouteService"]}));__webpack_require__.d(__webpack_exports__,"h",(function(){return _common__WEBPACK_IMPORTED_MODULE_1__["epmRouteService"]}));__webpack_require__.d(__webpack_exports__,"s",(function(){return _common__WEBPACK_IMPORTED_MODULE_1__["setupRouteService"]}));__webpack_require__.d(__webpack_exports__,"o",(function(){return _common__WEBPACK_IMPORTED_MODULE_1__["outputRoutesService"]}));__webpack_require__.d(__webpack_exports__,"r",(function(){return _common__WEBPACK_IMPORTED_MODULE_1__["settingsRoutesService"]}));__webpack_require__.d(__webpack_exports__,"d",(function(){return _common__WEBPACK_IMPORTED_MODULE_1__["appRoutesService"]}));__webpack_require__.d(__webpack_exports__,"q",(function(){return _common__WEBPACK_IMPORTED_MODULE_1__["packageToPackagePolicyInputs"]}));__webpack_require__.d(__webpack_exports__,"j",(function(){return _common__WEBPACK_IMPORTED_MODULE_1__["fullAgentPolicyToYaml"]}));__webpack_require__.d(__webpack_exports__,"m",(function(){return _common__WEBPACK_IMPORTED_MODULE_1__["isPackageLimited"]}));__webpack_require__.d(__webpack_exports__,"f",(function(){return _common__WEBPACK_IMPORTED_MODULE_1__["doesAgentPolicyAlreadyIncludePackage"]}));__webpack_require__.d(__webpack_exports__,"n",(function(){return _common__WEBPACK_IMPORTED_MODULE_1__["isValidNamespace"]}));__webpack_require__.d(__webpack_exports__,"l",(function(){return _common__WEBPACK_IMPORTED_MODULE_1__["isAgentUpgradeable"]}))},,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",(function(){return useLinks}));__webpack_require__.d(__webpack_exports__,"f",(function(){return useLocalSearch}));__webpack_require__.d(__webpack_exports__,"b",(function(){return searchIdField}));__webpack_require__.d(__webpack_exports__,"a",(function(){return PackageInstallProvider}));__webpack_require__.d(__webpack_exports__,"h",(function(){return useUninstallPackage}));__webpack_require__.d(__webpack_exports__,"c",(function(){return useGetPackageInstallStatus}));__webpack_require__.d(__webpack_exports__,"d",(function(){return useInstallPackage}));__webpack_require__.d(__webpack_exports__,"g",(function(){return useSetPackageInstallStatus}));var use_core=__webpack_require__(113);var constants=__webpack_require__(11);var services=__webpack_require__(107);const removeRelativePath=relativePath=>new URL(relativePath,"http://example.com").pathname;function useLinks(){const{http:http}=Object(use_core["a"])();return{toAssets:path=>http.basePath.prepend(`/plugins/${constants["k"]}/assets/${path}`),toPackageImage:(img,pkgName,pkgVersion)=>{const sourcePath=img.src?`/package/${pkgName}/${pkgVersion}${img.src}`:"path"in img&&img.path;if(sourcePath){const filePath=services["h"].getFilePath(sourcePath);return http.basePath.prepend(filePath)}},toRelativeImage:({path:path,packageName:packageName,version:version})=>{const imagePath=removeRelativePath(path);const pkgkey=`${packageName}-${version}`;const filePath=`${services["h"].getInfoPath(pkgkey)}/${imagePath}`;return http.basePath.prepend(filePath)}}}var commonjs=__webpack_require__(161);var external_kbnSharedDeps_React_=__webpack_require__(2);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);const searchIdField="name";const fieldsToSearch=["description","name","title"];function useLocalSearch(packageList){const localSearchRef=Object(external_kbnSharedDeps_React_["useRef"])(null);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{const localSearch=new commonjs["Search"](searchIdField);fieldsToSearch.forEach(field=>localSearch.addIndex(field));localSearch.addDocuments(packageList);localSearchRef.current=localSearch},[packageList]);return localSearchRef}var constate_cjs=__webpack_require__(174);var constate_cjs_default=__webpack_require__.n(constate_cjs);var external_kbnSharedDeps_ReactRouterDom_=__webpack_require__(96);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(94);var public_=__webpack_require__(97);var hooks=__webpack_require__(106);var types=__webpack_require__(111);function usePackageInstall({notifications:notifications}){const history=Object(external_kbnSharedDeps_ReactRouterDom_["useHistory"])();const{getPath:getPath}=Object(hooks["hb"])();const[packages,setPackage]=Object(external_kbnSharedDeps_React_["useState"])({});const setPackageInstallStatus=Object(external_kbnSharedDeps_React_["useCallback"])(({name:name,status:status,version:version})=>{const packageProps={status:status,version:version};setPackage(prev=>({...prev,[name]:packageProps}))},[]);const getPackageInstallStatus=Object(external_kbnSharedDeps_React_["useCallback"])(pkg=>packages[pkg],[packages]);const installPackage=Object(external_kbnSharedDeps_React_["useCallback"])(async({name:name,version:version,title:title,fromUpdate:fromUpdate=false})=>{const currStatus=getPackageInstallStatus(name);const newStatus={...currStatus,name:name,status:types["InstallStatus"].installing};setPackageInstallStatus(newStatus);const pkgkey=`${name}-${version}`;const res=await Object(hooks["u"])(pkgkey);if(res.error){if(fromUpdate){setPackageInstallStatus({...currStatus,name:name})}else{setPackageInstallStatus({name:name,status:types["InstallStatus"].notInstalled,version:version})}notifications.toasts.addWarning({title:Object(public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.fleet.integrations.packageInstallErrorTitle",defaultMessage:"Failed to install {title} package",values:{title:title}})),text:Object(public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.fleet.integrations.packageInstallErrorDescription",defaultMessage:"Something went wrong while trying to install this package. Please try again later."})),iconType:"alert"})}else{setPackageInstallStatus({name:name,status:types["InstallStatus"].installed,version:version});if(fromUpdate){const settingsPath=getPath("integration_details_settings",{pkgkey:`${name}-${version}`});history.push(settingsPath)}notifications.toasts.addSuccess({title:Object(public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.fleet.integrations.packageInstallSuccessTitle",defaultMessage:"Installed {title}",values:{title:title}})),text:Object(public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.fleet.integrations.packageInstallSuccessDescription",defaultMessage:"Successfully installed {title}",values:{title:title}}))})}},[getPackageInstallStatus,notifications.toasts,setPackageInstallStatus,getPath,history]);const uninstallPackage=Object(external_kbnSharedDeps_React_["useCallback"])(async({name:name,version:version,title:title})=>{setPackageInstallStatus({name:name,status:types["InstallStatus"].uninstalling,version:version});const pkgkey=`${name}-${version}`;const res=await Object(hooks["E"])(pkgkey);if(res.error){setPackageInstallStatus({name:name,status:types["InstallStatus"].installed,version:version});notifications.toasts.addWarning({title:Object(public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.fleet.integrations.packageUninstallErrorTitle",defaultMessage:"Failed to uninstall {title} package",values:{title:title}})),text:Object(public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.fleet.integrations.packageUninstallErrorDescription",defaultMessage:"Something went wrong while trying to uninstall this package. Please try again later."})),iconType:"alert"})}else{setPackageInstallStatus({name:name,status:types["InstallStatus"].notInstalled,version:null});notifications.toasts.addSuccess({title:Object(public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.fleet.integrations.packageUninstallSuccessTitle",defaultMessage:"Uninstalled {title}",values:{title:title}})),text:Object(public_["toMountPoint"])(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.fleet.integrations.packageUninstallSuccessDescription",defaultMessage:"Successfully uninstalled {title}",values:{title:title}}))})}},[notifications.toasts,setPackageInstallStatus]);return{packages:packages,installPackage:installPackage,setPackageInstallStatus:setPackageInstallStatus,getPackageInstallStatus:getPackageInstallStatus,uninstallPackage:uninstallPackage}}const[PackageInstallProvider,useInstallPackage,useSetPackageInstallStatus,useGetPackageInstallStatus,useUninstallPackage]=constate_cjs_default()(usePackageInstall,value=>value.installPackage,value=>value.setPackageInstallStatus,value=>value.getPackageInstallStatus,value=>value.uninstallPackage)},,function(module,__webpack_exports__,__webpack_require__){"use strict";var _common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);__webpack_require__.d(__webpack_exports__,"entries",(function(){return _common__WEBPACK_IMPORTED_MODULE_0__["entries"]}));__webpack_require__.d(__webpack_exports__,"ElasticsearchAssetType",(function(){return _common__WEBPACK_IMPORTED_MODULE_0__["ElasticsearchAssetType"]}));__webpack_require__.d(__webpack_exports__,"KibanaAssetType",(function(){return _common__WEBPACK_IMPORTED_MODULE_0__["KibanaAssetType"]}));__webpack_require__.d(__webpack_exports__,"InstallStatus",(function(){return _common__WEBPACK_IMPORTED_MODULE_0__["InstallStatus"]}));var _intra_app_route_state__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(26);var _intra_app_route_state__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_intra_app_route_state__WEBPACK_IMPORTED_MODULE_1__);var _ui_extensions__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(27);var _ui_extensions__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_ui_extensions__WEBPACK_IMPORTED_MODULE_2__)},,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useStartServices}));var _src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(97);var _src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_0__);function useStartServices(){const{services:services}=Object(_src_plugins_kibana_react_public__WEBPACK_IMPORTED_MODULE_0__["useKibana"])();if(services===null){throw new Error("KibanaContextProvider not initialized")}return services}},,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _AllSubstringsIndexStrategy=__webpack_require__(162);Object.defineProperty(exports,"AllSubstringsIndexStrategy",{enumerable:true,get:function get(){return _AllSubstringsIndexStrategy.AllSubstringsIndexStrategy}});var _ExactWordIndexStrategy=__webpack_require__(163);Object.defineProperty(exports,"ExactWordIndexStrategy",{enumerable:true,get:function get(){return _ExactWordIndexStrategy.ExactWordIndexStrategy}});var _PrefixIndexStrategy=__webpack_require__(164);Object.defineProperty(exports,"PrefixIndexStrategy",{enumerable:true,get:function get(){return _PrefixIndexStrategy.PrefixIndexStrategy}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _CaseSensitiveSanitizer=__webpack_require__(165);Object.defineProperty(exports,"CaseSensitiveSanitizer",{enumerable:true,get:function get(){return _CaseSensitiveSanitizer.CaseSensitiveSanitizer}});var _LowerCaseSanitizer=__webpack_require__(166);Object.defineProperty(exports,"LowerCaseSanitizer",{enumerable:true,get:function get(){return _LowerCaseSanitizer.LowerCaseSanitizer}})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return useGetOutputs}));__webpack_require__.d(__webpack_exports__,"a",(function(){return sendPutOutput}));var _use_request__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(23);var _services__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(107);function useGetOutputs(){return Object(_use_request__WEBPACK_IMPORTED_MODULE_0__["d"])({method:"get",path:_services__WEBPACK_IMPORTED_MODULE_1__["o"].getListPath()})}function sendPutOutput(outputId,body){return Object(_use_request__WEBPACK_IMPORTED_MODULE_0__["a"])({method:"put",path:_services__WEBPACK_IMPORTED_MODULE_1__["o"].getUpdatePath(outputId),body:body})}},,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ensureNoUnsafeProperties=exports.getFlattenedObject=exports.unset=exports.getUrlOrigin=exports.modifyUrl=exports.isRelativeUrl=exports.isPromise=exports.withTimeout=exports.pick=exports.merge=exports.mapToObject=exports.get=exports.deepFreeze=exports.assertNever=void 0;const tslib_1=__webpack_require__(98);var assert_never_1=__webpack_require__(144);Object.defineProperty(exports,"assertNever",{enumerable:true,get:function(){return assert_never_1.assertNever}});var deep_freeze_1=__webpack_require__(145);Object.defineProperty(exports,"deepFreeze",{enumerable:true,get:function(){return deep_freeze_1.deepFreeze}});var get_1=__webpack_require__(128);Object.defineProperty(exports,"get",{enumerable:true,get:function(){return get_1.get}});var map_to_object_1=__webpack_require__(146);Object.defineProperty(exports,"mapToObject",{enumerable:true,get:function(){return map_to_object_1.mapToObject}});var merge_1=__webpack_require__(147);Object.defineProperty(exports,"merge",{enumerable:true,get:function(){return merge_1.merge}});var pick_1=__webpack_require__(148);Object.defineProperty(exports,"pick",{enumerable:true,get:function(){return pick_1.pick}});var promise_1=__webpack_require__(149);Object.defineProperty(exports,"withTimeout",{enumerable:true,get:function(){return promise_1.withTimeout}});Object.defineProperty(exports,"isPromise",{enumerable:true,get:function(){return promise_1.isPromise}});var url_1=__webpack_require__(150);Object.defineProperty(exports,"isRelativeUrl",{enumerable:true,get:function(){return url_1.isRelativeUrl}});Object.defineProperty(exports,"modifyUrl",{enumerable:true,get:function(){return url_1.modifyUrl}});Object.defineProperty(exports,"getUrlOrigin",{enumerable:true,get:function(){return url_1.getUrlOrigin}});var unset_1=__webpack_require__(157);Object.defineProperty(exports,"unset",{enumerable:true,get:function(){return unset_1.unset}});var get_flattened_object_1=__webpack_require__(158);Object.defineProperty(exports,"getFlattenedObject",{enumerable:true,get:function(){return get_flattened_object_1.getFlattenedObject}});var ensure_no_unsafe_properties_1=__webpack_require__(159);Object.defineProperty(exports,"ensureNoUnsafeProperties",{enumerable:true,get:function(){return ensure_no_unsafe_properties_1.ensureNoUnsafeProperties}});tslib_1.__exportStar(__webpack_require__(160),exports)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.get=void 0;function get(obj,path){if(typeof path==="string"){if(path.includes(".")){throw new Error("Using dots in `get` with a string is not allowed, use array instead")}return obj[path]}for(const key of path){obj=obj[key]}return obj}exports.get=get},function(module,exports,__webpack_require__){"use strict";var punycode=__webpack_require__(151);var util=__webpack_require__(153);exports.parse=urlParse;exports.resolve=urlResolve;exports.resolveObject=urlResolveObject;exports.format=urlFormat;exports.Url=Url;function Url(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:true,"javascript:":true},hostlessProtocol={javascript:true,"javascript:":true},slashedProtocol={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},querystring=__webpack_require__(154);function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&util.isObject(url)&&url instanceof Url)return url;var u=new Url;u.parse(url,parseQueryString,slashesDenoteHost);return u}Url.prototype.parse=function(url,parseQueryString,slashesDenoteHost){if(!util.isString(url)){throw new TypeError("Parameter 'url' must be a string, not "+typeof url)}var queryIndex=url.indexOf("?"),splitter=queryIndex!==-1&&queryIndex<url.indexOf("#")?"?":"#",uSplit=url.split(splitter),slashRegex=/\\/g;uSplit[0]=uSplit[0].replace(slashRegex,"/");url=uSplit.join(splitter);var rest=url;rest=rest.trim();if(!slashesDenoteHost&&url.split("#").length===1){var simplePath=simplePathPattern.exec(rest);if(simplePath){this.path=rest;this.href=rest;this.pathname=simplePath[1];if(simplePath[2]){this.search=simplePath[2];if(parseQueryString){this.query=querystring.parse(this.search.substr(1))}else{this.query=this.search.substr(1)}}else if(parseQueryString){this.search="";this.query={}}return this}}var proto=protocolPattern.exec(rest);if(proto){proto=proto[0];var lowerProto=proto.toLowerCase();this.protocol=lowerProto;rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes=rest.substr(0,2)==="//";if(slashes&&!(proto&&hostlessProtocol[proto])){rest=rest.substr(2);this.slashes=true}}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){var hostEnd=-1;for(var i=0;i<hostEndingChars.length;i++){var hec=rest.indexOf(hostEndingChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}var auth,atSign;if(hostEnd===-1){atSign=rest.lastIndexOf("@")}else{atSign=rest.lastIndexOf("@",hostEnd)}if(atSign!==-1){auth=rest.slice(0,atSign);rest=rest.slice(atSign+1);this.auth=decodeURIComponent(auth)}hostEnd=-1;for(var i=0;i<nonHostChars.length;i++){var hec=rest.indexOf(nonHostChars[i]);if(hec!==-1&&(hostEnd===-1||hec<hostEnd))hostEnd=hec}if(hostEnd===-1)hostEnd=rest.length;this.host=rest.slice(0,hostEnd);rest=rest.slice(hostEnd);this.parseHost();this.hostname=this.hostname||"";var ipv6Hostname=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!ipv6Hostname){var hostparts=this.hostname.split(/\./);for(var i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(!part)continue;if(!part.match(hostnamePartPattern)){var newpart="";for(var j=0,k=part.length;j<k;j++){if(part.charCodeAt(j)>127){newpart+="x"}else{newpart+=part[j]}}if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i);var notHost=hostparts.slice(i+1);var bit=part.match(hostnamePartStart);if(bit){validParts.push(bit[1]);notHost.unshift(bit[2])}if(notHost.length){rest="/"+notHost.join(".")+rest}this.hostname=validParts.join(".");break}}}}if(this.hostname.length>hostnameMaxLen){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!ipv6Hostname){this.hostname=punycode.toASCII(this.hostname)}var p=this.port?":"+this.port:"";var h=this.hostname||"";this.host=h+p;this.href+=this.host;if(ipv6Hostname){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(rest[0]!=="/"){rest="/"+rest}}}if(!unsafeProtocol[lowerProto]){for(var i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i];if(rest.indexOf(ae)===-1)continue;var esc=encodeURIComponent(ae);if(esc===ae){esc=escape(ae)}rest=rest.split(ae).join(esc)}}var hash=rest.indexOf("#");if(hash!==-1){this.hash=rest.substr(hash);rest=rest.slice(0,hash)}var qm=rest.indexOf("?");if(qm!==-1){this.search=rest.substr(qm);this.query=rest.substr(qm+1);if(parseQueryString){this.query=querystring.parse(this.query)}rest=rest.slice(0,qm)}else if(parseQueryString){this.search="";this.query={}}if(rest)this.pathname=rest;if(slashedProtocol[lowerProto]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var p=this.pathname||"";var s=this.search||"";this.path=p+s}this.href=this.format();return this};function urlFormat(obj){if(util.isString(obj))obj=urlParse(obj);if(!(obj instanceof Url))return Url.prototype.format.call(obj);return obj.format()}Url.prototype.format=function(){var auth=this.auth||"";if(auth){auth=encodeURIComponent(auth);auth=auth.replace(/%3A/i,":");auth+="@"}var protocol=this.protocol||"",pathname=this.pathname||"",hash=this.hash||"",host=false,query="";if(this.host){host=auth+this.host}else if(this.hostname){host=auth+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){host+=":"+this.port}}if(this.query&&util.isObject(this.query)&&Object.keys(this.query).length){query=querystring.stringify(this.query)}var search=this.search||query&&"?"+query||"";if(protocol&&protocol.substr(-1)!==":")protocol+=":";if(this.slashes||(!protocol||slashedProtocol[protocol])&&host!==false){host="//"+(host||"");if(pathname&&pathname.charAt(0)!=="/")pathname="/"+pathname}else if(!host){host=""}if(hash&&hash.charAt(0)!=="#")hash="#"+hash;if(search&&search.charAt(0)!=="?")search="?"+search;pathname=pathname.replace(/[?#]/g,(function(match){return encodeURIComponent(match)}));search=search.replace("#","%23");return protocol+host+pathname+search+hash};function urlResolve(source,relative){return urlParse(source,false,true).resolve(relative)}Url.prototype.resolve=function(relative){return this.resolveObject(urlParse(relative,false,true)).format()};function urlResolveObject(source,relative){if(!source)return relative;return urlParse(source,false,true).resolveObject(relative)}Url.prototype.resolveObject=function(relative){if(util.isString(relative)){var rel=new Url;rel.parse(relative,false,true);relative=rel}var result=new Url;var tkeys=Object.keys(this);for(var tk=0;tk<tkeys.length;tk++){var tkey=tkeys[tk];result[tkey]=this[tkey]}result.hash=relative.hash;if(relative.href===""){result.href=result.format();return result}if(relative.slashes&&!relative.protocol){var rkeys=Object.keys(relative);for(var rk=0;rk<rkeys.length;rk++){var rkey=rkeys[rk];if(rkey!=="protocol")result[rkey]=relative[rkey]}if(slashedProtocol[result.protocol]&&result.hostname&&!result.pathname){result.path=result.pathname="/"}result.href=result.format();return result}if(relative.protocol&&relative.protocol!==result.protocol){if(!slashedProtocol[relative.protocol]){var keys=Object.keys(relative);for(var v=0;v<keys.length;v++){var k=keys[v];result[k]=relative[k]}result.href=result.format();return result}result.protocol=relative.protocol;if(!relative.host&&!hostlessProtocol[relative.protocol]){var relPath=(relative.pathname||"").split("/");while(relPath.length&&!(relative.host=relPath.shift()));if(!relative.host)relative.host="";if(!relative.hostname)relative.hostname="";if(relPath[0]!=="")relPath.unshift("");if(relPath.length<2)relPath.unshift("");result.pathname=relPath.join("/")}else{result.pathname=relative.pathname}result.search=relative.search;result.query=relative.query;result.host=relative.host||"";result.auth=relative.auth;result.hostname=relative.hostname||relative.host;result.port=relative.port;if(result.pathname||result.search){var p=result.pathname||"";var s=result.search||"";result.path=p+s}result.slashes=result.slashes||relative.slashes;result.href=result.format();return result}var isSourceAbs=result.pathname&&result.pathname.charAt(0)==="/",isRelAbs=relative.host||relative.pathname&&relative.pathname.charAt(0)==="/",mustEndAbs=isRelAbs||isSourceAbs||result.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=result.pathname&&result.pathname.split("/")||[],relPath=relative.pathname&&relative.pathname.split("/")||[],psychotic=result.protocol&&!slashedProtocol[result.protocol];if(psychotic){result.hostname="";result.port=null;if(result.host){if(srcPath[0]==="")srcPath[0]=result.host;else srcPath.unshift(result.host)}result.host="";if(relative.protocol){relative.hostname=null;relative.port=null;if(relative.host){if(relPath[0]==="")relPath[0]=relative.host;else relPath.unshift(relative.host)}relative.host=null}mustEndAbs=mustEndAbs&&(relPath[0]===""||srcPath[0]==="")}if(isRelAbs){result.host=relative.host||relative.host===""?relative.host:result.host;result.hostname=relative.hostname||relative.hostname===""?relative.hostname:result.hostname;result.search=relative.search;result.query=relative.query;srcPath=relPath}else if(relPath.length){if(!srcPath)srcPath=[];srcPath.pop();srcPath=srcPath.concat(relPath);result.search=relative.search;result.query=relative.query}else if(!util.isNullOrUndefined(relative.search)){if(psychotic){result.hostname=result.host=srcPath.shift();var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}result.search=relative.search;result.query=relative.query;if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.href=result.format();return result}if(!srcPath.length){result.pathname=null;if(result.search){result.path="/"+result.search}else{result.path=null}result.href=result.format();return result}var last=srcPath.slice(-1)[0];var hasTrailingSlash=(result.host||relative.host||srcPath.length>1)&&(last==="."||last==="..")||last==="";var up=0;for(var i=srcPath.length;i>=0;i--){last=srcPath[i];if(last==="."){srcPath.splice(i,1)}else if(last===".."){srcPath.splice(i,1);up++}else if(up){srcPath.splice(i,1);up--}}if(!mustEndAbs&&!removeAllDots){for(;up--;up){srcPath.unshift("..")}}if(mustEndAbs&&srcPath[0]!==""&&(!srcPath[0]||srcPath[0].charAt(0)!=="/")){srcPath.unshift("")}if(hasTrailingSlash&&srcPath.join("/").substr(-1)!=="/"){srcPath.push("")}var isAbsolute=srcPath[0]===""||srcPath[0]&&srcPath[0].charAt(0)==="/";if(psychotic){result.hostname=result.host=isAbsolute?"":srcPath.length?srcPath.shift():"";var authInHost=result.host&&result.host.indexOf("@")>0?result.host.split("@"):false;if(authInHost){result.auth=authInHost.shift();result.host=result.hostname=authInHost.shift()}}mustEndAbs=mustEndAbs||result.host&&srcPath.length;if(mustEndAbs&&!isAbsolute){srcPath.unshift("")}if(!srcPath.length){result.pathname=null;result.path=null}else{result.pathname=srcPath.join("/")}if(!util.isNull(result.pathname)||!util.isNull(result.search)){result.path=(result.pathname?result.pathname:"")+(result.search?result.search:"")}result.auth=relative.auth||result.auth;result.slashes=result.slashes||relative.slashes;result.href=result.format();return result};Url.prototype.parseHost=function(){var host=this.host;var port=portPattern.exec(host);if(port){port=port[0];if(port!==":"){this.port=port.substr(1)}host=host.substr(0,host.length-port.length)}if(host)this.hostname=host}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _TfIdfSearchIndex=__webpack_require__(167);Object.defineProperty(exports,"TfIdfSearchIndex",{enumerable:true,get:function get(){return _TfIdfSearchIndex.TfIdfSearchIndex}});var _UnorderedSearchIndex=__webpack_require__(168);Object.defineProperty(exports,"UnorderedSearchIndex",{enumerable:true,get:function get(){return _UnorderedSearchIndex.UnorderedSearchIndex}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=getNestedFieldValue;function getNestedFieldValue(object,path){path=path||[];object=object||{};var value=object;for(var i=0;i<path.length;i++){value=value[path[i]];if(value==null){return null}}return value}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _SimpleTokenizer=__webpack_require__(169);Object.defineProperty(exports,"SimpleTokenizer",{enumerable:true,get:function get(){return _SimpleTokenizer.SimpleTokenizer}});var _StemmingTokenizer=__webpack_require__(170);Object.defineProperty(exports,"StemmingTokenizer",{enumerable:true,get:function get(){return _StemmingTokenizer.StemmingTokenizer}});var _StopWordsTokenizer=__webpack_require__(171);Object.defineProperty(exports,"StopWordsTokenizer",{enumerable:true,get:function get(){return _StopWordsTokenizer.StopWordsTokenizer}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var StopWordsMap=exports.StopWordsMap={a:true,able:true,about:true,across:true,after:true,all:true,almost:true,also:true,am:true,among:true,an:true,and:true,any:true,are:true,as:true,at:true,be:true,because:true,been:true,but:true,by:true,can:true,cannot:true,could:true,dear:true,did:true,do:true,does:true,either:true,else:true,ever:true,every:true,for:true,from:true,get:true,got:true,had:true,has:true,have:true,he:true,her:true,hers:true,him:true,his:true,how:true,however:true,i:true,if:true,in:true,into:true,is:true,it:true,its:true,just:true,least:true,let:true,like:true,likely:true,may:true,me:true,might:true,most:true,must:true,my:true,neither:true,no:true,nor:true,not:true,of:true,off:true,often:true,on:true,only:true,or:true,other:true,our:true,own:true,rather:true,said:true,say:true,says:true,she:true,should:true,since:true,so:true,some:true,than:true,that:true,the:true,their:true,them:true,then:true,there:true,these:true,they:true,this:true,tis:true,to:true,too:true,twas:true,us:true,wants:true,was:true,we:true,were:true,what:true,when:true,where:true,which:true,while:true,who:true,whom:true,why:true,will:true,with:true,would:true,yet:true,you:true,your:true};StopWordsMap.constructor=false;StopWordsMap.hasOwnProperty=false;StopWordsMap.isPrototypeOf=false;StopWordsMap.propertyIsEnumerable=false;StopWordsMap.toLocaleString=false;StopWordsMap.toString=false;StopWordsMap.valueOf=false},function(module,exports,__webpack_require__){"use strict";const strictUriEncode=__webpack_require__(175);const decodeComponent=__webpack_require__(176);const splitOnFirst=__webpack_require__(177);const isNullOrUndefined=value=>value===null||value===undefined;function encoderForArrayFormat(options){switch(options.arrayFormat){case"index":return key=>(result,value)=>{const index=result.length;if(value===undefined||options.skipNull&&value===null||options.skipEmptyString&&value===""){return result}if(value===null){return[...result,[encode(key,options),"[",index,"]"].join("")]}return[...result,[encode(key,options),"[",encode(index,options),"]=",encode(value,options)].join("")]};case"bracket":return key=>(result,value)=>{if(value===undefined||options.skipNull&&value===null||options.skipEmptyString&&value===""){return result}if(value===null){return[...result,[encode(key,options),"[]"].join("")]}return[...result,[encode(key,options),"[]=",encode(value,options)].join("")]};case"comma":case"separator":return key=>(result,value)=>{if(value===null||value===undefined||value.length===0){return result}if(result.length===0){return[[encode(key,options),"=",encode(value,options)].join("")]}return[[result,encode(value,options)].join(options.arrayFormatSeparator)]};default:return key=>(result,value)=>{if(value===undefined||options.skipNull&&value===null||options.skipEmptyString&&value===""){return result}if(value===null){return[...result,encode(key,options)]}return[...result,[encode(key,options),"=",encode(value,options)].join("")]}}}function parserForArrayFormat(options){let result;switch(options.arrayFormat){case"index":return(key,value,accumulator)=>{result=/\[(\d*)\]$/.exec(key);key=key.replace(/\[\d*\]$/,"");if(!result){accumulator[key]=value;return}if(accumulator[key]===undefined){accumulator[key]={}}accumulator[key][result[1]]=value};case"bracket":return(key,value,accumulator)=>{result=/(\[\])$/.exec(key);key=key.replace(/\[\]$/,"");if(!result){accumulator[key]=value;return}if(accumulator[key]===undefined){accumulator[key]=[value];return}accumulator[key]=[].concat(accumulator[key],value)};case"comma":case"separator":return(key,value,accumulator)=>{const isArray=typeof value==="string"&&value.split("").indexOf(options.arrayFormatSeparator)>-1;const newValue=isArray?value.split(options.arrayFormatSeparator).map(item=>decode(item,options)):value===null?value:decode(value,options);accumulator[key]=newValue};default:return(key,value,accumulator)=>{if(accumulator[key]===undefined){accumulator[key]=value;return}accumulator[key]=[].concat(accumulator[key],value)}}}function validateArrayFormatSeparator(value){if(typeof value!=="string"||value.length!==1){throw new TypeError("arrayFormatSeparator must be single character string")}}function encode(value,options){if(options.encode){return options.strict?strictUriEncode(value):encodeURIComponent(value)}return value}function decode(value,options){if(options.decode){return decodeComponent(value)}return value}function keysSorter(input){if(Array.isArray(input)){return input.sort()}if(typeof input==="object"){return keysSorter(Object.keys(input)).sort((a,b)=>Number(a)-Number(b)).map(key=>input[key])}return input}function removeHash(input){const hashStart=input.indexOf("#");if(hashStart!==-1){input=input.slice(0,hashStart)}return input}function getHash(url){let hash="";const hashStart=url.indexOf("#");if(hashStart!==-1){hash=url.slice(hashStart)}return hash}function extract(input){input=removeHash(input);const queryStart=input.indexOf("?");if(queryStart===-1){return""}return input.slice(queryStart+1)}function parseValue(value,options){if(options.parseNumbers&&!Number.isNaN(Number(value))&&(typeof value==="string"&&value.trim()!=="")){value=Number(value)}else if(options.parseBooleans&&value!==null&&(value.toLowerCase()==="true"||value.toLowerCase()==="false")){value=value.toLowerCase()==="true"}return value}function parse(input,options){options=Object.assign({decode:true,sort:true,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:false,parseBooleans:false},options);validateArrayFormatSeparator(options.arrayFormatSeparator);const formatter=parserForArrayFormat(options);const ret=Object.create(null);if(typeof input!=="string"){return ret}input=input.trim().replace(/^[?#&]/,"");if(!input){return ret}for(const param of input.split("&")){let[key,value]=splitOnFirst(options.decode?param.replace(/\+/g," "):param,"=");value=value===undefined?null:["comma","separator"].includes(options.arrayFormat)?value:decode(value,options);formatter(decode(key,options),value,ret)}for(const key of Object.keys(ret)){const value=ret[key];if(typeof value==="object"&&value!==null){for(const k of Object.keys(value)){value[k]=parseValue(value[k],options)}}else{ret[key]=parseValue(value,options)}}if(options.sort===false){return ret}return(options.sort===true?Object.keys(ret).sort():Object.keys(ret).sort(options.sort)).reduce((result,key)=>{const value=ret[key];if(Boolean(value)&&typeof value==="object"&&!Array.isArray(value)){result[key]=keysSorter(value)}else{result[key]=value}return result},Object.create(null))}exports.extract=extract;exports.parse=parse;exports.stringify=(object,options)=>{if(!object){return""}options=Object.assign({encode:true,strict:true,arrayFormat:"none",arrayFormatSeparator:","},options);validateArrayFormatSeparator(options.arrayFormatSeparator);const shouldFilter=key=>options.skipNull&&isNullOrUndefined(object[key])||options.skipEmptyString&&object[key]==="";const formatter=encoderForArrayFormat(options);const objectCopy={};for(const key of Object.keys(object)){if(!shouldFilter(key)){objectCopy[key]=object[key]}}const keys=Object.keys(objectCopy);if(options.sort!==false){keys.sort(options.sort)}return keys.map(key=>{const value=object[key];if(value===undefined){return""}if(value===null){return encode(key,options)}if(Array.isArray(value)){return value.reduce(formatter(key),[]).join("&")}return encode(key,options)+"="+encode(value,options)}).filter(x=>x.length>0).join("&")};exports.parseUrl=(input,options)=>{options=Object.assign({decode:true},options);const[url,hash]=splitOnFirst(input,"#");return Object.assign({url:url.split("?")[0]||"",query:parse(extract(input),options)},options&&options.parseFragmentIdentifier&&hash?{fragmentIdentifier:decode(hash,options)}:{})};exports.stringifyUrl=(input,options)=>{options=Object.assign({encode:true,strict:true},options);const url=removeHash(input.url).split("?")[0]||"";const queryFromUrl=exports.extract(input.url);const parsedQueryFromUrl=exports.parse(queryFromUrl,{sort:false});const query=Object.assign(parsedQueryFromUrl,input.query);let queryString=exports.stringify(query,options);if(queryString){queryString=`?${queryString}`}let hash=getHash(input.url);if(input.fragmentIdentifier){hash=`#${encode(input.fragmentIdentifier,options)}`}return`${url}${queryString}${hash}`}},,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.assertNever=void 0;function assertNever(x){throw new Error(`Unexpected object: ${x}`)}exports.assertNever=assertNever},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.deepFreeze=void 0;function deepFreeze(object){for(const value of Object.values(object)){if(value!==null&&typeof value==="object"){deepFreeze(value)}}return Object.freeze(object)}exports.deepFreeze=deepFreeze},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.mapToObject=void 0;function mapToObject(map){const result=Object.create(null);for(const[key,value]of map){result[key]=value}return result}exports.mapToObject=mapToObject},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.merge=void 0;const lodash_1=__webpack_require__(102);function merge(baseObj,...sources){const firstSource=sources[0];if(firstSource===undefined){return baseObj}return sources.slice(1).reduce((merged,nextSource)=>mergeObjects(merged,nextSource),mergeObjects(baseObj,firstSource))}exports.merge=merge;const isMergable=obj=>lodash_1.isPlainObject(obj);const mergeObjects=(baseObj,overrideObj)=>[...new Set([...Object.keys(baseObj),...Object.keys(overrideObj)])].reduce((merged,key)=>{const baseVal=baseObj[key];const overrideVal=overrideObj[key];if(isMergable(baseVal)&&isMergable(overrideVal)){merged[key]=mergeObjects(baseVal,overrideVal)}else if(overrideVal!==undefined){merged[key]=overrideVal}else if(baseVal!==undefined){merged[key]=baseVal}return merged},{})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.pick=void 0;function pick(obj,keys){return keys.reduce((acc,key)=>{if(obj.hasOwnProperty(key)){acc[key]=obj[key]}return acc},{})}exports.pick=pick},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isPromise=exports.withTimeout=void 0;async function withTimeout({promise:promise,timeoutMs:timeoutMs}){let timeout;try{return await Promise.race([promise.then(v=>({value:v,timedout:false})),new Promise(resolve=>{timeout=setTimeout(()=>resolve({timedout:true}),timeoutMs)})])}finally{if(timeout!==undefined){clearTimeout(timeout)}}}exports.withTimeout=withTimeout;function isPromise(maybePromise){return maybePromise?typeof maybePromise.then==="function":false}exports.isPromise=isPromise},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getUrlOrigin=exports.isRelativeUrl=exports.modifyUrl=void 0;const url_1=__webpack_require__(129);function modifyUrl(url,urlModifier){const parsed=url_1.parse(url,true);const meaningfulParts={auth:parsed.auth,hash:parsed.hash,hostname:parsed.hostname,pathname:parsed.pathname,port:parsed.port,protocol:parsed.protocol,query:parsed.query||{},slashes:parsed.slashes};const modifiedParts=urlModifier(meaningfulParts)||meaningfulParts;return url_1.format({auth:modifiedParts.auth,hash:modifiedParts.hash,hostname:modifiedParts.hostname,pathname:modifiedParts.pathname,port:modifiedParts.port,protocol:modifiedParts.protocol,query:modifiedParts.query,slashes:modifiedParts.slashes})}exports.modifyUrl=modifyUrl;function isRelativeUrl(candidatePath){const all=url_1.parse(candidatePath,false,true);const{protocol:protocol,hostname:hostname,port:port}=all;if(protocol!==null||hostname!==null||port!==null){return false}return true}exports.isRelativeUrl=isRelativeUrl;function getUrlOrigin(url){const obj=url_1.parse(url);if(!obj.protocol&&!obj.hostname){return null}return`${obj.protocol}//${obj.hostname}${obj.port?`:${obj.port}`:""}`}exports.getUrlOrigin=getUrlOrigin},function(module,exports,__webpack_require__){(function(module,global){var __WEBPACK_AMD_DEFINE_RESULT__;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(root){var freeExports=true&&exports&&!exports.nodeType&&exports;var freeModule=true&&module&&!module.nodeType&&module;var freeGlobal=typeof global=="object"&&global;if(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal||freeGlobal.self===freeGlobal){root=freeGlobal}var punycode,maxInt=2147483647,base=36,tMin=1,tMax=26,skew=38,damp=700,initialBias=72,initialN=128,delimiter="-",regexPunycode=/^xn--/,regexNonASCII=/[^\x20-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},baseMinusTMin=base-tMin,floor=Math.floor,stringFromCharCode=String.fromCharCode,key;function error(type){throw new RangeError(errors[type])}function map(array,fn){var length=array.length;var result=[];while(length--){result[length]=fn(array[length])}return result}function mapDomain(string,fn){var parts=string.split("@");var result="";if(parts.length>1){result=parts[0]+"@";string=parts[1]}string=string.replace(regexSeparators,".");var labels=string.split(".");var encoded=map(labels,fn).join(".");return result+encoded}function ucs2decode(string){var output=[],counter=0,length=string.length,value,extra;while(counter<length){value=string.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<length){extra=string.charCodeAt(counter++);if((extra&64512)==56320){output.push(((value&1023)<<10)+(extra&1023)+65536)}else{output.push(value);counter--}}else{output.push(value)}}return output}function ucs2encode(array){return map(array,(function(value){var output="";if(value>65535){value-=65536;output+=stringFromCharCode(value>>>10&1023|55296);value=56320|value&1023}output+=stringFromCharCode(value);return output})).join("")}function basicToDigit(codePoint){if(codePoint-48<10){return codePoint-22}if(codePoint-65<26){return codePoint-65}if(codePoint-97<26){return codePoint-97}return base}function digitToBasic(digit,flag){return digit+22+75*(digit<26)-((flag!=0)<<5)}function adapt(delta,numPoints,firstTime){var k=0;delta=firstTime?floor(delta/damp):delta>>1;delta+=floor(delta/numPoints);for(;delta>baseMinusTMin*tMax>>1;k+=base){delta=floor(delta/baseMinusTMin)}return floor(k+(baseMinusTMin+1)*delta/(delta+skew))}function decode(input){var output=[],inputLength=input.length,out,i=0,n=initialN,bias=initialBias,basic,j,index,oldi,w,k,digit,t,baseMinusT;basic=input.lastIndexOf(delimiter);if(basic<0){basic=0}for(j=0;j<basic;++j){if(input.charCodeAt(j)>=128){error("not-basic")}output.push(input.charCodeAt(j))}for(index=basic>0?basic+1:0;index<inputLength;){for(oldi=i,w=1,k=base;;k+=base){if(index>=inputLength){error("invalid-input")}digit=basicToDigit(input.charCodeAt(index++));if(digit>=base||digit>floor((maxInt-i)/w)){error("overflow")}i+=digit*w;t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(digit<t){break}baseMinusT=base-t;if(w>floor(maxInt/baseMinusT)){error("overflow")}w*=baseMinusT}out=output.length+1;bias=adapt(i-oldi,out,oldi==0);if(floor(i/out)>maxInt-n){error("overflow")}n+=floor(i/out);i%=out;output.splice(i++,0,n)}return ucs2encode(output)}function encode(input){var n,delta,handledCPCount,basicLength,bias,j,m,q,k,t,currentValue,output=[],inputLength,handledCPCountPlusOne,baseMinusT,qMinusT;input=ucs2decode(input);inputLength=input.length;n=initialN;delta=0;bias=initialBias;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<128){output.push(stringFromCharCode(currentValue))}}handledCPCount=basicLength=output.length;if(basicLength){output.push(delimiter)}while(handledCPCount<inputLength){for(m=maxInt,j=0;j<inputLength;++j){currentValue=input[j];if(currentValue>=n&&currentValue<m){m=currentValue}}handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/handledCPCountPlusOne)){error("overflow")}delta+=(m-n)*handledCPCountPlusOne;n=m;for(j=0;j<inputLength;++j){currentValue=input[j];if(currentValue<n&&++delta>maxInt){error("overflow")}if(currentValue==n){for(q=delta,k=base;;k+=base){t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(q<t){break}qMinusT=q-t;baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0)));q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q,0)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount}}++delta;++n}return output.join("")}function toUnicode(input){return mapDomain(input,(function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string}))}function toASCII(input){return mapDomain(input,(function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string}))}punycode={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:toASCII,toUnicode:toUnicode};if(true){!(__WEBPACK_AMD_DEFINE_RESULT__=function(){return punycode}.call(exports,__webpack_require__,exports,module),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{}})(this)}).call(this,__webpack_require__(152)(module),__webpack_require__(63))},function(module,exports){module.exports=function(module){if(!module.webpackPolyfill){module.deprecate=function(){};module.paths=[];if(!module.children)module.children=[];Object.defineProperty(module,"loaded",{enumerable:true,get:function(){return module.l}});Object.defineProperty(module,"id",{enumerable:true,get:function(){return module.i}});module.webpackPolyfill=1}return module}},function(module,exports,__webpack_require__){"use strict";module.exports={isString:function(arg){return typeof arg==="string"},isObject:function(arg){return typeof arg==="object"&&arg!==null},isNull:function(arg){return arg===null},isNullOrUndefined:function(arg){return arg==null}}},function(module,exports,__webpack_require__){"use strict";exports.decode=exports.parse=__webpack_require__(155);exports.encode=exports.stringify=__webpack_require__(156)},function(module,exports,__webpack_require__){"use strict";function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}module.exports=function(qs,sep,eq,options){sep=sep||"&";eq=eq||"=";var obj={};if(typeof qs!=="string"||qs.length===0){return obj}var regexp=/\+/g;qs=qs.split(sep);var maxKeys=1e3;if(options&&typeof options.maxKeys==="number"){maxKeys=options.maxKeys}var len=qs.length;if(maxKeys>0&&len>maxKeys){len=maxKeys}for(var i=0;i<len;++i){var x=qs[i].replace(regexp,"%20"),idx=x.indexOf(eq),kstr,vstr,k,v;if(idx>=0){kstr=x.substr(0,idx);vstr=x.substr(idx+1)}else{kstr=x;vstr=""}k=decodeURIComponent(kstr);v=decodeURIComponent(vstr);if(!hasOwnProperty(obj,k)){obj[k]=v}else if(isArray(obj[k])){obj[k].push(v)}else{obj[k]=[obj[k],v]}}return obj};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==="[object Array]"}},function(module,exports,__webpack_require__){"use strict";var stringifyPrimitive=function(v){switch(typeof v){case"string":return v;case"boolean":return v?"true":"false";case"number":return isFinite(v)?v:"";default:return""}};module.exports=function(obj,sep,eq,name){sep=sep||"&";eq=eq||"=";if(obj===null){obj=undefined}if(typeof obj==="object"){return map(objectKeys(obj),(function(k){var ks=encodeURIComponent(stringifyPrimitive(k))+eq;if(isArray(obj[k])){return map(obj[k],(function(v){return ks+encodeURIComponent(stringifyPrimitive(v))})).join(sep)}else{return ks+encodeURIComponent(stringifyPrimitive(obj[k]))}})).join(sep)}if(!name)return"";return encodeURIComponent(stringifyPrimitive(name))+eq+encodeURIComponent(stringifyPrimitive(obj))};var isArray=Array.isArray||function(xs){return Object.prototype.toString.call(xs)==="[object Array]"};function map(xs,f){if(xs.map)return xs.map(f);var res=[];for(var i=0;i<xs.length;i++){res.push(f(xs[i],i))}return res}var objectKeys=Object.keys||function(obj){var res=[];for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))res.push(key)}return res}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.unset=void 0;const get_1=__webpack_require__(128);function unset(obj,atPath){const paths=atPath.split(".").map(s=>s.trim()).filter(v=>v!=="");if(paths.length===0){return}if(paths.length===1){delete obj[paths[0]];return}const property=paths.pop();const parent=get_1.get(obj,paths);if(parent!==undefined){delete parent[property]}}exports.unset=unset},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getFlattenedObject=void 0;function shouldReadKeys(value){return typeof value==="object"&&value!==null&&!Array.isArray(value)}function getFlattenedObject(rootValue){if(!shouldReadKeys(rootValue)){throw new TypeError(`Root value is not flatten-able, received ${rootValue}`)}const result={};(function flatten(prefix,object){for(const[key,value]of Object.entries(object)){const path=prefix?`${prefix}.${key}`:key;if(shouldReadKeys(value)){flatten(path,value)}else{result[path]=value}}})("",rootValue);return result}exports.getFlattenedObject=getFlattenedObject},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ensureNoUnsafeProperties=void 0;const hasOwnProperty=(obj,property)=>Object.prototype.hasOwnProperty.call(obj,property);const isObject=obj=>typeof obj==="object"&&obj!==null;function ensureNoUnsafeProperties(obj){if(!isObject(obj)){return}const stack=[{value:obj,previousKey:null}];const seen=new WeakSet([obj]);while(stack.length>0){const{value:value,previousKey:previousKey}=stack.pop();if(!isObject(value)){continue}if(hasOwnProperty(value,"__proto__")){throw new Error(`'__proto__' is an invalid key`)}if(hasOwnProperty(value,"prototype")&&previousKey==="constructor"){throw new Error(`'constructor.prototype' is an invalid key`)}const entries=Object.entries(value);for(let i=entries.length-1;i>=0;--i){const[key,childValue]=entries[i];if(isObject(childValue)){if(seen.has(childValue)){throw new Error("circular reference detected")}seen.add(childValue)}stack.push({value:childValue,previousKey:key})}}}exports.ensureNoUnsafeProperties=ensureNoUnsafeProperties},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.lastValueFrom=exports.firstValueFrom=void 0;const operators_1=__webpack_require__(103);function firstValueFrom(source){return source.pipe(operators_1.first()).toPromise()}exports.firstValueFrom=firstValueFrom;function lastValueFrom(source){return source.pipe(operators_1.last()).toPromise()}exports.lastValueFrom=lastValueFrom},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _index=__webpack_require__(118);Object.defineProperty(exports,"AllSubstringsIndexStrategy",{enumerable:true,get:function get(){return _index.AllSubstringsIndexStrategy}});Object.defineProperty(exports,"ExactWordIndexStrategy",{enumerable:true,get:function get(){return _index.ExactWordIndexStrategy}});Object.defineProperty(exports,"PrefixIndexStrategy",{enumerable:true,get:function get(){return _index.PrefixIndexStrategy}});var _index2=__webpack_require__(119);Object.defineProperty(exports,"CaseSensitiveSanitizer",{enumerable:true,get:function get(){return _index2.CaseSensitiveSanitizer}});Object.defineProperty(exports,"LowerCaseSanitizer",{enumerable:true,get:function get(){return _index2.LowerCaseSanitizer}});var _index3=__webpack_require__(130);Object.defineProperty(exports,"TfIdfSearchIndex",{enumerable:true,get:function get(){return _index3.TfIdfSearchIndex}});Object.defineProperty(exports,"UnorderedSearchIndex",{enumerable:true,get:function get(){return _index3.UnorderedSearchIndex}});var _index4=__webpack_require__(132);Object.defineProperty(exports,"SimpleTokenizer",{enumerable:true,get:function get(){return _index4.SimpleTokenizer}});Object.defineProperty(exports,"StemmingTokenizer",{enumerable:true,get:function get(){return _index4.StemmingTokenizer}});Object.defineProperty(exports,"StopWordsTokenizer",{enumerable:true,get:function get(){return _index4.StopWordsTokenizer}});var _Search=__webpack_require__(172);Object.defineProperty(exports,"Search",{enumerable:true,get:function get(){return _Search.Search}});var _StopWordsMap=__webpack_require__(133);Object.defineProperty(exports,"StopWordsMap",{enumerable:true,get:function get(){return _StopWordsMap.StopWordsMap}});var _TokenHighlighter=__webpack_require__(173);Object.defineProperty(exports,"TokenHighlighter",{enumerable:true,get:function get(){return _TokenHighlighter.TokenHighlighter}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var AllSubstringsIndexStrategy=exports.AllSubstringsIndexStrategy=function(){function AllSubstringsIndexStrategy(){_classCallCheck(this,AllSubstringsIndexStrategy)}_createClass(AllSubstringsIndexStrategy,[{key:"expandToken",value:function expandToken(token){var expandedTokens=[];var string;for(var i=0,length=token.length;i<length;++i){string="";for(var j=i;j<length;++j){string+=token.charAt(j);expandedTokens.push(string)}}return expandedTokens}}]);return AllSubstringsIndexStrategy}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var ExactWordIndexStrategy=exports.ExactWordIndexStrategy=function(){function ExactWordIndexStrategy(){_classCallCheck(this,ExactWordIndexStrategy)}_createClass(ExactWordIndexStrategy,[{key:"expandToken",value:function expandToken(token){return token?[token]:[]}}]);return ExactWordIndexStrategy}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var PrefixIndexStrategy=exports.PrefixIndexStrategy=function(){function PrefixIndexStrategy(){_classCallCheck(this,PrefixIndexStrategy)}_createClass(PrefixIndexStrategy,[{key:"expandToken",value:function expandToken(token){var expandedTokens=[];var string="";for(var i=0,length=token.length;i<length;++i){string+=token.charAt(i);expandedTokens.push(string)}return expandedTokens}}]);return PrefixIndexStrategy}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var CaseSensitiveSanitizer=exports.CaseSensitiveSanitizer=function(){function CaseSensitiveSanitizer(){_classCallCheck(this,CaseSensitiveSanitizer)}_createClass(CaseSensitiveSanitizer,[{key:"sanitize",value:function sanitize(text){return text?text.trim():""}}]);return CaseSensitiveSanitizer}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var LowerCaseSanitizer=exports.LowerCaseSanitizer=function(){function LowerCaseSanitizer(){_classCallCheck(this,LowerCaseSanitizer)}_createClass(LowerCaseSanitizer,[{key:"sanitize",value:function sanitize(text){return text?text.toLocaleLowerCase().trim():""}}]);return LowerCaseSanitizer}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TfIdfSearchIndex=undefined;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _getNestedFieldValue=__webpack_require__(131);var _getNestedFieldValue2=_interopRequireDefault(_getNestedFieldValue);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var TfIdfSearchIndex=exports.TfIdfSearchIndex=function(){function TfIdfSearchIndex(uidFieldName){_classCallCheck(this,TfIdfSearchIndex);this._uidFieldName=uidFieldName;this._tokenToIdfCache={};this._tokenMap={}}_createClass(TfIdfSearchIndex,[{key:"indexDocument",value:function indexDocument(token,uid,doc){this._tokenToIdfCache={};var tokenMap=this._tokenMap;var tokenDatum;if(_typeof(tokenMap[token])!=="object"){tokenMap[token]=tokenDatum={$numDocumentOccurrences:0,$totalNumOccurrences:1,$uidMap:{}}}else{tokenDatum=tokenMap[token];tokenDatum.$totalNumOccurrences++}var uidMap=tokenDatum.$uidMap;if(_typeof(uidMap[uid])!=="object"){tokenDatum.$numDocumentOccurrences++;uidMap[uid]={$document:doc,$numTokenOccurrences:1}}else{uidMap[uid].$numTokenOccurrences++}}},{key:"search",value:function search(tokens,corpus){var uidToDocumentMap={};for(var i=0,numTokens=tokens.length;i<numTokens;i++){var token=tokens[i];var tokenMetadata=this._tokenMap[token];if(!tokenMetadata){return[]}if(i===0){var keys=Object.keys(tokenMetadata.$uidMap);for(var j=0,numKeys=keys.length;j<numKeys;j++){var uid=keys[j];uidToDocumentMap[uid]=tokenMetadata.$uidMap[uid].$document}}else{var keys=Object.keys(uidToDocumentMap);for(var j=0,numKeys=keys.length;j<numKeys;j++){var uid=keys[j];if(_typeof(tokenMetadata.$uidMap[uid])!=="object"){delete uidToDocumentMap[uid]}}}}var documents=[];for(var uid in uidToDocumentMap){documents.push(uidToDocumentMap[uid])}var calculateTfIdf=this._createCalculateTfIdf();return documents.sort((function(documentA,documentB){return calculateTfIdf(tokens,documentB,corpus)-calculateTfIdf(tokens,documentA,corpus)}))}},{key:"_createCalculateIdf",value:function _createCalculateIdf(){var tokenMap=this._tokenMap;var tokenToIdfCache=this._tokenToIdfCache;return function calculateIdf(token,documents){if(!tokenToIdfCache[token]){var numDocumentsWithToken=typeof tokenMap[token]!=="undefined"?tokenMap[token].$numDocumentOccurrences:0;tokenToIdfCache[token]=1+Math.log(documents.length/(1+numDocumentsWithToken))}return tokenToIdfCache[token]}}},{key:"_createCalculateTfIdf",value:function _createCalculateTfIdf(){var tokenMap=this._tokenMap;var uidFieldName=this._uidFieldName;var calculateIdf=this._createCalculateIdf();return function calculateTfIdf(tokens,document,documents){var score=0;for(var i=0,numTokens=tokens.length;i<numTokens;++i){var token=tokens[i];var inverseDocumentFrequency=calculateIdf(token,documents);if(inverseDocumentFrequency===Infinity){inverseDocumentFrequency=0}var uid;if(uidFieldName instanceof Array){uid=document&&(0,_getNestedFieldValue2.default)(document,uidFieldName)}else{uid=document&&document[uidFieldName]}var termFrequency=typeof tokenMap[token]!=="undefined"&&typeof tokenMap[token].$uidMap[uid]!=="undefined"?tokenMap[token].$uidMap[uid].$numTokenOccurrences:0;score+=termFrequency*inverseDocumentFrequency}return score}}}]);return TfIdfSearchIndex}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var UnorderedSearchIndex=exports.UnorderedSearchIndex=function(){function UnorderedSearchIndex(){_classCallCheck(this,UnorderedSearchIndex);this._tokenToUidToDocumentMap={}}_createClass(UnorderedSearchIndex,[{key:"indexDocument",value:function indexDocument(token,uid,doc){if(_typeof(this._tokenToUidToDocumentMap[token])!=="object"){this._tokenToUidToDocumentMap[token]={}}this._tokenToUidToDocumentMap[token][uid]=doc}},{key:"search",value:function search(tokens,corpus){var intersectingDocumentMap={};var tokenToUidToDocumentMap=this._tokenToUidToDocumentMap;for(var i=0,numTokens=tokens.length;i<numTokens;i++){var token=tokens[i];var documentMap=tokenToUidToDocumentMap[token];if(!documentMap){return[]}if(i===0){var keys=Object.keys(documentMap);for(var j=0,numKeys=keys.length;j<numKeys;j++){var uid=keys[j];intersectingDocumentMap[uid]=documentMap[uid]}}else{var keys=Object.keys(intersectingDocumentMap);for(var j=0,numKeys=keys.length;j<numKeys;j++){var uid=keys[j];if(_typeof(documentMap[uid])!=="object"){delete intersectingDocumentMap[uid]}}}}var keys=Object.keys(intersectingDocumentMap);var documents=[];for(var i=0,numKeys=keys.length;i<numKeys;i++){var uid=keys[i];documents.push(intersectingDocumentMap[uid])}return documents}}]);return UnorderedSearchIndex}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var REGEX=/[^a-z-0-9\-']+/i;var SimpleTokenizer=exports.SimpleTokenizer=function(){function SimpleTokenizer(){_classCallCheck(this,SimpleTokenizer)}_createClass(SimpleTokenizer,[{key:"tokenize",value:function tokenize(text){return text.split(REGEX).filter((function(text){return text}))}}]);return SimpleTokenizer}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var StemmingTokenizer=exports.StemmingTokenizer=function(){function StemmingTokenizer(stemmingFunction,decoratedTokenizer){_classCallCheck(this,StemmingTokenizer);this._stemmingFunction=stemmingFunction;this._tokenizer=decoratedTokenizer}_createClass(StemmingTokenizer,[{key:"tokenize",value:function tokenize(text){return this._tokenizer.tokenize(text).map(this._stemmingFunction)}}]);return StemmingTokenizer}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StopWordsTokenizer=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _StopWordsMap=__webpack_require__(133);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var StopWordsTokenizer=exports.StopWordsTokenizer=function(){function StopWordsTokenizer(decoratedTokenizer){_classCallCheck(this,StopWordsTokenizer);this._tokenizer=decoratedTokenizer}_createClass(StopWordsTokenizer,[{key:"tokenize",value:function tokenize(text){return this._tokenizer.tokenize(text).filter((function(token){return!_StopWordsMap.StopWordsMap[token]}))}}]);return StopWordsTokenizer}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Search=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _getNestedFieldValue=__webpack_require__(131);var _getNestedFieldValue2=_interopRequireDefault(_getNestedFieldValue);var _index=__webpack_require__(118);var _index2=__webpack_require__(119);var _index3=__webpack_require__(130);var _index4=__webpack_require__(132);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Search=exports.Search=function(){function Search(uidFieldName){_classCallCheck(this,Search);if(!uidFieldName){throw Error("js-search requires a uid field name constructor parameter")}this._uidFieldName=uidFieldName;this._indexStrategy=new _index.PrefixIndexStrategy;this._searchIndex=new _index3.TfIdfSearchIndex(uidFieldName);this._sanitizer=new _index2.LowerCaseSanitizer;this._tokenizer=new _index4.SimpleTokenizer;this._documents=[];this._searchableFields=[]}_createClass(Search,[{key:"addDocument",value:function addDocument(document){this.addDocuments([document])}},{key:"addDocuments",value:function addDocuments(documents){this._documents=this._documents.concat(documents);this.indexDocuments_(documents,this._searchableFields)}},{key:"addIndex",value:function addIndex(field){this._searchableFields.push(field);this.indexDocuments_(this._documents,[field])}},{key:"search",value:function search(query){var tokens=this._tokenizer.tokenize(this._sanitizer.sanitize(query));return this._searchIndex.search(tokens,this._documents)}},{key:"indexDocuments_",value:function indexDocuments_(documents,_searchableFields){this._initialized=true;var indexStrategy=this._indexStrategy;var sanitizer=this._sanitizer;var searchIndex=this._searchIndex;var tokenizer=this._tokenizer;var uidFieldName=this._uidFieldName;for(var di=0,numDocuments=documents.length;di<numDocuments;di++){var doc=documents[di];var uid;if(uidFieldName instanceof Array){uid=(0,_getNestedFieldValue2.default)(doc,uidFieldName)}else{uid=doc[uidFieldName]}for(var sfi=0,numSearchableFields=_searchableFields.length;sfi<numSearchableFields;sfi++){var fieldValue;var searchableField=_searchableFields[sfi];if(searchableField instanceof Array){fieldValue=(0,_getNestedFieldValue2.default)(doc,searchableField)}else{fieldValue=doc[searchableField]}if(fieldValue!=null&&typeof fieldValue!=="string"&&fieldValue.toString){fieldValue=fieldValue.toString()}if(typeof fieldValue==="string"){var fieldTokens=tokenizer.tokenize(sanitizer.sanitize(fieldValue));for(var fti=0,numFieldValues=fieldTokens.length;fti<numFieldValues;fti++){var fieldToken=fieldTokens[fti];var expandedTokens=indexStrategy.expandToken(fieldToken);for(var eti=0,nummExpandedTokens=expandedTokens.length;eti<nummExpandedTokens;eti++){var expandedToken=expandedTokens[eti];searchIndex.indexDocument(expandedToken,uid,doc)}}}}}}},{key:"indexStrategy",set:function set(value){if(this._initialized){throw Error("IIndexStrategy cannot be set after initialization")}this._indexStrategy=value},get:function get(){return this._indexStrategy}},{key:"sanitizer",set:function set(value){if(this._initialized){throw Error("ISanitizer cannot be set after initialization")}this._sanitizer=value},get:function get(){return this._sanitizer}},{key:"searchIndex",set:function set(value){if(this._initialized){throw Error("ISearchIndex cannot be set after initialization")}this._searchIndex=value},get:function get(){return this._searchIndex}},{key:"tokenizer",set:function set(value){if(this._initialized){throw Error("ITokenizer cannot be set after initialization")}this._tokenizer=value},get:function get(){return this._tokenizer}}]);return Search}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TokenHighlighter=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _index=__webpack_require__(118);var _index2=__webpack_require__(119);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var TokenHighlighter=exports.TokenHighlighter=function(){function TokenHighlighter(opt_indexStrategy,opt_sanitizer,opt_wrapperTagName){_classCallCheck(this,TokenHighlighter);this._indexStrategy=opt_indexStrategy||new _index.PrefixIndexStrategy;this._sanitizer=opt_sanitizer||new _index2.LowerCaseSanitizer;this._wrapperTagName=opt_wrapperTagName||"mark"}_createClass(TokenHighlighter,[{key:"highlight",value:function highlight(text,tokens){var tagsLength=this._wrapText("").length;var tokenDictionary=Object.create(null);for(var i=0,numTokens=tokens.length;i<numTokens;i++){var token=this._sanitizer.sanitize(tokens[i]);var expandedTokens=this._indexStrategy.expandToken(token);for(var j=0,numExpandedTokens=expandedTokens.length;j<numExpandedTokens;j++){var expandedToken=expandedTokens[j];if(!tokenDictionary[expandedToken]){tokenDictionary[expandedToken]=[token]}else{tokenDictionary[expandedToken].push(token)}}}var actualCurrentWord="";var sanitizedCurrentWord="";var currentWordStartIndex=0;for(var i=0,textLength=text.length;i<textLength;i++){var character=text.charAt(i);if(character===" "){actualCurrentWord="";sanitizedCurrentWord="";currentWordStartIndex=i+1}else{actualCurrentWord+=character;sanitizedCurrentWord+=this._sanitizer.sanitize(character)}if(tokenDictionary[sanitizedCurrentWord]&&tokenDictionary[sanitizedCurrentWord].indexOf(sanitizedCurrentWord)>=0){actualCurrentWord=this._wrapText(actualCurrentWord);text=text.substring(0,currentWordStartIndex)+actualCurrentWord+text.substring(i+1);i+=tagsLength;textLength+=tagsLength}}return text}},{key:"_wrapText",value:function _wrapText(text){var tagName=this._wrapperTagName;return"<"+tagName+">"+text+"</"+tagName+">"}}]);return TokenHighlighter}()},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var React=__webpack_require__(2);var isDev="production"!=="production";var NO_PROVIDER="_NP_";function createUseContext(context){return function(){var value=React.useContext(context);if(isDev&&value===NO_PROVIDER){console.warn("[constate] Component not wrapped within a Provider.")}return value}}function constate(useValue){for(var _len=arguments.length,splitValues=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){splitValues[_key-1]=arguments[_key]}var Context=React.createContext(NO_PROVIDER);var Provider=function Provider(props){var value=useValue(props);var createMemoDeps=splitValues[0];var deps=createMemoDeps&&createMemoDeps(value);if(isDev&&Array.isArray(deps)){console.warn("[constate] Passing `createMemoDeps` as the second argument is deprecated.","Please, use `React.useMemo` in your custom hook instead.","See https://github.com/diegohaz/constate/issues/98")}var memoizedValue=Array.isArray(deps)?React.useMemo((function(){return value}),deps):value;return React.createElement(Context.Provider,{value:memoizedValue},props.children)};if(isDev&&useValue.name){Context.displayName=useValue.name+".Context";Provider.displayName=useValue.name+".Provider"}var useContext=createUseContext(Context);useContext.Context=Context;useContext.Provider=Provider;var tuple=[];if(!splitValues.length){tuple.push(Provider,createUseContext(Context))}else{var contexts=[];var SplitProvider=function SplitProvider(props){var value=useValue(props);var children=props.children;for(var i=0;i<contexts.length;i+=1){var context=contexts[i];var splitValue=splitValues[i];children=React.createElement(context.Provider,{value:splitValue(value)},children)}return children};if(isDev&&useValue.name){SplitProvider.displayName=useValue.name+".Provider"}tuple.push(SplitProvider);for(var i=0;i<splitValues.length;i+=1){var context=React.createContext(NO_PROVIDER);contexts.push(context);tuple.push(createUseContext(context))}}for(var _i=0;_i<tuple.length;_i+=1){useContext[_i]=tuple[_i]}if(typeof Symbol==="function"&&Symbol.iterator){useContext[Symbol.iterator]=function(){return tuple[Symbol.iterator]()}}return useContext}exports.default=constate},function(module,exports,__webpack_require__){"use strict";module.exports=str=>encodeURIComponent(str).replace(/[!'()*]/g,x=>`%${x.charCodeAt(0).toString(16).toUpperCase()}`)},function(module,exports,__webpack_require__){"use strict";var token="%[a-f0-9]{2}";var singleMatcher=new RegExp(token,"gi");var multiMatcher=new RegExp("("+token+")+","gi");function decodeComponents(components,split){try{return decodeURIComponent(components.join(""))}catch(err){}if(components.length===1){return components}split=split||1;var left=components.slice(0,split);var right=components.slice(split);return Array.prototype.concat.call([],decodeComponents(left),decodeComponents(right))}function decode(input){try{return decodeURIComponent(input)}catch(err){var tokens=input.match(singleMatcher);for(var i=1;i<tokens.length;i++){input=decodeComponents(tokens,i).join("");tokens=input.match(singleMatcher)}return input}}function customDecodeURIComponent(input){var replaceMap={"%FE%FF":"","%FF%FE":""};var match=multiMatcher.exec(input);while(match){try{replaceMap[match[0]]=decodeURIComponent(match[0])}catch(err){var result=decode(match[0]);if(result!==match[0]){replaceMap[match[0]]=result}}match=multiMatcher.exec(input)}replaceMap["%C2"]="";var entries=Object.keys(replaceMap);for(var i=0;i<entries.length;i++){var key=entries[i];input=input.replace(new RegExp(key,"g"),replaceMap[key])}return input}module.exports=function(encodedURI){if(typeof encodedURI!=="string"){throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof encodedURI+"`")}try{encodedURI=encodedURI.replace(/\+/g," ");return decodeURIComponent(encodedURI)}catch(err){return customDecodeURIComponent(encodedURI)}}},function(module,exports,__webpack_require__){"use strict";module.exports=(string,separator)=>{if(!(typeof string==="string"&&typeof separator==="string")){throw new TypeError("Expected the arguments to be of type `string`")}if(separator===""){return[string]}const separatorIndex=string.indexOf(separator);if(separatorIndex===-1){return[string]}return[string.slice(0,separatorIndex),string.slice(separatorIndex+separator.length)]}}])]);