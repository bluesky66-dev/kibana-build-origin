(window["timelion_bundle_jsonpfunction"]=window["timelion_bundle_jsonpfunction"]||[]).push([[1],Array(22).concat([function(module,exports,__webpack_require__){"use strict";var arrays={range:function(start,stop){var length=stop-start,result=new Array(length),i,j;for(i=0,j=start;i<length;i++,j++){result[i]=j}return result},find:function(array,valueOrPredicate){var length=array.length,i;if(typeof valueOrPredicate==="function"){for(i=0;i<length;i++){if(valueOrPredicate(array[i])){return array[i]}}}else{for(i=0;i<length;i++){if(array[i]===valueOrPredicate){return array[i]}}}},indexOf:function(array,valueOrPredicate){var length=array.length,i;if(typeof valueOrPredicate==="function"){for(i=0;i<length;i++){if(valueOrPredicate(array[i])){return i}}}else{for(i=0;i<length;i++){if(array[i]===valueOrPredicate){return i}}}return-1},contains:function(array,valueOrPredicate){return arrays.indexOf(array,valueOrPredicate)!==-1},each:function(array,iterator){var length=array.length,i;for(i=0;i<length;i++){iterator(array[i],i)}},map:function(array,iterator){var length=array.length,result=new Array(length),i;for(i=0;i<length;i++){result[i]=iterator(array[i],i)}return result},pluck:function(array,key){return arrays.map(array,(function(e){return e[key]}))},every:function(array,predicate){var length=array.length,i;for(i=0;i<length;i++){if(!predicate(array[i])){return false}}return true},some:function(array,predicate){var length=array.length,i;for(i=0;i<length;i++){if(predicate(array[i])){return true}}return false}};module.exports=arrays},function(module,exports,__webpack_require__){"use strict";var objects=__webpack_require__(24),arrays=__webpack_require__(22);var visitor={build:function(functions){function visit(node){return functions[node.type].apply(null,arguments)}function visitNop(){}function visitExpression(node){var extraArgs=Array.prototype.slice.call(arguments,1);visit.apply(null,[node.expression].concat(extraArgs))}function visitChildren(property){return function(node){var extraArgs=Array.prototype.slice.call(arguments,1);arrays.each(node[property],(function(child){visit.apply(null,[child].concat(extraArgs))}))}}var DEFAULT_FUNCTIONS={grammar:function(node){var extraArgs=Array.prototype.slice.call(arguments,1);if(node.initializer){visit.apply(null,[node.initializer].concat(extraArgs))}arrays.each(node.rules,(function(rule){visit.apply(null,[rule].concat(extraArgs))}))},initializer:visitNop,rule:visitExpression,named:visitExpression,choice:visitChildren("alternatives"),action:visitExpression,sequence:visitChildren("elements"),labeled:visitExpression,text:visitExpression,simple_and:visitExpression,simple_not:visitExpression,optional:visitExpression,zero_or_more:visitExpression,one_or_more:visitExpression,group:visitExpression,semantic_and:visitNop,semantic_not:visitNop,rule_ref:visitNop,literal:visitNop,class:visitNop,any:visitNop};objects.defaults(functions,DEFAULT_FUNCTIONS);return visit}};module.exports=visitor},function(module,exports,__webpack_require__){"use strict";var objects={keys:function(object){var result=[],key;for(key in object){if(object.hasOwnProperty(key)){result.push(key)}}return result},values:function(object){var result=[],key;for(key in object){if(object.hasOwnProperty(key)){result.push(object[key])}}return result},clone:function(object){var result={},key;for(key in object){if(object.hasOwnProperty(key)){result[key]=object[key]}}return result},defaults:function(object,defaults){var key;for(key in defaults){if(defaults.hasOwnProperty(key)){if(!(key in object)){object[key]=defaults[key]}}}}};module.exports=objects},function(module,exports,__webpack_require__){"use strict";var classes=__webpack_require__(47);function GrammarError(message,location){this.name="GrammarError";this.message=message;this.location=location;if(typeof Error.captureStackTrace==="function"){Error.captureStackTrace(this,GrammarError)}}classes.subclass(GrammarError,Error);module.exports=GrammarError},function(module,exports,__webpack_require__){"use strict";var arrays=__webpack_require__(22),visitor=__webpack_require__(23);var asts={findRule:function(ast,name){return arrays.find(ast.rules,(function(r){return r.name===name}))},indexOfRule:function(ast,name){return arrays.indexOf(ast.rules,(function(r){return r.name===name}))},alwaysConsumesOnSuccess:function(ast,node){function consumesTrue(){return true}function consumesFalse(){return false}function consumesExpression(node){return consumes(node.expression)}var consumes=visitor.build({rule:consumesExpression,named:consumesExpression,choice:function(node){return arrays.every(node.alternatives,consumes)},action:consumesExpression,sequence:function(node){return arrays.some(node.elements,consumes)},labeled:consumesExpression,text:consumesExpression,simple_and:consumesFalse,simple_not:consumesFalse,optional:consumesFalse,zero_or_more:consumesFalse,one_or_more:consumesExpression,group:consumesExpression,semantic_and:consumesFalse,semantic_not:consumesFalse,rule_ref:function(node){return consumes(asts.findRule(ast,node.name))},literal:function(node){return node.value!==""},class:consumesTrue,any:consumesTrue});return consumes(node)}};module.exports=asts},function(module,exports,__webpack_require__){"use strict";var isOldIE=function isOldIE(){var memo;return function memorize(){if(typeof memo==="undefined"){memo=Boolean(window&&document&&document.all&&!window.atob)}return memo}}();var getTarget=function getTarget(){var memo={};return function memorize(target){if(typeof memo[target]==="undefined"){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement){try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}}memo[target]=styleTarget}return memo[target]}}();var stylesInDom=[];function getIndexByIdentifier(identifier){var result=-1;for(var i=0;i<stylesInDom.length;i++){if(stylesInDom[i].identifier===identifier){result=i;break}}return result}function modulesToDom(list,options){var idCountMap={};var identifiers=[];for(var i=0;i<list.length;i++){var item=list[i];var id=options.base?item[0]+options.base:item[0];var count=idCountMap[id]||0;var identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier);var obj={css:item[1],media:item[2],sourceMap:item[3]};if(index!==-1){stylesInDom[index].references++;stylesInDom[index].updater(obj)}else{stylesInDom.push({identifier:identifier,updater:addStyle(obj,options),references:1})}identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement("style");var attributes=options.attributes||{};if(typeof attributes.nonce==="undefined"){var nonce=true?__webpack_require__.nc:undefined;if(nonce){attributes.nonce=nonce}}Object.keys(attributes).forEach((function(key){style.setAttribute(key,attributes[key])}));if(typeof options.insert==="function"){options.insert(style)}else{var target=getTarget(options.insert||"head");if(!target){throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.")}target.appendChild(style)}return style}function removeStyleElement(style){if(style.parentNode===null){return false}style.parentNode.removeChild(style)}var replaceText=function replaceText(){var textStore=[];return function replace(index,replacement){textStore[index]=replacement;return textStore.filter(Boolean).join("\n")}}();function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.media?"@media ".concat(obj.media," {").concat(obj.css,"}"):obj.css;if(style.styleSheet){style.styleSheet.cssText=replaceText(index,css)}else{var cssNode=document.createTextNode(css);var childNodes=style.childNodes;if(childNodes[index]){style.removeChild(childNodes[index])}if(childNodes.length){style.insertBefore(cssNode,childNodes[index])}else{style.appendChild(cssNode)}}}function applyToTag(style,options,obj){var css=obj.css;var media=obj.media;var sourceMap=obj.sourceMap;if(media){style.setAttribute("media",media)}else{style.removeAttribute("media")}if(sourceMap&&btoa){css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")}if(style.styleSheet){style.styleSheet.cssText=css}else{while(style.firstChild){style.removeChild(style.firstChild)}style.appendChild(document.createTextNode(css))}}var singleton=null;var singletonCounter=0;function addStyle(obj,options){var style;var update;var remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options));update=applyToSingletonTag.bind(null,style,styleIndex,false);remove=applyToSingletonTag.bind(null,style,styleIndex,true)}else{style=insertStyleElement(options);update=applyToTag.bind(null,style,options);remove=function remove(){removeStyleElement(style)}}update(obj);return function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap){return}update(obj=newObj)}else{remove()}}}module.exports=function(list,options){options=options||{};if(!options.singleton&&typeof options.singleton!=="boolean"){options.singleton=isOldIE()}list=list||[];var lastIdentifiers=modulesToDom(list,options);return function update(newList){newList=newList||[];if(Object.prototype.toString.call(newList)!=="[object Array]"){return}for(var i=0;i<lastIdentifiers.length;i++){var identifier=lastIdentifiers[i];var index=getIndexByIdentifier(identifier);stylesInDom[index].references--}var newLastIdentifiers=modulesToDom(newList,options);for(var _i=0;_i<lastIdentifiers.length;_i++){var _identifier=lastIdentifiers[_i];var _index=getIndexByIdentifier(_identifier);if(stylesInDom[_index].references===0){stylesInDom[_index].updater();stylesInDom.splice(_index,1)}}lastIdentifiers=newLastIdentifiers}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(useSourceMap){var list=[];list.toString=function toString(){return this.map((function(item){var content=cssWithMappingToString(item,useSourceMap);if(item[2]){return"@media ".concat(item[2]," {").concat(content,"}")}return content})).join("")};list.i=function(modules,mediaQuery,dedupe){if(typeof modules==="string"){modules=[[null,modules,""]]}var alreadyImportedModules={};if(dedupe){for(var i=0;i<this.length;i++){var id=this[i][0];if(id!=null){alreadyImportedModules[id]=true}}}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);if(dedupe&&alreadyImportedModules[item[0]]){continue}if(mediaQuery){if(!item[2]){item[2]=mediaQuery}else{item[2]="".concat(mediaQuery," and ").concat(item[2])}}list.push(item)}};return list};function cssWithMappingToString(item,useSourceMap){var content=item[1]||"";var cssMapping=item[3];if(!cssMapping){return content}if(useSourceMap&&typeof btoa==="function"){var sourceMapping=toComment(cssMapping);var sourceURLs=cssMapping.sources.map((function(source){return"/*# sourceURL=".concat(cssMapping.sourceRoot||"").concat(source," */")}));return[content].concat(sourceURLs).concat([sourceMapping]).join("\n")}return[content].join("\n")}function toComment(sourceMap){var base64=btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));var data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);return"/*# ".concat(data," */")}},function(module,exports,__webpack_require__){"use strict";var opcodes={PUSH:0,PUSH_UNDEFINED:1,PUSH_NULL:2,PUSH_FAILED:3,PUSH_EMPTY_ARRAY:4,PUSH_CURR_POS:5,POP:6,POP_CURR_POS:7,POP_N:8,NIP:9,APPEND:10,WRAP:11,TEXT:12,IF:13,IF_ERROR:14,IF_NOT_ERROR:15,WHILE_NOT_ERROR:16,MATCH_ANY:17,MATCH_STRING:18,MATCH_STRING_IC:19,MATCH_REGEXP:20,ACCEPT_N:21,ACCEPT_STRING:22,FAIL:23,LOAD_SAVED_POS:24,UPDATE_SAVED_POS:25,CALL:26,RULE:27,SILENT_FAILS_ON:28,SILENT_FAILS_OFF:29};module.exports=opcodes},function(module,exports,__webpack_require__){"use strict";function hex(ch){return ch.charCodeAt(0).toString(16).toUpperCase()}var js={stringEscape:function(s){return s.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(ch){return"\\x0"+hex(ch)})).replace(/[\x10-\x1F\x7F-\xFF]/g,(function(ch){return"\\x"+hex(ch)})).replace(/[\u0100-\u0FFF]/g,(function(ch){return"\\u0"+hex(ch)})).replace(/[\u1000-\uFFFF]/g,(function(ch){return"\\u"+hex(ch)}))},regexpClassEscape:function(s){return s.replace(/\\/g,"\\\\").replace(/\//g,"\\/").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\v/g,"\\x0B").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(ch){return"\\x0"+hex(ch)})).replace(/[\x10-\x1F\x7F-\xFF]/g,(function(ch){return"\\x"+hex(ch)})).replace(/[\u0100-\u0FFF]/g,(function(ch){return"\\u0"+hex(ch)})).replace(/[\u1000-\uFFFF]/g,(function(ch){return"\\u"+hex(ch)}))}};module.exports=js},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(32);case"v7light":return __webpack_require__(34);case"v8dark":return __webpack_require__(36);case"v8light":return __webpack_require__(38)}},function(module,exports,__webpack_require__){var api=__webpack_require__(27);var content=__webpack_require__(33);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(28);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,"/* Timelion plugin styles */\n.timApp {\n  position: relative;\n  background: #1D1E24; }\n  .timApp [ng-click] {\n    cursor: pointer; }\n\n.timApp__container {\n  margin: 12px; }\n\n.timApp__menus {\n  margin: 12px; }\n\n.timApp__title {\n  display: flex;\n  align-items: center;\n  padding: 12px 8px;\n  font-size: 16px;\n  font-weight: 700;\n  border-bottom: 1px solid #343741;\n  flex-grow: 1;\n  background-color: #1D1E24; }\n\n.timApp__stats {\n  font-weight: 400;\n  color: #535966; }\n\n.timApp__form {\n  display: flex;\n  align-items: flex-start;\n  margin-top: 16px;\n  margin-bottom: 16px; }\n\n.timApp__expression {\n  display: flex;\n  flex: 1;\n  margin-right: 8px; }\n\n.timApp__button {\n  margin-top: 8px;\n  padding: 4px 12px;\n  font-size: 16px;\n  border: none;\n  border-radius: 4px;\n  color: #1D1E24;\n  background-color: #1BA9F5; }\n\n.timApp__button--secondary {\n  margin-top: 8px;\n  padding: 4px 12px;\n  font-size: 16px;\n  border: 1px solid #1BA9F5;\n  border-radius: 4px;\n  color: #1BA9F5;\n  width: 100%; }\n\n.timApp__sectionTitle {\n  margin-bottom: 12px;\n  font-size: 18px;\n  color: #D4DAE5; }\n\n.timApp__helpText {\n  margin-bottom: 16px;\n  font-size: 14px;\n  color: #98A2B3; }\n\n.timApp__label {\n  font-size: 16px;\n  line-height: 1.5;\n  font-weight: 700; }\n\n.ng-invalid.ng-dirty, .ng-invalid.ng-touched {\n  border-color: #F66; }\n\ninput[type='radio'][disabled],\nfieldset[disabled] input[type='radio'],\ninput[type='checkbox'][disabled],\nfieldset[disabled]\ninput[type='checkbox'],\n.radio[disabled],\nfieldset[disabled]\n.radio,\n.checkbox[disabled],\nfieldset[disabled]\n.checkbox {\n  cursor: default;\n  opacity: .8; }\n\n/**\n * 1. Anchor suggestions beneath input.\n * 2. Allow for option of positioning suggestions absolutely.\n */\n.timExpressionInput__container {\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: column;\n  /* 1 */\n  position: relative;\n  /* 2 */ }\n\n.timExpressionInput {\n  min-height: 70px; }\n\n.timCell {\n  display: inline-block;\n  cursor: pointer;\n  position: relative;\n  box-sizing: border-box;\n  border: 2px dashed transparent;\n  padding-left: 0 !important;\n  padding-right: 0 !important;\n  margin-bottom: 12px; }\n  .timCell.active {\n    border-color: #343741; }\n\n.timCell.running {\n  opacity: .5; }\n\n.timCell__actions {\n  position: absolute;\n  bottom: 4px;\n  left: 4px; }\n  .timCell__actions > .timCell__action,\n  .timCell__actions > .timCell__id {\n    font-size: 12px;\n    font-size: 0.75rem;\n    line-height: 1.5;\n    font-weight: 700;\n    color: #535966;\n    display: inline-block;\n    text-align: center;\n    width: 24px;\n    height: 24px;\n    border-radius: 12px;\n    border: 1px solid #343741;\n    background-color: #25262E;\n    z-index: 1000; }\n  .timCell__actions > .timCell__action {\n    opacity: 0; }\n    .timCell__actions > .timCell__action:focus {\n      opacity: 1; }\n    .timCell__actions > .timCell__action:hover, .timCell__actions > .timCell__action:focus {\n      color: #DFE5EF;\n      border-color: #535966;\n      background-color: #343741; }\n\n.timCell:hover .timCell__action {\n  opacity: 1; }\n\n.timSuggestions {\n  box-shadow: 0 6px 12px -1px rgba(0, 0, 0, 0.2), 0 4px 4px -1px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.2);\n  background-color: #25262E;\n  color: #DFE5EF;\n  border: 1px solid #343741;\n  border-radius: 0 0 4px 4px !important;\n  z-index: 9000;\n  max-height: 320px;\n  overflow-y: auto; }\n  .timSuggestions.timSuggestions-isPopover {\n    position: absolute;\n    top: 100%; }\n\n.timSuggestions__item {\n  border-bottom: 1px solid #343741;\n  padding: 4px 24px; }\n  .timSuggestions__item:hover, .timSuggestions__item.active {\n    background-color: #343741; }\n\n.timSuggestions__details {\n  background-color: #25262E;\n  padding: 12px;\n  border-radius: 4px; }\n  .timSuggestions__details > table {\n    margin-bottom: 0; }\n\n.timHelp code {\n  background-color: rgba(223, 229, 239, 0.1); }\n\n.timHelp__buttons {\n  display: flex;\n  justify-content: space-between; }\n\n.timHelp__functions {\n  height: 320px;\n  overflow-y: auto; }\n\n.timHelp__links {\n  color: #1BA9F5; }\n  .timHelp__links:hover {\n    text-decoration: underline; }\n\n/**\n * 1. Override bootstrap .table styles.\n */\n.timHelp__functionsTableRow:hover,\n.timHelp__functionDetailsTable {\n  background-color: #25262E !important;\n  /* 1 */ }\n\ntimelion-interval {\n  display: flex; }\n\n.timInterval__input {\n  width: 64px;\n  padding: 4px 12px;\n  color: #D4DAE5;\n  border: 1px solid #343741;\n  border-radius: 4px;\n  transition: border-color .1s linear;\n  font-size: 14px; }\n\n.timInterval__input--compact {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0; }\n\n.timInterval__presets {\n  width: 96px; }\n\n.timInterval__presets--compact {\n  width: 32px;\n  padding-left: 0;\n  border-left: none;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0; }\n\n.list-group-menu.select-mode a {\n  outline: none;\n  color: #1898dd; }\n\n.list-group-menu .list-group-menu-item {\n  list-style: none;\n  color: #1898dd; }\n  .list-group-menu .list-group-menu-item.active {\n    font-weight: bold;\n    background-color: #343741; }\n  .list-group-menu .list-group-menu-item:hover {\n    background-color: #031119; }\n  .list-group-menu .list-group-menu-item li {\n    list-style: none;\n    color: #1898dd; }\n\nsaved-object-finder .timSearchBar {\n  display: flex;\n  align-items: center; }\n\nsaved-object-finder .timSearchBar__section {\n  position: relative;\n  margin-right: 16px;\n  flex: 1; }\n\nsaved-object-finder .timSearchBar__icon {\n  position: absolute;\n  top: 8px;\n  left: 8px;\n  font-size: 16px;\n  color: #98A2B3; }\n\nsaved-object-finder .timSearchBar__input {\n  padding: 8px 12px;\n  color: #D4DAE5;\n  background-color: #1D1E24;\n  border: 1px solid #343741;\n  border-radius: 4px;\n  transition: border-color .1s linear;\n  padding-left: 32px;\n  width: 100%;\n  font-size: 16px; }\n\nsaved-object-finder .timSearchBar__pagecount {\n  font-size: 16px;\n  color: #98A2B3; }\n\nsaved-object-finder .list-sort-button {\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n  border: none;\n  padding: 8px 16px;\n  font-weight: 400;\n  background-color: #25262E;\n  margin-top: 16px; }\n\nsaved-object-finder .li-striped li {\n  border: none; }\n\nsaved-object-finder .li-striped li:nth-child(even) {\n  background-color: #25262E; }\n\nsaved-object-finder .li-striped li:nth-child(odd) {\n  background-color: #1D1E24; }\n\nsaved-object-finder .li-striped .paginate-heading {\n  font-weight: 400;\n  color: #D4DAE5; }\n\nsaved-object-finder .li-striped .list-group-item {\n  padding: 8px 16px; }\n  saved-object-finder .li-striped .list-group-item ul {\n    padding: 0;\n    display: flex;\n    flex-direction: row; }\n    saved-object-finder .li-striped .list-group-item ul .finder-type {\n      margin-right: 8px; }\n  saved-object-finder .li-striped .list-group-item a {\n    display: block;\n    color: #1BA9F5; }\n    saved-object-finder .li-striped .list-group-item a i {\n      color: #1898dd;\n      margin-right: 8px; }\n  saved-object-finder .li-striped .list-group-item:first-child {\n    border-top-left-radius: 0;\n    border-top-right-radius: 0; }\n  saved-object-finder .li-striped .list-group-item.list-group-no-results p {\n    margin-bottom: 0; }\n\nsaved-object-finder paginate paginate-controls {\n  margin: 16px; }\n\n.form-control {\n  font-size: 14px;\n  font-size: 0.875rem;\n  line-height: 1.5;\n  display: block;\n  width: 100%;\n  height: 32px;\n  padding: 4px 12px;\n  border: 1px solid #343741;\n  background-color: #16171c;\n  color: #DFE5EF;\n  border-radius: 4px;\n  cursor: pointer; }\n  .form-control:not([type='range']) {\n    -webkit-appearance: none;\n            appearance: none; }\n  .form-control:focus {\n    border-color: #1BA9F5;\n    outline: none;\n    box-shadow: none; }\n\nselect.form-control {\n  background-image: url('data:image/svg+xml,%3Csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"%3E%3Cpath fill=\"rgb%28223, 229, 239%29\" d=\"M13.0688508,5.15725038 L8.38423975,9.76827428 C8.17054415,9.97861308 7.82999214,9.97914095 7.61576025,9.76827428 L2.93114915,5.15725038 C2.7181359,4.94758321 2.37277319,4.94758321 2.15975994,5.15725038 C1.94674669,5.36691756 1.94674669,5.70685522 2.15975994,5.9165224 L6.84437104,10.5275463 C7.48517424,11.1582836 8.51644979,11.1566851 9.15562896,10.5275463 L13.8402401,5.9165224 C14.0532533,5.70685522 14.0532533,5.36691756 13.8402401,5.15725038 C13.6272268,4.94758321 13.2818641,4.94758321 13.0688508,5.15725038 Z\"/%3E%3C/svg%3E');\n  background-size: 16px;\n  background-repeat: no-repeat;\n  background-position: calc(100% - 8px);\n  padding-right: 32px; }\n\n.fullWidth {\n  width: 100%; }\n\n.timDropdownWarning {\n  margin-bottom: 16px;\n  padding: 4px 8px;\n  color: #D4DAE5;\n  border-left: solid 2px #F66;\n  font-size: 12px; }\n\n.timFormCheckbox {\n  display: flex;\n  align-items: center;\n  line-height: 1.5;\n  position: relative; }\n\n.timFormCheckbox__input {\n  -webkit-appearance: none;\n          appearance: none;\n  background-color: #25262E;\n  border: 1px solid #343741;\n  border-radius: 4px;\n  width: 16px;\n  height: 16px;\n  font-size: 12px;\n  transition: background-color .1s linear; }\n\n.timFormCheckbox__input:checked {\n  border-color: #1BA9F5;\n  background-color: #1BA9F5; }\n\n.timFormCheckbox__icon {\n  position: absolute;\n  top: 0;\n  left: 2px; }\n\n.timFormTextarea {\n  padding: 4px 12px;\n  font-size: 16px;\n  line-height: 1.5;\n  color: #D4DAE5;\n  background-color: #16171c;\n  border: 1px solid #343741;\n  border-radius: 4px;\n  transition: border-color .1s linear; }\n\n.timChart {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column; }\n  .timChart .chart-top-title {\n    font-size: 12px;\n    font-size: 0.75rem;\n    line-height: 1.5;\n    flex: 0;\n    text-align: center;\n    font-weight: 700; }\n  .timChart .chart-canvas {\n    min-width: 100%;\n    flex: 1;\n    overflow: hidden; }\n  .timChart .legendLabel {\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow-x: hidden;\n    line-height: normal; }\n  .timChart .legendColorBox {\n    vertical-align: middle; }\n  .timChart .ngLegendValue {\n    color: #DFE5EF;\n    cursor: pointer; }\n    .timChart .ngLegendValue:focus, .timChart .ngLegendValue:hover {\n      text-decoration: underline; }\n  .timChart .ngLegendValueNumber {\n    margin-left: 4px;\n    margin-right: 4px;\n    font-weight: 700; }\n  .timChart .flot-tick-label {\n    font-size: 12px;\n    color: #98A2B3; }\n\n.timChart__legendCaption {\n  color: #DFE5EF;\n  white-space: nowrap;\n  font-weight: 700; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(27);var content=__webpack_require__(35);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(28);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,"/* Timelion plugin styles */\n.timApp {\n  position: relative;\n  background: #FFF; }\n  .timApp [ng-click] {\n    cursor: pointer; }\n\n.timApp__container {\n  margin: 12px; }\n\n.timApp__menus {\n  margin: 12px; }\n\n.timApp__title {\n  display: flex;\n  align-items: center;\n  padding: 12px 8px;\n  font-size: 16px;\n  font-weight: 700;\n  border-bottom: 1px solid #D3DAE6;\n  flex-grow: 1;\n  background-color: #FFF; }\n\n.timApp__stats {\n  font-weight: 400;\n  color: #98A2B3; }\n\n.timApp__form {\n  display: flex;\n  align-items: flex-start;\n  margin-top: 16px;\n  margin-bottom: 16px; }\n\n.timApp__expression {\n  display: flex;\n  flex: 1;\n  margin-right: 8px; }\n\n.timApp__button {\n  margin-top: 8px;\n  padding: 4px 12px;\n  font-size: 16px;\n  border: none;\n  border-radius: 4px;\n  color: #FFF;\n  background-color: #006BB4; }\n\n.timApp__button--secondary {\n  margin-top: 8px;\n  padding: 4px 12px;\n  font-size: 16px;\n  border: 1px solid #006BB4;\n  border-radius: 4px;\n  color: #006BB4;\n  width: 100%; }\n\n.timApp__sectionTitle {\n  margin-bottom: 12px;\n  font-size: 18px;\n  color: #343741; }\n\n.timApp__helpText {\n  margin-bottom: 16px;\n  font-size: 14px;\n  color: #69707D; }\n\n.timApp__label {\n  font-size: 16px;\n  line-height: 1.5;\n  font-weight: 700; }\n\n.ng-invalid.ng-dirty, .ng-invalid.ng-touched {\n  border-color: #BD271E; }\n\ninput[type='radio'][disabled],\nfieldset[disabled] input[type='radio'],\ninput[type='checkbox'][disabled],\nfieldset[disabled]\ninput[type='checkbox'],\n.radio[disabled],\nfieldset[disabled]\n.radio,\n.checkbox[disabled],\nfieldset[disabled]\n.checkbox {\n  cursor: default;\n  opacity: .8; }\n\n/**\n * 1. Anchor suggestions beneath input.\n * 2. Allow for option of positioning suggestions absolutely.\n */\n.timExpressionInput__container {\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: column;\n  /* 1 */\n  position: relative;\n  /* 2 */ }\n\n.timExpressionInput {\n  min-height: 70px; }\n\n.timCell {\n  display: inline-block;\n  cursor: pointer;\n  position: relative;\n  box-sizing: border-box;\n  border: 2px dashed transparent;\n  padding-left: 0 !important;\n  padding-right: 0 !important;\n  margin-bottom: 12px; }\n  .timCell.active {\n    border-color: #D3DAE6; }\n\n.timCell.running {\n  opacity: .5; }\n\n.timCell__actions {\n  position: absolute;\n  bottom: 4px;\n  left: 4px; }\n  .timCell__actions > .timCell__action,\n  .timCell__actions > .timCell__id {\n    font-size: 12px;\n    font-size: 0.75rem;\n    line-height: 1.5;\n    font-weight: 700;\n    color: #98A2B3;\n    display: inline-block;\n    text-align: center;\n    width: 24px;\n    height: 24px;\n    border-radius: 12px;\n    border: 1px solid #D3DAE6;\n    background-color: #F5F7FA;\n    z-index: 1000; }\n  .timCell__actions > .timCell__action {\n    opacity: 0; }\n    .timCell__actions > .timCell__action:focus {\n      opacity: 1; }\n    .timCell__actions > .timCell__action:hover, .timCell__actions > .timCell__action:focus {\n      color: #343741;\n      border-color: #98A2B3;\n      background-color: #D3DAE6; }\n\n.timCell:hover .timCell__action {\n  opacity: 1; }\n\n.timSuggestions {\n  box-shadow: 0 6px 12px -1px rgba(152, 162, 179, 0.2), 0 4px 4px -1px rgba(152, 162, 179, 0.2), 0 2px 2px 0 rgba(152, 162, 179, 0.2);\n  background-color: #F5F7FA;\n  color: #343741;\n  border: 1px solid #D3DAE6;\n  border-radius: 0 0 4px 4px !important;\n  z-index: 9000;\n  max-height: 320px;\n  overflow-y: auto; }\n  .timSuggestions.timSuggestions-isPopover {\n    position: absolute;\n    top: 100%; }\n\n.timSuggestions__item {\n  border-bottom: 1px solid #D3DAE6;\n  padding: 4px 24px; }\n  .timSuggestions__item:hover, .timSuggestions__item.active {\n    background-color: #D3DAE6; }\n\n.timSuggestions__details {\n  background-color: #F5F7FA;\n  padding: 12px;\n  border-radius: 4px; }\n  .timSuggestions__details > table {\n    margin-bottom: 0; }\n\n.timHelp code {\n  background-color: rgba(52, 55, 65, 0.1); }\n\n.timHelp__buttons {\n  display: flex;\n  justify-content: space-between; }\n\n.timHelp__functions {\n  height: 320px;\n  overflow-y: auto; }\n\n.timHelp__links {\n  color: #006BB4; }\n  .timHelp__links:hover {\n    text-decoration: underline; }\n\n/**\n * 1. Override bootstrap .table styles.\n */\n.timHelp__functionsTableRow:hover,\n.timHelp__functionDetailsTable {\n  background-color: #F5F7FA !important;\n  /* 1 */ }\n\ntimelion-interval {\n  display: flex; }\n\n.timInterval__input {\n  width: 64px;\n  padding: 4px 12px;\n  color: #343741;\n  border: 1px solid #D3DAE6;\n  border-radius: 4px;\n  transition: border-color .1s linear;\n  font-size: 14px; }\n\n.timInterval__input--compact {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0; }\n\n.timInterval__presets {\n  width: 96px; }\n\n.timInterval__presets--compact {\n  width: 32px;\n  padding-left: 0;\n  border-left: none;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0; }\n\n.list-group-menu.select-mode a {\n  outline: none;\n  color: #1a7abc; }\n\n.list-group-menu .list-group-menu-item {\n  list-style: none;\n  color: #1a7abc; }\n  .list-group-menu .list-group-menu-item.active {\n    font-weight: bold;\n    background-color: #D3DAE6; }\n  .list-group-menu .list-group-menu-item:hover {\n    background-color: #e6f0f8; }\n  .list-group-menu .list-group-menu-item li {\n    list-style: none;\n    color: #1a7abc; }\n\nsaved-object-finder .timSearchBar {\n  display: flex;\n  align-items: center; }\n\nsaved-object-finder .timSearchBar__section {\n  position: relative;\n  margin-right: 16px;\n  flex: 1; }\n\nsaved-object-finder .timSearchBar__icon {\n  position: absolute;\n  top: 8px;\n  left: 8px;\n  font-size: 16px;\n  color: #69707D; }\n\nsaved-object-finder .timSearchBar__input {\n  padding: 8px 12px;\n  color: #343741;\n  background-color: #FFF;\n  border: 1px solid #D3DAE6;\n  border-radius: 4px;\n  transition: border-color .1s linear;\n  padding-left: 32px;\n  width: 100%;\n  font-size: 16px; }\n\nsaved-object-finder .timSearchBar__pagecount {\n  font-size: 16px;\n  color: #69707D; }\n\nsaved-object-finder .list-sort-button {\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n  border: none;\n  padding: 8px 16px;\n  font-weight: 400;\n  background-color: #F5F7FA;\n  margin-top: 16px; }\n\nsaved-object-finder .li-striped li {\n  border: none; }\n\nsaved-object-finder .li-striped li:nth-child(even) {\n  background-color: #F5F7FA; }\n\nsaved-object-finder .li-striped li:nth-child(odd) {\n  background-color: #FFF; }\n\nsaved-object-finder .li-striped .paginate-heading {\n  font-weight: 400;\n  color: #343741; }\n\nsaved-object-finder .li-striped .list-group-item {\n  padding: 8px 16px; }\n  saved-object-finder .li-striped .list-group-item ul {\n    padding: 0;\n    display: flex;\n    flex-direction: row; }\n    saved-object-finder .li-striped .list-group-item ul .finder-type {\n      margin-right: 8px; }\n  saved-object-finder .li-striped .list-group-item a {\n    display: block;\n    color: #006BB4; }\n    saved-object-finder .li-striped .list-group-item a i {\n      color: #0060a2;\n      margin-right: 8px; }\n  saved-object-finder .li-striped .list-group-item:first-child {\n    border-top-left-radius: 0;\n    border-top-right-radius: 0; }\n  saved-object-finder .li-striped .list-group-item.list-group-no-results p {\n    margin-bottom: 0; }\n\nsaved-object-finder paginate paginate-controls {\n  margin: 16px; }\n\n.form-control {\n  font-size: 14px;\n  font-size: 0.875rem;\n  line-height: 1.5;\n  display: block;\n  width: 100%;\n  height: 32px;\n  padding: 4px 12px;\n  border: 1px solid #D3DAE6;\n  background-color: #fbfcfd;\n  color: #343741;\n  border-radius: 4px;\n  cursor: pointer; }\n  .form-control:not([type='range']) {\n    -webkit-appearance: none;\n            appearance: none; }\n  .form-control:focus {\n    border-color: #006BB4;\n    outline: none;\n    box-shadow: none; }\n\nselect.form-control {\n  background-image: url('data:image/svg+xml,%3Csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"%3E%3Cpath fill=\"rgb%2852, 55, 65%29\" d=\"M13.0688508,5.15725038 L8.38423975,9.76827428 C8.17054415,9.97861308 7.82999214,9.97914095 7.61576025,9.76827428 L2.93114915,5.15725038 C2.7181359,4.94758321 2.37277319,4.94758321 2.15975994,5.15725038 C1.94674669,5.36691756 1.94674669,5.70685522 2.15975994,5.9165224 L6.84437104,10.5275463 C7.48517424,11.1582836 8.51644979,11.1566851 9.15562896,10.5275463 L13.8402401,5.9165224 C14.0532533,5.70685522 14.0532533,5.36691756 13.8402401,5.15725038 C13.6272268,4.94758321 13.2818641,4.94758321 13.0688508,5.15725038 Z\"/%3E%3C/svg%3E');\n  background-size: 16px;\n  background-repeat: no-repeat;\n  background-position: calc(100% - 8px);\n  padding-right: 32px; }\n\n.fullWidth {\n  width: 100%; }\n\n.timDropdownWarning {\n  margin-bottom: 16px;\n  padding: 4px 8px;\n  color: #343741;\n  border-left: solid 2px #BD271E;\n  font-size: 12px; }\n\n.timFormCheckbox {\n  display: flex;\n  align-items: center;\n  line-height: 1.5;\n  position: relative; }\n\n.timFormCheckbox__input {\n  -webkit-appearance: none;\n          appearance: none;\n  background-color: #F5F7FA;\n  border: 1px solid #D3DAE6;\n  border-radius: 4px;\n  width: 16px;\n  height: 16px;\n  font-size: 12px;\n  transition: background-color .1s linear; }\n\n.timFormCheckbox__input:checked {\n  border-color: #006BB4;\n  background-color: #006BB4; }\n\n.timFormCheckbox__icon {\n  position: absolute;\n  top: 0;\n  left: 2px; }\n\n.timFormTextarea {\n  padding: 4px 12px;\n  font-size: 16px;\n  line-height: 1.5;\n  color: #343741;\n  background-color: #fbfcfd;\n  border: 1px solid #D3DAE6;\n  border-radius: 4px;\n  transition: border-color .1s linear; }\n\n.timChart {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column; }\n  .timChart .chart-top-title {\n    font-size: 12px;\n    font-size: 0.75rem;\n    line-height: 1.5;\n    flex: 0;\n    text-align: center;\n    font-weight: 700; }\n  .timChart .chart-canvas {\n    min-width: 100%;\n    flex: 1;\n    overflow: hidden; }\n  .timChart .legendLabel {\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow-x: hidden;\n    line-height: normal; }\n  .timChart .legendColorBox {\n    vertical-align: middle; }\n  .timChart .ngLegendValue {\n    color: #343741;\n    cursor: pointer; }\n    .timChart .ngLegendValue:focus, .timChart .ngLegendValue:hover {\n      text-decoration: underline; }\n  .timChart .ngLegendValueNumber {\n    margin-left: 4px;\n    margin-right: 4px;\n    font-weight: 700; }\n  .timChart .flot-tick-label {\n    font-size: 12px;\n    color: #69707D; }\n\n.timChart__legendCaption {\n  color: #343741;\n  white-space: nowrap;\n  font-weight: 700; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(27);var content=__webpack_require__(37);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(28);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,"/* Timelion plugin styles */\n.timApp {\n  position: relative;\n  background: #1D1E24; }\n  .timApp [ng-click] {\n    cursor: pointer; }\n\n.timApp__container {\n  margin: 12px; }\n\n.timApp__menus {\n  margin: 12px; }\n\n.timApp__title {\n  display: flex;\n  align-items: center;\n  padding: 12px 8px;\n  font-size: 16px;\n  font-weight: 700;\n  border-bottom: 1px solid #343741;\n  flex-grow: 1;\n  background-color: #1D1E24; }\n\n.timApp__stats {\n  font-weight: 400;\n  color: #535966; }\n\n.timApp__form {\n  display: flex;\n  align-items: flex-start;\n  margin-top: 16px;\n  margin-bottom: 16px; }\n\n.timApp__expression {\n  display: flex;\n  flex: 1;\n  margin-right: 8px; }\n\n.timApp__button {\n  margin-top: 8px;\n  padding: 4px 12px;\n  font-size: 16px;\n  border: none;\n  border-radius: 4px;\n  color: #1D1E24;\n  background-color: #36A2EF; }\n\n.timApp__button--secondary {\n  margin-top: 8px;\n  padding: 4px 12px;\n  font-size: 16px;\n  border: 1px solid #36A2EF;\n  border-radius: 4px;\n  color: #36A2EF;\n  width: 100%; }\n\n.timApp__sectionTitle {\n  margin-bottom: 12px;\n  font-size: 18px;\n  color: #D4DAE5; }\n\n.timApp__helpText {\n  margin-bottom: 16px;\n  font-size: 14px;\n  color: #98A2B3; }\n\n.timApp__label {\n  font-size: 16px;\n  line-height: 1.5;\n  font-weight: 700; }\n\n.ng-invalid.ng-dirty, .ng-invalid.ng-touched {\n  border-color: #F86B63; }\n\ninput[type='radio'][disabled],\nfieldset[disabled] input[type='radio'],\ninput[type='checkbox'][disabled],\nfieldset[disabled]\ninput[type='checkbox'],\n.radio[disabled],\nfieldset[disabled]\n.radio,\n.checkbox[disabled],\nfieldset[disabled]\n.checkbox {\n  cursor: default;\n  opacity: .8; }\n\n/**\n * 1. Anchor suggestions beneath input.\n * 2. Allow for option of positioning suggestions absolutely.\n */\n.timExpressionInput__container {\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: column;\n  /* 1 */\n  position: relative;\n  /* 2 */ }\n\n.timExpressionInput {\n  min-height: 70px; }\n\n.timCell {\n  display: inline-block;\n  cursor: pointer;\n  position: relative;\n  box-sizing: border-box;\n  border: 2px dashed transparent;\n  padding-left: 0 !important;\n  padding-right: 0 !important;\n  margin-bottom: 12px; }\n  .timCell.active {\n    border-color: #343741; }\n\n.timCell.running {\n  opacity: .5; }\n\n.timCell__actions {\n  position: absolute;\n  bottom: 4px;\n  left: 4px; }\n  .timCell__actions > .timCell__action,\n  .timCell__actions > .timCell__id {\n    font-size: 12px;\n    font-size: 0.85714rem;\n    line-height: 1.14286rem;\n    font-weight: 700;\n    color: #535966;\n    display: inline-block;\n    text-align: center;\n    width: 24px;\n    height: 24px;\n    border-radius: 12px;\n    border: 1px solid #343741;\n    background-color: #25262E;\n    z-index: 1000; }\n  .timCell__actions > .timCell__action {\n    opacity: 0; }\n    .timCell__actions > .timCell__action:focus {\n      opacity: 1; }\n    .timCell__actions > .timCell__action:hover, .timCell__actions > .timCell__action:focus {\n      color: #DFE5EF;\n      border-color: #535966;\n      background-color: #343741; }\n\n.timCell:hover .timCell__action {\n  opacity: 1; }\n\n.timSuggestions {\n  box-shadow: 0 0.9px 4px -1px rgba(0, 0, 0, 0.2), 0 2.6px 8px -1px rgba(0, 0, 0, 0.15), 0 5.7px 12px -1px rgba(0, 0, 0, 0.125), 0 15px 15px -1px rgba(0, 0, 0, 0.1);\n  background-color: #25262E;\n  color: #DFE5EF;\n  border: 1px solid #343741;\n  border-radius: 0 0 6px 6px !important;\n  z-index: 9000;\n  max-height: 320px;\n  overflow-y: auto; }\n  .timSuggestions.timSuggestions-isPopover {\n    position: absolute;\n    top: 100%; }\n\n.timSuggestions__item {\n  border-bottom: 1px solid #343741;\n  padding: 4px 24px; }\n  .timSuggestions__item:hover, .timSuggestions__item.active {\n    background-color: #343741; }\n\n.timSuggestions__details {\n  background-color: #25262E;\n  padding: 12px;\n  border-radius: 6px; }\n  .timSuggestions__details > table {\n    margin-bottom: 0; }\n\n.timHelp code {\n  background-color: rgba(223, 229, 239, 0.1); }\n\n.timHelp__buttons {\n  display: flex;\n  justify-content: space-between; }\n\n.timHelp__functions {\n  height: 320px;\n  overflow-y: auto; }\n\n.timHelp__links {\n  color: #36A2EF; }\n  .timHelp__links:hover {\n    text-decoration: underline; }\n\n/**\n * 1. Override bootstrap .table styles.\n */\n.timHelp__functionsTableRow:hover,\n.timHelp__functionDetailsTable {\n  background-color: #25262E !important;\n  /* 1 */ }\n\ntimelion-interval {\n  display: flex; }\n\n.timInterval__input {\n  width: 64px;\n  padding: 4px 12px;\n  color: #D4DAE5;\n  border: 1px solid #343741;\n  border-radius: 4px;\n  transition: border-color .1s linear;\n  font-size: 14px; }\n\n.timInterval__input--compact {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0; }\n\n.timInterval__presets {\n  width: 96px; }\n\n.timInterval__presets--compact {\n  width: 32px;\n  padding-left: 0;\n  border-left: none;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0; }\n\n.list-group-menu.select-mode a {\n  outline: none;\n  color: #3192d7; }\n\n.list-group-menu .list-group-menu-item {\n  list-style: none;\n  color: #3192d7; }\n  .list-group-menu .list-group-menu-item.active {\n    font-weight: bold;\n    background-color: #343741; }\n  .list-group-menu .list-group-menu-item:hover {\n    background-color: #051018; }\n  .list-group-menu .list-group-menu-item li {\n    list-style: none;\n    color: #3192d7; }\n\nsaved-object-finder .timSearchBar {\n  display: flex;\n  align-items: center; }\n\nsaved-object-finder .timSearchBar__section {\n  position: relative;\n  margin-right: 16px;\n  flex: 1; }\n\nsaved-object-finder .timSearchBar__icon {\n  position: absolute;\n  top: 8px;\n  left: 8px;\n  font-size: 16px;\n  color: #98A2B3; }\n\nsaved-object-finder .timSearchBar__input {\n  padding: 8px 12px;\n  color: #D4DAE5;\n  background-color: #1D1E24;\n  border: 1px solid #343741;\n  border-radius: 4px;\n  transition: border-color .1s linear;\n  padding-left: 32px;\n  width: 100%;\n  font-size: 16px; }\n\nsaved-object-finder .timSearchBar__pagecount {\n  font-size: 16px;\n  color: #98A2B3; }\n\nsaved-object-finder .list-sort-button {\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n  border: none;\n  padding: 8px 16px;\n  font-weight: 400;\n  background-color: #25262E;\n  margin-top: 16px; }\n\nsaved-object-finder .li-striped li {\n  border: none; }\n\nsaved-object-finder .li-striped li:nth-child(even) {\n  background-color: #25262E; }\n\nsaved-object-finder .li-striped li:nth-child(odd) {\n  background-color: #1D1E24; }\n\nsaved-object-finder .li-striped .paginate-heading {\n  font-weight: 400;\n  color: #D4DAE5; }\n\nsaved-object-finder .li-striped .list-group-item {\n  padding: 8px 16px; }\n  saved-object-finder .li-striped .list-group-item ul {\n    padding: 0;\n    display: flex;\n    flex-direction: row; }\n    saved-object-finder .li-striped .list-group-item ul .finder-type {\n      margin-right: 8px; }\n  saved-object-finder .li-striped .list-group-item a {\n    display: block;\n    color: #36A2EF; }\n    saved-object-finder .li-striped .list-group-item a i {\n      color: #3192d7;\n      margin-right: 8px; }\n  saved-object-finder .li-striped .list-group-item:first-child {\n    border-top-left-radius: 0;\n    border-top-right-radius: 0; }\n  saved-object-finder .li-striped .list-group-item.list-group-no-results p {\n    margin-bottom: 0; }\n\nsaved-object-finder paginate paginate-controls {\n  margin: 16px; }\n\n.form-control {\n  font-size: 14px;\n  font-size: 1rem;\n  line-height: 1.71429rem;\n  display: block;\n  width: 100%;\n  height: 32px;\n  padding: 4px 12px;\n  border: 1px solid #343741;\n  background-color: #16171c;\n  color: #DFE5EF;\n  border-radius: 6px;\n  cursor: pointer; }\n  .form-control:not([type='range']) {\n    -webkit-appearance: none;\n            appearance: none; }\n  .form-control:focus {\n    border-color: #36A2EF;\n    outline: none;\n    box-shadow: none; }\n\nselect.form-control {\n  background-image: url('data:image/svg+xml,%3Csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"%3E%3Cpath fill=\"rgb%28223, 229, 239%29\" d=\"M13.0688508,5.15725038 L8.38423975,9.76827428 C8.17054415,9.97861308 7.82999214,9.97914095 7.61576025,9.76827428 L2.93114915,5.15725038 C2.7181359,4.94758321 2.37277319,4.94758321 2.15975994,5.15725038 C1.94674669,5.36691756 1.94674669,5.70685522 2.15975994,5.9165224 L6.84437104,10.5275463 C7.48517424,11.1582836 8.51644979,11.1566851 9.15562896,10.5275463 L13.8402401,5.9165224 C14.0532533,5.70685522 14.0532533,5.36691756 13.8402401,5.15725038 C13.6272268,4.94758321 13.2818641,4.94758321 13.0688508,5.15725038 Z\"/%3E%3C/svg%3E');\n  background-size: 16px;\n  background-repeat: no-repeat;\n  background-position: calc(100% - 8px);\n  padding-right: 32px; }\n\n.fullWidth {\n  width: 100%; }\n\n.timDropdownWarning {\n  margin-bottom: 16px;\n  padding: 4px 8px;\n  color: #D4DAE5;\n  border-left: solid 2px #F86B63;\n  font-size: 12px; }\n\n.timFormCheckbox {\n  display: flex;\n  align-items: center;\n  line-height: 1.5;\n  position: relative; }\n\n.timFormCheckbox__input {\n  -webkit-appearance: none;\n          appearance: none;\n  background-color: #25262E;\n  border: 1px solid #343741;\n  border-radius: 4px;\n  width: 16px;\n  height: 16px;\n  font-size: 12px;\n  transition: background-color .1s linear; }\n\n.timFormCheckbox__input:checked {\n  border-color: #36A2EF;\n  background-color: #36A2EF; }\n\n.timFormCheckbox__icon {\n  position: absolute;\n  top: 0;\n  left: 2px; }\n\n.timFormTextarea {\n  padding: 4px 12px;\n  font-size: 16px;\n  line-height: 1.5;\n  color: #D4DAE5;\n  background-color: #16171c;\n  border: 1px solid #343741;\n  border-radius: 4px;\n  transition: border-color .1s linear; }\n\n.timChart {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column; }\n  .timChart .chart-top-title {\n    font-size: 12px;\n    font-size: 0.85714rem;\n    line-height: 1.14286rem;\n    flex: 0;\n    text-align: center;\n    font-weight: 700; }\n  .timChart .chart-canvas {\n    min-width: 100%;\n    flex: 1;\n    overflow: hidden; }\n  .timChart .legendLabel {\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow-x: hidden;\n    line-height: normal; }\n  .timChart .legendColorBox {\n    vertical-align: middle; }\n  .timChart .ngLegendValue {\n    color: #DFE5EF;\n    cursor: pointer; }\n    .timChart .ngLegendValue:focus, .timChart .ngLegendValue:hover {\n      text-decoration: underline; }\n  .timChart .ngLegendValueNumber {\n    margin-left: 4px;\n    margin-right: 4px;\n    font-weight: 700; }\n  .timChart .flot-tick-label {\n    font-size: 12px;\n    color: #98A2B3; }\n\n.timChart__legendCaption {\n  color: #DFE5EF;\n  white-space: nowrap;\n  font-weight: 700; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(27);var content=__webpack_require__(39);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(28);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,"/* Timelion plugin styles */\n.timApp {\n  position: relative;\n  background: #FFF; }\n  .timApp [ng-click] {\n    cursor: pointer; }\n\n.timApp__container {\n  margin: 12px; }\n\n.timApp__menus {\n  margin: 12px; }\n\n.timApp__title {\n  display: flex;\n  align-items: center;\n  padding: 12px 8px;\n  font-size: 16px;\n  font-weight: 700;\n  border-bottom: 1px solid #D3DAE6;\n  flex-grow: 1;\n  background-color: #FFF; }\n\n.timApp__stats {\n  font-weight: 400;\n  color: #98A2B3; }\n\n.timApp__form {\n  display: flex;\n  align-items: flex-start;\n  margin-top: 16px;\n  margin-bottom: 16px; }\n\n.timApp__expression {\n  display: flex;\n  flex: 1;\n  margin-right: 8px; }\n\n.timApp__button {\n  margin-top: 8px;\n  padding: 4px 12px;\n  font-size: 16px;\n  border: none;\n  border-radius: 4px;\n  color: #FFF;\n  background-color: #07C; }\n\n.timApp__button--secondary {\n  margin-top: 8px;\n  padding: 4px 12px;\n  font-size: 16px;\n  border: 1px solid #07C;\n  border-radius: 4px;\n  color: #07C;\n  width: 100%; }\n\n.timApp__sectionTitle {\n  margin-bottom: 12px;\n  font-size: 18px;\n  color: #343741; }\n\n.timApp__helpText {\n  margin-bottom: 16px;\n  font-size: 14px;\n  color: #69707D; }\n\n.timApp__label {\n  font-size: 16px;\n  line-height: 1.5;\n  font-weight: 700; }\n\n.ng-invalid.ng-dirty, .ng-invalid.ng-touched {\n  border-color: #BD271E; }\n\ninput[type='radio'][disabled],\nfieldset[disabled] input[type='radio'],\ninput[type='checkbox'][disabled],\nfieldset[disabled]\ninput[type='checkbox'],\n.radio[disabled],\nfieldset[disabled]\n.radio,\n.checkbox[disabled],\nfieldset[disabled]\n.checkbox {\n  cursor: default;\n  opacity: .8; }\n\n/**\n * 1. Anchor suggestions beneath input.\n * 2. Allow for option of positioning suggestions absolutely.\n */\n.timExpressionInput__container {\n  flex: 1 1 auto;\n  display: flex;\n  flex-direction: column;\n  /* 1 */\n  position: relative;\n  /* 2 */ }\n\n.timExpressionInput {\n  min-height: 70px; }\n\n.timCell {\n  display: inline-block;\n  cursor: pointer;\n  position: relative;\n  box-sizing: border-box;\n  border: 2px dashed transparent;\n  padding-left: 0 !important;\n  padding-right: 0 !important;\n  margin-bottom: 12px; }\n  .timCell.active {\n    border-color: #D3DAE6; }\n\n.timCell.running {\n  opacity: .5; }\n\n.timCell__actions {\n  position: absolute;\n  bottom: 4px;\n  left: 4px; }\n  .timCell__actions > .timCell__action,\n  .timCell__actions > .timCell__id {\n    font-size: 12px;\n    font-size: 0.85714rem;\n    line-height: 1.14286rem;\n    font-weight: 700;\n    color: #98A2B3;\n    display: inline-block;\n    text-align: center;\n    width: 24px;\n    height: 24px;\n    border-radius: 12px;\n    border: 1px solid #D3DAE6;\n    background-color: #F5F7FA;\n    z-index: 1000; }\n  .timCell__actions > .timCell__action {\n    opacity: 0; }\n    .timCell__actions > .timCell__action:focus {\n      opacity: 1; }\n    .timCell__actions > .timCell__action:hover, .timCell__actions > .timCell__action:focus {\n      color: #343741;\n      border-color: #98A2B3;\n      background-color: #D3DAE6; }\n\n.timCell:hover .timCell__action {\n  opacity: 1; }\n\n.timSuggestions {\n  box-shadow: 0 0.9px 4px -1px rgba(0, 0, 0, 0.08), 0 2.6px 8px -1px rgba(0, 0, 0, 0.06), 0 5.7px 12px -1px rgba(0, 0, 0, 0.05), 0 15px 15px -1px rgba(0, 0, 0, 0.04);\n  background-color: #F5F7FA;\n  color: #343741;\n  border: 1px solid #D3DAE6;\n  border-radius: 0 0 6px 6px !important;\n  z-index: 9000;\n  max-height: 320px;\n  overflow-y: auto; }\n  .timSuggestions.timSuggestions-isPopover {\n    position: absolute;\n    top: 100%; }\n\n.timSuggestions__item {\n  border-bottom: 1px solid #D3DAE6;\n  padding: 4px 24px; }\n  .timSuggestions__item:hover, .timSuggestions__item.active {\n    background-color: #D3DAE6; }\n\n.timSuggestions__details {\n  background-color: #F5F7FA;\n  padding: 12px;\n  border-radius: 6px; }\n  .timSuggestions__details > table {\n    margin-bottom: 0; }\n\n.timHelp code {\n  background-color: rgba(52, 55, 65, 0.1); }\n\n.timHelp__buttons {\n  display: flex;\n  justify-content: space-between; }\n\n.timHelp__functions {\n  height: 320px;\n  overflow-y: auto; }\n\n.timHelp__links {\n  color: #07C; }\n  .timHelp__links:hover {\n    text-decoration: underline; }\n\n/**\n * 1. Override bootstrap .table styles.\n */\n.timHelp__functionsTableRow:hover,\n.timHelp__functionDetailsTable {\n  background-color: #F5F7FA !important;\n  /* 1 */ }\n\ntimelion-interval {\n  display: flex; }\n\n.timInterval__input {\n  width: 64px;\n  padding: 4px 12px;\n  color: #343741;\n  border: 1px solid #D3DAE6;\n  border-radius: 4px;\n  transition: border-color .1s linear;\n  font-size: 14px; }\n\n.timInterval__input--compact {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0; }\n\n.timInterval__presets {\n  width: 96px; }\n\n.timInterval__presets--compact {\n  width: 32px;\n  padding-left: 0;\n  border-left: none;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0; }\n\n.list-group-menu.select-mode a {\n  outline: none;\n  color: #1a85d1; }\n\n.list-group-menu .list-group-menu-item {\n  list-style: none;\n  color: #1a85d1; }\n  .list-group-menu .list-group-menu-item.active {\n    font-weight: bold;\n    background-color: #D3DAE6; }\n  .list-group-menu .list-group-menu-item:hover {\n    background-color: #e6f1fa; }\n  .list-group-menu .list-group-menu-item li {\n    list-style: none;\n    color: #1a85d1; }\n\nsaved-object-finder .timSearchBar {\n  display: flex;\n  align-items: center; }\n\nsaved-object-finder .timSearchBar__section {\n  position: relative;\n  margin-right: 16px;\n  flex: 1; }\n\nsaved-object-finder .timSearchBar__icon {\n  position: absolute;\n  top: 8px;\n  left: 8px;\n  font-size: 16px;\n  color: #69707D; }\n\nsaved-object-finder .timSearchBar__input {\n  padding: 8px 12px;\n  color: #343741;\n  background-color: #FFF;\n  border: 1px solid #D3DAE6;\n  border-radius: 4px;\n  transition: border-color .1s linear;\n  padding-left: 32px;\n  width: 100%;\n  font-size: 16px; }\n\nsaved-object-finder .timSearchBar__pagecount {\n  font-size: 16px;\n  color: #69707D; }\n\nsaved-object-finder .list-sort-button {\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n  border: none;\n  padding: 8px 16px;\n  font-weight: 400;\n  background-color: #F5F7FA;\n  margin-top: 16px; }\n\nsaved-object-finder .li-striped li {\n  border: none; }\n\nsaved-object-finder .li-striped li:nth-child(even) {\n  background-color: #F5F7FA; }\n\nsaved-object-finder .li-striped li:nth-child(odd) {\n  background-color: #FFF; }\n\nsaved-object-finder .li-striped .paginate-heading {\n  font-weight: 400;\n  color: #343741; }\n\nsaved-object-finder .li-striped .list-group-item {\n  padding: 8px 16px; }\n  saved-object-finder .li-striped .list-group-item ul {\n    padding: 0;\n    display: flex;\n    flex-direction: row; }\n    saved-object-finder .li-striped .list-group-item ul .finder-type {\n      margin-right: 8px; }\n  saved-object-finder .li-striped .list-group-item a {\n    display: block;\n    color: #07C; }\n    saved-object-finder .li-striped .list-group-item a i {\n      color: #006bb8;\n      margin-right: 8px; }\n  saved-object-finder .li-striped .list-group-item:first-child {\n    border-top-left-radius: 0;\n    border-top-right-radius: 0; }\n  saved-object-finder .li-striped .list-group-item.list-group-no-results p {\n    margin-bottom: 0; }\n\nsaved-object-finder paginate paginate-controls {\n  margin: 16px; }\n\n.form-control {\n  font-size: 14px;\n  font-size: 1rem;\n  line-height: 1.71429rem;\n  display: block;\n  width: 100%;\n  height: 32px;\n  padding: 4px 12px;\n  border: 1px solid #D3DAE6;\n  background-color: #fbfcfd;\n  color: #343741;\n  border-radius: 6px;\n  cursor: pointer; }\n  .form-control:not([type='range']) {\n    -webkit-appearance: none;\n            appearance: none; }\n  .form-control:focus {\n    border-color: #07C;\n    outline: none;\n    box-shadow: none; }\n\nselect.form-control {\n  background-image: url('data:image/svg+xml,%3Csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\"%3E%3Cpath fill=\"rgb%2852, 55, 65%29\" d=\"M13.0688508,5.15725038 L8.38423975,9.76827428 C8.17054415,9.97861308 7.82999214,9.97914095 7.61576025,9.76827428 L2.93114915,5.15725038 C2.7181359,4.94758321 2.37277319,4.94758321 2.15975994,5.15725038 C1.94674669,5.36691756 1.94674669,5.70685522 2.15975994,5.9165224 L6.84437104,10.5275463 C7.48517424,11.1582836 8.51644979,11.1566851 9.15562896,10.5275463 L13.8402401,5.9165224 C14.0532533,5.70685522 14.0532533,5.36691756 13.8402401,5.15725038 C13.6272268,4.94758321 13.2818641,4.94758321 13.0688508,5.15725038 Z\"/%3E%3C/svg%3E');\n  background-size: 16px;\n  background-repeat: no-repeat;\n  background-position: calc(100% - 8px);\n  padding-right: 32px; }\n\n.fullWidth {\n  width: 100%; }\n\n.timDropdownWarning {\n  margin-bottom: 16px;\n  padding: 4px 8px;\n  color: #343741;\n  border-left: solid 2px #BD271E;\n  font-size: 12px; }\n\n.timFormCheckbox {\n  display: flex;\n  align-items: center;\n  line-height: 1.5;\n  position: relative; }\n\n.timFormCheckbox__input {\n  -webkit-appearance: none;\n          appearance: none;\n  background-color: #F5F7FA;\n  border: 1px solid #D3DAE6;\n  border-radius: 4px;\n  width: 16px;\n  height: 16px;\n  font-size: 12px;\n  transition: background-color .1s linear; }\n\n.timFormCheckbox__input:checked {\n  border-color: #07C;\n  background-color: #07C; }\n\n.timFormCheckbox__icon {\n  position: absolute;\n  top: 0;\n  left: 2px; }\n\n.timFormTextarea {\n  padding: 4px 12px;\n  font-size: 16px;\n  line-height: 1.5;\n  color: #343741;\n  background-color: #fbfcfd;\n  border: 1px solid #D3DAE6;\n  border-radius: 4px;\n  transition: border-color .1s linear; }\n\n.timChart {\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column; }\n  .timChart .chart-top-title {\n    font-size: 12px;\n    font-size: 0.85714rem;\n    line-height: 1.14286rem;\n    flex: 0;\n    text-align: center;\n    font-weight: 700; }\n  .timChart .chart-canvas {\n    min-width: 100%;\n    flex: 1;\n    overflow: hidden; }\n  .timChart .legendLabel {\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow-x: hidden;\n    line-height: normal; }\n  .timChart .legendColorBox {\n    vertical-align: middle; }\n  .timChart .ngLegendValue {\n    color: #343741;\n    cursor: pointer; }\n    .timChart .ngLegendValue:focus, .timChart .ngLegendValue:hover {\n      text-decoration: underline; }\n  .timChart .ngLegendValueNumber {\n    margin-left: 4px;\n    margin-right: 4px;\n    font-weight: 700; }\n  .timChart .flot-tick-label {\n    font-size: 12px;\n    color: #69707D; }\n\n.timChart__legendCaption {\n  color: #343741;\n  white-space: nowrap;\n  font-weight: 700; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){__webpack_require__(41);module.exports="ngSanitize"},function(module,exports){
/**
 * @license AngularJS v1.8.0
 * (c) 2010-2020 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(window,angular){"use strict";var $sanitizeMinErr=angular.$$minErr("$sanitize");var bind;var extend;var forEach;var isArray;var isDefined;var lowercase;var noop;var nodeContains;var htmlParser;var htmlSanitizeWriter;function $SanitizeProvider(){var hasBeenInstantiated=false;var svgEnabled=false;this.$get=["$$sanitizeUri",function($$sanitizeUri){hasBeenInstantiated=true;if(svgEnabled){extend(validElements,svgElements)}return function(html){var buf=[];htmlParser(html,htmlSanitizeWriter(buf,(function(uri,isImage){return!/^unsafe:/.test($$sanitizeUri(uri,isImage))})));return buf.join("")}}];this.enableSvg=function(enableSvg){if(isDefined(enableSvg)){svgEnabled=enableSvg;return this}else{return svgEnabled}};this.addValidElements=function(elements){if(!hasBeenInstantiated){if(isArray(elements)){elements={htmlElements:elements}}addElementsTo(svgElements,elements.svgElements);addElementsTo(voidElements,elements.htmlVoidElements);addElementsTo(validElements,elements.htmlVoidElements);addElementsTo(validElements,elements.htmlElements)}return this};this.addValidAttrs=function(attrs){if(!hasBeenInstantiated){extend(validAttrs,arrayToMap(attrs,true))}return this};bind=angular.bind;extend=angular.extend;forEach=angular.forEach;isArray=angular.isArray;isDefined=angular.isDefined;lowercase=angular.$$lowercase;noop=angular.noop;htmlParser=htmlParserImpl;htmlSanitizeWriter=htmlSanitizeWriterImpl;nodeContains=window.Node.prototype.contains||function(arg){return!!(this.compareDocumentPosition(arg)&16)};var SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^#-~ |!])/g;var voidElements=stringToMap("area,br,col,hr,img,wbr");var optionalEndTagBlockElements=stringToMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),optionalEndTagInlineElements=stringToMap("rp,rt"),optionalEndTagElements=extend({},optionalEndTagInlineElements,optionalEndTagBlockElements);var blockElements=extend({},optionalEndTagBlockElements,stringToMap("address,article,"+"aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,"+"h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul"));var inlineElements=extend({},optionalEndTagInlineElements,stringToMap("a,abbr,acronym,b,"+"bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,"+"samp,small,span,strike,strong,sub,sup,time,tt,u,var"));var svgElements=stringToMap("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,"+"hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,"+"radialGradient,rect,stop,svg,switch,text,title,tspan");var blockedElements=stringToMap("script,style");var validElements=extend({},voidElements,blockElements,inlineElements,optionalEndTagElements);var uriAttrs=stringToMap("background,cite,href,longdesc,src,xlink:href,xml:base");var htmlAttrs=stringToMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,"+"color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,"+"ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,"+"scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,"+"valign,value,vspace,width");var svgAttrs=stringToMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,"+"baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,"+"cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,"+"font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,"+"height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,"+"marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,"+"max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,"+"path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,"+"requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,"+"stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,"+"stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,"+"stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,"+"underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,"+"width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,"+"xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",true);var validAttrs=extend({},uriAttrs,svgAttrs,htmlAttrs);function stringToMap(str,lowercaseKeys){return arrayToMap(str.split(","),lowercaseKeys)}function arrayToMap(items,lowercaseKeys){var obj={},i;for(i=0;i<items.length;i++){obj[lowercaseKeys?lowercase(items[i]):items[i]]=true}return obj}function addElementsTo(elementsMap,newElements){if(newElements&&newElements.length){extend(elementsMap,arrayToMap(newElements))}}var getInertBodyElement=function(window,document){var inertDocument;if(document&&document.implementation){inertDocument=document.implementation.createHTMLDocument("inert")}else{throw $sanitizeMinErr("noinert","Can't create an inert html document")}var inertBodyElement=(inertDocument.documentElement||inertDocument.getDocumentElement()).querySelector("body");inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>';if(!inertBodyElement.querySelector("svg")){return getInertBodyElement_XHR}else{inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">';if(inertBodyElement.querySelector("svg img")){return getInertBodyElement_DOMParser}else{return getInertBodyElement_InertDocument}}function getInertBodyElement_XHR(html){html="<remove></remove>"+html;try{html=encodeURI(html)}catch(e){return undefined}var xhr=new window.XMLHttpRequest;xhr.responseType="document";xhr.open("GET","data:text/html;charset=utf-8,"+html,false);xhr.send(null);var body=xhr.response.body;body.firstChild.remove();return body}function getInertBodyElement_DOMParser(html){html="<remove></remove>"+html;try{var body=(new window.DOMParser).parseFromString(html,"text/html").body;body.firstChild.remove();return body}catch(e){return undefined}}function getInertBodyElement_InertDocument(html){inertBodyElement.innerHTML=html;if(document.documentMode){stripCustomNsAttrs(inertBodyElement)}return inertBodyElement}}(window,window.document);function htmlParserImpl(html,handler){if(html===null||html===undefined){html=""}else if(typeof html!=="string"){html=""+html}var inertBodyElement=getInertBodyElement(html);if(!inertBodyElement)return"";var mXSSAttempts=5;do{if(mXSSAttempts===0){throw $sanitizeMinErr("uinput","Failed to sanitize html because the input is unstable")}mXSSAttempts--;html=inertBodyElement.innerHTML;inertBodyElement=getInertBodyElement(html)}while(html!==inertBodyElement.innerHTML);var node=inertBodyElement.firstChild;while(node){switch(node.nodeType){case 1:handler.start(node.nodeName.toLowerCase(),attrToMap(node.attributes));break;case 3:handler.chars(node.textContent);break}var nextNode;if(!(nextNode=node.firstChild)){if(node.nodeType===1){handler.end(node.nodeName.toLowerCase())}nextNode=getNonDescendant("nextSibling",node);if(!nextNode){while(nextNode==null){node=getNonDescendant("parentNode",node);if(node===inertBodyElement)break;nextNode=getNonDescendant("nextSibling",node);if(node.nodeType===1){handler.end(node.nodeName.toLowerCase())}}}}node=nextNode}while(node=inertBodyElement.firstChild){inertBodyElement.removeChild(node)}}function attrToMap(attrs){var map={};for(var i=0,ii=attrs.length;i<ii;i++){var attr=attrs[i];map[attr.name]=attr.value}return map}function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,(function(value){var hi=value.charCodeAt(0);var low=value.charCodeAt(1);return"&#"+((hi-55296)*1024+(low-56320)+65536)+";"})).replace(NON_ALPHANUMERIC_REGEXP,(function(value){return"&#"+value.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlSanitizeWriterImpl(buf,uriValidator){var ignoreCurrentElement=false;var out=bind(buf,buf.push);return{start:function(tag,attrs){tag=lowercase(tag);if(!ignoreCurrentElement&&blockedElements[tag]){ignoreCurrentElement=tag}if(!ignoreCurrentElement&&validElements[tag]===true){out("<");out(tag);forEach(attrs,(function(value,key){var lkey=lowercase(key);var isImage=tag==="img"&&lkey==="src"||lkey==="background";if(validAttrs[lkey]===true&&(uriAttrs[lkey]!==true||uriValidator(value,isImage))){out(" ");out(key);out('="');out(encodeEntities(value));out('"')}}));out(">")}},end:function(tag){tag=lowercase(tag);if(!ignoreCurrentElement&&validElements[tag]===true&&voidElements[tag]!==true){out("</");out(tag);out(">")}if(tag==ignoreCurrentElement){ignoreCurrentElement=false}},chars:function(chars){if(!ignoreCurrentElement){out(encodeEntities(chars))}}}}function stripCustomNsAttrs(node){while(node){if(node.nodeType===window.Node.ELEMENT_NODE){var attrs=node.attributes;for(var i=0,l=attrs.length;i<l;i++){var attrNode=attrs[i];var attrName=attrNode.name.toLowerCase();if(attrName==="xmlns:ns1"||attrName.lastIndexOf("ns1:",0)===0){node.removeAttributeNode(attrNode);i--;l--}}}var nextNode=node.firstChild;if(nextNode){stripCustomNsAttrs(nextNode)}node=getNonDescendant("nextSibling",node)}}function getNonDescendant(propName,node){var nextNode=node[propName];if(nextNode&&nodeContains.call(node,nextNode)){throw $sanitizeMinErr("elclob","Failed to sanitize html because the element is clobbered: {0}",node.outerHTML||node.outerText)}return nextNode}}function sanitizeText(chars){var buf=[];var writer=htmlSanitizeWriter(buf,noop);writer.chars(chars);return buf.join("")}angular.module("ngSanitize",[]).provider("$sanitize",$SanitizeProvider).info({angularVersion:"1.8.0"});angular.module("ngSanitize").filter("linky",["$sanitize",function($sanitize){var LINKY_URL_REGEXP=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,MAILTO_REGEXP=/^mailto:/i;var linkyMinErr=angular.$$minErr("linky");var isDefined=angular.isDefined;var isFunction=angular.isFunction;var isObject=angular.isObject;var isString=angular.isString;return function(text,target,attributes){if(text==null||text==="")return text;if(!isString(text))throw linkyMinErr("notstring","Expected string but received: {0}",text);var attributesFn=isFunction(attributes)?attributes:isObject(attributes)?function getAttributesObject(){return attributes}:function getEmptyAttributesObject(){return{}};var match;var raw=text;var html=[];var url;var i;while(match=raw.match(LINKY_URL_REGEXP)){url=match[0];if(!match[2]&&!match[4]){url=(match[3]?"http://":"mailto:")+url}i=match.index;addText(raw.substr(0,i));addLink(url,match[0].replace(MAILTO_REGEXP,""));raw=raw.substring(i+match[0].length)}addText(raw);return $sanitize(html.join(""));function addText(text){if(!text){return}html.push(sanitizeText(text))}function addLink(url,text){var key,linkAttributes=attributesFn(url);html.push("<a ");for(key in linkAttributes){html.push(key+'="'+linkAttributes[key]+'" ')}if(isDefined(target)&&!("target"in linkAttributes)){html.push('target="',target,'" ')}html.push('href="',url.replace(/"/g,"&quot;"),'">');addText(text);html.push("</a>")}}}])})(window,window.angular)},function(module,exports,__webpack_require__){__webpack_require__(43);module.exports="ngRoute"},function(module,exports){
/**
 * @license AngularJS v1.8.0
 * (c) 2010-2020 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(window,angular){"use strict";function shallowCopy(src,dst){if(isArray(src)){dst=dst||[];for(var i=0,ii=src.length;i<ii;i++){dst[i]=src[i]}}else if(isObject(src)){dst=dst||{};for(var key in src){if(!(key.charAt(0)==="$"&&key.charAt(1)==="$")){dst[key]=src[key]}}}return dst||src}function routeToRegExp(path,opts){var keys=[];var pattern=path.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,(function(_,slash,key,option){var optional=option==="?"||option==="*?";var star=option==="*"||option==="*?";keys.push({name:key,optional:optional});slash=slash||"";return(optional?"(?:"+slash:slash+"(?:")+(star?"(.+?)":"([^/]+)")+(optional?"?)?":")")})).replace(/([/$*])/g,"\\$1");if(opts.ignoreTrailingSlashes){pattern=pattern.replace(/\/+$/,"")+"/*"}return{keys:keys,regexp:new RegExp("^"+pattern+"(?:[?#]|$)",opts.caseInsensitiveMatch?"i":"")}}var isArray;var isObject;var isDefined;var noop;var ngRouteModule=angular.module("ngRoute",[]).info({angularVersion:"1.8.0"}).provider("$route",$RouteProvider).run(instantiateRoute);var $routeMinErr=angular.$$minErr("ngRoute");var isEagerInstantiationEnabled;function $RouteProvider(){isArray=angular.isArray;isObject=angular.isObject;isDefined=angular.isDefined;noop=angular.noop;function inherit(parent,extra){return angular.extend(Object.create(parent),extra)}var routes={};this.when=function(path,route){var routeCopy=shallowCopy(route);if(angular.isUndefined(routeCopy.reloadOnUrl)){routeCopy.reloadOnUrl=true}if(angular.isUndefined(routeCopy.reloadOnSearch)){routeCopy.reloadOnSearch=true}if(angular.isUndefined(routeCopy.caseInsensitiveMatch)){routeCopy.caseInsensitiveMatch=this.caseInsensitiveMatch}routes[path]=angular.extend(routeCopy,{originalPath:path},path&&routeToRegExp(path,routeCopy));if(path){var redirectPath=path[path.length-1]==="/"?path.substr(0,path.length-1):path+"/";routes[redirectPath]=angular.extend({originalPath:path,redirectTo:path},routeToRegExp(redirectPath,routeCopy))}return this};this.caseInsensitiveMatch=false;this.otherwise=function(params){if(typeof params==="string"){params={redirectTo:params}}this.when(null,params);return this};isEagerInstantiationEnabled=true;this.eagerInstantiationEnabled=function eagerInstantiationEnabled(enabled){if(isDefined(enabled)){isEagerInstantiationEnabled=enabled;return this}return isEagerInstantiationEnabled};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function($rootScope,$location,$routeParams,$q,$injector,$templateRequest,$sce,$browser){var forceReload=false,preparedRoute,preparedRouteIsUpdateOnly,$route={routes:routes,reload:function(){forceReload=true;var fakeLocationEvent={defaultPrevented:false,preventDefault:function fakePreventDefault(){this.defaultPrevented=true;forceReload=false}};$rootScope.$evalAsync((function(){prepareRoute(fakeLocationEvent);if(!fakeLocationEvent.defaultPrevented)commitRoute()}))},updateParams:function(newParams){if(this.current&&this.current.$$route){newParams=angular.extend({},this.current.params,newParams);$location.path(interpolate(this.current.$$route.originalPath,newParams));$location.search(newParams)}else{throw $routeMinErr("norout","Tried updating route with no current route")}}};$rootScope.$on("$locationChangeStart",prepareRoute);$rootScope.$on("$locationChangeSuccess",commitRoute);return $route;function switchRouteMatcher(on,route){var keys=route.keys,params={};if(!route.regexp)return null;var m=route.regexp.exec(on);if(!m)return null;for(var i=1,len=m.length;i<len;++i){var key=keys[i-1];var val=m[i];if(key&&val){params[key.name]=val}}return params}function prepareRoute($locationEvent){var lastRoute=$route.current;preparedRoute=parseRoute();preparedRouteIsUpdateOnly=isNavigationUpdateOnly(preparedRoute,lastRoute);if(!preparedRouteIsUpdateOnly&&(lastRoute||preparedRoute)){if($rootScope.$broadcast("$routeChangeStart",preparedRoute,lastRoute).defaultPrevented){if($locationEvent){$locationEvent.preventDefault()}}}}function commitRoute(){var lastRoute=$route.current;var nextRoute=preparedRoute;if(preparedRouteIsUpdateOnly){lastRoute.params=nextRoute.params;angular.copy(lastRoute.params,$routeParams);$rootScope.$broadcast("$routeUpdate",lastRoute)}else if(nextRoute||lastRoute){forceReload=false;$route.current=nextRoute;var nextRoutePromise=$q.resolve(nextRoute);$browser.$$incOutstandingRequestCount("$route");nextRoutePromise.then(getRedirectionData).then(handlePossibleRedirection).then((function(keepProcessingRoute){return keepProcessingRoute&&nextRoutePromise.then(resolveLocals).then((function(locals){if(nextRoute===$route.current){if(nextRoute){nextRoute.locals=locals;angular.copy(nextRoute.params,$routeParams)}$rootScope.$broadcast("$routeChangeSuccess",nextRoute,lastRoute)}}))})).catch((function(error){if(nextRoute===$route.current){$rootScope.$broadcast("$routeChangeError",nextRoute,lastRoute,error)}})).finally((function(){$browser.$$completeOutstandingRequest(noop,"$route")}))}}function getRedirectionData(route){var data={route:route,hasRedirection:false};if(route){if(route.redirectTo){if(angular.isString(route.redirectTo)){data.path=interpolate(route.redirectTo,route.params);data.search=route.params;data.hasRedirection=true}else{var oldPath=$location.path();var oldSearch=$location.search();var newUrl=route.redirectTo(route.pathParams,oldPath,oldSearch);if(angular.isDefined(newUrl)){data.url=newUrl;data.hasRedirection=true}}}else if(route.resolveRedirectTo){return $q.resolve($injector.invoke(route.resolveRedirectTo)).then((function(newUrl){if(angular.isDefined(newUrl)){data.url=newUrl;data.hasRedirection=true}return data}))}}return data}function handlePossibleRedirection(data){var keepProcessingRoute=true;if(data.route!==$route.current){keepProcessingRoute=false}else if(data.hasRedirection){var oldUrl=$location.url();var newUrl=data.url;if(newUrl){$location.url(newUrl).replace()}else{newUrl=$location.path(data.path).search(data.search).replace().url()}if(newUrl!==oldUrl){keepProcessingRoute=false}}return keepProcessingRoute}function resolveLocals(route){if(route){var locals=angular.extend({},route.resolve);angular.forEach(locals,(function(value,key){locals[key]=angular.isString(value)?$injector.get(value):$injector.invoke(value,null,null,key)}));var template=getTemplateFor(route);if(angular.isDefined(template)){locals["$template"]=template}return $q.all(locals)}}function getTemplateFor(route){var template,templateUrl;if(angular.isDefined(template=route.template)){if(angular.isFunction(template)){template=template(route.params)}}else if(angular.isDefined(templateUrl=route.templateUrl)){if(angular.isFunction(templateUrl)){templateUrl=templateUrl(route.params)}if(angular.isDefined(templateUrl)){route.loadedTemplateUrl=$sce.valueOf(templateUrl);template=$templateRequest(templateUrl)}}return template}function parseRoute(){var params,match;angular.forEach(routes,(function(route,path){if(!match&&(params=switchRouteMatcher($location.path(),route))){match=inherit(route,{params:angular.extend({},$location.search(),params),pathParams:params});match.$$route=route}}));return match||routes[null]&&inherit(routes[null],{params:{},pathParams:{}})}function isNavigationUpdateOnly(newRoute,oldRoute){return!forceReload&&newRoute&&oldRoute&&newRoute.$$route===oldRoute.$$route&&(!newRoute.reloadOnUrl||!newRoute.reloadOnSearch&&angular.equals(newRoute.pathParams,oldRoute.pathParams))}function interpolate(string,params){var result=[];angular.forEach((string||"").split(":"),(function(segment,i){if(i===0){result.push(segment)}else{var segmentMatch=segment.match(/(\w+)(?:[?*])?(.*)/);var key=segmentMatch[1];result.push(params[key]);result.push(segmentMatch[2]||"");delete params[key]}}));return result.join("")}}]}instantiateRoute.$inject=["$injector"];function instantiateRoute($injector){if(isEagerInstantiationEnabled){$injector.get("$route")}}ngRouteModule.provider("$routeParams",$RouteParamsProvider);function $RouteParamsProvider(){this.$get=function(){return{}}}ngRouteModule.directive("ngView",ngViewFactory);ngRouteModule.directive("ngView",ngViewFillContentFactory);ngViewFactory.$inject=["$route","$anchorScroll","$animate"];function ngViewFactory($route,$anchorScroll,$animate){return{restrict:"ECA",terminal:true,priority:400,transclude:"element",link:function(scope,$element,attr,ctrl,$transclude){var currentScope,currentElement,previousLeaveAnimation,autoScrollExp=attr.autoscroll,onloadExp=attr.onload||"";scope.$on("$routeChangeSuccess",update);update();function cleanupLastView(){if(previousLeaveAnimation){$animate.cancel(previousLeaveAnimation);previousLeaveAnimation=null}if(currentScope){currentScope.$destroy();currentScope=null}if(currentElement){previousLeaveAnimation=$animate.leave(currentElement);previousLeaveAnimation.done((function(response){if(response!==false)previousLeaveAnimation=null}));currentElement=null}}function update(){var locals=$route.current&&$route.current.locals,template=locals&&locals.$template;if(angular.isDefined(template)){var newScope=scope.$new();var current=$route.current;var clone=$transclude(newScope,(function(clone){$animate.enter(clone,null,currentElement||$element).done((function onNgViewEnter(response){if(response!==false&&angular.isDefined(autoScrollExp)&&(!autoScrollExp||scope.$eval(autoScrollExp))){$anchorScroll()}}));cleanupLastView()}));currentElement=clone;currentScope=current.scope=newScope;currentScope.$emit("$viewContentLoaded");currentScope.$eval(onloadExp)}else{cleanupLastView()}}}}}ngViewFillContentFactory.$inject=["$compile","$controller","$route"];function ngViewFillContentFactory($compile,$controller,$route){return{restrict:"ECA",priority:-400,link:function(scope,$element){var current=$route.current,locals=current.locals;$element.html(locals.$template);var link=$compile($element.contents());if(current.controller){locals.$scope=scope;var controller=$controller(current.controller,locals);if(current.controllerAs){scope[current.controllerAs]=controller}$element.data("$ngControllerController",controller);$element.children().data("$ngControllerController",controller)}scope[current.resolveAs||"$resolve"]=locals;link(scope)}}}})(window,window.angular)},function(module,exports){(function(window,angular){"use strict";var module=angular.module("angular-sortable-view",[]);module.directive("svRoot",[function(){function shouldBeAfter(elem,pointer,isGrid){return isGrid?elem.x-pointer.x<0:elem.y-pointer.y<0}function getSortableElements(key){return ROOTS_MAP[key]}function removeSortableElements(key){delete ROOTS_MAP[key]}function getCoords(rect){return[{x:rect.left,y:rect.top},{x:rect.left+rect.width,y:rect.top},{x:rect.left,y:rect.top+rect.height},{x:rect.left+rect.width,y:rect.top+rect.height},{x:rect.left+rect.width/2,y:rect.top+rect.height/2}]}function getDistance(point,coords){if(point.x>=coords[0].x&&point.x<=coords[1].x&&point.y>=coords[0].y&&point.y<=coords[2].y){return 0}return Math.min.apply(Math,coords.map((function(coord){return(coord.x-point.x)*(coord.x-point.x)+(coord.y-point.y)*(coord.y-point.y)})))}var sortingInProgress;var ROOTS_MAP=Object.create(null);return{restrict:"A",controller:["$scope","$attrs","$interpolate","$parse",function($scope,$attrs,$interpolate,$parse){var mapKey=$interpolate($attrs.svRoot)($scope)||$scope.$id;if(!ROOTS_MAP[mapKey])ROOTS_MAP[mapKey]=[];var that=this;var candidates;var $placeholder;var options;var $helper;var $original;var $target;var isGrid=false;var onSort=$parse($attrs.svOnSort);$attrs.svOnStart=$attrs.$$element[0].attributes["sv-on-start"];$attrs.svOnStart=$attrs.svOnStart&&$attrs.svOnStart.value;$attrs.svOnStop=$attrs.$$element[0].attributes["sv-on-stop"];$attrs.svOnStop=$attrs.svOnStop&&$attrs.svOnStop.value;var onStart=$parse($attrs.svOnStart);var onStop=$parse($attrs.svOnStop);this.sortingInProgress=function(){return sortingInProgress};if($attrs.svGrid){isGrid=$attrs.svGrid==="true"?true:$attrs.svGrid==="false"?false:null;if(isGrid===null)throw"Invalid value of sv-grid attribute"}else{$scope.$watchCollection((function(){return getSortableElements(mapKey)}),(function(collection){isGrid=false;var array=collection.filter((function(item){return!item.container})).map((function(item){return{part:item.getPart().id,y:item.element[0].getBoundingClientRect().top}}));var dict=Object.create(null);array.forEach((function(item){if(dict[item.part])dict[item.part].push(item.y);else dict[item.part]=[item.y]}));Object.keys(dict).forEach((function(key){dict[key].sort();dict[key].forEach((function(item,index){if(index<dict[key].length-1){if(item>0&&item===dict[key][index+1]){isGrid=true}}}))}))}))}this.$moveUpdate=function(opts,mouse,svElement,svOriginal,svPlaceholder,originatingPart,originatingIndex){var svRect=svElement[0].getBoundingClientRect();if(opts.tolerance==="element")mouse={x:~~(svRect.left+svRect.width/2),y:~~(svRect.top+svRect.height/2)};sortingInProgress=true;candidates=[];if(!$placeholder){if(svPlaceholder){$placeholder=svPlaceholder.clone();$placeholder.removeClass("ng-hide")}else{$placeholder=svOriginal.clone();$placeholder.addClass("sv-visibility-hidden");$placeholder.addClass("sv-placeholder");$placeholder.css({height:svRect.height+"px",width:svRect.width+"px"})}svOriginal.after($placeholder);if(!originatingPart.copyMode){svOriginal.addClass("ng-hide")}$original=svOriginal;options=opts;$helper=svElement;onStart($scope,{$helper:{element:$helper},$part:originatingPart.model(originatingPart.scope),$index:originatingIndex,$item:originatingPart.model(originatingPart.scope)[originatingIndex]});$scope.$root&&$scope.$root.$$phase||$scope.$apply()}$helper[0].reposition({x:mouse.x+document.body.scrollLeft-mouse.offset.x*svRect.width,y:mouse.y+document.body.scrollTop-mouse.offset.y*svRect.height});getSortableElements(mapKey).forEach((function(se,index){if(opts.containment!=null){if(!elementMatchesSelector(se.element,opts.containment)&&!elementMatchesSelector(se.element,opts.containment+" *"))return}var rect=se.element[0].getBoundingClientRect();var seCoords=getCoords(rect);var center={x:~~(rect.left+rect.width/2),y:~~(rect.top+rect.height/2)};var centerHoriz={x:~~(rect.left+rect.width/2),y:~~rect.top};var centerVert={x:~~rect.left,y:~~(rect.top+rect.height/2)};if(!se.container&&(se.element[0].scrollHeight||se.element[0].scrollWidth)){var sePart=se.getPart();candidates.push({element:se.element,q:getDistance(mouse,seCoords),view:sePart,targetIndex:se.getIndex(),after:shouldBeAfter(center,mouse,"isGrid"in sePart?sePart.isGrid:isGrid)})}if(se.container&&!se.element[0].querySelector("[sv-element]:not(.sv-placeholder):not(.sv-source)")){var c=center;if(se.centerVariant==="vertical"){c=centerVert}else if(se.centerVariant==="horizontal"){c=centerHoriz}candidates.push({element:se.element,q:(c.x-mouse.x)*(c.x-mouse.x)+(c.y-mouse.y)*(c.y-mouse.y),view:se.getPart(),targetIndex:0,container:true})}}));var pRect=$placeholder[0].getBoundingClientRect();candidates.push({q:getDistance(mouse,getCoords(pRect)),element:$placeholder,placeholder:true});candidates.sort((function(a,b){return a.q-b.q}));candidates.forEach((function(cand,index){if(index===0&&!cand.placeholder&&!cand.container){$target=cand;cand.element.addClass("sv-candidate");if(cand.after)cand.element.after($placeholder);else insertElementBefore(cand.element,$placeholder)}else if(index===0&&cand.container){$target=cand;cand.element.append($placeholder)}else cand.element.removeClass("sv-candidate")}))};this.$drop=function(originatingPart,index,options){if(!$placeholder)return;if(options.revert&&!($target&&$target.view&&$target.view.noRevert)){var placeholderRect=$placeholder[0].getBoundingClientRect();var helperRect=$helper[0].getBoundingClientRect();var distance=Math.sqrt(Math.pow(helperRect.top-placeholderRect.top,2)+Math.pow(helperRect.left-placeholderRect.left,2));var duration=+options.revert*distance/200;duration=Math.min(duration,+options.revert);["-webkit-","-moz-","-ms-","-o-",""].forEach((function(prefix){if(typeof $helper[0].style[prefix+"transition"]!=="undefined")$helper[0].style[prefix+"transition"]="all "+duration+"ms ease"}));setTimeout(afterRevert,duration);$helper.css({top:placeholderRect.top+document.body.scrollTop+"px",left:placeholderRect.left+document.body.scrollLeft+"px"})}else afterRevert();function afterRevert(){sortingInProgress=false;$placeholder.remove();$helper.remove();$original.removeClass("ng-hide");candidates=void 0;$placeholder=void 0;options=void 0;$helper=void 0;$original=void 0;onStop($scope,{$part:originatingPart.model(originatingPart.scope),$index:index,$item:originatingPart.model(originatingPart.scope)[index]});if($target){$target.element.removeClass("sv-candidate");var spliced=originatingPart.model(originatingPart.scope).splice(index,1);var targetIndex=$target.targetIndex;if($target.view===originatingPart&&$target.targetIndex>index)targetIndex--;if($target.after)targetIndex++;$target.view.model($target.view.scope).splice(targetIndex,0,spliced[0]);if($target.view!==originatingPart||index!==targetIndex)onSort($scope,{$partTo:$target.view.model($target.view.scope),$partFrom:originatingPart.model(originatingPart.scope),$item:spliced[0],$indexTo:targetIndex,$indexFrom:index})}$target=void 0;$scope.$root&&$scope.$root.$$phase||$scope.$apply()}};this.addToSortableElements=function(se){getSortableElements(mapKey).push(se)};this.removeFromSortableElements=function(se){var elems=getSortableElements(mapKey);var index=elems.indexOf(se);if(index>-1){elems.splice(index,1);if(elems.length===0)removeSortableElements(mapKey)}}}]}}]);module.directive("svPart",["$parse",function($parse){return{restrict:"A",require:"^svRoot",controller:["$scope",function($scope){$scope.$ctrl=this;this.getPart=function(){return $scope.part};this.$drop=function(index,options){$scope.$sortableRoot.$drop($scope.part,index,options)}}],scope:true,link:function($scope,$element,$attrs,$sortable){if(!$attrs.svPart)throw new Error("no model provided");var model=$parse($attrs.svPart);if(!model.assign)throw new Error("model not assignable");$scope.part={id:$scope.$id,element:$element,model:model,copyMode:$attrs.svCopy==="true",noRevert:$attrs.svNoRevert==="true",scope:$scope};if("isGrid"in $attrs){$scope.part.isGrid=$attrs.isGrid==="true"}$scope.$sortableRoot=$sortable;var sortablePart={element:$element,getPart:$scope.$ctrl.getPart,container:true,centerVariant:$attrs.svCenter||"both"};$sortable.addToSortableElements(sortablePart);$scope.$on("$destroy",(function(){$sortable.removeFromSortableElements(sortablePart)}))}}}]);module.directive("svElement",["$parse",function($parse){return{restrict:"A",require:["^svPart","^svRoot"],controller:["$scope",function($scope){$scope.$ctrl=this}],link:function($scope,$element,$attrs,$controllers){var sortableElement={element:$element,getPart:$controllers[0].getPart,getIndex:function(){return $scope.$index}};$controllers[1].addToSortableElements(sortableElement);$scope.$on("$destroy",(function(){$controllers[1].removeFromSortableElements(sortableElement)}));var handle=$element;handle.on("mousedown touchstart",onMousedown);$scope.$watch("$ctrl.handle",(function(customHandle){if(customHandle){handle.off("mousedown touchstart",onMousedown);handle=customHandle;handle.on("mousedown touchstart",onMousedown)}}));var helper;$scope.$watch("$ctrl.helper",(function(customHelper){if(customHelper){helper=customHelper}}));var placeholder;$scope.$watch("$ctrl.placeholder",(function(customPlaceholder){if(customPlaceholder){placeholder=customPlaceholder}}));var body=angular.element(document.body);var html=angular.element(document.documentElement);var moveExecuted;function onMousedown(e){touchFix(e);if($controllers[1].sortingInProgress())return;if(e.button!=0&&e.type==="mousedown")return;var svHandleDisabledAttr=e.target.attributes["sv-handle-disabled"];if(svHandleDisabledAttr&&svHandleDisabledAttr.value==="true")return;moveExecuted=false;var opts=$parse($attrs.svElement)($scope);opts=angular.extend({},{tolerance:"pointer",revert:200,containment:"html"},opts);if(opts.containment){var containmentRect=closestElement.call($element,opts.containment)[0].getBoundingClientRect()}var target=$element;var clientRect=$element[0].getBoundingClientRect();var clone;if(!helper)helper=$controllers[0].helper;if(!placeholder)placeholder=$controllers[0].placeholder;if(helper){clone=helper.clone();clone.removeClass("ng-hide");clone.css({left:clientRect.left+document.body.scrollLeft+"px",top:clientRect.top+document.body.scrollTop+"px"});target.addClass("sv-visibility-hidden")}else{clone=target.clone();clone.addClass("sv-helper").css({left:clientRect.left+document.body.scrollLeft+"px",top:clientRect.top+document.body.scrollTop+"px",width:clientRect.width+"px"})}clone[0].reposition=function(coords){var targetLeft=coords.x;var targetTop=coords.y;var helperRect=clone[0].getBoundingClientRect();var body=document.body;if(containmentRect){if(targetTop<containmentRect.top+body.scrollTop)targetTop=containmentRect.top+body.scrollTop;if(targetTop+helperRect.height>containmentRect.top+body.scrollTop+containmentRect.height)targetTop=containmentRect.top+body.scrollTop+containmentRect.height-helperRect.height;if(targetLeft<containmentRect.left+body.scrollLeft)targetLeft=containmentRect.left+body.scrollLeft;if(targetLeft+helperRect.width>containmentRect.left+body.scrollLeft+containmentRect.width)targetLeft=containmentRect.left+body.scrollLeft+containmentRect.width-helperRect.width}this.style.left=targetLeft-body.scrollLeft+"px";this.style.top=targetTop-body.scrollTop+"px"};var pointerOffset={x:(e.clientX-clientRect.left)/clientRect.width,y:(e.clientY-clientRect.top)/clientRect.height};html.addClass("sv-sorting-in-progress");html.on("mousemove touchmove",onMousemove).on("mouseup touchend touchcancel",(function mouseup(e){html.off("mousemove touchmove",onMousemove);html.off("mouseup touchend touchcancel",mouseup);html.removeClass("sv-sorting-in-progress");if(moveExecuted){$controllers[0].$drop($scope.$index,opts)}$element.removeClass("sv-visibility-hidden")}));function onMousemove(e){touchFix(e);if(!moveExecuted){$element.parent().prepend(clone);moveExecuted=true}$controllers[1].$moveUpdate(opts,{x:e.clientX,y:e.clientY,offset:pointerOffset},clone,$element,placeholder,$controllers[0].getPart(),$scope.$index)}}}}}]);module.directive("svHandle",(function(){return{require:"?^svElement",link:function($scope,$element,$attrs,$ctrl){if($ctrl)$ctrl.handle=$element.add($ctrl.handle)}}}));module.directive("svHelper",(function(){return{require:["?^svPart","?^svElement"],link:function($scope,$element,$attrs,$ctrl){$element.addClass("sv-helper").addClass("ng-hide");if($ctrl[1])$ctrl[1].helper=$element;else if($ctrl[0])$ctrl[0].helper=$element}}}));module.directive("svPlaceholder",(function(){return{require:["?^svPart","?^svElement"],link:function($scope,$element,$attrs,$ctrl){$element.addClass("sv-placeholder").addClass("ng-hide");if($ctrl[1])$ctrl[1].placeholder=$element;else if($ctrl[0])$ctrl[0].placeholder=$element}}}));angular.element(document.head).append(["<style>"+".sv-helper{"+"position: fixed !important;"+"z-index: 99999;"+"margin: 0 !important;"+"}"+".sv-candidate{"+"}"+".sv-placeholder{"+"}"+".sv-sorting-in-progress{"+"-webkit-user-select: none;"+"-moz-user-select: none;"+"-ms-user-select: none;"+"user-select: none;"+"}"+".sv-visibility-hidden{"+"visibility: hidden !important;"+"opacity: 0 !important;"+"}"+"</style>"].join(""));function touchFix(e){if(!("clientX"in e)&&!("clientY"in e)){var touches=e.touches||e.originalEvent.touches;if(touches&&touches.length){e.clientX=touches[0].clientX;e.clientY=touches[0].clientY}e.preventDefault()}}function getPreviousSibling(element){element=element[0];if(element.previousElementSibling)return angular.element(element.previousElementSibling);else{var sib=element.previousSibling;while(sib!=null&&sib.nodeType!=1)sib=sib.previousSibling;return angular.element(sib)}}function insertElementBefore(element,newElement){var prevSibl=getPreviousSibling(element);if(prevSibl.length>0){prevSibl.after(newElement)}else{element.parent().prepend(newElement)}}var dde=document.documentElement,matchingFunction=dde.matches?"matches":dde.matchesSelector?"matchesSelector":dde.webkitMatches?"webkitMatches":dde.webkitMatchesSelector?"webkitMatchesSelector":dde.msMatches?"msMatches":dde.msMatchesSelector?"msMatchesSelector":dde.mozMatches?"mozMatches":dde.mozMatchesSelector?"mozMatchesSelector":null;if(matchingFunction==null)throw"This browser doesn't support the HTMLElement.matches method";function elementMatchesSelector(element,selector){if(element instanceof angular.element)element=element[0];if(matchingFunction!==null)return element[matchingFunction](selector)}var closestElement=angular.element.prototype.closest||function(selector){var el=this[0].parentNode;while(el!==document.documentElement&&!el[matchingFunction](selector))el=el.parentNode;if(el[matchingFunction](selector))return angular.element(el);else return angular.element()};if(typeof angular.element.prototype.add!=="function"){angular.element.prototype.add=function(elem){var i,res=angular.element();elem=angular.element(elem);for(i=0;i<this.length;i++){res.push(this[i])}for(i=0;i<elem.length;i++){res.push(elem[i])}return res}}})(window,angular)},function(module,exports,__webpack_require__){(function(root,factory){if(true){module.exports=factory()}else{}})(typeof self!=="undefined"?self:this,(function(){var rison={};rison.uri_ok={"~":true,"!":true,"*":true,"(":true,")":true,"-":true,_:true,".":true,",":true,":":true,"@":true,$:true,"'":true,"/":true};(function(){var l=[];for(var hi=0;hi<16;hi++){for(var lo=0;lo<16;lo++){if(hi+lo===0)continue;var c=String.fromCharCode(hi*16+lo);if(!/\w|[-_./~]/.test(c))l.push("\\u00"+hi.toString(16)+lo.toString(16))}}rison.not_idchar=l.join("")})();rison.not_idchar=" '!:(),*@$";rison.not_idstart="-0123456789";(function(){var idrx="[^"+rison.not_idstart+rison.not_idchar+"][^"+rison.not_idchar+"]*";rison.id_ok=new RegExp("^"+idrx+"$");rison.next_id=new RegExp(idrx,"g")})();rison.quote=function(x){if(/^[-A-Za-z0-9~!*()_.',:@$/]*$/.test(x))return x;return encodeURIComponent(x).replace(/%2C/g,",").replace(/%3A/g,":").replace(/%40/g,"@").replace(/%24/g,"$").replace(/%2F/g,"/").replace(/%20/g,"+")};(function(){var sq={"'":true,"!":true},enc=function(v){if(v&&typeof v.toJSON==="function")v=v.toJSON();var fn=s[typeof v];if(fn)return fn(v)},s={array:function(x){var a=["!("],b,i,l=x.length,v;for(i=0;i<l;i+=1){v=enc(x[i]);if(typeof v=="string"){if(b){a[a.length]=","}a[a.length]=v;b=true}}a[a.length]=")";return a.join("")},boolean:function(x){if(x)return"!t";return"!f"},null:function(){return"!n"},number:function(x){if(!isFinite(x))return"!n";return String(x).replace(/\+/,"")},object:function(x){if(x){if(x instanceof Array){return s.array(x)}if(typeof x.__prototype__==="object"&&typeof x.__prototype__.encode_rison!=="undefined")return x.encode_rison();var a=["("],b,i,v,ki,ks=[];for(i in x)ks[ks.length]=i;ks.sort();for(ki=0;ki<ks.length;ki++){i=ks[ki];v=enc(x[i]);if(typeof v=="string"){if(b){a[a.length]=","}a.push(s.string(i),":",v);b=true}}a[a.length]=")";return a.join("")}return"!n"},string:function(x){if(x==="")return"''";if(rison.id_ok.test(x))return x;x=x.replace(/(['!])/g,(function(a,b){if(sq[b])return"!"+b;return b}));return"'"+x+"'"},undefined:function(){return}};rison.encode=function(v){return enc(v)};rison.encode_object=function(v){if(typeof v!="object"||v===null||v instanceof Array)throw new Error("rison.encode_object expects an object argument");var r=s[typeof v](v);return r.substring(1,r.length-1)};rison.encode_array=function(v){if(!(v instanceof Array))throw new Error("rison.encode_array expects an array argument");var r=s[typeof v](v);return r.substring(2,r.length-1)};rison.encode_uri=function(v){return rison.quote(s[typeof v](v))}})();rison.decode=function(r){var errcb=function(e){throw Error("rison decoder error: "+e)};if(typeof r!=="string")return errcb("decode input must be a string");var p=new rison.parser(errcb);return p.parse(r)};rison.decode_object=function(r){return rison.decode("("+r+")")};rison.decode_array=function(r){return rison.decode("!("+r+")")};rison.parser=function(errcb){this.errorHandler=errcb};rison.parser.WHITESPACE="";rison.parser.prototype.setOptions=function(options){if(options["errorHandler"])this.errorHandler=options.errorHandler};rison.parser.prototype.parse=function(str){this.string=str;this.index=0;this.message=null;var value=this.readValue();if(!this.message&&this.next())value=this.error("unable to parse string as rison: '"+rison.encode(str)+"'");if(this.message&&this.errorHandler)this.errorHandler(this.message,this.index);return value};rison.parser.prototype.error=function(message){if(typeof console!=="undefined")console.log("rison parser error: ",message);this.message=message;return undefined};rison.parser.prototype.readValue=function(){var c=this.next();var fn=c&&this.table[c];if(fn)return fn.apply(this);var s=this.string;var i=this.index-1;rison.next_id.lastIndex=i;var m=rison.next_id.exec(s);if(m.length>0){var id=m[0];this.index=i+id.length;return id}if(c)return this.error("invalid character: '"+c+"'");return this.error("empty expression")};rison.parser.parse_array=function(parser){var ar=[];var c;while((c=parser.next())!==")"){if(!c)return parser.error("unmatched '!('");if(ar.length){if(c!==",")parser.error("missing ','")}else if(c===","){return parser.error("extra ','")}else--parser.index;var n=parser.readValue();if(typeof n=="undefined")return undefined;ar.push(n)}return ar};rison.parser.bangs={t:true,f:false,n:null,"(":rison.parser.parse_array};rison.parser.prototype.table={"!":function(){var s=this.string;var c=s.charAt(this.index++);if(!c)return this.error('"!" at end of input');var x=rison.parser.bangs[c];if(typeof x=="function"){return x.call(null,this)}else if(typeof x=="undefined"){return this.error('unknown literal: "!'+c+'"')}return x},"(":function(){var o={};var c;var count=0;while((c=this.next())!==")"){if(count){if(c!==",")this.error("missing ','")}else if(c===","){return this.error("extra ','")}else--this.index;var k=this.readValue();if(typeof k==="undefined")return undefined;if(this.next()!==":")return this.error("missing ':'");var v=this.readValue();if(typeof v==="undefined")return undefined;o[k]=v;count++}return o},"'":function(){var s=this.string;var i=this.index;var start=i;var segments=[];var c;while((c=s.charAt(i++))!=="'"){if(!c)return this.error('unmatched "\'"');if(c==="!"){if(start<i-1)segments.push(s.slice(start,i-1));c=s.charAt(i++);if("!'".indexOf(c)>=0){segments.push(c)}else{return this.error('invalid string escape: "!'+c+'"')}start=i}}if(start<i-1)segments.push(s.slice(start,i-1));this.index=i;return segments.length===1?segments[0]:segments.join("")},"-":function(){var s=this.string;var i=this.index;var start=i-1;var state="int";var permittedSigns="-";var transitions={"int+.":"frac","int+e":"exp","frac+e":"exp"};do{var c=s.charAt(i++);if(!c)break;if("0"<=c&&c<="9")continue;if(permittedSigns.indexOf(c)>=0){permittedSigns="";continue}state=transitions[state+"+"+c.toLowerCase()];if(state==="exp")permittedSigns="-"}while(state);this.index=--i;s=s.slice(start,i);if(s==="-")return this.error("invalid number");return Number(s)}};(function(table){for(var i=0;i<=9;i++)table[String(i)]=table["-"]})(rison.parser.prototype.table);rison.parser.prototype.next=function(){var c;var s=this.string;var i=this.index;do{if(i===s.length)return undefined;c=s.charAt(i++)}while(rison.parser.WHITESPACE.indexOf(c)>=0);this.index=i;return c};return rison}))},function(module,exports,__webpack_require__){"use strict";var arrays=__webpack_require__(22),objects=__webpack_require__(24);var peg={VERSION:"0.10.0",GrammarError:__webpack_require__(25),parser:__webpack_require__(48),compiler:__webpack_require__(49),generate:function(grammar,options){options=options!==void 0?options:{};function convertPasses(passes){var converted={},stage;for(stage in passes){if(passes.hasOwnProperty(stage)){converted[stage]=objects.values(passes[stage])}}return converted}options=objects.clone(options);var plugins="plugins"in options?options.plugins:[],config={parser:peg.parser,passes:convertPasses(peg.compiler.passes)};arrays.each(plugins,(function(p){p.use(config,options)}));return peg.compiler.compile(config.parser.parse(grammar),config.passes,options)}};module.exports=peg},function(module,exports,__webpack_require__){"use strict";var classes={subclass:function(child,parent){function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor}};module.exports=classes},function(module,exports,__webpack_require__){"use strict";function peg$subclass(child,parent){function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor}function peg$SyntaxError(message,expected,found,location){this.message=message;this.expected=expected;this.found=found;this.location=location;this.name="SyntaxError";if(typeof Error.captureStackTrace==="function"){Error.captureStackTrace(this,peg$SyntaxError)}}peg$subclass(peg$SyntaxError,Error);peg$SyntaxError.buildMessage=function(expected,found){var DESCRIBE_EXPECTATION_FNS={literal:function(expectation){return'"'+literalEscape(expectation.text)+'"'},class:function(expectation){var escapedParts="",i;for(i=0;i<expectation.parts.length;i++){escapedParts+=expectation.parts[i]instanceof Array?classEscape(expectation.parts[i][0])+"-"+classEscape(expectation.parts[i][1]):classEscape(expectation.parts[i])}return"["+(expectation.inverted?"^":"")+escapedParts+"]"},any:function(expectation){return"any character"},end:function(expectation){return"end of input"},other:function(expectation){return expectation.description}};function hex(ch){return ch.charCodeAt(0).toString(16).toUpperCase()}function literalEscape(s){return s.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(ch){return"\\x0"+hex(ch)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(ch){return"\\x"+hex(ch)}))}function classEscape(s){return s.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(ch){return"\\x0"+hex(ch)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(ch){return"\\x"+hex(ch)}))}function describeExpectation(expectation){return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation)}function describeExpected(expected){var descriptions=new Array(expected.length),i,j;for(i=0;i<expected.length;i++){descriptions[i]=describeExpectation(expected[i])}descriptions.sort();if(descriptions.length>0){for(i=1,j=1;i<descriptions.length;i++){if(descriptions[i-1]!==descriptions[i]){descriptions[j]=descriptions[i];j++}}descriptions.length=j}switch(descriptions.length){case 1:return descriptions[0];case 2:return descriptions[0]+" or "+descriptions[1];default:return descriptions.slice(0,-1).join(", ")+", or "+descriptions[descriptions.length-1]}}function describeFound(found){return found?'"'+literalEscape(found)+'"':"end of input"}return"Expected "+describeExpected(expected)+" but "+describeFound(found)+" found."};function peg$parse(input,options){options=options!==void 0?options:{};var peg$FAILED={},peg$startRuleFunctions={Grammar:peg$parseGrammar},peg$startRuleFunction=peg$parseGrammar,peg$c0=function(initializer,rules){return{type:"grammar",initializer:extractOptional(initializer,0),rules:extractList(rules,0),location:location()}},peg$c1=function(code){return{type:"initializer",code:code,location:location()}},peg$c2="=",peg$c3=peg$literalExpectation("=",false),peg$c4=function(name,displayName,expression){return{type:"rule",name:name,expression:displayName!==null?{type:"named",name:displayName[0],expression:expression,location:location()}:expression,location:location()}},peg$c5="/",peg$c6=peg$literalExpectation("/",false),peg$c7=function(head,tail){return tail.length>0?{type:"choice",alternatives:buildList(head,tail,3),location:location()}:head},peg$c8=function(expression,code){return code!==null?{type:"action",expression:expression,code:code[1],location:location()}:expression},peg$c9=function(head,tail){return tail.length>0?{type:"sequence",elements:buildList(head,tail,1),location:location()}:head},peg$c10=":",peg$c11=peg$literalExpectation(":",false),peg$c12=function(label,expression){return{type:"labeled",label:label,expression:expression,location:location()}},peg$c13=function(operator,expression){return{type:OPS_TO_PREFIXED_TYPES[operator],expression:expression,location:location()}},peg$c14="$",peg$c15=peg$literalExpectation("$",false),peg$c16="&",peg$c17=peg$literalExpectation("&",false),peg$c18="!",peg$c19=peg$literalExpectation("!",false),peg$c20=function(expression,operator){return{type:OPS_TO_SUFFIXED_TYPES[operator],expression:expression,location:location()}},peg$c21="?",peg$c22=peg$literalExpectation("?",false),peg$c23="*",peg$c24=peg$literalExpectation("*",false),peg$c25="+",peg$c26=peg$literalExpectation("+",false),peg$c27="(",peg$c28=peg$literalExpectation("(",false),peg$c29=")",peg$c30=peg$literalExpectation(")",false),peg$c31=function(expression){return expression.type==="labeled"||expression.type==="sequence"?{type:"group",expression:expression}:expression},peg$c32=function(name){return{type:"rule_ref",name:name,location:location()}},peg$c33=function(operator,code){return{type:OPS_TO_SEMANTIC_PREDICATE_TYPES[operator],code:code,location:location()}},peg$c34=peg$anyExpectation(),peg$c35=peg$otherExpectation("whitespace"),peg$c36="\t",peg$c37=peg$literalExpectation("\t",false),peg$c38="\v",peg$c39=peg$literalExpectation("\v",false),peg$c40="\f",peg$c41=peg$literalExpectation("\f",false),peg$c42=" ",peg$c43=peg$literalExpectation(" ",false),peg$c44="",peg$c45=peg$literalExpectation("",false),peg$c46="\ufeff",peg$c47=peg$literalExpectation("\ufeff",false),peg$c48=/^[\n\r\u2028\u2029]/,peg$c49=peg$classExpectation(["\n","\r","\u2028","\u2029"],false,false),peg$c50=peg$otherExpectation("end of line"),peg$c51="\n",peg$c52=peg$literalExpectation("\n",false),peg$c53="\r\n",peg$c54=peg$literalExpectation("\r\n",false),peg$c55="\r",peg$c56=peg$literalExpectation("\r",false),peg$c57="\u2028",peg$c58=peg$literalExpectation("\u2028",false),peg$c59="\u2029",peg$c60=peg$literalExpectation("\u2029",false),peg$c61=peg$otherExpectation("comment"),peg$c62="/*",peg$c63=peg$literalExpectation("/*",false),peg$c64="*/",peg$c65=peg$literalExpectation("*/",false),peg$c66="//",peg$c67=peg$literalExpectation("//",false),peg$c68=function(name){return name},peg$c69=peg$otherExpectation("identifier"),peg$c70=function(head,tail){return head+tail.join("")},peg$c71="_",peg$c72=peg$literalExpectation("_",false),peg$c73="\\",peg$c74=peg$literalExpectation("\\",false),peg$c75=function(sequence){return sequence},peg$c76="",peg$c77=peg$literalExpectation("",false),peg$c78="",peg$c79=peg$literalExpectation("",false),peg$c80=peg$otherExpectation("literal"),peg$c81="i",peg$c82=peg$literalExpectation("i",false),peg$c83=function(value,ignoreCase){return{type:"literal",value:value,ignoreCase:ignoreCase!==null,location:location()}},peg$c84=peg$otherExpectation("string"),peg$c85='"',peg$c86=peg$literalExpectation('"',false),peg$c87=function(chars){return chars.join("")},peg$c88="'",peg$c89=peg$literalExpectation("'",false),peg$c90=function(){return text()},peg$c91=peg$otherExpectation("character class"),peg$c92="[",peg$c93=peg$literalExpectation("[",false),peg$c94="^",peg$c95=peg$literalExpectation("^",false),peg$c96="]",peg$c97=peg$literalExpectation("]",false),peg$c98=function(inverted,parts,ignoreCase){return{type:"class",parts:filterEmptyStrings(parts),inverted:inverted!==null,ignoreCase:ignoreCase!==null,location:location()}},peg$c99="-",peg$c100=peg$literalExpectation("-",false),peg$c101=function(begin,end){if(begin.charCodeAt(0)>end.charCodeAt(0)){error("Invalid character range: "+text()+".")}return[begin,end]},peg$c102=function(){return""},peg$c103="0",peg$c104=peg$literalExpectation("0",false),peg$c105=function(){return"\0"},peg$c106="b",peg$c107=peg$literalExpectation("b",false),peg$c108=function(){return"\b"},peg$c109="f",peg$c110=peg$literalExpectation("f",false),peg$c111=function(){return"\f"},peg$c112="n",peg$c113=peg$literalExpectation("n",false),peg$c114=function(){return"\n"},peg$c115="r",peg$c116=peg$literalExpectation("r",false),peg$c117=function(){return"\r"},peg$c118="t",peg$c119=peg$literalExpectation("t",false),peg$c120=function(){return"\t"},peg$c121="v",peg$c122=peg$literalExpectation("v",false),peg$c123=function(){return"\v"},peg$c124="x",peg$c125=peg$literalExpectation("x",false),peg$c126="u",peg$c127=peg$literalExpectation("u",false),peg$c128=function(digits){return String.fromCharCode(parseInt(digits,16))},peg$c129=/^[0-9]/,peg$c130=peg$classExpectation([["0","9"]],false,false),peg$c131=/^[0-9a-f]/i,peg$c132=peg$classExpectation([["0","9"],["a","f"]],false,true),peg$c133=".",peg$c134=peg$literalExpectation(".",false),peg$c135=function(){return{type:"any",location:location()}},peg$c136=peg$otherExpectation("code block"),peg$c137="{",peg$c138=peg$literalExpectation("{",false),peg$c139="}",peg$c140=peg$literalExpectation("}",false),peg$c141=function(code){return code},peg$c142=/^[{}]/,peg$c143=peg$classExpectation(["{","}"],false,false),peg$c144=/^[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137-\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148-\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C-\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA-\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9-\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC-\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF-\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F-\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0-\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB-\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE-\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6-\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FC7\u1FD0-\u1FD3\u1FD6-\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6-\u1FF7\u210A\u210E-\u210F\u2113\u212F\u2134\u2139\u213C-\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65-\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73-\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3-\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]/,peg$c145=peg$classExpectation([["a","z"],"",["",""],["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","",["",""],"","",["",""],"","","","","",["",""],"","","","",["",""],["",""],"","","","","","","","","","",["",""],"","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"",["",""],"","","","","",["",""],["",""],"","","",["",""],"",["",""],["",""],["",""],"","","","","","","","","","","",["",""],"","",["",""],["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],["",""],["",""],["",""],["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"","","","",["",""],["",""],"","",["",""],"",["",""],"","","","",["",""],["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","",["",""],"","","","","","","","","","","","","",["",""],["",""],["",""],["",""],["",""],["",""]],false,false),peg$c146=/^[\u02B0-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0374\u037A\u0559\u0640\u06E5-\u06E6\u07F4-\u07F5\u07FA\u081A\u0824\u0828\u0971\u0E46\u0EC6\u10FC\u17D7\u1843\u1AA7\u1C78-\u1C7D\u1D2C-\u1D6A\u1D78\u1D9B-\u1DBF\u2071\u207F\u2090-\u209C\u2C7C-\u2C7D\u2D6F\u2E2F\u3005\u3031-\u3035\u303B\u309D-\u309E\u30FC-\u30FE\uA015\uA4F8-\uA4FD\uA60C\uA67F\uA69C-\uA69D\uA717-\uA71F\uA770\uA788\uA7F8-\uA7F9\uA9CF\uA9E6\uAA70\uAADD\uAAF3-\uAAF4\uAB5C-\uAB5F\uFF70\uFF9E-\uFF9F]/,peg$c147=peg$classExpectation([["",""],["",""],["",""],"","","","","","",["",""],["",""],"","","","","","","","","","","",["",""],["",""],"",["",""],"","",["",""],["",""],"","","",["",""],"",["",""],["",""],"",["",""],"","",["",""],["",""],"","",["",""],"","","","",["",""],["",""],"",["",""]],false,false),peg$c148=/^[\xAA\xBA\u01BB\u01C0-\u01C3\u0294\u05D0-\u05EA\u05F0-\u05F2\u0620-\u063F\u0641-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u0800-\u0815\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0972-\u0980\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u10D0-\u10FA\u10FD-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17DC\u1820-\u1842\u1844-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C77\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u2135-\u2138\u2D30-\u2D67\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3006\u303C\u3041-\u3096\u309F\u30A1-\u30FA\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA014\uA016-\uA48C\uA4D0-\uA4F7\uA500-\uA60B\uA610-\uA61F\uA62A-\uA62B\uA66E\uA6A0-\uA6E5\uA78F\uA7F7\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9E0-\uA9E4\uA9E7-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA6F\uAA71-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADC\uAAE0-\uAAEA\uAAF2\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF66-\uFF6F\uFF71-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,peg$c149=peg$classExpectation(["","","",["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],"","",["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],"","",["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],"","",["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],["",""],["",""],["",""],["",""],"","",["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],"",["",""],"","",["",""],["",""],["",""],"","",["",""],["",""],["",""],"",["",""],["",""],"",["",""],["",""],["",""],["",""],"",["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],"",["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"",["",""],["",""],"","",["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],false,false),peg$c150=/^[\u01C5\u01C8\u01CB\u01F2\u1F88-\u1F8F\u1F98-\u1F9F\u1FA8-\u1FAF\u1FBC\u1FCC\u1FFC]/,peg$c151=peg$classExpectation(["","","","",["",""],["",""],["",""],"","",""],false,false),peg$c152=/^[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178-\u0179\u017B\u017D\u0181-\u0182\u0184\u0186-\u0187\u0189-\u018B\u018E-\u0191\u0193-\u0194\u0196-\u0198\u019C-\u019D\u019F-\u01A0\u01A2\u01A4\u01A6-\u01A7\u01A9\u01AC\u01AE-\u01AF\u01B1-\u01B3\u01B5\u01B7-\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A-\u023B\u023D-\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E-\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9-\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0-\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E-\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D-\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A]/,peg$c153=peg$classExpectation([["A","Z"],["",""],["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","",["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],"","",["",""],["",""],"",["",""],"","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],["",""],"",["",""],"","","","","","","","","",["",""],"",["",""],["",""],["",""],"",["",""],"","","","","","","","","","","","","","",["",""],["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],["",""],"","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],["",""],["",""],["",""],["",""],"","","","",["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],["",""],"",["",""],"","","",["",""],["",""],["",""],"","",["",""],"",["",""],"","","",["",""],"","",["",""],"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",["",""],"","","","","","","","","","","","","","","","","","",["",""],["",""],"",["",""]],false,false),peg$c154=/^[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E-\u094F\u0982-\u0983\u09BE-\u09C0\u09C7-\u09C8\u09CB-\u09CC\u09D7\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB-\u0ACC\u0B02-\u0B03\u0B3E\u0B40\u0B47-\u0B48\u0B4B-\u0B4C\u0B57\u0BBE-\u0BBF\u0BC1-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD7\u0C01-\u0C03\u0C41-\u0C44\u0C82-\u0C83\u0CBE\u0CC0-\u0CC4\u0CC7-\u0CC8\u0CCA-\u0CCB\u0CD5-\u0CD6\u0D02-\u0D03\u0D3E-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D57\u0D82-\u0D83\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DF2-\u0DF3\u0F3E-\u0F3F\u0F7F\u102B-\u102C\u1031\u1038\u103B-\u103C\u1056-\u1057\u1062-\u1064\u1067-\u106D\u1083-\u1084\u1087-\u108C\u108F\u109A-\u109C\u17B6\u17BE-\u17C5\u17C7-\u17C8\u1923-\u1926\u1929-\u192B\u1930-\u1931\u1933-\u1938\u1A19-\u1A1A\u1A55\u1A57\u1A61\u1A63-\u1A64\u1A6D-\u1A72\u1B04\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B44\u1B82\u1BA1\u1BA6-\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2-\u1BF3\u1C24-\u1C2B\u1C34-\u1C35\u1CE1\u1CF2-\u1CF3\u302E-\u302F\uA823-\uA824\uA827\uA880-\uA881\uA8B4-\uA8C3\uA952-\uA953\uA983\uA9B4-\uA9B5\uA9BA-\uA9BB\uA9BD-\uA9C0\uAA2F-\uAA30\uAA33-\uAA34\uAA4D\uAA7B\uAA7D\uAAEB\uAAEE-\uAAEF\uAAF5\uABE3-\uABE4\uABE6-\uABE7\uABE9-\uABEA\uABEC]/,peg$c155=peg$classExpectation(["","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],"",["",""],"",["",""],["",""],"","",["",""],["",""],"",["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],"",["",""],"","",["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","","",["",""],["",""],"","","",["",""],["",""],"","",["",""],"","",["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],"","","","",["",""],"",["",""],["",""],["",""],""],false,false),peg$c156=/^[\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62-\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC-\u0CCD\u0CE2-\u0CE3\u0D01\u0D41-\u0D44\u0D4D\u0D62-\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099-\u309A\uA66F\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/,peg$c157=peg$classExpectation([["",""],["",""],["",""],"",["",""],["",""],"",["",""],["",""],"",["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],"",["",""],["",""],"","",["",""],"",["",""],["",""],"",["",""],["",""],["",""],"",["",""],"",["",""],"",["",""],["",""],"",["",""],"","","",["",""],"","",["",""],"","","","",["",""],["",""],["",""],["",""],["",""],"","","","",["",""],["",""],"",["",""],"",["",""],"",["",""],"","",["",""],["",""],"",["",""],["",""],["",""],["",""],"","","",["",""],["",""],["",""],["",""],["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],"",["",""],"",["",""],"",["",""],["",""],"",["",""],["",""],"","",["",""],"","",["",""],["",""],"",["",""],["",""],"",["",""],"","",["",""],["",""],["",""],["",""],["",""],"",["",""],"",["",""],["",""],["",""],["",""],["",""],["",""],"","",["",""],["",""],["",""],["",""],"",["",""],["",""],"",["",""],["",""],["",""],"",["",""],["",""],["",""],"","","",["",""],"",["",""],["",""],["",""],["",""],"",["",""],"","",["",""],["",""],["",""],"","","","",["",""],["",""],["",""],"",["",""],"","","","","",["",""],["",""]],false,false),peg$c158=/^[0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]/,peg$c159=peg$classExpectation([["0","9"],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],false,false),peg$c160=/^[\u16EE-\u16F0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303A\uA6E6-\uA6EF]/,peg$c161=peg$classExpectation([["",""],["",""],["",""],"",["",""],["",""],["",""]],false,false),peg$c162=/^[_\u203F-\u2040\u2054\uFE33-\uFE34\uFE4D-\uFE4F\uFF3F]/,peg$c163=peg$classExpectation(["_",["",""],"",["",""],["",""],""],false,false),peg$c164=/^[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,peg$c165=peg$classExpectation([" ","","",["",""],"","",""],false,false),peg$c166="break",peg$c167=peg$literalExpectation("break",false),peg$c168="case",peg$c169=peg$literalExpectation("case",false),peg$c170="catch",peg$c171=peg$literalExpectation("catch",false),peg$c172="class",peg$c173=peg$literalExpectation("class",false),peg$c174="const",peg$c175=peg$literalExpectation("const",false),peg$c176="continue",peg$c177=peg$literalExpectation("continue",false),peg$c178="debugger",peg$c179=peg$literalExpectation("debugger",false),peg$c180="default",peg$c181=peg$literalExpectation("default",false),peg$c182="delete",peg$c183=peg$literalExpectation("delete",false),peg$c184="do",peg$c185=peg$literalExpectation("do",false),peg$c186="else",peg$c187=peg$literalExpectation("else",false),peg$c188="enum",peg$c189=peg$literalExpectation("enum",false),peg$c190="export",peg$c191=peg$literalExpectation("export",false),peg$c192="extends",peg$c193=peg$literalExpectation("extends",false),peg$c194="false",peg$c195=peg$literalExpectation("false",false),peg$c196="finally",peg$c197=peg$literalExpectation("finally",false),peg$c198="for",peg$c199=peg$literalExpectation("for",false),peg$c200="function",peg$c201=peg$literalExpectation("function",false),peg$c202="if",peg$c203=peg$literalExpectation("if",false),peg$c204="import",peg$c205=peg$literalExpectation("import",false),peg$c206="instanceof",peg$c207=peg$literalExpectation("instanceof",false),peg$c208="in",peg$c209=peg$literalExpectation("in",false),peg$c210="new",peg$c211=peg$literalExpectation("new",false),peg$c212="null",peg$c213=peg$literalExpectation("null",false),peg$c214="return",peg$c215=peg$literalExpectation("return",false),peg$c216="super",peg$c217=peg$literalExpectation("super",false),peg$c218="switch",peg$c219=peg$literalExpectation("switch",false),peg$c220="this",peg$c221=peg$literalExpectation("this",false),peg$c222="throw",peg$c223=peg$literalExpectation("throw",false),peg$c224="true",peg$c225=peg$literalExpectation("true",false),peg$c226="try",peg$c227=peg$literalExpectation("try",false),peg$c228="typeof",peg$c229=peg$literalExpectation("typeof",false),peg$c230="var",peg$c231=peg$literalExpectation("var",false),peg$c232="void",peg$c233=peg$literalExpectation("void",false),peg$c234="while",peg$c235=peg$literalExpectation("while",false),peg$c236="with",peg$c237=peg$literalExpectation("with",false),peg$c238=";",peg$c239=peg$literalExpectation(";",false),peg$currPos=0,peg$savedPos=0,peg$posDetailsCache=[{line:1,column:1}],peg$maxFailPos=0,peg$maxFailExpected=[],peg$silentFails=0,peg$result;if("startRule"in options){if(!(options.startRule in peg$startRuleFunctions)){throw new Error("Can't start parsing from rule \""+options.startRule+'".')}peg$startRuleFunction=peg$startRuleFunctions[options.startRule]}function text(){return input.substring(peg$savedPos,peg$currPos)}function location(){return peg$computeLocation(peg$savedPos,peg$currPos)}function expected(description,location){location=location!==void 0?location:peg$computeLocation(peg$savedPos,peg$currPos);throw peg$buildStructuredError([peg$otherExpectation(description)],input.substring(peg$savedPos,peg$currPos),location)}function error(message,location){location=location!==void 0?location:peg$computeLocation(peg$savedPos,peg$currPos);throw peg$buildSimpleError(message,location)}function peg$literalExpectation(text,ignoreCase){return{type:"literal",text:text,ignoreCase:ignoreCase}}function peg$classExpectation(parts,inverted,ignoreCase){return{type:"class",parts:parts,inverted:inverted,ignoreCase:ignoreCase}}function peg$anyExpectation(){return{type:"any"}}function peg$endExpectation(){return{type:"end"}}function peg$otherExpectation(description){return{type:"other",description:description}}function peg$computePosDetails(pos){var details=peg$posDetailsCache[pos],p;if(details){return details}else{p=pos-1;while(!peg$posDetailsCache[p]){p--}details=peg$posDetailsCache[p];details={line:details.line,column:details.column};while(p<pos){if(input.charCodeAt(p)===10){details.line++;details.column=1}else{details.column++}p++}peg$posDetailsCache[pos]=details;return details}}function peg$computeLocation(startPos,endPos){var startPosDetails=peg$computePosDetails(startPos),endPosDetails=peg$computePosDetails(endPos);return{start:{offset:startPos,line:startPosDetails.line,column:startPosDetails.column},end:{offset:endPos,line:endPosDetails.line,column:endPosDetails.column}}}function peg$fail(expected){if(peg$currPos<peg$maxFailPos){return}if(peg$currPos>peg$maxFailPos){peg$maxFailPos=peg$currPos;peg$maxFailExpected=[]}peg$maxFailExpected.push(expected)}function peg$buildSimpleError(message,location){return new peg$SyntaxError(message,null,null,location)}function peg$buildStructuredError(expected,found,location){return new peg$SyntaxError(peg$SyntaxError.buildMessage(expected,found),expected,found,location)}function peg$parseGrammar(){var s0,s1,s2,s3,s4,s5,s6;s0=peg$currPos;s1=peg$parse__();if(s1!==peg$FAILED){s2=peg$currPos;s3=peg$parseInitializer();if(s3!==peg$FAILED){s4=peg$parse__();if(s4!==peg$FAILED){s3=[s3,s4];s2=s3}else{peg$currPos=s2;s2=peg$FAILED}}else{peg$currPos=s2;s2=peg$FAILED}if(s2===peg$FAILED){s2=null}if(s2!==peg$FAILED){s3=[];s4=peg$currPos;s5=peg$parseRule();if(s5!==peg$FAILED){s6=peg$parse__();if(s6!==peg$FAILED){s5=[s5,s6];s4=s5}else{peg$currPos=s4;s4=peg$FAILED}}else{peg$currPos=s4;s4=peg$FAILED}if(s4!==peg$FAILED){while(s4!==peg$FAILED){s3.push(s4);s4=peg$currPos;s5=peg$parseRule();if(s5!==peg$FAILED){s6=peg$parse__();if(s6!==peg$FAILED){s5=[s5,s6];s4=s5}else{peg$currPos=s4;s4=peg$FAILED}}else{peg$currPos=s4;s4=peg$FAILED}}}else{s3=peg$FAILED}if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c0(s2,s3);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseInitializer(){var s0,s1,s2;s0=peg$currPos;s1=peg$parseCodeBlock();if(s1!==peg$FAILED){s2=peg$parseEOS();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c1(s1);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseRule(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parseIdentifierName();if(s1!==peg$FAILED){s2=peg$parse__();if(s2!==peg$FAILED){s3=peg$currPos;s4=peg$parseStringLiteral();if(s4!==peg$FAILED){s5=peg$parse__();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}if(s3===peg$FAILED){s3=null}if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===61){s4=peg$c2;peg$currPos++}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c3)}}if(s4!==peg$FAILED){s5=peg$parse__();if(s5!==peg$FAILED){s6=peg$parseChoiceExpression();if(s6!==peg$FAILED){s7=peg$parseEOS();if(s7!==peg$FAILED){peg$savedPos=s0;s1=peg$c4(s1,s3,s6);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseChoiceExpression(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parseActionExpression();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$parse__();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===47){s5=peg$c5;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c6)}}if(s5!==peg$FAILED){s6=peg$parse__();if(s6!==peg$FAILED){s7=peg$parseActionExpression();if(s7!==peg$FAILED){s4=[s4,s5,s6,s7];s3=s4}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$parse__();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===47){s5=peg$c5;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c6)}}if(s5!==peg$FAILED){s6=peg$parse__();if(s6!==peg$FAILED){s7=peg$parseActionExpression();if(s7!==peg$FAILED){s4=[s4,s5,s6,s7];s3=s4}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c7(s1,s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseActionExpression(){var s0,s1,s2,s3,s4;s0=peg$currPos;s1=peg$parseSequenceExpression();if(s1!==peg$FAILED){s2=peg$currPos;s3=peg$parse__();if(s3!==peg$FAILED){s4=peg$parseCodeBlock();if(s4!==peg$FAILED){s3=[s3,s4];s2=s3}else{peg$currPos=s2;s2=peg$FAILED}}else{peg$currPos=s2;s2=peg$FAILED}if(s2===peg$FAILED){s2=null}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c8(s1,s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseSequenceExpression(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;s1=peg$parseLabeledExpression();if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$parse__();if(s4!==peg$FAILED){s5=peg$parseLabeledExpression();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$parse__();if(s4!==peg$FAILED){s5=peg$parseLabeledExpression();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c9(s1,s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseLabeledExpression(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;s1=peg$parseIdentifier();if(s1!==peg$FAILED){s2=peg$parse__();if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===58){s3=peg$c10;peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c11)}}if(s3!==peg$FAILED){s4=peg$parse__();if(s4!==peg$FAILED){s5=peg$parsePrefixedExpression();if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c12(s1,s5);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$parsePrefixedExpression()}return s0}function peg$parsePrefixedExpression(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$parsePrefixedOperator();if(s1!==peg$FAILED){s2=peg$parse__();if(s2!==peg$FAILED){s3=peg$parseSuffixedExpression();if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c13(s1,s3);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$parseSuffixedExpression()}return s0}function peg$parsePrefixedOperator(){var s0;if(input.charCodeAt(peg$currPos)===36){s0=peg$c14;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c15)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===38){s0=peg$c16;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c17)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===33){s0=peg$c18;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c19)}}}}return s0}function peg$parseSuffixedExpression(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$parsePrimaryExpression();if(s1!==peg$FAILED){s2=peg$parse__();if(s2!==peg$FAILED){s3=peg$parseSuffixedOperator();if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c20(s1,s3);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$parsePrimaryExpression()}return s0}function peg$parseSuffixedOperator(){var s0;if(input.charCodeAt(peg$currPos)===63){s0=peg$c21;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c22)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===42){s0=peg$c23;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c24)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===43){s0=peg$c25;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c26)}}}}return s0}function peg$parsePrimaryExpression(){var s0,s1,s2,s3,s4,s5;s0=peg$parseLiteralMatcher();if(s0===peg$FAILED){s0=peg$parseCharacterClassMatcher();if(s0===peg$FAILED){s0=peg$parseAnyMatcher();if(s0===peg$FAILED){s0=peg$parseRuleReferenceExpression();if(s0===peg$FAILED){s0=peg$parseSemanticPredicateExpression();if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===40){s1=peg$c27;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c28)}}if(s1!==peg$FAILED){s2=peg$parse__();if(s2!==peg$FAILED){s3=peg$parseChoiceExpression();if(s3!==peg$FAILED){s4=peg$parse__();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===41){s5=peg$c29;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c30)}}if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c31(s3);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}}}}}return s0}function peg$parseRuleReferenceExpression(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;s1=peg$parseIdentifierName();if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$currPos;s4=peg$parse__();if(s4!==peg$FAILED){s5=peg$currPos;s6=peg$parseStringLiteral();if(s6!==peg$FAILED){s7=peg$parse__();if(s7!==peg$FAILED){s6=[s6,s7];s5=s6}else{peg$currPos=s5;s5=peg$FAILED}}else{peg$currPos=s5;s5=peg$FAILED}if(s5===peg$FAILED){s5=null}if(s5!==peg$FAILED){if(input.charCodeAt(peg$currPos)===61){s6=peg$c2;peg$currPos++}else{s6=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c3)}}if(s6!==peg$FAILED){s4=[s4,s5,s6];s3=s4}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c32(s1);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseSemanticPredicateExpression(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$parseSemanticPredicateOperator();if(s1!==peg$FAILED){s2=peg$parse__();if(s2!==peg$FAILED){s3=peg$parseCodeBlock();if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c33(s1,s3);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseSemanticPredicateOperator(){var s0;if(input.charCodeAt(peg$currPos)===38){s0=peg$c16;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c17)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===33){s0=peg$c18;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c19)}}}return s0}function peg$parseSourceCharacter(){var s0;if(input.length>peg$currPos){s0=input.charAt(peg$currPos);peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c34)}}return s0}function peg$parseWhiteSpace(){var s0,s1;peg$silentFails++;if(input.charCodeAt(peg$currPos)===9){s0=peg$c36;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c37)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===11){s0=peg$c38;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c39)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===12){s0=peg$c40;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c41)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===32){s0=peg$c42;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c43)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===160){s0=peg$c44;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c45)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===65279){s0=peg$c46;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c47)}}if(s0===peg$FAILED){s0=peg$parseZs()}}}}}}peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c35)}}return s0}function peg$parseLineTerminator(){var s0;if(peg$c48.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c49)}}return s0}function peg$parseLineTerminatorSequence(){var s0,s1;peg$silentFails++;if(input.charCodeAt(peg$currPos)===10){s0=peg$c51;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c52)}}if(s0===peg$FAILED){if(input.substr(peg$currPos,2)===peg$c53){s0=peg$c53;peg$currPos+=2}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c54)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===13){s0=peg$c55;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c56)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===8232){s0=peg$c57;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c58)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===8233){s0=peg$c59;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c60)}}}}}}peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c50)}}return s0}function peg$parseComment(){var s0,s1;peg$silentFails++;s0=peg$parseMultiLineComment();if(s0===peg$FAILED){s0=peg$parseSingleLineComment()}peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c61)}}return s0}function peg$parseMultiLineComment(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c62){s1=peg$c62;peg$currPos+=2}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c63)}}if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$currPos;peg$silentFails++;if(input.substr(peg$currPos,2)===peg$c64){s5=peg$c64;peg$currPos+=2}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c65)}}peg$silentFails--;if(s5===peg$FAILED){s4=void 0}else{peg$currPos=s4;s4=peg$FAILED}if(s4!==peg$FAILED){s5=peg$parseSourceCharacter();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$currPos;peg$silentFails++;if(input.substr(peg$currPos,2)===peg$c64){s5=peg$c64;peg$currPos+=2}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c65)}}peg$silentFails--;if(s5===peg$FAILED){s4=void 0}else{peg$currPos=s4;s4=peg$FAILED}if(s4!==peg$FAILED){s5=peg$parseSourceCharacter();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}}if(s2!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c64){s3=peg$c64;peg$currPos+=2}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c65)}}if(s3!==peg$FAILED){s1=[s1,s2,s3];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseMultiLineCommentNoLineTerminator(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c62){s1=peg$c62;peg$currPos+=2}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c63)}}if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$currPos;peg$silentFails++;if(input.substr(peg$currPos,2)===peg$c64){s5=peg$c64;peg$currPos+=2}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c65)}}if(s5===peg$FAILED){s5=peg$parseLineTerminator()}peg$silentFails--;if(s5===peg$FAILED){s4=void 0}else{peg$currPos=s4;s4=peg$FAILED}if(s4!==peg$FAILED){s5=peg$parseSourceCharacter();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$currPos;peg$silentFails++;if(input.substr(peg$currPos,2)===peg$c64){s5=peg$c64;peg$currPos+=2}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c65)}}if(s5===peg$FAILED){s5=peg$parseLineTerminator()}peg$silentFails--;if(s5===peg$FAILED){s4=void 0}else{peg$currPos=s4;s4=peg$FAILED}if(s4!==peg$FAILED){s5=peg$parseSourceCharacter();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}}if(s2!==peg$FAILED){if(input.substr(peg$currPos,2)===peg$c64){s3=peg$c64;peg$currPos+=2}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c65)}}if(s3!==peg$FAILED){s1=[s1,s2,s3];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseSingleLineComment(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c66){s1=peg$c66;peg$currPos+=2}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c67)}}if(s1!==peg$FAILED){s2=[];s3=peg$currPos;s4=peg$currPos;peg$silentFails++;s5=peg$parseLineTerminator();peg$silentFails--;if(s5===peg$FAILED){s4=void 0}else{peg$currPos=s4;s4=peg$FAILED}if(s4!==peg$FAILED){s5=peg$parseSourceCharacter();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$currPos;peg$silentFails++;s5=peg$parseLineTerminator();peg$silentFails--;if(s5===peg$FAILED){s4=void 0}else{peg$currPos=s4;s4=peg$FAILED}if(s4!==peg$FAILED){s5=peg$parseSourceCharacter();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseIdentifier(){var s0,s1,s2;s0=peg$currPos;s1=peg$currPos;peg$silentFails++;s2=peg$parseReservedWord();peg$silentFails--;if(s2===peg$FAILED){s1=void 0}else{peg$currPos=s1;s1=peg$FAILED}if(s1!==peg$FAILED){s2=peg$parseIdentifierName();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c68(s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseIdentifierName(){var s0,s1,s2,s3;peg$silentFails++;s0=peg$currPos;s1=peg$parseIdentifierStart();if(s1!==peg$FAILED){s2=[];s3=peg$parseIdentifierPart();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseIdentifierPart()}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c70(s1,s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c69)}}return s0}function peg$parseIdentifierStart(){var s0,s1,s2;s0=peg$parseUnicodeLetter();if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===36){s0=peg$c14;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c15)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===95){s0=peg$c71;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c72)}}if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===92){s1=peg$c73;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c74)}}if(s1!==peg$FAILED){s2=peg$parseUnicodeEscapeSequence();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c75(s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}}}return s0}function peg$parseIdentifierPart(){var s0;s0=peg$parseIdentifierStart();if(s0===peg$FAILED){s0=peg$parseUnicodeCombiningMark();if(s0===peg$FAILED){s0=peg$parseNd();if(s0===peg$FAILED){s0=peg$parsePc();if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===8204){s0=peg$c76;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c77)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===8205){s0=peg$c78;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c79)}}}}}}}return s0}function peg$parseUnicodeLetter(){var s0;s0=peg$parseLu();if(s0===peg$FAILED){s0=peg$parseLl();if(s0===peg$FAILED){s0=peg$parseLt();if(s0===peg$FAILED){s0=peg$parseLm();if(s0===peg$FAILED){s0=peg$parseLo();if(s0===peg$FAILED){s0=peg$parseNl()}}}}}return s0}function peg$parseUnicodeCombiningMark(){var s0;s0=peg$parseMn();if(s0===peg$FAILED){s0=peg$parseMc()}return s0}function peg$parseReservedWord(){var s0;s0=peg$parseKeyword();if(s0===peg$FAILED){s0=peg$parseFutureReservedWord();if(s0===peg$FAILED){s0=peg$parseNullToken();if(s0===peg$FAILED){s0=peg$parseBooleanLiteral()}}}return s0}function peg$parseKeyword(){var s0;s0=peg$parseBreakToken();if(s0===peg$FAILED){s0=peg$parseCaseToken();if(s0===peg$FAILED){s0=peg$parseCatchToken();if(s0===peg$FAILED){s0=peg$parseContinueToken();if(s0===peg$FAILED){s0=peg$parseDebuggerToken();if(s0===peg$FAILED){s0=peg$parseDefaultToken();if(s0===peg$FAILED){s0=peg$parseDeleteToken();if(s0===peg$FAILED){s0=peg$parseDoToken();if(s0===peg$FAILED){s0=peg$parseElseToken();if(s0===peg$FAILED){s0=peg$parseFinallyToken();if(s0===peg$FAILED){s0=peg$parseForToken();if(s0===peg$FAILED){s0=peg$parseFunctionToken();if(s0===peg$FAILED){s0=peg$parseIfToken();if(s0===peg$FAILED){s0=peg$parseInstanceofToken();if(s0===peg$FAILED){s0=peg$parseInToken();if(s0===peg$FAILED){s0=peg$parseNewToken();if(s0===peg$FAILED){s0=peg$parseReturnToken();if(s0===peg$FAILED){s0=peg$parseSwitchToken();if(s0===peg$FAILED){s0=peg$parseThisToken();if(s0===peg$FAILED){s0=peg$parseThrowToken();if(s0===peg$FAILED){s0=peg$parseTryToken();if(s0===peg$FAILED){s0=peg$parseTypeofToken();if(s0===peg$FAILED){s0=peg$parseVarToken();if(s0===peg$FAILED){s0=peg$parseVoidToken();if(s0===peg$FAILED){s0=peg$parseWhileToken();if(s0===peg$FAILED){s0=peg$parseWithToken()}}}}}}}}}}}}}}}}}}}}}}}}}return s0}function peg$parseFutureReservedWord(){var s0;s0=peg$parseClassToken();if(s0===peg$FAILED){s0=peg$parseConstToken();if(s0===peg$FAILED){s0=peg$parseEnumToken();if(s0===peg$FAILED){s0=peg$parseExportToken();if(s0===peg$FAILED){s0=peg$parseExtendsToken();if(s0===peg$FAILED){s0=peg$parseImportToken();if(s0===peg$FAILED){s0=peg$parseSuperToken()}}}}}}return s0}function peg$parseBooleanLiteral(){var s0;s0=peg$parseTrueToken();if(s0===peg$FAILED){s0=peg$parseFalseToken()}return s0}function peg$parseLiteralMatcher(){var s0,s1,s2;peg$silentFails++;s0=peg$currPos;s1=peg$parseStringLiteral();if(s1!==peg$FAILED){if(input.charCodeAt(peg$currPos)===105){s2=peg$c81;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c82)}}if(s2===peg$FAILED){s2=null}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c83(s1,s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c80)}}return s0}function peg$parseStringLiteral(){var s0,s1,s2,s3;peg$silentFails++;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===34){s1=peg$c85;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c86)}}if(s1!==peg$FAILED){s2=[];s3=peg$parseDoubleStringCharacter();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseDoubleStringCharacter()}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===34){s3=peg$c85;peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c86)}}if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c87(s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===39){s1=peg$c88;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c89)}}if(s1!==peg$FAILED){s2=[];s3=peg$parseSingleStringCharacter();while(s3!==peg$FAILED){s2.push(s3);s3=peg$parseSingleStringCharacter()}if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===39){s3=peg$c88;peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c89)}}if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c87(s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c84)}}return s0}function peg$parseDoubleStringCharacter(){var s0,s1,s2;s0=peg$currPos;s1=peg$currPos;peg$silentFails++;if(input.charCodeAt(peg$currPos)===34){s2=peg$c85;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c86)}}if(s2===peg$FAILED){if(input.charCodeAt(peg$currPos)===92){s2=peg$c73;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c74)}}if(s2===peg$FAILED){s2=peg$parseLineTerminator()}}peg$silentFails--;if(s2===peg$FAILED){s1=void 0}else{peg$currPos=s1;s1=peg$FAILED}if(s1!==peg$FAILED){s2=peg$parseSourceCharacter();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c90();s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===92){s1=peg$c73;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c74)}}if(s1!==peg$FAILED){s2=peg$parseEscapeSequence();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c75(s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$parseLineContinuation()}}return s0}function peg$parseSingleStringCharacter(){var s0,s1,s2;s0=peg$currPos;s1=peg$currPos;peg$silentFails++;if(input.charCodeAt(peg$currPos)===39){s2=peg$c88;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c89)}}if(s2===peg$FAILED){if(input.charCodeAt(peg$currPos)===92){s2=peg$c73;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c74)}}if(s2===peg$FAILED){s2=peg$parseLineTerminator()}}peg$silentFails--;if(s2===peg$FAILED){s1=void 0}else{peg$currPos=s1;s1=peg$FAILED}if(s1!==peg$FAILED){s2=peg$parseSourceCharacter();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c90();s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===92){s1=peg$c73;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c74)}}if(s1!==peg$FAILED){s2=peg$parseEscapeSequence();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c75(s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$parseLineContinuation()}}return s0}function peg$parseCharacterClassMatcher(){var s0,s1,s2,s3,s4,s5;peg$silentFails++;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===91){s1=peg$c92;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c93)}}if(s1!==peg$FAILED){if(input.charCodeAt(peg$currPos)===94){s2=peg$c94;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c95)}}if(s2===peg$FAILED){s2=null}if(s2!==peg$FAILED){s3=[];s4=peg$parseClassCharacterRange();if(s4===peg$FAILED){s4=peg$parseClassCharacter()}while(s4!==peg$FAILED){s3.push(s4);s4=peg$parseClassCharacterRange();if(s4===peg$FAILED){s4=peg$parseClassCharacter()}}if(s3!==peg$FAILED){if(input.charCodeAt(peg$currPos)===93){s4=peg$c96;peg$currPos++}else{s4=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c97)}}if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===105){s5=peg$c81;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c82)}}if(s5===peg$FAILED){s5=null}if(s5!==peg$FAILED){peg$savedPos=s0;s1=peg$c98(s2,s3,s5);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c91)}}return s0}function peg$parseClassCharacterRange(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$parseClassCharacter();if(s1!==peg$FAILED){if(input.charCodeAt(peg$currPos)===45){s2=peg$c99;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c100)}}if(s2!==peg$FAILED){s3=peg$parseClassCharacter();if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c101(s1,s3);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseClassCharacter(){var s0,s1,s2;s0=peg$currPos;s1=peg$currPos;peg$silentFails++;if(input.charCodeAt(peg$currPos)===93){s2=peg$c96;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c97)}}if(s2===peg$FAILED){if(input.charCodeAt(peg$currPos)===92){s2=peg$c73;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c74)}}if(s2===peg$FAILED){s2=peg$parseLineTerminator()}}peg$silentFails--;if(s2===peg$FAILED){s1=void 0}else{peg$currPos=s1;s1=peg$FAILED}if(s1!==peg$FAILED){s2=peg$parseSourceCharacter();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c90();s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===92){s1=peg$c73;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c74)}}if(s1!==peg$FAILED){s2=peg$parseEscapeSequence();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c75(s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$parseLineContinuation()}}return s0}function peg$parseLineContinuation(){var s0,s1,s2;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===92){s1=peg$c73;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c74)}}if(s1!==peg$FAILED){s2=peg$parseLineTerminatorSequence();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c102();s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseEscapeSequence(){var s0,s1,s2,s3;s0=peg$parseCharacterEscapeSequence();if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===48){s1=peg$c103;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c104)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseDecimalDigit();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c105();s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$parseHexEscapeSequence();if(s0===peg$FAILED){s0=peg$parseUnicodeEscapeSequence()}}}return s0}function peg$parseCharacterEscapeSequence(){var s0;s0=peg$parseSingleEscapeCharacter();if(s0===peg$FAILED){s0=peg$parseNonEscapeCharacter()}return s0}function peg$parseSingleEscapeCharacter(){var s0,s1;if(input.charCodeAt(peg$currPos)===39){s0=peg$c88;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c89)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===34){s0=peg$c85;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c86)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===92){s0=peg$c73;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c74)}}if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===98){s1=peg$c106;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c107)}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c108()}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===102){s1=peg$c109;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c110)}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c111()}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===110){s1=peg$c112;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c113)}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c114()}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===114){s1=peg$c115;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c116)}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c117()}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===116){s1=peg$c118;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c119)}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c120()}s0=s1;if(s0===peg$FAILED){s0=peg$currPos;if(input.charCodeAt(peg$currPos)===118){s1=peg$c121;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c122)}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c123()}s0=s1}}}}}}}}return s0}function peg$parseNonEscapeCharacter(){var s0,s1,s2;s0=peg$currPos;s1=peg$currPos;peg$silentFails++;s2=peg$parseEscapeCharacter();if(s2===peg$FAILED){s2=peg$parseLineTerminator()}peg$silentFails--;if(s2===peg$FAILED){s1=void 0}else{peg$currPos=s1;s1=peg$FAILED}if(s1!==peg$FAILED){s2=peg$parseSourceCharacter();if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c90();s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseEscapeCharacter(){var s0;s0=peg$parseSingleEscapeCharacter();if(s0===peg$FAILED){s0=peg$parseDecimalDigit();if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===120){s0=peg$c124;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c125)}}if(s0===peg$FAILED){if(input.charCodeAt(peg$currPos)===117){s0=peg$c126;peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c127)}}}}}return s0}function peg$parseHexEscapeSequence(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===120){s1=peg$c124;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c125)}}if(s1!==peg$FAILED){s2=peg$currPos;s3=peg$currPos;s4=peg$parseHexDigit();if(s4!==peg$FAILED){s5=peg$parseHexDigit();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}if(s3!==peg$FAILED){s2=input.substring(s2,peg$currPos)}else{s2=s3}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c128(s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseUnicodeEscapeSequence(){var s0,s1,s2,s3,s4,s5,s6,s7;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===117){s1=peg$c126;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c127)}}if(s1!==peg$FAILED){s2=peg$currPos;s3=peg$currPos;s4=peg$parseHexDigit();if(s4!==peg$FAILED){s5=peg$parseHexDigit();if(s5!==peg$FAILED){s6=peg$parseHexDigit();if(s6!==peg$FAILED){s7=peg$parseHexDigit();if(s7!==peg$FAILED){s4=[s4,s5,s6,s7];s3=s4}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}if(s3!==peg$FAILED){s2=input.substring(s2,peg$currPos)}else{s2=s3}if(s2!==peg$FAILED){peg$savedPos=s0;s1=peg$c128(s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseDecimalDigit(){var s0;if(peg$c129.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c130)}}return s0}function peg$parseHexDigit(){var s0;if(peg$c131.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c132)}}return s0}function peg$parseAnyMatcher(){var s0,s1;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===46){s1=peg$c133;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c134)}}if(s1!==peg$FAILED){peg$savedPos=s0;s1=peg$c135()}s0=s1;return s0}function peg$parseCodeBlock(){var s0,s1,s2,s3;peg$silentFails++;s0=peg$currPos;if(input.charCodeAt(peg$currPos)===123){s1=peg$c137;peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c138)}}if(s1!==peg$FAILED){s2=peg$parseCode();if(s2!==peg$FAILED){if(input.charCodeAt(peg$currPos)===125){s3=peg$c139;peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c140)}}if(s3!==peg$FAILED){peg$savedPos=s0;s1=peg$c141(s2);s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}peg$silentFails--;if(s0===peg$FAILED){s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c136)}}return s0}function peg$parseCode(){var s0,s1,s2,s3,s4,s5;s0=peg$currPos;s1=[];s2=[];s3=peg$currPos;s4=peg$currPos;peg$silentFails++;if(peg$c142.test(input.charAt(peg$currPos))){s5=input.charAt(peg$currPos);peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c143)}}peg$silentFails--;if(s5===peg$FAILED){s4=void 0}else{peg$currPos=s4;s4=peg$FAILED}if(s4!==peg$FAILED){s5=peg$parseSourceCharacter();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}if(s3!==peg$FAILED){while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$currPos;peg$silentFails++;if(peg$c142.test(input.charAt(peg$currPos))){s5=input.charAt(peg$currPos);peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c143)}}peg$silentFails--;if(s5===peg$FAILED){s4=void 0}else{peg$currPos=s4;s4=peg$FAILED}if(s4!==peg$FAILED){s5=peg$parseSourceCharacter();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}}}else{s2=peg$FAILED}if(s2===peg$FAILED){s2=peg$currPos;if(input.charCodeAt(peg$currPos)===123){s3=peg$c137;peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c138)}}if(s3!==peg$FAILED){s4=peg$parseCode();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===125){s5=peg$c139;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c140)}}if(s5!==peg$FAILED){s3=[s3,s4,s5];s2=s3}else{peg$currPos=s2;s2=peg$FAILED}}else{peg$currPos=s2;s2=peg$FAILED}}else{peg$currPos=s2;s2=peg$FAILED}}while(s2!==peg$FAILED){s1.push(s2);s2=[];s3=peg$currPos;s4=peg$currPos;peg$silentFails++;if(peg$c142.test(input.charAt(peg$currPos))){s5=input.charAt(peg$currPos);peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c143)}}peg$silentFails--;if(s5===peg$FAILED){s4=void 0}else{peg$currPos=s4;s4=peg$FAILED}if(s4!==peg$FAILED){s5=peg$parseSourceCharacter();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}if(s3!==peg$FAILED){while(s3!==peg$FAILED){s2.push(s3);s3=peg$currPos;s4=peg$currPos;peg$silentFails++;if(peg$c142.test(input.charAt(peg$currPos))){s5=input.charAt(peg$currPos);peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c143)}}peg$silentFails--;if(s5===peg$FAILED){s4=void 0}else{peg$currPos=s4;s4=peg$FAILED}if(s4!==peg$FAILED){s5=peg$parseSourceCharacter();if(s5!==peg$FAILED){s4=[s4,s5];s3=s4}else{peg$currPos=s3;s3=peg$FAILED}}else{peg$currPos=s3;s3=peg$FAILED}}}else{s2=peg$FAILED}if(s2===peg$FAILED){s2=peg$currPos;if(input.charCodeAt(peg$currPos)===123){s3=peg$c137;peg$currPos++}else{s3=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c138)}}if(s3!==peg$FAILED){s4=peg$parseCode();if(s4!==peg$FAILED){if(input.charCodeAt(peg$currPos)===125){s5=peg$c139;peg$currPos++}else{s5=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c140)}}if(s5!==peg$FAILED){s3=[s3,s4,s5];s2=s3}else{peg$currPos=s2;s2=peg$FAILED}}else{peg$currPos=s2;s2=peg$FAILED}}else{peg$currPos=s2;s2=peg$FAILED}}}if(s1!==peg$FAILED){s0=input.substring(s0,peg$currPos)}else{s0=s1}return s0}function peg$parseLl(){var s0;if(peg$c144.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c145)}}return s0}function peg$parseLm(){var s0;if(peg$c146.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c147)}}return s0}function peg$parseLo(){var s0;if(peg$c148.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c149)}}return s0}function peg$parseLt(){var s0;if(peg$c150.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c151)}}return s0}function peg$parseLu(){var s0;if(peg$c152.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c153)}}return s0}function peg$parseMc(){var s0;if(peg$c154.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c155)}}return s0}function peg$parseMn(){var s0;if(peg$c156.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c157)}}return s0}function peg$parseNd(){var s0;if(peg$c158.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c159)}}return s0}function peg$parseNl(){var s0;if(peg$c160.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c161)}}return s0}function peg$parsePc(){var s0;if(peg$c162.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c163)}}return s0}function peg$parseZs(){var s0;if(peg$c164.test(input.charAt(peg$currPos))){s0=input.charAt(peg$currPos);peg$currPos++}else{s0=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c165)}}return s0}function peg$parseBreakToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,5)===peg$c166){s1=peg$c166;peg$currPos+=5}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c167)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseCaseToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,4)===peg$c168){s1=peg$c168;peg$currPos+=4}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c169)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseCatchToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,5)===peg$c170){s1=peg$c170;peg$currPos+=5}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c171)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseClassToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,5)===peg$c172){s1=peg$c172;peg$currPos+=5}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c173)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseConstToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,5)===peg$c174){s1=peg$c174;peg$currPos+=5}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c175)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseContinueToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,8)===peg$c176){s1=peg$c176;peg$currPos+=8}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c177)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseDebuggerToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,8)===peg$c178){s1=peg$c178;peg$currPos+=8}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c179)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseDefaultToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,7)===peg$c180){s1=peg$c180;peg$currPos+=7}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c181)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseDeleteToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,6)===peg$c182){s1=peg$c182;peg$currPos+=6}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c183)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseDoToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c184){s1=peg$c184;peg$currPos+=2}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c185)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseElseToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,4)===peg$c186){s1=peg$c186;peg$currPos+=4}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c187)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseEnumToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,4)===peg$c188){s1=peg$c188;peg$currPos+=4}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c189)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseExportToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,6)===peg$c190){s1=peg$c190;peg$currPos+=6}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c191)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseExtendsToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,7)===peg$c192){s1=peg$c192;peg$currPos+=7}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c193)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseFalseToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,5)===peg$c194){s1=peg$c194;peg$currPos+=5}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c195)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseFinallyToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,7)===peg$c196){s1=peg$c196;peg$currPos+=7}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c197)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseForToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,3)===peg$c198){s1=peg$c198;peg$currPos+=3}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c199)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseFunctionToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,8)===peg$c200){s1=peg$c200;peg$currPos+=8}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c201)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseIfToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c202){s1=peg$c202;peg$currPos+=2}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c203)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseImportToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,6)===peg$c204){s1=peg$c204;peg$currPos+=6}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c205)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseInstanceofToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,10)===peg$c206){s1=peg$c206;peg$currPos+=10}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c207)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseInToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,2)===peg$c208){s1=peg$c208;peg$currPos+=2}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c209)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseNewToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,3)===peg$c210){s1=peg$c210;peg$currPos+=3}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c211)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseNullToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,4)===peg$c212){s1=peg$c212;peg$currPos+=4}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c213)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseReturnToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,6)===peg$c214){s1=peg$c214;peg$currPos+=6}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c215)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseSuperToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,5)===peg$c216){s1=peg$c216;peg$currPos+=5}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c217)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseSwitchToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,6)===peg$c218){s1=peg$c218;peg$currPos+=6}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c219)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseThisToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,4)===peg$c220){s1=peg$c220;peg$currPos+=4}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c221)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseThrowToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,5)===peg$c222){s1=peg$c222;peg$currPos+=5}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c223)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseTrueToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,4)===peg$c224){s1=peg$c224;peg$currPos+=4}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c225)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseTryToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,3)===peg$c226){s1=peg$c226;peg$currPos+=3}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c227)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseTypeofToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,6)===peg$c228){s1=peg$c228;peg$currPos+=6}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c229)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseVarToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,3)===peg$c230){s1=peg$c230;peg$currPos+=3}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c231)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseVoidToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,4)===peg$c232){s1=peg$c232;peg$currPos+=4}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c233)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseWhileToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,5)===peg$c234){s1=peg$c234;peg$currPos+=5}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c235)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parseWithToken(){var s0,s1,s2,s3;s0=peg$currPos;if(input.substr(peg$currPos,4)===peg$c236){s1=peg$c236;peg$currPos+=4}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c237)}}if(s1!==peg$FAILED){s2=peg$currPos;peg$silentFails++;s3=peg$parseIdentifierPart();peg$silentFails--;if(s3===peg$FAILED){s2=void 0}else{peg$currPos=s2;s2=peg$FAILED}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}return s0}function peg$parse__(){var s0,s1;s0=[];s1=peg$parseWhiteSpace();if(s1===peg$FAILED){s1=peg$parseLineTerminatorSequence();if(s1===peg$FAILED){s1=peg$parseComment()}}while(s1!==peg$FAILED){s0.push(s1);s1=peg$parseWhiteSpace();if(s1===peg$FAILED){s1=peg$parseLineTerminatorSequence();if(s1===peg$FAILED){s1=peg$parseComment()}}}return s0}function peg$parse_(){var s0,s1;s0=[];s1=peg$parseWhiteSpace();if(s1===peg$FAILED){s1=peg$parseMultiLineCommentNoLineTerminator()}while(s1!==peg$FAILED){s0.push(s1);s1=peg$parseWhiteSpace();if(s1===peg$FAILED){s1=peg$parseMultiLineCommentNoLineTerminator()}}return s0}function peg$parseEOS(){var s0,s1,s2,s3;s0=peg$currPos;s1=peg$parse__();if(s1!==peg$FAILED){if(input.charCodeAt(peg$currPos)===59){s2=peg$c238;peg$currPos++}else{s2=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c239)}}if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parse_();if(s1!==peg$FAILED){s2=peg$parseSingleLineComment();if(s2===peg$FAILED){s2=null}if(s2!==peg$FAILED){s3=peg$parseLineTerminatorSequence();if(s3!==peg$FAILED){s1=[s1,s2,s3];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}if(s0===peg$FAILED){s0=peg$currPos;s1=peg$parse__();if(s1!==peg$FAILED){s2=peg$parseEOF();if(s2!==peg$FAILED){s1=[s1,s2];s0=s1}else{peg$currPos=s0;s0=peg$FAILED}}else{peg$currPos=s0;s0=peg$FAILED}}}return s0}function peg$parseEOF(){var s0,s1;s0=peg$currPos;peg$silentFails++;if(input.length>peg$currPos){s1=input.charAt(peg$currPos);peg$currPos++}else{s1=peg$FAILED;if(peg$silentFails===0){peg$fail(peg$c34)}}peg$silentFails--;if(s1===peg$FAILED){s0=void 0}else{peg$currPos=s0;s0=peg$FAILED}return s0}var OPS_TO_PREFIXED_TYPES={$:"text","&":"simple_and","!":"simple_not"};var OPS_TO_SUFFIXED_TYPES={"?":"optional","*":"zero_or_more","+":"one_or_more"};var OPS_TO_SEMANTIC_PREDICATE_TYPES={"&":"semantic_and","!":"semantic_not"};function filterEmptyStrings(array){var result=[],i;for(i=0;i<array.length;i++){if(array[i]!==""){result.push(array[i])}}return result}function extractOptional(optional,index){return optional?optional[index]:null}function extractList(list,index){var result=new Array(list.length),i;for(i=0;i<list.length;i++){result[i]=list[i][index]}return result}function buildList(head,tail,index){return[head].concat(extractList(tail,index))}peg$result=peg$startRuleFunction();if(peg$result!==peg$FAILED&&peg$currPos===input.length){return peg$result}else{if(peg$result!==peg$FAILED&&peg$currPos<input.length){peg$fail(peg$endExpectation())}throw peg$buildStructuredError(peg$maxFailExpected,peg$maxFailPos<input.length?input.charAt(peg$maxFailPos):null,peg$maxFailPos<input.length?peg$computeLocation(peg$maxFailPos,peg$maxFailPos+1):peg$computeLocation(peg$maxFailPos,peg$maxFailPos))}}module.exports={SyntaxError:peg$SyntaxError,parse:peg$parse}},function(module,exports,__webpack_require__){"use strict";var arrays=__webpack_require__(22),objects=__webpack_require__(24);var compiler={visitor:__webpack_require__(23),passes:{check:{reportUndefinedRules:__webpack_require__(50),reportDuplicateRules:__webpack_require__(51),reportDuplicateLabels:__webpack_require__(52),reportInfiniteRecursion:__webpack_require__(53),reportInfiniteRepetition:__webpack_require__(54)},transform:{removeProxyRules:__webpack_require__(55)},generate:{generateBytecode:__webpack_require__(56),generateJS:__webpack_require__(57)}},compile:function(ast,passes,options){options=options!==void 0?options:{};var stage;options=objects.clone(options);objects.defaults(options,{allowedStartRules:[ast.rules[0].name],cache:false,dependencies:{},exportVar:null,format:"bare",optimize:"speed",output:"parser",trace:false});for(stage in passes){if(passes.hasOwnProperty(stage)){arrays.each(passes[stage],(function(p){p(ast,options)}))}}switch(options.output){case"parser":return eval(ast.code);case"source":return ast.code}}};module.exports=compiler},function(module,exports,__webpack_require__){"use strict";var GrammarError=__webpack_require__(25),asts=__webpack_require__(26),visitor=__webpack_require__(23);function reportUndefinedRules(ast){var check=visitor.build({rule_ref:function(node){if(!asts.findRule(ast,node.name)){throw new GrammarError('Rule "'+node.name+'" is not defined.',node.location)}}});check(ast)}module.exports=reportUndefinedRules},function(module,exports,__webpack_require__){"use strict";var GrammarError=__webpack_require__(25),visitor=__webpack_require__(23);function reportDuplicateRules(ast){var rules={};var check=visitor.build({rule:function(node){if(rules.hasOwnProperty(node.name)){throw new GrammarError('Rule "'+node.name+'" is already defined '+"at line "+rules[node.name].start.line+", "+"column "+rules[node.name].start.column+".",node.location)}rules[node.name]=node.location}});check(ast)}module.exports=reportDuplicateRules},function(module,exports,__webpack_require__){"use strict";var GrammarError=__webpack_require__(25),arrays=__webpack_require__(22),objects=__webpack_require__(24),visitor=__webpack_require__(23);function reportDuplicateLabels(ast){function checkExpressionWithClonedEnv(node,env){check(node.expression,objects.clone(env))}var check=visitor.build({rule:function(node){check(node.expression,{})},choice:function(node,env){arrays.each(node.alternatives,(function(alternative){check(alternative,objects.clone(env))}))},action:checkExpressionWithClonedEnv,labeled:function(node,env){if(env.hasOwnProperty(node.label)){throw new GrammarError('Label "'+node.label+'" is already defined '+"at line "+env[node.label].start.line+", "+"column "+env[node.label].start.column+".",node.location)}check(node.expression,env);env[node.label]=node.location},text:checkExpressionWithClonedEnv,simple_and:checkExpressionWithClonedEnv,simple_not:checkExpressionWithClonedEnv,optional:checkExpressionWithClonedEnv,zero_or_more:checkExpressionWithClonedEnv,one_or_more:checkExpressionWithClonedEnv,group:checkExpressionWithClonedEnv});check(ast)}module.exports=reportDuplicateLabels},function(module,exports,__webpack_require__){"use strict";var arrays=__webpack_require__(22),GrammarError=__webpack_require__(25),asts=__webpack_require__(26),visitor=__webpack_require__(23);function reportInfiniteRecursion(ast){var visitedRules=[];var check=visitor.build({rule:function(node){visitedRules.push(node.name);check(node.expression);visitedRules.pop(node.name)},sequence:function(node){arrays.every(node.elements,(function(element){check(element);return!asts.alwaysConsumesOnSuccess(ast,element)}))},rule_ref:function(node){if(arrays.contains(visitedRules,node.name)){visitedRules.push(node.name);throw new GrammarError("Possible infinite loop when parsing (left recursion: "+visitedRules.join(" -> ")+").",node.location)}check(asts.findRule(ast,node.name))}});check(ast)}module.exports=reportInfiniteRecursion},function(module,exports,__webpack_require__){"use strict";var GrammarError=__webpack_require__(25),asts=__webpack_require__(26),visitor=__webpack_require__(23);function reportInfiniteRepetition(ast){var check=visitor.build({zero_or_more:function(node){if(!asts.alwaysConsumesOnSuccess(ast,node.expression)){throw new GrammarError("Possible infinite loop when parsing (repetition used with an expression that may not consume any input).",node.location)}},one_or_more:function(node){if(!asts.alwaysConsumesOnSuccess(ast,node.expression)){throw new GrammarError("Possible infinite loop when parsing (repetition used with an expression that may not consume any input).",node.location)}}});check(ast)}module.exports=reportInfiniteRepetition},function(module,exports,__webpack_require__){"use strict";var arrays=__webpack_require__(22),visitor=__webpack_require__(23);function removeProxyRules(ast,options){function isProxyRule(node){return node.type==="rule"&&node.expression.type==="rule_ref"}function replaceRuleRefs(ast,from,to){var replace=visitor.build({rule_ref:function(node){if(node.name===from){node.name=to}}});replace(ast)}var indices=[];arrays.each(ast.rules,(function(rule,i){if(isProxyRule(rule)){replaceRuleRefs(ast,rule.name,rule.expression.name);if(!arrays.contains(options.allowedStartRules,rule.name)){indices.push(i)}}}));indices.reverse();arrays.each(indices,(function(i){ast.rules.splice(i,1)}))}module.exports=removeProxyRules},function(module,exports,__webpack_require__){"use strict";var arrays=__webpack_require__(22),objects=__webpack_require__(24),asts=__webpack_require__(26),visitor=__webpack_require__(23),op=__webpack_require__(29),js=__webpack_require__(30);function generateBytecode(ast){var consts=[];function addConst(value){var index=arrays.indexOf(consts,value);return index===-1?consts.push(value)-1:index}function addFunctionConst(params,code){return addConst("function("+params.join(", ")+") {"+code+"}")}function buildSequence(){return Array.prototype.concat.apply([],arguments)}function buildCondition(condCode,thenCode,elseCode){return condCode.concat([thenCode.length,elseCode.length],thenCode,elseCode)}function buildLoop(condCode,bodyCode){return condCode.concat([bodyCode.length],bodyCode)}function buildCall(functionIndex,delta,env,sp){var params=arrays.map(objects.values(env),(function(p){return sp-p}));return[op.CALL,functionIndex,delta,params.length].concat(params)}function buildSimplePredicate(expression,negative,context){return buildSequence([op.PUSH_CURR_POS],[op.SILENT_FAILS_ON],generate(expression,{sp:context.sp+1,env:objects.clone(context.env),action:null}),[op.SILENT_FAILS_OFF],buildCondition([negative?op.IF_ERROR:op.IF_NOT_ERROR],buildSequence([op.POP],[negative?op.POP:op.POP_CURR_POS],[op.PUSH_UNDEFINED]),buildSequence([op.POP],[negative?op.POP_CURR_POS:op.POP],[op.PUSH_FAILED])))}function buildSemanticPredicate(code,negative,context){var functionIndex=addFunctionConst(objects.keys(context.env),code);return buildSequence([op.UPDATE_SAVED_POS],buildCall(functionIndex,0,context.env,context.sp),buildCondition([op.IF],buildSequence([op.POP],negative?[op.PUSH_FAILED]:[op.PUSH_UNDEFINED]),buildSequence([op.POP],negative?[op.PUSH_UNDEFINED]:[op.PUSH_FAILED])))}function buildAppendLoop(expressionCode){return buildLoop([op.WHILE_NOT_ERROR],buildSequence([op.APPEND],expressionCode))}var generate=visitor.build({grammar:function(node){arrays.each(node.rules,generate);node.consts=consts},rule:function(node){node.bytecode=generate(node.expression,{sp:-1,env:{},action:null})},named:function(node,context){var nameIndex=addConst('peg$otherExpectation("'+js.stringEscape(node.name)+'")');return buildSequence([op.SILENT_FAILS_ON],generate(node.expression,context),[op.SILENT_FAILS_OFF],buildCondition([op.IF_ERROR],[op.FAIL,nameIndex],[]))},choice:function(node,context){function buildAlternativesCode(alternatives,context){return buildSequence(generate(alternatives[0],{sp:context.sp,env:objects.clone(context.env),action:null}),alternatives.length>1?buildCondition([op.IF_ERROR],buildSequence([op.POP],buildAlternativesCode(alternatives.slice(1),context)),[]):[])}return buildAlternativesCode(node.alternatives,context)},action:function(node,context){var env=objects.clone(context.env),emitCall=node.expression.type!=="sequence"||node.expression.elements.length===0,expressionCode=generate(node.expression,{sp:context.sp+(emitCall?1:0),env:env,action:node}),functionIndex=addFunctionConst(objects.keys(env),node.code);return emitCall?buildSequence([op.PUSH_CURR_POS],expressionCode,buildCondition([op.IF_NOT_ERROR],buildSequence([op.LOAD_SAVED_POS,1],buildCall(functionIndex,1,env,context.sp+2)),[]),[op.NIP]):expressionCode},sequence:function(node,context){function buildElementsCode(elements,context){var processedCount,functionIndex;if(elements.length>0){processedCount=node.elements.length-elements.slice(1).length;return buildSequence(generate(elements[0],{sp:context.sp,env:context.env,action:null}),buildCondition([op.IF_NOT_ERROR],buildElementsCode(elements.slice(1),{sp:context.sp+1,env:context.env,action:context.action}),buildSequence(processedCount>1?[op.POP_N,processedCount]:[op.POP],[op.POP_CURR_POS],[op.PUSH_FAILED])))}else{if(context.action){functionIndex=addFunctionConst(objects.keys(context.env),context.action.code);return buildSequence([op.LOAD_SAVED_POS,node.elements.length],buildCall(functionIndex,node.elements.length,context.env,context.sp),[op.NIP])}else{return buildSequence([op.WRAP,node.elements.length],[op.NIP])}}}return buildSequence([op.PUSH_CURR_POS],buildElementsCode(node.elements,{sp:context.sp+1,env:context.env,action:context.action}))},labeled:function(node,context){var env=objects.clone(context.env);context.env[node.label]=context.sp+1;return generate(node.expression,{sp:context.sp,env:env,action:null})},text:function(node,context){return buildSequence([op.PUSH_CURR_POS],generate(node.expression,{sp:context.sp+1,env:objects.clone(context.env),action:null}),buildCondition([op.IF_NOT_ERROR],buildSequence([op.POP],[op.TEXT]),[op.NIP]))},simple_and:function(node,context){return buildSimplePredicate(node.expression,false,context)},simple_not:function(node,context){return buildSimplePredicate(node.expression,true,context)},optional:function(node,context){return buildSequence(generate(node.expression,{sp:context.sp,env:objects.clone(context.env),action:null}),buildCondition([op.IF_ERROR],buildSequence([op.POP],[op.PUSH_NULL]),[]))},zero_or_more:function(node,context){var expressionCode=generate(node.expression,{sp:context.sp+1,env:objects.clone(context.env),action:null});return buildSequence([op.PUSH_EMPTY_ARRAY],expressionCode,buildAppendLoop(expressionCode),[op.POP])},one_or_more:function(node,context){var expressionCode=generate(node.expression,{sp:context.sp+1,env:objects.clone(context.env),action:null});return buildSequence([op.PUSH_EMPTY_ARRAY],expressionCode,buildCondition([op.IF_NOT_ERROR],buildSequence(buildAppendLoop(expressionCode),[op.POP]),buildSequence([op.POP],[op.POP],[op.PUSH_FAILED])))},group:function(node,context){return generate(node.expression,{sp:context.sp,env:objects.clone(context.env),action:null})},semantic_and:function(node,context){return buildSemanticPredicate(node.code,false,context)},semantic_not:function(node,context){return buildSemanticPredicate(node.code,true,context)},rule_ref:function(node){return[op.RULE,asts.indexOfRule(ast,node.name)]},literal:function(node){var stringIndex,expectedIndex;if(node.value.length>0){stringIndex=addConst('"'+js.stringEscape(node.ignoreCase?node.value.toLowerCase():node.value)+'"');expectedIndex=addConst("peg$literalExpectation("+'"'+js.stringEscape(node.value)+'", '+node.ignoreCase+")");return buildCondition(node.ignoreCase?[op.MATCH_STRING_IC,stringIndex]:[op.MATCH_STRING,stringIndex],node.ignoreCase?[op.ACCEPT_N,node.value.length]:[op.ACCEPT_STRING,stringIndex],[op.FAIL,expectedIndex])}else{stringIndex=addConst('""');return[op.PUSH,stringIndex]}},class:function(node){var regexp,parts,regexpIndex,expectedIndex;if(node.parts.length>0){regexp="/^["+(node.inverted?"^":"")+arrays.map(node.parts,(function(part){return part instanceof Array?js.regexpClassEscape(part[0])+"-"+js.regexpClassEscape(part[1]):js.regexpClassEscape(part)})).join("")+"]/"+(node.ignoreCase?"i":"")}else{regexp=node.inverted?"/^[\\S\\s]/":"/^(?!)/"}parts="["+arrays.map(node.parts,(function(part){return part instanceof Array?'["'+js.stringEscape(part[0])+'", "'+js.stringEscape(part[1])+'"]':'"'+js.stringEscape(part)+'"'})).join(", ")+"]";regexpIndex=addConst(regexp);expectedIndex=addConst("peg$classExpectation("+parts+", "+node.inverted+", "+node.ignoreCase+")");return buildCondition([op.MATCH_REGEXP,regexpIndex],[op.ACCEPT_N,1],[op.FAIL,expectedIndex])},any:function(){var expectedIndex=addConst("peg$anyExpectation()");return buildCondition([op.MATCH_ANY],[op.ACCEPT_N,1],[op.FAIL,expectedIndex])}});generate(ast)}module.exports=generateBytecode},function(module,exports,__webpack_require__){"use strict";var arrays=__webpack_require__(22),objects=__webpack_require__(24),asts=__webpack_require__(26),op=__webpack_require__(29),js=__webpack_require__(30);function generateJS(ast,options){function indent2(code){return code.replace(/^(.+)$/gm,"  $1")}function indent6(code){return code.replace(/^(.+)$/gm,"      $1")}function indent10(code){return code.replace(/^(.+)$/gm,"          $1")}function generateTables(){if(options.optimize==="size"){return["peg$consts = [",indent2(ast.consts.join(",\n")),"],","","peg$bytecode = [",indent2(arrays.map(ast.rules,(function(rule){return'peg$decode("'+js.stringEscape(arrays.map(rule.bytecode,(function(b){return String.fromCharCode(b+32)})).join(""))+'")'})).join(",\n")),"],"].join("\n")}else{return arrays.map(ast.consts,(function(c,i){return"peg$c"+i+" = "+c+","})).join("\n")}}function generateRuleHeader(ruleNameCode,ruleIndexCode){var parts=[];parts.push("");if(options.trace){parts.push(["peg$tracer.trace({",'  type:     "rule.enter",',"  rule:     "+ruleNameCode+",","  location: peg$computeLocation(startPos, startPos)","});",""].join("\n"))}if(options.cache){parts.push(["var key    = peg$currPos * "+ast.rules.length+" + "+ruleIndexCode+",","    cached = peg$resultsCache[key];","","if (cached) {","  peg$currPos = cached.nextPos;",""].join("\n"));if(options.trace){parts.push(["if (cached.result !== peg$FAILED) {","  peg$tracer.trace({",'    type:   "rule.match",',"    rule:   "+ruleNameCode+",","    result: cached.result,","    location: peg$computeLocation(startPos, peg$currPos)","  });","} else {","  peg$tracer.trace({",'    type: "rule.fail",',"    rule: "+ruleNameCode+",","    location: peg$computeLocation(startPos, startPos)","  });","}",""].join("\n"))}parts.push(["  return cached.result;","}",""].join("\n"))}return parts.join("\n")}function generateRuleFooter(ruleNameCode,resultCode){var parts=[];if(options.cache){parts.push(["","peg$resultsCache[key] = { nextPos: peg$currPos, result: "+resultCode+" };"].join("\n"))}if(options.trace){parts.push(["","if ("+resultCode+" !== peg$FAILED) {","  peg$tracer.trace({",'    type:   "rule.match",',"    rule:   "+ruleNameCode+",","    result: "+resultCode+",","    location: peg$computeLocation(startPos, peg$currPos)","  });","} else {","  peg$tracer.trace({",'    type: "rule.fail",',"    rule: "+ruleNameCode+",","    location: peg$computeLocation(startPos, startPos)","  });","}"].join("\n"))}parts.push(["","return "+resultCode+";"].join("\n"));return parts.join("\n")}function generateInterpreter(){var parts=[];function generateCondition(cond,argsLength){var baseLength=argsLength+3,thenLengthCode="bc[ip + "+(baseLength-2)+"]",elseLengthCode="bc[ip + "+(baseLength-1)+"]";return["ends.push(end);","ips.push(ip + "+baseLength+" + "+thenLengthCode+" + "+elseLengthCode+");","","if ("+cond+") {","  end = ip + "+baseLength+" + "+thenLengthCode+";","  ip += "+baseLength+";","} else {","  end = ip + "+baseLength+" + "+thenLengthCode+" + "+elseLengthCode+";","  ip += "+baseLength+" + "+thenLengthCode+";","}","","break;"].join("\n")}function generateLoop(cond){var baseLength=2,bodyLengthCode="bc[ip + "+(baseLength-1)+"]";return["if ("+cond+") {","  ends.push(end);","  ips.push(ip);","","  end = ip + "+baseLength+" + "+bodyLengthCode+";","  ip += "+baseLength+";","} else {","  ip += "+baseLength+" + "+bodyLengthCode+";","}","","break;"].join("\n")}function generateCall(){var baseLength=4,paramsLengthCode="bc[ip + "+(baseLength-1)+"]";return["params = bc.slice(ip + "+baseLength+", ip + "+baseLength+" + "+paramsLengthCode+");","for (i = 0; i < "+paramsLengthCode+"; i++) {","  params[i] = stack[stack.length - 1 - params[i]];","}","","stack.splice(","  stack.length - bc[ip + 2],","  bc[ip + 2],","  peg$consts[bc[ip + 1]].apply(null, params)",");","","ip += "+baseLength+" + "+paramsLengthCode+";","break;"].join("\n")}parts.push(["function peg$decode(s) {","  var bc = new Array(s.length), i;","","  for (i = 0; i < s.length; i++) {","    bc[i] = s.charCodeAt(i) - 32;","  }","","  return bc;","}","","function peg$parseRule(index) {"].join("\n"));if(options.trace){parts.push(["  var bc       = peg$bytecode[index],","      ip       = 0,","      ips      = [],","      end      = bc.length,","      ends     = [],","      stack    = [],","      startPos = peg$currPos,","      params, i;"].join("\n"))}else{parts.push(["  var bc    = peg$bytecode[index],","      ip    = 0,","      ips   = [],","      end   = bc.length,","      ends  = [],","      stack = [],","      params, i;"].join("\n"))}parts.push(indent2(generateRuleHeader("peg$ruleNames[index]","index")));parts.push(["  while (true) {","    while (ip < end) {","      switch (bc[ip]) {","        case "+op.PUSH+":","          stack.push(peg$consts[bc[ip + 1]]);","          ip += 2;","          break;","","        case "+op.PUSH_UNDEFINED+":","          stack.push(void 0);","          ip++;","          break;","","        case "+op.PUSH_NULL+":","          stack.push(null);","          ip++;","          break;","","        case "+op.PUSH_FAILED+":","          stack.push(peg$FAILED);","          ip++;","          break;","","        case "+op.PUSH_EMPTY_ARRAY+":","          stack.push([]);","          ip++;","          break;","","        case "+op.PUSH_CURR_POS+":","          stack.push(peg$currPos);","          ip++;","          break;","","        case "+op.POP+":","          stack.pop();","          ip++;","          break;","","        case "+op.POP_CURR_POS+":","          peg$currPos = stack.pop();","          ip++;","          break;","","        case "+op.POP_N+":","          stack.length -= bc[ip + 1];","          ip += 2;","          break;","","        case "+op.NIP+":","          stack.splice(-2, 1);","          ip++;","          break;","","        case "+op.APPEND+":","          stack[stack.length - 2].push(stack.pop());","          ip++;","          break;","","        case "+op.WRAP+":","          stack.push(stack.splice(stack.length - bc[ip + 1], bc[ip + 1]));","          ip += 2;","          break;","","        case "+op.TEXT+":","          stack.push(input.substring(stack.pop(), peg$currPos));","          ip++;","          break;","","        case "+op.IF+":",indent10(generateCondition("stack[stack.length - 1]",0)),"","        case "+op.IF_ERROR+":",indent10(generateCondition("stack[stack.length - 1] === peg$FAILED",0)),"","        case "+op.IF_NOT_ERROR+":",indent10(generateCondition("stack[stack.length - 1] !== peg$FAILED",0)),"","        case "+op.WHILE_NOT_ERROR+":",indent10(generateLoop("stack[stack.length - 1] !== peg$FAILED")),"","        case "+op.MATCH_ANY+":",indent10(generateCondition("input.length > peg$currPos",0)),"","        case "+op.MATCH_STRING+":",indent10(generateCondition("input.substr(peg$currPos, peg$consts[bc[ip + 1]].length) === peg$consts[bc[ip + 1]]",1)),"","        case "+op.MATCH_STRING_IC+":",indent10(generateCondition("input.substr(peg$currPos, peg$consts[bc[ip + 1]].length).toLowerCase() === peg$consts[bc[ip + 1]]",1)),"","        case "+op.MATCH_REGEXP+":",indent10(generateCondition("peg$consts[bc[ip + 1]].test(input.charAt(peg$currPos))",1)),"","        case "+op.ACCEPT_N+":","          stack.push(input.substr(peg$currPos, bc[ip + 1]));","          peg$currPos += bc[ip + 1];","          ip += 2;","          break;","","        case "+op.ACCEPT_STRING+":","          stack.push(peg$consts[bc[ip + 1]]);","          peg$currPos += peg$consts[bc[ip + 1]].length;","          ip += 2;","          break;","","        case "+op.FAIL+":","          stack.push(peg$FAILED);","          if (peg$silentFails === 0) {","            peg$fail(peg$consts[bc[ip + 1]]);","          }","          ip += 2;","          break;","","        case "+op.LOAD_SAVED_POS+":","          peg$savedPos = stack[stack.length - 1 - bc[ip + 1]];","          ip += 2;","          break;","","        case "+op.UPDATE_SAVED_POS+":","          peg$savedPos = peg$currPos;","          ip++;","          break;","","        case "+op.CALL+":",indent10(generateCall()),"","        case "+op.RULE+":","          stack.push(peg$parseRule(bc[ip + 1]));","          ip += 2;","          break;","","        case "+op.SILENT_FAILS_ON+":","          peg$silentFails++;","          ip++;","          break;","","        case "+op.SILENT_FAILS_OFF+":","          peg$silentFails--;","          ip++;","          break;","","        default:",'          throw new Error("Invalid opcode: " + bc[ip] + ".");',"      }","    }","","    if (ends.length > 0) {","      end = ends.pop();","      ip = ips.pop();","    } else {","      break;","    }","  }"].join("\n"));parts.push(indent2(generateRuleFooter("peg$ruleNames[index]","stack[0]")));parts.push("}");return parts.join("\n")}function generateRuleFunction(rule){var parts=[],code;function c(i){return"peg$c"+i}function s(i){return"s"+i}var stack={sp:-1,maxSp:-1,push:function(exprCode){var code=s(++this.sp)+" = "+exprCode+";";if(this.sp>this.maxSp){this.maxSp=this.sp}return code},pop:function(n){var values;if(n===void 0){return s(this.sp--)}else{values=arrays.map(arrays.range(this.sp-n+1,this.sp+1),s);this.sp-=n;return values}},top:function(){return s(this.sp)},index:function(i){return s(this.sp-i)}};function compile(bc){var ip=0,end=bc.length,parts=[],value;function compileCondition(cond,argCount){var baseLength=argCount+3,thenLength=bc[ip+baseLength-2],elseLength=bc[ip+baseLength-1],baseSp=stack.sp,thenCode,elseCode,thenSp,elseSp;ip+=baseLength;thenCode=compile(bc.slice(ip,ip+thenLength));thenSp=stack.sp;ip+=thenLength;if(elseLength>0){stack.sp=baseSp;elseCode=compile(bc.slice(ip,ip+elseLength));elseSp=stack.sp;ip+=elseLength;if(thenSp!==elseSp){throw new Error("Branches of a condition must move the stack pointer in the same way.")}}parts.push("if ("+cond+") {");parts.push(indent2(thenCode));if(elseLength>0){parts.push("} else {");parts.push(indent2(elseCode))}parts.push("}")}function compileLoop(cond){var baseLength=2,bodyLength=bc[ip+baseLength-1],baseSp=stack.sp,bodyCode,bodySp;ip+=baseLength;bodyCode=compile(bc.slice(ip,ip+bodyLength));bodySp=stack.sp;ip+=bodyLength;if(bodySp!==baseSp){throw new Error("Body of a loop can't move the stack pointer.")}parts.push("while ("+cond+") {");parts.push(indent2(bodyCode));parts.push("}")}function compileCall(){var baseLength=4,paramsLength=bc[ip+baseLength-1];var value=c(bc[ip+1])+"("+arrays.map(bc.slice(ip+baseLength,ip+baseLength+paramsLength),(function(p){return stack.index(p)})).join(", ")+")";stack.pop(bc[ip+2]);parts.push(stack.push(value));ip+=baseLength+paramsLength}while(ip<end){switch(bc[ip]){case op.PUSH:parts.push(stack.push(c(bc[ip+1])));ip+=2;break;case op.PUSH_CURR_POS:parts.push(stack.push("peg$currPos"));ip++;break;case op.PUSH_UNDEFINED:parts.push(stack.push("void 0"));ip++;break;case op.PUSH_NULL:parts.push(stack.push("null"));ip++;break;case op.PUSH_FAILED:parts.push(stack.push("peg$FAILED"));ip++;break;case op.PUSH_EMPTY_ARRAY:parts.push(stack.push("[]"));ip++;break;case op.POP:stack.pop();ip++;break;case op.POP_CURR_POS:parts.push("peg$currPos = "+stack.pop()+";");ip++;break;case op.POP_N:stack.pop(bc[ip+1]);ip+=2;break;case op.NIP:value=stack.pop();stack.pop();parts.push(stack.push(value));ip++;break;case op.APPEND:value=stack.pop();parts.push(stack.top()+".push("+value+");");ip++;break;case op.WRAP:parts.push(stack.push("["+stack.pop(bc[ip+1]).join(", ")+"]"));ip+=2;break;case op.TEXT:parts.push(stack.push("input.substring("+stack.pop()+", peg$currPos)"));ip++;break;case op.IF:compileCondition(stack.top(),0);break;case op.IF_ERROR:compileCondition(stack.top()+" === peg$FAILED",0);break;case op.IF_NOT_ERROR:compileCondition(stack.top()+" !== peg$FAILED",0);break;case op.WHILE_NOT_ERROR:compileLoop(stack.top()+" !== peg$FAILED",0);break;case op.MATCH_ANY:compileCondition("input.length > peg$currPos",0);break;case op.MATCH_STRING:compileCondition(eval(ast.consts[bc[ip+1]]).length>1?"input.substr(peg$currPos, "+eval(ast.consts[bc[ip+1]]).length+") === "+c(bc[ip+1]):"input.charCodeAt(peg$currPos) === "+eval(ast.consts[bc[ip+1]]).charCodeAt(0),1);break;case op.MATCH_STRING_IC:compileCondition("input.substr(peg$currPos, "+eval(ast.consts[bc[ip+1]]).length+").toLowerCase() === "+c(bc[ip+1]),1);break;case op.MATCH_REGEXP:compileCondition(c(bc[ip+1])+".test(input.charAt(peg$currPos))",1);break;case op.ACCEPT_N:parts.push(stack.push(bc[ip+1]>1?"input.substr(peg$currPos, "+bc[ip+1]+")":"input.charAt(peg$currPos)"));parts.push(bc[ip+1]>1?"peg$currPos += "+bc[ip+1]+";":"peg$currPos++;");ip+=2;break;case op.ACCEPT_STRING:parts.push(stack.push(c(bc[ip+1])));parts.push(eval(ast.consts[bc[ip+1]]).length>1?"peg$currPos += "+eval(ast.consts[bc[ip+1]]).length+";":"peg$currPos++;");ip+=2;break;case op.FAIL:parts.push(stack.push("peg$FAILED"));parts.push("if (peg$silentFails === 0) { peg$fail("+c(bc[ip+1])+"); }");ip+=2;break;case op.LOAD_SAVED_POS:parts.push("peg$savedPos = "+stack.index(bc[ip+1])+";");ip+=2;break;case op.UPDATE_SAVED_POS:parts.push("peg$savedPos = peg$currPos;");ip++;break;case op.CALL:compileCall();break;case op.RULE:parts.push(stack.push("peg$parse"+ast.rules[bc[ip+1]].name+"()"));ip+=2;break;case op.SILENT_FAILS_ON:parts.push("peg$silentFails++;");ip++;break;case op.SILENT_FAILS_OFF:parts.push("peg$silentFails--;");ip++;break;default:throw new Error("Invalid opcode: "+bc[ip]+".")}}return parts.join("\n")}code=compile(rule.bytecode);parts.push("function peg$parse"+rule.name+"() {");if(options.trace){parts.push(["  var "+arrays.map(arrays.range(0,stack.maxSp+1),s).join(", ")+",","      startPos = peg$currPos;"].join("\n"))}else{parts.push("  var "+arrays.map(arrays.range(0,stack.maxSp+1),s).join(", ")+";")}parts.push(indent2(generateRuleHeader('"'+js.stringEscape(rule.name)+'"',asts.indexOfRule(ast,rule.name))));parts.push(indent2(code));parts.push(indent2(generateRuleFooter('"'+js.stringEscape(rule.name)+'"',s(0))));parts.push("}");return parts.join("\n")}function generateToplevel(){var parts=[],startRuleIndices,startRuleIndex,startRuleFunctions,startRuleFunction,ruleNames;parts.push(["function peg$subclass(child, parent) {","  function ctor() { this.constructor = child; }","  ctor.prototype = parent.prototype;","  child.prototype = new ctor();","}","","function peg$SyntaxError(message, expected, found, location) {","  this.message  = message;","  this.expected = expected;","  this.found    = found;","  this.location = location;",'  this.name     = "SyntaxError";',"",'  if (typeof Error.captureStackTrace === "function") {',"    Error.captureStackTrace(this, peg$SyntaxError);","  }","}","","peg$subclass(peg$SyntaxError, Error);","","peg$SyntaxError.buildMessage = function(expected, found) {","  var DESCRIBE_EXPECTATION_FNS = {","        literal: function(expectation) {",'          return "\\"" + literalEscape(expectation.text) + "\\"";',"        },","",'        "class": function(expectation) {','          var escapedParts = "",',"              i;","","          for (i = 0; i < expectation.parts.length; i++) {","            escapedParts += expectation.parts[i] instanceof Array",'              ? classEscape(expectation.parts[i][0]) + "-" + classEscape(expectation.parts[i][1])',"              : classEscape(expectation.parts[i]);","          }","",'          return "[" + (expectation.inverted ? "^" : "") + escapedParts + "]";',"        },","","        any: function(expectation) {",'          return "any character";',"        },","","        end: function(expectation) {",'          return "end of input";',"        },","","        other: function(expectation) {","          return expectation.description;","        }","      };","","  function hex(ch) {","    return ch.charCodeAt(0).toString(16).toUpperCase();","  }","","  function literalEscape(s) {","    return s","      .replace(/\\\\/g, '\\\\\\\\')","      .replace(/\"/g,  '\\\\\"')","      .replace(/\\0/g, '\\\\0')","      .replace(/\\t/g, '\\\\t')","      .replace(/\\n/g, '\\\\n')","      .replace(/\\r/g, '\\\\r')","      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })","      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });","  }","","  function classEscape(s) {","    return s","      .replace(/\\\\/g, '\\\\\\\\')","      .replace(/\\]/g, '\\\\]')","      .replace(/\\^/g, '\\\\^')","      .replace(/-/g,  '\\\\-')","      .replace(/\\0/g, '\\\\0')","      .replace(/\\t/g, '\\\\t')","      .replace(/\\n/g, '\\\\n')","      .replace(/\\r/g, '\\\\r')","      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })","      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });","  }","","  function describeExpectation(expectation) {","    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);","  }","","  function describeExpected(expected) {","    var descriptions = new Array(expected.length),","        i, j;","","    for (i = 0; i < expected.length; i++) {","      descriptions[i] = describeExpectation(expected[i]);","    }","","    descriptions.sort();","","    if (descriptions.length > 0) {","      for (i = 1, j = 1; i < descriptions.length; i++) {","        if (descriptions[i - 1] !== descriptions[i]) {","          descriptions[j] = descriptions[i];","          j++;","        }","      }","      descriptions.length = j;","    }","","    switch (descriptions.length) {","      case 1:","        return descriptions[0];","","      case 2:",'        return descriptions[0] + " or " + descriptions[1];',"","      default:",'        return descriptions.slice(0, -1).join(", ")','          + ", or "',"          + descriptions[descriptions.length - 1];","    }","  }","","  function describeFound(found) {",'    return found ? "\\"" + literalEscape(found) + "\\"" : "end of input";',"  }","",'  return "Expected " + describeExpected(expected) + " but " + describeFound(found) + " found.";',"};",""].join("\n"));if(options.trace){parts.push(["function peg$DefaultTracer() {","  this.indentLevel = 0;","}","","peg$DefaultTracer.prototype.trace = function(event) {","  var that = this;","","  function log(event) {","    function repeat(string, n) {",'       var result = "", i;',"","       for (i = 0; i < n; i++) {","         result += string;","       }","","       return result;","    }","","    function pad(string, length) {",'      return string + repeat(" ", length - string.length);',"    }","",'    if (typeof console === "object") {',"      console.log(",'        event.location.start.line + ":" + event.location.start.column + "-"','          + event.location.end.line + ":" + event.location.end.column + " "','          + pad(event.type, 10) + " "','          + repeat("  ", that.indentLevel) + event.rule',"      );","    }","  }","","  switch (event.type) {",'    case "rule.enter":',"      log(event);","      this.indentLevel++;","      break;","",'    case "rule.match":',"      this.indentLevel--;","      log(event);","      break;","",'    case "rule.fail":',"      this.indentLevel--;","      log(event);","      break;","","    default:",'      throw new Error("Invalid event type: " + event.type + ".");',"  }","};",""].join("\n"))}parts.push(["function peg$parse(input, options) {","  options = options !== void 0 ? options : {};","","  var peg$FAILED = {},",""].join("\n"));if(options.optimize==="size"){startRuleIndices="{ "+arrays.map(options.allowedStartRules,(function(r){return r+": "+asts.indexOfRule(ast,r)})).join(", ")+" }";startRuleIndex=asts.indexOfRule(ast,options.allowedStartRules[0]);parts.push(["      peg$startRuleIndices = "+startRuleIndices+",","      peg$startRuleIndex   = "+startRuleIndex+","].join("\n"))}else{startRuleFunctions="{ "+arrays.map(options.allowedStartRules,(function(r){return r+": peg$parse"+r})).join(", ")+" }";startRuleFunction="peg$parse"+options.allowedStartRules[0];parts.push(["      peg$startRuleFunctions = "+startRuleFunctions+",","      peg$startRuleFunction  = "+startRuleFunction+","].join("\n"))}parts.push("");parts.push(indent6(generateTables()));parts.push(["","      peg$currPos          = 0,","      peg$savedPos         = 0,","      peg$posDetailsCache  = [{ line: 1, column: 1 }],","      peg$maxFailPos       = 0,","      peg$maxFailExpected  = [],","      peg$silentFails      = 0,",""].join("\n"));if(options.cache){parts.push(["      peg$resultsCache = {},",""].join("\n"))}if(options.trace){if(options.optimize==="size"){ruleNames="["+arrays.map(ast.rules,(function(r){return'"'+js.stringEscape(r.name)+'"'})).join(", ")+"]";parts.push(["      peg$ruleNames = "+ruleNames+",",""].join("\n"))}parts.push(['      peg$tracer = "tracer" in options ? options.tracer : new peg$DefaultTracer(),',""].join("\n"))}parts.push(["      peg$result;",""].join("\n"));if(options.optimize==="size"){parts.push(['  if ("startRule" in options) {',"    if (!(options.startRule in peg$startRuleIndices)) {",'      throw new Error("Can\'t start parsing from rule \\"" + options.startRule + "\\".");',"    }","","    peg$startRuleIndex = peg$startRuleIndices[options.startRule];","  }"].join("\n"))}else{parts.push(['  if ("startRule" in options) {',"    if (!(options.startRule in peg$startRuleFunctions)) {",'      throw new Error("Can\'t start parsing from rule \\"" + options.startRule + "\\".");',"    }","","    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];","  }"].join("\n"))}parts.push(["","  function text() {","    return input.substring(peg$savedPos, peg$currPos);","  }","","  function location() {","    return peg$computeLocation(peg$savedPos, peg$currPos);","  }","","  function expected(description, location) {","    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)","","    throw peg$buildStructuredError(","      [peg$otherExpectation(description)],","      input.substring(peg$savedPos, peg$currPos),","      location","    );","  }","","  function error(message, location) {","    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)","","    throw peg$buildSimpleError(message, location);","  }","","  function peg$literalExpectation(text, ignoreCase) {",'    return { type: "literal", text: text, ignoreCase: ignoreCase };',"  }","","  function peg$classExpectation(parts, inverted, ignoreCase) {",'    return { type: "class", parts: parts, inverted: inverted, ignoreCase: ignoreCase };',"  }","","  function peg$anyExpectation() {",'    return { type: "any" };',"  }","","  function peg$endExpectation() {",'    return { type: "end" };',"  }","","  function peg$otherExpectation(description) {",'    return { type: "other", description: description };',"  }","","  function peg$computePosDetails(pos) {","    var details = peg$posDetailsCache[pos], p;","","    if (details) {","      return details;","    } else {","      p = pos - 1;","      while (!peg$posDetailsCache[p]) {","        p--;","      }","","      details = peg$posDetailsCache[p];","      details = {","        line:   details.line,","        column: details.column","      };","","      while (p < pos) {","        if (input.charCodeAt(p) === 10) {","          details.line++;","          details.column = 1;","        } else {","          details.column++;","        }","","        p++;","      }","","      peg$posDetailsCache[pos] = details;","      return details;","    }","  }","","  function peg$computeLocation(startPos, endPos) {","    var startPosDetails = peg$computePosDetails(startPos),","        endPosDetails   = peg$computePosDetails(endPos);","","    return {","      start: {","        offset: startPos,","        line:   startPosDetails.line,","        column: startPosDetails.column","      },","      end: {","        offset: endPos,","        line:   endPosDetails.line,","        column: endPosDetails.column","      }","    };","  }","","  function peg$fail(expected) {","    if (peg$currPos < peg$maxFailPos) { return; }","","    if (peg$currPos > peg$maxFailPos) {","      peg$maxFailPos = peg$currPos;","      peg$maxFailExpected = [];","    }","","    peg$maxFailExpected.push(expected);","  }","","  function peg$buildSimpleError(message, location) {","    return new peg$SyntaxError(message, null, null, location);","  }","","  function peg$buildStructuredError(expected, found, location) {","    return new peg$SyntaxError(","      peg$SyntaxError.buildMessage(expected, found),","      expected,","      found,","      location","    );","  }",""].join("\n"));if(options.optimize==="size"){parts.push(indent2(generateInterpreter()));parts.push("")}else{arrays.each(ast.rules,(function(rule){parts.push(indent2(generateRuleFunction(rule)));parts.push("")}))}if(ast.initializer){parts.push(indent2(ast.initializer.code));parts.push("")}if(options.optimize==="size"){parts.push("  peg$result = peg$parseRule(peg$startRuleIndex);")}else{parts.push("  peg$result = peg$startRuleFunction();")}parts.push(["","  if (peg$result !== peg$FAILED && peg$currPos === input.length) {","    return peg$result;","  } else {","    if (peg$result !== peg$FAILED && peg$currPos < input.length) {","      peg$fail(peg$endExpectation());","    }","","    throw peg$buildStructuredError(","      peg$maxFailExpected,","      peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,","      peg$maxFailPos < input.length","        ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)","        : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)","    );","  }","}"].join("\n"));return parts.join("\n")}function generateWrapper(toplevelCode){function generateGeneratedByComment(){return["/*"," * Generated by PEG.js 0.10.0."," *"," * http://pegjs.org/"," */"].join("\n")}function generateParserObject(){return options.trace?["{","  SyntaxError:   peg$SyntaxError,","  DefaultTracer: peg$DefaultTracer,","  parse:         peg$parse","}"].join("\n"):["{","  SyntaxError: peg$SyntaxError,","  parse:       peg$parse","}"].join("\n")}var generators={bare:function(){return[generateGeneratedByComment(),"(function() {",'  "use strict";',"",indent2(toplevelCode),"",indent2("return "+generateParserObject()+";"),"})()"].join("\n")},commonjs:function(){var parts=[],dependencyVars=objects.keys(options.dependencies),requires=arrays.map(dependencyVars,(function(variable){return variable+' = require("'+js.stringEscape(options.dependencies[variable])+'")'}));parts.push([generateGeneratedByComment(),"",'"use strict";',""].join("\n"));if(requires.length>0){parts.push("var "+requires.join(", ")+";");parts.push("")}parts.push([toplevelCode,"","module.exports = "+generateParserObject()+";",""].join("\n"));return parts.join("\n")},amd:function(){var dependencyIds=objects.values(options.dependencies),dependencyVars=objects.keys(options.dependencies),dependencies="["+arrays.map(dependencyIds,(function(id){return'"'+js.stringEscape(id)+'"'})).join(", ")+"]",params=dependencyVars.join(", ");return[generateGeneratedByComment(),"define("+dependencies+", function("+params+") {",'  "use strict";',"",indent2(toplevelCode),"",indent2("return "+generateParserObject()+";"),"});",""].join("\n")},globals:function(){return[generateGeneratedByComment(),"(function(root) {",'  "use strict";',"",indent2(toplevelCode),"",indent2("root."+options.exportVar+" = "+generateParserObject()+";"),"})(this);",""].join("\n")},umd:function(){var parts=[],dependencyIds=objects.values(options.dependencies),dependencyVars=objects.keys(options.dependencies),dependencies="["+arrays.map(dependencyIds,(function(id){return'"'+js.stringEscape(id)+'"'})).join(", ")+"]",requires=arrays.map(dependencyIds,(function(id){return'require("'+js.stringEscape(id)+'")'})).join(", "),params=dependencyVars.join(", ");parts.push([generateGeneratedByComment(),"(function(root, factory) {",'  if (typeof define === "function" && define.amd) {',"    define("+dependencies+", factory);",'  } else if (typeof module === "object" && module.exports) {',"    module.exports = factory("+requires+");"].join("\n"));if(options.exportVar!==null){parts.push(["  } else {","    root."+options.exportVar+" = factory();"].join("\n"))}parts.push(["  }","})(this, function("+params+") {",'  "use strict";',"",indent2(toplevelCode),"",indent2("return "+generateParserObject()+";"),"});",""].join("\n"));return parts.join("\n")}};return generators[options.format]()}ast.code=generateWrapper(generateToplevel())}module.exports=generateJS},function(module,exports,__webpack_require__){"use strict";if(true){module.exports=__webpack_require__(59)}else{}},function(module,exports,__webpack_require__){"use strict";function _interopDefault(n){return n&&"object"==typeof n&&"default"in n?n.default:n}Object.defineProperty(exports,"__esModule",{value:!0});var resolvePathname=_interopDefault(__webpack_require__(60)),valueEqual=_interopDefault(__webpack_require__(61));__webpack_require__(62);var invariant=_interopDefault(__webpack_require__(63));function _extends(){return(_extends=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n}).apply(this,arguments)}function addLeadingSlash(n){return"/"===n.charAt(0)?n:"/"+n}function stripLeadingSlash(n){return"/"===n.charAt(0)?n.substr(1):n}function hasBasename(n,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(n)}function stripBasename(n,t){return hasBasename(n,t)?n.substr(t.length):n}function stripTrailingSlash(n){return"/"===n.charAt(n.length-1)?n.slice(0,-1):n}function parsePath(n){var t=n||"/",e="",a="",o=t.indexOf("#");-1!==o&&(a=t.substr(o),t=t.substr(0,o));var r=t.indexOf("?");return-1!==r&&(e=t.substr(r),t=t.substr(0,r)),{pathname:t,search:"?"===e?"":e,hash:"#"===a?"":a}}function createPath(n){var t=n.pathname,e=n.search,a=n.hash,o=t||"/";return e&&"?"!==e&&(o+="?"===e.charAt(0)?e:"?"+e),a&&"#"!==a&&(o+="#"===a.charAt(0)?a:"#"+a),o}function createLocation(n,t,e,a){var o;"string"==typeof n?(o=parsePath(n)).state=t:(void 0===(o=_extends({},n)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(n){throw n instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):n}return e&&(o.key=e),a?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=resolvePathname(o.pathname,a.pathname)):o.pathname=a.pathname:o.pathname||(o.pathname="/"),o}function locationsAreEqual(n,t){return n.pathname===t.pathname&&n.search===t.search&&n.hash===t.hash&&n.key===t.key&&valueEqual(n.state,t.state)}function createTransitionManager(){var r=null;var a=[];return{setPrompt:function(n){return r=n,function(){r===n&&(r=null)}},confirmTransitionTo:function(n,t,e,a){if(null!=r){var o="function"==typeof r?r(n,t):r;"string"==typeof o?"function"==typeof e?e(o,a):a(!0):a(!1!==o)}else a(!0)},appendListener:function(n){var t=!0;function e(){t&&n.apply(void 0,arguments)}return a.push(e),function(){t=!1,a=a.filter((function(n){return n!==e}))}},notifyListeners:function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];a.forEach((function(n){return n.apply(void 0,t)}))}}}var canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement);function getConfirmation(n,t){t(window.confirm(n))}function supportsHistory(){var n=window.navigator.userAgent;return(-1===n.indexOf("Android 2.")&&-1===n.indexOf("Android 4.0")||-1===n.indexOf("Mobile Safari")||-1!==n.indexOf("Chrome")||-1!==n.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}function supportsPopStateOnHashChange(){return-1===window.navigator.userAgent.indexOf("Trident")}function supportsGoWithoutReloadUsingHash(){return-1===window.navigator.userAgent.indexOf("Firefox")}function isExtraneousPopstateEvent(n){void 0===n.state&&navigator.userAgent.indexOf("CriOS")}var PopStateEvent="popstate",HashChangeEvent="hashchange";function getHistoryState(){try{return window.history.state||{}}catch(n){return{}}}function createBrowserHistory(n){void 0===n&&(n={}),canUseDOM||invariant(!1);var c=window.history,s=supportsHistory(),t=!supportsPopStateOnHashChange(),e=n,a=e.forceRefresh,h=void 0!==a&&a,o=e.getUserConfirmation,u=void 0===o?getConfirmation:o,r=e.keyLength,i=void 0===r?6:r,f=n.basename?stripTrailingSlash(addLeadingSlash(n.basename)):"";function l(n){var t=n||{},e=t.key,a=t.state,o=window.location,r=o.pathname+o.search+o.hash;return f&&(r=stripBasename(r,f)),createLocation(r,a,e)}function d(){return Math.random().toString(36).substr(2,i)}var v=createTransitionManager();function p(n){_extends(T,n),T.length=c.length,v.notifyListeners(T.location,T.action)}function g(n){isExtraneousPopstateEvent(n)||w(l(n.state))}function P(){w(l(getHistoryState()))}var m=!1;function w(t){if(m)m=!1,p();else{v.confirmTransitionTo(t,"POP",u,(function(n){n?p({action:"POP",location:t}):function(n){var t=T.location,e=H.indexOf(t.key);-1===e&&(e=0);var a=H.indexOf(n.key);-1===a&&(a=0);var o=e-a;o&&(m=!0,L(o))}(t)}))}}var y=l(getHistoryState()),H=[y.key];function x(n){return f+createPath(n)}function L(n){c.go(n)}var O=0;function E(n){1===(O+=n)&&1===n?(window.addEventListener(PopStateEvent,g),t&&window.addEventListener(HashChangeEvent,P)):0===O&&(window.removeEventListener(PopStateEvent,g),t&&window.removeEventListener(HashChangeEvent,P))}var S=!1;var T={length:c.length,action:"POP",location:y,createHref:x,push:function(n,t){var i=createLocation(n,t,d(),T.location);v.confirmTransitionTo(i,"PUSH",u,(function(n){if(n){var t=x(i),e=i.key,a=i.state;if(s)if(c.pushState({key:e,state:a},null,t),h)window.location.href=t;else{var o=H.indexOf(T.location.key),r=H.slice(0,-1===o?0:o+1);r.push(i.key),H=r,p({action:"PUSH",location:i})}else window.location.href=t}}))},replace:function(n,t){var r="REPLACE",i=createLocation(n,t,d(),T.location);v.confirmTransitionTo(i,r,u,(function(n){if(n){var t=x(i),e=i.key,a=i.state;if(s)if(c.replaceState({key:e,state:a},null,t),h)window.location.replace(t);else{var o=H.indexOf(T.location.key);-1!==o&&(H[o]=i.key),p({action:r,location:i})}else window.location.replace(t)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(n){void 0===n&&(n=!1);var t=v.setPrompt(n);return S||(E(1),S=!0),function(){return S&&(S=!1,E(-1)),t()}},listen:function(n){var t=v.appendListener(n);return E(1),function(){E(-1),t()}}};return T}var HashChangeEvent$1="hashchange",HashPathCoders={hashbang:{encodePath:function(n){return"!"===n.charAt(0)?n:"!/"+stripLeadingSlash(n)},decodePath:function(n){return"!"===n.charAt(0)?n.substr(1):n}},noslash:{encodePath:stripLeadingSlash,decodePath:addLeadingSlash},slash:{encodePath:addLeadingSlash,decodePath:addLeadingSlash}};function getHashPath(){var n=window.location.href,t=n.indexOf("#");return-1===t?"":n.substring(t+1)}function pushHashPath(n){window.location.hash=n}function replaceHashPath(n){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,0<=t?t:0)+"#"+n)}function createHashHistory(n){void 0===n&&(n={}),canUseDOM||invariant(!1);var t=window.history,e=(supportsGoWithoutReloadUsingHash(),n),a=e.getUserConfirmation,i=void 0===a?getConfirmation:a,o=e.hashType,r=void 0===o?"slash":o,c=n.basename?stripTrailingSlash(addLeadingSlash(n.basename)):"",s=HashPathCoders[r],h=s.encodePath,u=s.decodePath;function f(){var n=u(getHashPath());return c&&(n=stripBasename(n,c)),createLocation(n)}var l=createTransitionManager();function d(n){_extends(E,n),E.length=t.length,l.notifyListeners(E.location,E.action)}var v=!1,p=null;function g(){var n=getHashPath(),t=h(n);if(n!==t)replaceHashPath(t);else{var e=f(),a=E.location;if(!v&&locationsAreEqual(a,e))return;if(p===createPath(e))return;p=null,function(t){if(v)v=!1,d();else{l.confirmTransitionTo(t,"POP",i,(function(n){n?d({action:"POP",location:t}):function(n){var t=E.location,e=y.lastIndexOf(createPath(t));-1===e&&(e=0);var a=y.lastIndexOf(createPath(n));-1===a&&(a=0);var o=e-a;o&&(v=!0,H(o))}(t)}))}}(e)}}var P=getHashPath(),m=h(P);P!==m&&replaceHashPath(m);var w=f(),y=[createPath(w)];function H(n){t.go(n)}var x=0;function L(n){1===(x+=n)&&1===n?window.addEventListener(HashChangeEvent$1,g):0===x&&window.removeEventListener(HashChangeEvent$1,g)}var O=!1;var E={length:t.length,action:"POP",location:w,createHref:function(n){return"#"+h(c+createPath(n))},push:function(n,t){var r=createLocation(n,void 0,void 0,E.location);l.confirmTransitionTo(r,"PUSH",i,(function(n){if(n){var t=createPath(r),e=h(c+t);if(getHashPath()!==e){p=t,pushHashPath(e);var a=y.lastIndexOf(createPath(E.location)),o=y.slice(0,-1===a?0:a+1);o.push(t),y=o,d({action:"PUSH",location:r})}else d()}}))},replace:function(n,t){var o="REPLACE",r=createLocation(n,void 0,void 0,E.location);l.confirmTransitionTo(r,o,i,(function(n){if(n){var t=createPath(r),e=h(c+t);getHashPath()!==e&&(p=t,replaceHashPath(e));var a=y.indexOf(createPath(E.location));-1!==a&&(y[a]=t),d({action:o,location:r})}}))},go:H,goBack:function(){H(-1)},goForward:function(){H(1)},block:function(n){void 0===n&&(n=!1);var t=l.setPrompt(n);return O||(L(1),O=!0),function(){return O&&(O=!1,L(-1)),t()}},listen:function(n){var t=l.appendListener(n);return L(1),function(){L(-1),t()}}};return E}function clamp(n,t,e){return Math.min(Math.max(n,t),e)}function createMemoryHistory(n){void 0===n&&(n={});var t=n,o=t.getUserConfirmation,e=t.initialEntries,a=void 0===e?["/"]:e,r=t.initialIndex,i=void 0===r?0:r,c=t.keyLength,s=void 0===c?6:c,h=createTransitionManager();function u(n){_extends(g,n),g.length=g.entries.length,h.notifyListeners(g.location,g.action)}function f(){return Math.random().toString(36).substr(2,s)}var l=clamp(i,0,a.length-1),d=a.map((function(n){return createLocation(n,void 0,"string"==typeof n?f():n.key||f())})),v=createPath;function p(n){var t=clamp(g.index+n,0,g.entries.length-1),e=g.entries[t];h.confirmTransitionTo(e,"POP",o,(function(n){n?u({action:"POP",location:e,index:t}):u()}))}var g={length:d.length,action:"POP",location:d[l],index:l,entries:d,createHref:v,push:function(n,t){var a=createLocation(n,t,f(),g.location);h.confirmTransitionTo(a,"PUSH",o,(function(n){if(n){var t=g.index+1,e=g.entries.slice(0);e.length>t?e.splice(t,e.length-t,a):e.push(a),u({action:"PUSH",location:a,index:t,entries:e})}}))},replace:function(n,t){var e="REPLACE",a=createLocation(n,t,f(),g.location);h.confirmTransitionTo(a,e,o,(function(n){n&&(g.entries[g.index]=a,u({action:e,location:a}))}))},go:p,goBack:function(){p(-1)},goForward:function(){p(1)},canGo:function(n){var t=g.index+n;return 0<=t&&t<g.entries.length},block:function(n){return void 0===n&&(n=!1),h.setPrompt(n)},listen:function(n){return h.appendListener(n)}};return g}exports.createBrowserHistory=createBrowserHistory,exports.createHashHistory=createHashHistory,exports.createMemoryHistory=createMemoryHistory,exports.createLocation=createLocation,exports.locationsAreEqual=locationsAreEqual,exports.parsePath=parsePath,exports.createPath=createPath},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function isAbsolute(pathname){return pathname.charAt(0)==="/"}function spliceOne(list,index){for(var i=index,k=i+1,n=list.length;k<n;i+=1,k+=1){list[i]=list[k]}list.pop()}function resolvePathname(to){var from=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var toParts=to&&to.split("/")||[];var fromParts=from&&from.split("/")||[];var isToAbs=to&&isAbsolute(to);var isFromAbs=from&&isAbsolute(from);var mustEndAbs=isToAbs||isFromAbs;if(to&&isAbsolute(to)){fromParts=toParts}else if(toParts.length){fromParts.pop();fromParts=fromParts.concat(toParts)}if(!fromParts.length)return"/";var hasTrailingSlash=void 0;if(fromParts.length){var last=fromParts[fromParts.length-1];hasTrailingSlash=last==="."||last===".."||last===""}else{hasTrailingSlash=false}var up=0;for(var i=fromParts.length;i>=0;i--){var part=fromParts[i];if(part==="."){spliceOne(fromParts,i)}else if(part===".."){spliceOne(fromParts,i);up++}else if(up){spliceOne(fromParts,i);up--}}if(!mustEndAbs)for(;up--;up){fromParts.unshift("..")}if(mustEndAbs&&fromParts[0]!==""&&(!fromParts[0]||!isAbsolute(fromParts[0])))fromParts.unshift("");var result=fromParts.join("/");if(hasTrailingSlash&&result.substr(-1)!=="/")result+="/";return result}exports.default=resolvePathname;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};function valueEqual(a,b){if(a===b)return true;if(a==null||b==null)return false;if(Array.isArray(a)){return Array.isArray(b)&&a.length===b.length&&a.every((function(item,index){return valueEqual(item,b[index])}))}var aType=typeof a==="undefined"?"undefined":_typeof(a);var bType=typeof b==="undefined"?"undefined":_typeof(b);if(aType!==bType)return false;if(aType==="object"){var aValue=a.valueOf();var bValue=b.valueOf();if(aValue!==a||bValue!==b)return valueEqual(aValue,bValue);var aKeys=Object.keys(a);var bKeys=Object.keys(b);if(aKeys.length!==bKeys.length)return false;return aKeys.every((function(key){return valueEqual(a[key],b[key])}))}return false}exports.default=valueEqual;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var isProduction="production"==="production";function warning(condition,message){if(!isProduction){if(condition){return}var text="Warning: "+message;if(typeof console!=="undefined"){console.warn(text)}try{throw Error(text)}catch(x){}}}module.exports=warning},function(module,exports,__webpack_require__){"use strict";var isProduction="production"==="production";var prefix="Invariant failed";function invariant(condition,message){if(condition){return}if(isProduction){throw new Error(prefix)}else{throw new Error(prefix+": "+(message||""))}}module.exports=invariant},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"renderApp",(function(){return renderApp}));var public_0=__webpack_require__(31);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(13);var external_kbnSharedDeps_Angular_=__webpack_require__(17);var external_kbnSharedDeps_Angular_default=__webpack_require__.n(external_kbnSharedDeps_Angular_);var angular_sanitize=__webpack_require__(40);var angular_route=__webpack_require__(42);var angular_sortable_view=__webpack_require__(44);var external_kbnSharedDeps_KbnI18nAngular_=__webpack_require__(18);var external_kbnSharedDeps_Lodash_=__webpack_require__(9);var external_kbnSharedDeps_Lodash_default=__webpack_require__.n(external_kbnSharedDeps_Lodash_);var external_kbnSharedDeps_Jquery_=__webpack_require__(10);var external_kbnSharedDeps_Jquery_default=__webpack_require__.n(external_kbnSharedDeps_Jquery_);var external_kbnSharedDeps_MomentTimezone_=__webpack_require__(19);var external_kbnSharedDeps_MomentTimezone_default=__webpack_require__.n(external_kbnSharedDeps_MomentTimezone_);var observe_resize=function($elem,fn,frequency){frequency=frequency||500;let currentHeight=$elem.height();let currentWidth=$elem.width();let timeout;function checkLoop(){timeout=setTimeout((function(){if(currentHeight!==$elem.height()||currentWidth!==$elem.width()){currentHeight=$elem.height();currentWidth=$elem.width();if(currentWidth>0&&currentWidth>0)fn()}checkLoop()}),frequency)}checkLoop();return function(){clearTimeout(timeout)}};var public_=__webpack_require__(14);const DEBOUNCE_DELAY=50;function timechartFn(dependencies){const{$rootScope:$rootScope,$compile:$compile,uiSettings:uiSettings,data:{query:{timefilter:timefilter}}}=dependencies;return function(){return{help:"Draw a timeseries chart",render($scope,$elem){const template='<div class="chart-top-title"></div><div class="chart-canvas"></div>';const formatters=Object(public_["tickFormatters"])();const getxAxisFormatter=Object(public_["xaxisFormatterProvider"])(uiSettings);const generateTicks=Object(public_["generateTicksProvider"])();external_kbnSharedDeps_MomentTimezone_default.a.tz.setDefault(uiSettings.get("dateFormat:tz"));const render=$scope.seriesList.render||{};$scope.chart=$scope.seriesList.list;$scope.interval=$scope.interval;$scope.search=$scope.search||external_kbnSharedDeps_Lodash_default.a.noop;let legendValueNumbers;let legendCaption;const debouncedSetLegendNumbers=external_kbnSharedDeps_Lodash_default.a.debounce(setLegendNumbers,DEBOUNCE_DELAY,{maxWait:DEBOUNCE_DELAY,leading:true,trailing:false});const emptyCaption="<br>";const defaultOptions={xaxis:{mode:"time",tickLength:5,timezone:"browser"},selection:{mode:"x",color:"#ccc"},crosshair:{mode:"x",color:"#C66",lineWidth:2},grid:{show:render.grid,borderWidth:0,borderColor:null,margin:10,hoverable:true,autoHighlight:false},legend:{backgroundColor:"rgb(255,255,255,0)",position:"nw",labelBoxBorderColor:"rgb(255,255,255,0)",labelFormatter(label,series){const wrapperSpan=document.createElement("span");const labelSpan=document.createElement("span");const numberSpan=document.createElement("span");wrapperSpan.setAttribute("class","ngLegendValue");wrapperSpan.setAttribute("kbn-accessible-click","");wrapperSpan.setAttribute("ng-click",`toggleSeries(${series._id})`);wrapperSpan.setAttribute("ng-focus",`focusSeries(${series._id})`);wrapperSpan.setAttribute("ng-mouseover",`highlightSeries(${series._id})`);labelSpan.setAttribute("ng-non-bindable","");labelSpan.appendChild(document.createTextNode(label));numberSpan.setAttribute("class","ngLegendValueNumber");wrapperSpan.appendChild(labelSpan);wrapperSpan.appendChild(numberSpan);return wrapperSpan.outerHTML}},colors:["#01A4A4","#C66","#D0D102","#616161","#00A1CB","#32742C","#F18D05","#113F8C","#61AE24","#D70060"]};const originalColorMap=new Map;$scope.chart.forEach((series,seriesIndex)=>{if(!series.color){const colorIndex=seriesIndex%defaultOptions.colors.length;series.color=defaultOptions.colors[colorIndex]}originalColorMap.set(series,series.color)});let highlightedSeries;let focusedSeries;function unhighlightSeries(){if(highlightedSeries===null){return}highlightedSeries=null;focusedSeries=null;$scope.chart.forEach(series=>{series.color=originalColorMap.get(series)});drawPlot($scope.chart)}$scope.highlightSeries=external_kbnSharedDeps_Lodash_default.a.debounce((function(id){if(highlightedSeries===id){return}highlightedSeries=id;$scope.chart.forEach((series,seriesIndex)=>{if(seriesIndex!==id){series.color="rgba(128,128,128,0.1)"}else{series.color=originalColorMap.get(series)}});drawPlot($scope.chart)}),DEBOUNCE_DELAY);$scope.focusSeries=function(id){focusedSeries=id;$scope.highlightSeries(id)};$scope.toggleSeries=function(id){const series=$scope.chart[id];series._hide=!series._hide;drawPlot($scope.chart)};const cancelResize=observe_resize($elem,(function(){drawPlot($scope.chart)}));$scope.$on("$destroy",(function(){cancelResize();$elem.off("plothover");$elem.off("plotselected");$elem.off("mouseleave")}));$elem.on("plothover",(function(event,pos,item){$rootScope.$broadcast("timelionPlotHover",event,pos,item)}));$elem.on("plotselected",(function(event,ranges){timefilter.timefilter.setTime({from:external_kbnSharedDeps_MomentTimezone_default()(ranges.xaxis.from),to:external_kbnSharedDeps_MomentTimezone_default()(ranges.xaxis.to)})}));$elem.on("mouseleave",(function(){$rootScope.$broadcast("timelionPlotLeave")}));$scope.$on("timelionPlotHover",(function(angularEvent,flotEvent,pos){if(!$scope.plot)return;$scope.plot.setCrosshair(pos);debouncedSetLegendNumbers(pos)}));$scope.$on("timelionPlotLeave",(function(){if(!$scope.plot)return;$scope.plot.clearCrosshair();clearLegendNumbers()}));function setLegendNumbers(pos){unhighlightSeries();const plot=$scope.plot;const axes=plot.getAxes();if(pos.x<axes.xaxis.min||pos.x>axes.xaxis.max){return}let i;const dataset=plot.getData();if(legendCaption){legendCaption.text(external_kbnSharedDeps_MomentTimezone_default()(pos.x).format(external_kbnSharedDeps_Lodash_default.a.get(dataset,"[0]._global.legend.timeFormat",public_["DEFAULT_TIME_FORMAT"])))}for(i=0;i<dataset.length;++i){const series=dataset[i];const useNearestPoint=series.lines.show&&!series.lines.steps;const precision=external_kbnSharedDeps_Lodash_default.a.get(series,"_meta.precision",2);if(series._hide)continue;const currentPoint=series.data.find((point,index)=>{if(index+1===series.data.length){return true}if(useNearestPoint){return pos.x-point[0]<series.data[index+1][0]-pos.x}else{return pos.x<series.data[index+1][0]}});const y=currentPoint[1];if(y!=null){let label=y.toFixed(precision);if(series.yaxis.tickFormatter){label=series.yaxis.tickFormatter(label,series.yaxis)}legendValueNumbers.eq(i).text(`(${label})`)}else{legendValueNumbers.eq(i).empty()}}}function clearLegendNumbers(){if(legendCaption){legendCaption.html(emptyCaption)}external_kbnSharedDeps_Lodash_default.a.each(legendValueNumbers,(function(num){external_kbnSharedDeps_Jquery_default()(num).empty()}))}let legendScope=$scope.$new();function drawPlot(plotConfig){if(!external_kbnSharedDeps_Jquery_default()(".chart-canvas",$elem).length)$elem.html(template);const canvasElem=external_kbnSharedDeps_Jquery_default()(".chart-canvas",$elem);if(canvasElem.height()===0||canvasElem.width()===0){return}const title=external_kbnSharedDeps_Lodash_default()(plotConfig).map("_title").compact().last();external_kbnSharedDeps_Jquery_default()(".chart-top-title",$elem).text(title==null?"":title);const options=external_kbnSharedDeps_Lodash_default.a.cloneDeep(defaultOptions);const time=timefilter.timefilter.getBounds();const interval=Object(public_["calculateInterval"])(time.min.valueOf(),time.max.valueOf(),uiSettings.get("timelion:target_buckets")||200,$scope.interval,uiSettings.get("timelion:min_interval")||"1ms");const format=getxAxisFormatter(interval);options.xaxis.tickFormatter=function(val){return external_kbnSharedDeps_MomentTimezone_default()(val).format(format)};const tickLetterWidth=7;const tickPadding=45;options.xaxis.ticks=Math.floor($elem.width()/(format.length*tickLetterWidth+tickPadding));const series=external_kbnSharedDeps_Lodash_default.a.map(plotConfig,(function(serie,index){serie=external_kbnSharedDeps_Lodash_default.a.cloneDeep(external_kbnSharedDeps_Lodash_default.a.defaults(serie,{shadowSize:0,lines:{lineWidth:3}}));serie._id=index;if(serie.color){const span=document.createElement("span");span.style.color=serie.color;serie.color=span.style.color}if(serie._hide){serie.data=[];serie.stack=false;serie.label="(hidden) "+serie.label}if(serie._global){external_kbnSharedDeps_Lodash_default.a.mergeWith(options,serie._global,(function(objVal,srcVal){if(objVal==null)return srcVal;if(srcVal==null)return objVal}))}return serie}));if(options.yaxes){options.yaxes.forEach(yaxis=>{if(yaxis&&yaxis.units){yaxis.tickFormatter=formatters[yaxis.units.type];const byteModes=["bytes","bytes/s"];if(byteModes.includes(yaxis.units.type)){yaxis.tickGenerator=generateTicks}}})}$scope.plot=external_kbnSharedDeps_Jquery_default.a.plot(canvasElem,external_kbnSharedDeps_Lodash_default.a.compact(series),options);if($scope.plot){$scope.$emit("timelionChartRendered")}legendScope.$destroy();legendScope=$scope.$new();legendValueNumbers=canvasElem.find(".ngLegendValueNumber");external_kbnSharedDeps_Lodash_default.a.each(canvasElem.find(".ngLegendValue"),(function(elem){$compile(elem)(legendScope)}));if(external_kbnSharedDeps_Lodash_default.a.get($scope.plot.getData(),"[0]._global.legend.showTime",true)){legendCaption=external_kbnSharedDeps_Jquery_default()('<caption class="timChart__legendCaption"></caption>');legendCaption.html(emptyCaption);canvasElem.find("div.legend table").append(legendCaption);if(focusedSeries||focusedSeries===0){const $legendLabels=canvasElem.find("div.legend table .legendLabel>span");$legendLabels.get(focusedSeries).focus()}}}$scope.$watch("chart",drawPlot)}}}}var external_kbnSharedDeps_KbnI18n_=__webpack_require__(11);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class panel_Panel{constructor(name,config){_defineProperty(this,"name",void 0);_defineProperty(this,"help",void 0);_defineProperty(this,"render",void 0);this.name=name;this.help=config.help||"";this.render=config.render;if(!config.render){throw new Error(external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.panels.noRenderFunctionErrorMessage",{defaultMessage:"Panel must have a rendering function"}))}}}function getTimeChart(dependencies){return new panel_Panel("timechart",timechartFn(dependencies)())}var kibanaLegacy_public_=__webpack_require__(2);var node_modules_history=__webpack_require__(58);var kibanaUtils_public_=__webpack_require__(3);var data_public_=__webpack_require__(4);const ROOT_BREADCRUMB={text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.breadcrumbs.root",{defaultMessage:"Timelion"}),href:"#"};function getCreateBreadcrumbs(){return[ROOT_BREADCRUMB,{text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.breadcrumbs.create",{defaultMessage:"Create"})}]}function getSavedSheetBreadcrumbs($route){const{savedSheet:savedSheet}=$route.current.locals;return[ROOT_BREADCRUMB,{text:savedSheet.title}]}function move(objs,obj,below,qualifier){const origI=external_kbnSharedDeps_Lodash_default.a.isNumber(obj)?obj:objs.indexOf(obj);if(origI===-1){return objs}if(external_kbnSharedDeps_Lodash_default.a.isNumber(below)){objs.splice(below,0,objs.splice(origI,1)[0]);return objs}below=!!below;qualifier=qualifier&&external_kbnSharedDeps_Lodash_default.a.iteratee(qualifier);const above=!below;const finder=below?external_kbnSharedDeps_Lodash_default.a.findIndex:external_kbnSharedDeps_Lodash_default.a.findLastIndex;const targetI=finder(objs,(otherAgg,otherI)=>{if(below&&otherI<=origI){return}if(above&&otherI>=origI){return}return Boolean(external_kbnSharedDeps_Lodash_default.a.isFunction(qualifier)&&qualifier(otherAgg,otherI))});if(targetI===-1){return objs}objs.splice(targetI,0,objs.splice(origI,1)[0]);return objs}function initTimelionGridDirective(app){app.directive("timelionGrid",(function(){return{restrict:"A",scope:{timelionGridRows:"=",timelionGridColumns:"="},link:function($scope,$elem){function init(){setDimensions()}$scope.$on("$destroy",(function(){external_kbnSharedDeps_Jquery_default()(window).off("resize")}));external_kbnSharedDeps_Jquery_default()(window).resize((function(){setDimensions()}));$scope.$watchMulti(["timelionGridColumns","timelionGridRows"],(function(){setDimensions()}));function setDimensions(){const borderSize=2;const headerSize=45+35+28+20*2;const verticalPadding=10;if($scope.timelionGridColumns!=null){$elem.width($elem.parent().width()/$scope.timelionGridColumns-borderSize*2)}if($scope.timelionGridRows!=null){$elem.height((external_kbnSharedDeps_Jquery_default()(window).height()-headerSize)/$scope.timelionGridRows-(verticalPadding+borderSize*2))}}init()}}}))}var cells='<div sv-root\n  sv-part="state.sheet"\n  sv-on-sort="dropCell($item, $partFrom, $partTo, $indexFrom, $indexTo)"\n  >\n\n  <div sv-element\n    ng-repeat="cell in state.sheet track by $index"\n    class="timCell col-md-{{12 / state.columns}} col-sm-12 col-xs-12"\n    timelion-grid timelion-grid-rows="state.rows"\n    ng-click="onSelect($index)"\n    ng-class="{active: $index === state.selected}"\n    kbn-accessible-click\n    aria-label="Timelion chart {{$index + 1}}"\n    aria-current="{{$index === state.selected}}"\n    >\n\n    <div chart="sheet[$index]" class="timChart" search="onSearch" interval="state.interval"></div>\n    <div class="timCell__actions">\n      <div class="timCell__id"><span>{{$index + 1}}</span></div>\n\n      <button\n        class="timCell__action"\n        ng-click="removeCell($index)"\n        tooltip="{{ ::\'timelion.cells.actions.removeTooltip\' | i18n: { defaultMessage: \'Remove\' } }}"\n        tooltip-append-to-body="1"\n        aria-label="{{ ::\'timelion.cells.actions.removeAriaLabel\' | i18n: { defaultMessage: \'Remove chart\' } }}"\n      >\n         <icon type="\'cross\'"></icon>\n      </button>\n      <button\n        class="timCell__action"\n        tooltip="{{ ::\'timelion.cells.actions.reorderTooltip\' | i18n: { defaultMessage: \'Drag to reorder\' } }}"\n        tooltip-append-to-body="1"\n        sv-handle\n        aria-label="{{ ::\'timelion.cells.actions.reorderAriaLabel\' | i18n: { defaultMessage: \'Drag to reorder\' } }}"\n        tabindex="-1"\n      >\n        <icon type="\'grab\'"></icon>\n      </button>\n      <button\n        class="timCell__action"\n        ng-click="transient.fullscreen = true"\n        tooltip="{{ ::\'timelion.cells.actions.fullscreenTooltip\' | i18n: { defaultMessage: \'Full screen\' } }}"\n        tooltip-append-to-body="1"\n        aria-label="{{ ::\'timelion.cells.actions.fullscreenAriaLabel\' | i18n: { defaultMessage: \'Full screen chart\' } }}"\n      >\n        <icon type="\'expandMini\'"></icon>\n      </button>\n    </div>\n  </div>\n\n</div>\n';function initCellsDirective(app){initTimelionGridDirective(app);app.directive("timelionCells",(function(){return{restrict:"E",scope:{sheet:"=",state:"=",transient:"=",onSearch:"=",onSelect:"=",onRemoveSheet:"="},template:cells,link:function($scope){$scope.removeCell=function(index){$scope.onRemoveSheet(index)};$scope.dropCell=function(item,partFrom,partTo,indexFrom,indexTo){move($scope.sheet,indexFrom,indexTo);$scope.onSelect(indexTo)}}}}))}var fullscreen='<div class="timCell col-md-12 col-sm-12 col-xs-12" timelion-grid timelion-grid-rows="1">\n  <div chart="series" class="timChart" search="onSearch" interval="state.interval"></div>\n  <div class="timCell__actions">\n    <button\n      class="timCell__action"\n      ng-click="transient.fullscreen = false"\n      tooltip="{{ ::\'timelion.fullscreen.exitTooltip\' | i18n: { defaultMessage: \'Exit full screen\' } }}"\n      tooltip-append-to-body="1"\n      aria-label="{{ ::\'timelion.fullscreen.exitAriaLabel\' | i18n: { defaultMessage: \'Exit full screen\' } }}"\n    >\n      <icon type="\'minimize\'"></icon>\n    </button>\n  </div>\n</div>\n';function initFullscreenDirective(app){app.directive("timelionFullscreen",(function(){return{restrict:"E",scope:{expression:"=",series:"=",state:"=",transient:"=",onSearch:"="},template:fullscreen}}))}function initFixedElementDirective(app){app.directive("fixedElementRoot",(function(){return{restrict:"A",link:function($elem){let fixedAt;external_kbnSharedDeps_Jquery_default()(window).bind("scroll",(function(){const fixed=external_kbnSharedDeps_Jquery_default()("[fixed-element]",$elem);const body=external_kbnSharedDeps_Jquery_default()("[fixed-element-body]",$elem);const top=fixed.offset().top;if(external_kbnSharedDeps_Jquery_default()(window).scrollTop()>top){fixedAt=external_kbnSharedDeps_Jquery_default()(window).scrollTop();fixed.addClass(fixed.attr("fixed-element"));body.addClass(fixed.attr("fixed-element-body"));body.css({top:fixed.height()})}if(external_kbnSharedDeps_Jquery_default()(window).scrollTop()<fixedAt){fixed.removeClass(fixed.attr("fixed-element"));body.removeClass(fixed.attr("fixed-element-body"));body.removeAttr("style")}}))}}}))}var load_sheet='<form role="form" ng-submit="fetch()">\n  <h2\n    class="timApp__sectionTitle"\n    i18n-id="timelion.topNavMenu.openSheetTitle"\n    i18n-default-message="Open Sheet"\n  ></h2>\n\n  <saved-object-finder\n    type="timelion-sheet"\n    use-local-management="true"\n  ></saved-object-finder>\n</form>\n';function initTimelionLoadSheetDirective(app){app.directive("timelionLoad",(function(){return{replace:true,restrict:"E",template:load_sheet}}))}var timelion_help='<div class="euiText timHelp">\n  <div ng-show="page === 1">\n    <div>\n      <h1\n        i18n-id="timelion.help.welcomeTitle"\n        i18n-default-message="Welcome to {strongTimelionLabel}!"\n        i18n-values="{ html_strongTimelionLabel: \'<strong>Timelion</strong>\' }"\n      ></h1>\n      <p\n        i18n-id="timelion.help.welcome.content.paragraph1"\n        i18n-default-message="Timelion is the clawing, gnashing, zebra killing, pluggable time\n                              series interface for {emphasizedEverything}. If your datastore can\n                              produce a time series, then you have all of the awesome power of\n                              Timelion at your disposal. Timelion lets you compare, combine, and\n                              combobulate datasets across multiple datasources with one\n                              easy-to-master expression syntax. This tutorial focuses on\n                              Elasticsearch, but you\'ll quickly discover that what you learn here\n                              applies to any datasource Timelion supports."\n        i18n-values="{ html_emphasizedEverything: \'<em>\' + translations.emphasizedEverythingText + \'</em>\' }"\n      ></p>\n      <p>\n        <span\n          i18n-id="timelion.help.welcome.content.paragraph2"\n          i18n-default-message="Ready to get started? Click {strongNext}. Want to skip the tutorial and view the docs?"\n          i18n-values="{\n            html_strongNext: \'<strong>\' + translations.strongNextText + \'</strong>\',\n          }"\n        ></span>\n        <a\n          ng-click="setPage(0)"\n          i18n-id="timelion.help.welcome.content.functionReferenceLinkText"\n          i18n-default-message="Jump to the function reference"\n        ></a>.\n      </p>\n    </div>\n    <div class="timHelp__buttons">\n\n      <button\n        ng-click="opts.dontShowHelp()"\n        class="timHelp__links"\n      >\n        {{translations.dontShowHelpButtonLabel}}\n      </button>\n\n\n      <button\n        ng-click="setPage(page+1)"\n        class="timApp__button"\n      >\n        {{translations.nextButtonLabel}}\n      </button>\n\n    </div>\n  </div>\n  <div ng-show="page === 2">\n    <div ng-show="!es.valid">\n      <div>\n        <h2\n          i18n-id="timelion.help.configuration.notValidTitle"\n          i18n-default-message="First time configuration"\n        ></h2>\n        <p\n          i18n-id="timelion.help.configuration.notValid.paragraph1"\n          i18n-default-message="If you\'re using Logstash, you don\'t need to configure anything to\n                                start exploring your log data with Timelion. To search other\n                                indices, go to {advancedSettingsPath} and configure the {esDefaultIndex}\n                                and {esTimefield} settings to match your indices."\n          i18n-values="{\n            html_advancedSettingsPath: \'<strong>\' + translations.notValidAdvancedSettingsPath + \'</strong>\',\n            html_esDefaultIndex: \'<code>timelion:es.default_index</code>\',\n            html_esTimefield: \'<code>timelion:es.timefield</code>\',\n          }"\n        ></p>\n        <p\n          i18n-id="timelion.help.configuration.notValid.paragraph2"\n          i18n-default-message="You\'ll also see some other Timelion settings. For now, you don\'t need\n                                to worry about them. Later, you\'ll see that you can set most of\n                                them on the fly if you need to."\n        ></p>\n      </div>\n      <div class="timHelp__buttons">\n\n        <button\n          ng-click="setPage(page-1)"\n          class="timApp__button"\n        >\n          {{translations.previousButtonLabel}}\n        </button>\n\n        <span\n          ng-show="es.invalidCount > 0 && !es.valid"\n          i18n-id="timelion.help.configuration.notValid.notValidSettingsErrorMessage"\n          i18n-default-message="Could not validate Elasticsearch settings: {reason}.\n                                Check your Advanced Settings and try again. ({count})"\n          i18n-values="{\n            html_reason: \'<strong>\' + es.invalidReason + \'</strong>\',\n            count: es.invalidCount,\n          }"\n        ></span>\n\n        <button\n          ng-click="recheckElasticsearch()"\n          class="timApp__button"\n          i18n-id="timelion.help.configuration.notValid.validateButtonLabel"\n          i18n-default-message="Validate Config"\n        ></button>\n\n      </div>\n    </div>\n    <div ng-show="es.valid">\n      <div>\n        <h2\n          i18n-id="timelion.help.configuration.validTitle"\n          i18n-default-message="Good news, Elasticsearch is configured correctly!"\n        ></h2>\n        <p>\n          <span\n            i18n-id="timelion.help.configuration.valid.paragraph1Part1"\n            i18n-default-message="We validated your default index and your timefield and everything\n                                  looks ok. We found data from {statsMin} to {statsMax}.\n                                  You\'re probably all set. If this doesn\'t look right, see"\n            i18n-values="{\n              html_statsMin: \'<strong>\' + es.stats.min + \'</strong>\',\n              html_statsMax: \'<strong>\' + es.stats.max + \'</strong>\',\n            }"\n            i18n-description="Part of composite text timelion.help.configuration.valid.paragraph1Part1 +\n                              timelion.help.configuration.firstTimeConfigurationLinkText +\n                              timelion.help.configuration.valid.paragraph1Part2"\n          ></span>\n          <a\n            ng-click="es.valid = false"\n            i18n-id="timelion.help.configuration.firstTimeConfigurationLinkText"\n            i18n-default-message="First time configuration"\n            i18n-description="Part of composite text timelion.help.configuration.valid.paragraph1Part1 +\n                              timelion.help.configuration.firstTimeConfigurationLinkText +\n                              timelion.help.configuration.valid.paragraph1Part2"\n          ></a>\n          <span\n            i18n-id="timelion.help.configuration.valid.paragraph1Part2"\n            i18n-default-message="for information about configuring the Elasticsearch datasource."\n            i18n-description="Part of composite text timelion.help.configuration.valid.paragraph1Part1 +\n                              timelion.help.configuration.firstTimeConfigurationLinkText +\n                              timelion.help.configuration.valid.paragraph1Part2"\n          ></span>\n        </p>\n        <p\n          i18n-id="timelion.help.configuration.valid.paragraph2"\n          i18n-default-message="You should already see one chart, but you might need to make a\n                                couple adjustments before you see any interesting data:"\n        ></p>\n        <ul>\n          <li>\n            <strong\n              i18n-id="timelion.help.configuration.valid.intervalsTitle"\n              i18n-default-message="Intervals"\n            ></strong>\n            <p>\n              <span\n                i18n-id="timelion.help.configuration.valid.intervalsTextPart1"\n                i18n-default-message="The interval selector at the right of the input bar lets you\n                                      control the sampling frequency. It\'s currently set to {interval}."\n                i18n-values="{ html_interval: \'<code>\' + state.interval + \'</code>\' }"\n                i18n-description="Part of composite text\n                                  timelion.help.configuration.valid.intervalsTextPart1 +\n                                  (timelion.help.configuration.valid.intervalIsAutoText ||\n                                  timelion.help.configuration.valid.intervals.content.intervalIsNotAutoText) +\n                                  timelion.help.configuration.valid.intervalsTextPart2"\n              ></span>\n              <span ng-show="state.interval == \'auto\'">\n                <strong\n                  i18n-id="timelion.help.configuration.valid.intervalIsAutoText"\n                  i18n-default-message="You\'re all set!"\n                  i18n-description="Part of composite text\n                                    timelion.help.configuration.valid.intervalsTextPart1 +\n                                    (timelion.help.configuration.valid.intervalIsAutoText ||\n                                    timelion.help.configuration.valid.intervals.content.intervalIsNotAutoText) +\n                                    timelion.help.configuration.valid.intervalsTextPart2"\n                ></strong>\n              </span>\n              <span\n                ng-show="state.interval != \'auto\'"\n                i18n-id="timelion.help.configuration.valid.intervals.content.intervalIsNotAutoText"\n                i18n-default-message="Set it to {auto} to let Timelion choose an appropriate interval."\n                i18n-description="Part of composite text\n                                  timelion.help.configuration.valid.intervalsTextPart1 +\n                                  (timelion.help.configuration.valid.intervalIsAutoText ||\n                                  timelion.help.configuration.valid.intervals.content.intervalIsNotAutoText) +\n                                  timelion.help.configuration.valid.intervalsTextPart2"\n                i18n-values="{ html_auto: \'<code>auto</code>\' }"\n              ></span>\n              <span\n                i18n-id="timelion.help.configuration.valid.intervalsTextPart2"\n                i18n-default-message="If Timelion thinks your combination of time range and interval\n                                      will produce too many data points, it throws an error.\n                                      You can adjust that limit by configuring {maxBuckets} in {advancedSettingsPath}."\n                i18n-values="{\n                  html_maxBuckets: \'<code>timelion:max_buckets</code>\',\n                  html_advancedSettingsPath: \'<strong>\' + translations.validAdvancedSettingsPath + \'</strong>\',\n                }"\n              ></span>\n            </p>\n          </li>\n          <li>\n            <strong\n              i18n-id="timelion.help.configuration.valid.timeRangeTitle"\n              i18n-default-message="Time range"\n            ></strong>\n            <p\n              i18n-id="timelion.help.configuration.valid.timeRangeText"\n              i18n-default-message="Use the time filter to select the time period\n                                    that contains the data you want to visualize. Make sure you select\n                                    a time period that includes all or part of the time range shown above."\n            ></p>\n          </li>\n        </ul>\n        <p\n          i18n-id="timelion.help.configuration.valid.paragraph3"\n          i18n-default-message="Now, you should see a line chart that displays a count of your data points over time."\n        ></p>\n      </div>\n      <div class="timHelp__buttons">\n\n        <button\n          ng-click="setPage(page-1)"\n          class="timApp__button"\n        >\n          {{translations.previousButtonLabel}}\n        </button>\n\n\n        <button\n          ng-click="setPage(page+1)"\n          class="timApp__button"\n        >\n          {{translations.nextButtonLabel}}\n        </button>\n\n      </div>\n    </div>\n  </div>\n  <div ng-show="page === 3">\n    <div>\n      <h2\n        i18n-id="timelion.help.queryingTitle"\n        i18n-default-message="Querying the Elasticsearch datasource"\n      ></h2>\n      <p\n        i18n-id="timelion.help.querying.paragraph1"\n        i18n-default-message="Now that we\'ve validated that you have a working Elasticsearch\n                              datasource, you can start submitting queries. For starters,\n                              enter {esPattern} in the input bar and hit enter."\n        i18n-values="{\n          html_esPattern: \'<code>.es(*)</code>\',\n        }"\n      ></p>\n      <p>\n        <span\n          i18n-id="timelion.help.querying.paragraph2Part1"\n          i18n-default-message="This says {esAsteriskQueryDescription}. If you want to find a subset, you could enter something\n                                like {htmlQuery} to count events that match {html}, or {bobQuery}\n                                to find events that contain {bob} in the {user} field and have a {bytes}\n                                field that is greater than 100. Note that this query is enclosed in single\n                                quotes&mdash;that\'s because it contains spaces. You can enter any"\n          i18n-values="{\n            html_esAsteriskQueryDescription: \'<em>\' + translations.esAsteriskQueryDescription + \'</em>\',\n            html_html: \'<em>html</em>\',\n            html_htmlQuery: \'<code>.es(html)</code>\',\n            html_bobQuery: \'<code>.es(\\\'user:bob AND bytes:>100\\\')</code>\',\n            html_bob: \'<em>bob</em>\',\n            html_user: \'<code>user</code>\',\n            html_bytes: \'<code>bytes</code>\',\n          }"\n          i18n-description="Part of composite text\n                            timelion.help.querying.paragraph2Part1 +\n                            timelion.help.querying.luceneQueryLinkText +\n                            timelion.help.querying.paragraph2Part2"\n        ></span>\n        <a\n          href="https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#query-string-syntax"\n          target="_blank"\n          rel="noopener noreferrer"\n          i18n-id="timelion.help.querying.luceneQueryLinkText"\n          i18n-default-message="Lucene query string"\n          i18n-description="Part of composite text\n                            timelion.help.querying.paragraph2Part1 +\n                            timelion.help.querying.luceneQueryLinkText +\n                            timelion.help.querying.paragraph2Part2"\n        ></a>\n        <span\n          i18n-id="timelion.help.querying.paragraph2Part2"\n          i18n-default-message="as the first argument to the {esQuery} function."\n          i18n-values="{\n            html_esQuery: \'<code>.es()</code>\',\n          }"\n          i18n-description="Part of composite text\n                            timelion.help.querying.paragraph2Part1 +\n                            timelion.help.querying.luceneQueryLinkText +\n                            timelion.help.querying.paragraph2Part2"\n        ></span>\n      </p>\n      <h4\n        i18n-id="timelion.help.querying.passingArgumentsTitle"\n        i18n-default-message="Passing arguments"\n      ></h4>\n      <p\n        i18n-id="timelion.help.querying.passingArgumentsText"\n        i18n-default-message="Timelion has a number of shortcuts that make it easy to do common things.\n                              One is that for simple arguments that don\'t contain spaces or special\n                              characters, you don\'t need to use quotes. Many functions also have defaults.\n                              For example, {esEmptyQuery} and {esStarQuery} do the same thing.\n                              Arguments also have names, so you don\'t have to specify them in a specific order.\n                              For example, you can enter {esLogstashQuery} to tell the Elasticsearch datasource\n                              {esIndexQueryDescription}."\n        i18n-values="{\n          html_esEmptyQuery: \'<code>.es()</code>\',\n          html_esStarQuery: \'<code>.es(*)</code>\',\n          html_esLogstashQuery: \'<code>.es(index=\\\'logstash-*\\\', q=\\\'*\\\')</code>\',\n          html_esIndexQueryDescription: \'<em>\' + translations.esIndexQueryDescription + \'</em>\',\n        }"\n      ></p>\n      <h4\n        i18n-id="timelion.help.querying.countTitle"\n        i18n-default-message="Beyond count"\n      ></h4>\n      <p>\n        <span\n          i18n-id="timelion.help.querying.countTextPart1"\n          i18n-default-message="Counting events is all well and good, but the Elasticsearch datasource also supports any"\n          i18n-description="Part of composite text\n                            timelion.help.querying.countTextPart1 +\n                            timelion.help.querying.countMetricAggregationLinkText +\n                            timelion.help.querying.countTextPart2"\n        ></span>\n        <a\n          href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-metrics.html"\n          target="_blank"\n          rel="noopener noreferrer"\n          i18n-id="timelion.help.querying.countMetricAggregationLinkText"\n          i18n-default-message="Elasticsearch metric aggregation"\n          i18n-description="Part of composite text\n                            timelion.help.querying.countTextPart1 +\n                            timelion.help.querying.countMetricAggregationLinkText +\n                            timelion.help.querying.countTextPart2"\n        ></a>\n        <span\n          i18n-id="timelion.help.querying.countTextPart2"\n          i18n-default-message="that returns a single value. Some of the most useful are\n                                {min}, {max}, {avg}, {sum}, and {cardinality}.\n                                Let\'s say you want a unique count of the {srcIp} field.\n                                Simply use the {cardinality} metric: {esCardinalityQuery}. To get the\n                                average of the {bytes} field, you can use the {avg} metric: {esAvgQuery}."\n          i18n-values="{\n            html_min: \'<code>min</code>\',\n            html_max: \'<code>max</code>\',\n            html_avg: \'<code>avg</code>\',\n            html_sum: \'<code>sum</code>\',\n            html_cardinality: \'<code>cardinality</code>\',\n            html_bytes: \'<code>bytes</code>\',\n            html_srcIp: \'<code>src_ip</code>\',\n            html_esCardinalityQuery: \'<code>.es(*, metric=\\\'cardinality:src_ip\\\')</code>\',\n            html_esAvgQuery: \'<code>.es(metric=\\\'avg:bytes\\\')</code>\',\n          }"\n          i18n-description="Part of composite text\n                            timelion.help.querying.countTextPart1 +\n                            timelion.help.querying.countMetricAggregationLinkText +\n                            timelion.help.querying.countTextPart2"\n        ></span>\n      </p>\n    </div>\n    <div class="timHelp__buttons">\n\n      <button\n        ng-click="setPage(page-1)"\n        class="timApp__button"\n      >\n        {{translations.previousButtonLabel}}\n      </button>\n\n\n      <button\n        ng-click="setPage(page+1)"\n        class="timApp__button"\n      >\n        {{translations.nextButtonLabel}}\n      </button>\n\n    </div>\n  </div>\n\n  <div ng-show="page === 4">\n    <div>\n      <h2\n        i18n-id="timelion.help.expressionsTitle"\n        i18n-default-message="Expressing yourself with expressions"\n      ></h2>\n      <p\n        i18n-id="timelion.help.expressions.paragraph1"\n        i18n-default-message="Every expression starts with a datasource function. From there, you\n                              can append new functions to the datasource to transform and augment it."\n      ></p>\n      <p\n        i18n-id="timelion.help.expressions.paragraph2"\n        i18n-default-message="By the way, from here on out you probably know more about your data\n                              than we do. Feel free to replace the sample queries with something\n                              more meaningful!"\n      ></p>\n      <p\n        i18n-id="timelion.help.expressions.paragraph3"\n        i18n-default-message="We\'re going to experiment, so click {strongAdd} in the toolbar\n                              to add another chart or three. Then, select a chart,\n                              copy one of the following expressions, paste it into the input bar,\n                              and hit enter. Rinse, repeat to try out the other expressions."\n        i18n-values="{ html_strongAdd: \'<strong>\' + translations.strongAddText + \'</strong>\' }"\n      ></p>\n      <table class="table table-condensed table-striped">\n        <tr>\n          <td><code>.es(*), .es(US)</code></td>\n          <td\n            i18n-id="timelion.help.expressions.examples.twoExpressionsDescription"\n            i18n-default-message="{descriptionTitle} Two expressions on the same chart."\n            i18n-values="{\n              html_descriptionTitle: \'<strong>\' + translations.twoExpressionsDescriptionTitle + \'</strong>\',\n            }"\n          ></td>\n        </tr>\n        <tr>\n          <td><code>.es(*).color(#f66), .es(US).bars(1)</code></td>\n          <td\n            i18n-id="timelion.help.expressions.examples.customStylingDescription"\n            i18n-default-message="{descriptionTitle} Colorizes the first series red and\n                                  uses 1 pixel wide bars for the second series."\n            i18n-values="{\n              html_descriptionTitle: \'<strong>\' + translations.customStylingDescriptionTitle + \'</strong>\',\n            }"\n          ></td>\n        </tr>\n        <tr>\n          <td>\n            <code>.es(*).color(#f66).lines(fill=3),\n            .es(US).bars(1).points(radius=3, weight=1)</code>\n          </td>\n          <td\n            i18n-id="timelion.help.expressions.examples.namedArgumentsDescription"\n            i18n-default-message="{descriptionTitle} Forget trying to remember what order you need\n                                  to specify arguments in, use named arguments to make\n                                  the expressions easier to read and write."\n            i18n-values="{\n              html_descriptionTitle: \'<strong>\' + translations.namedArgumentsDescriptionTitle + \'</strong>\',\n            }"\n          ></td>\n        </tr>\n        <tr>\n          <td><code>(.es(*), .es(GB)).points()</code></td>\n          <td\n            i18n-id="timelion.help.expressions.examples.groupedExpressionsDescription"\n            i18n-default-message="{descriptionTitle} You can also chain groups of expressions to\n                                  functions. Here, both series are shown as points instead of lines."\n            i18n-values="{\n              html_descriptionTitle: \'<strong>\' + translations.groupedExpressionsDescriptionTitle + \'</strong>\',\n            }"\n          ></td>\n        </tr>\n      </table>\n      <p>\n        <span\n          i18n-id="timelion.help.expressions.paragraph4"\n          i18n-default-message="Timelion provides additional view transformation functions you can use\n                                to customize the appearance of your charts. For the complete list, see the"\n          i18n-description="Part of composite text\n                            timelion.help.expressions.paragraph4 +\n                            timelion.help.expressions.functionReferenceLinkText"\n        ></span>\n        <a\n          ng-click="setPage(0)"\n          i18n-id="timelion.help.expressions.functionReferenceLinkText"\n          i18n-default-message="Function reference"\n          i18n-description="Part of composite text\n                            timelion.help.expressions.paragraph4 +\n                            timelion.help.expressions.functionReferenceLinkText"\n        ></a>.\n      </p>\n    </div>\n    <div class="timHelp__buttons">\n\n      <button\n        ng-click="setPage(page-1)"\n        class="timApp__button"\n      >\n        {{translations.previousButtonLabel}}\n      </button>\n\n\n      <button\n        ng-click="setPage(page+1)"\n        class="timApp__button"\n      >\n        {{translations.nextButtonLabel}}\n      </button>\n\n    </div>\n  </div>\n  <div ng-show="page === 5">\n    <div>\n      <h2\n        i18n-id="timelion.help.dataTransformingTitle"\n        i18n-default-message="Transforming your data: the real fun begins!"\n      ></h2>\n      <p\n        i18n-id="timelion.help.dataTransforming.paragraph1"\n        i18n-default-message="Now that you\'ve mastered the basics, it\'s time to unleash the power of\n                              Timelion. Let\'s figure out what percentage some subset of our data\n                              represents of the whole, over time. For example, what percentage of\n                              our web traffic comes from the US?"\n      ></p>\n      <p\n        i18n-id="timelion.help.dataTransforming.paragraph2"\n        i18n-default-message="First, we need to find all events that contain US: {esUsQuery}."\n        i18n-values="{ html_esUsQuery: \'<code>.es(\\\'US\\\')</code>\' }"\n      ></p>\n      <p\n        i18n-id="timelion.help.dataTransforming.paragraph3"\n        i18n-default-message="Next, we want to calculate the ratio of US events to the whole.\n                              To divide {us} by everything, we can use the {divide} function:\n                              {divideDataQuery}."\n        i18n-values="{\n          html_us: \'<code>\\\'US\\\'</code>\',\n          html_divide: \'<code>divide</code>\',\n          html_divideDataQuery: \'<code>.es(\\\'US\\\').divide(.es())</code>\',\n        }"\n      ></p>\n      <p\n        i18n-id="timelion.help.dataTransforming.paragraph4"\n        i18n-default-message="Not bad, but this gives us a number between 0 and 1. To convert it\n                              to a percentage, simply multiply by 100: {multiplyDataQuery}."\n        i18n-values="{ html_multiplyDataQuery: \'<code>.es(\\\'US\\\').divide(.es()).multiply(100)</code>\' }"\n      ></p>\n      <p\n        i18n-id="timelion.help.dataTransforming.paragraph5"\n        i18n-default-message="Now we know what percentage of our traffic comes from the US, and\n                              can see how it has changed over time! Timelion has a number of\n                              built-in arithmetic functions, such as {sum}, {subtract}, {multiply},\n                              and {divide}. Many of these can take a series or a number. There are\n                              also other useful data transformation functions, such as\n                              {movingaverage}, {abs}, and {derivative}."\n        i18n-values="{\n          html_sum: \'<code>sum</code>\',\n          html_subtract: \'<code>subtract</code>\',\n          html_multiply: \'<code>multiply</code>\',\n          html_divide: \'<code>divide</code>\',\n          html_movingaverage: \'<code>movingaverage</code>\',\n          html_abs: \'<code>abs</code>\',\n          html_derivative: \'<code>derivative</code>\',\n        }"\n      ></p>\n      <p>\n        <span\n          i18n-id="timelion.help.dataTransforming.paragraph6Part1"\n          i18n-default-message="Now that you\'re familiar with the syntax, refer to the"\n          i18n-description="Part of composite text\n                            timelion.help.dataTransforming.paragraph6Part1 +\n                            timelion.help.dataTransforming.functionReferenceLinkText +\n                            timelion.help.dataTransforming.paragraph6Part2"\n        ></span>\n        <a\n          ng-click="setPage(0)"\n          i18n-id="timelion.help.dataTransforming.functionReferenceLinkText"\n          i18n-default-message="Function reference"\n          i18n-description="Part of composite text\n                            timelion.help.dataTransforming.paragraph6Part1 +\n                            timelion.help.dataTransforming.functionReferenceLinkText +\n                            timelion.help.dataTransforming.paragraph6Part2"\n        ></a>\n        <span\n          i18n-id="timelion.help.dataTransforming.paragraph6Part2"\n          i18n-default-message="to see how to use all of the available Timelion functions.\n                                You can view the reference at any time by clicking \\{Docs\\}\n                                in the toolbar. To get back to this tutorial, click the\n                                \\{Tutorial\\} link at the top of the reference."\n          i18n-description="Part of composite text\n                            timelion.help.dataTransforming.paragraph6Part1 +\n                            timelion.help.dataTransforming.functionReferenceLinkText +\n                            timelion.help.dataTransforming.paragraph6Part2"\n        ></span>\n      </p>\n    </div>\n    <div class="timHelp__buttons">\n\n      <button\n        ng-click="setPage(page-1)"\n        class="timApp__button"\n      >\n        {{translations.previousButtonLabel}}\n      </button>\n\n\n\n      <button\n        ng-click="opts.dontShowHelp()"\n        class="timHelp__links"\n      >\n        {{translations.dontShowHelpButtonLabel}}\n      </button>\n\n    </div>\n  </div>\n</div>\n<div ng-show="page === 0">\n  <h2\n    class="timApp__sectionTitle"\n    i18n-id="timelion.help.mainPageTitle"\n    i18n-default-message="Help"\n  ></h2>\n\n  <timelion-help-tabs\n    activate-tab="activateTab"\n    active-tab="activeTab"\n  >\n  </timelion-help-tabs>\n\n  <div ng-show="activeTab == \'funcref\'" class="list-group-item list-group-item--noBorder">\n    <div class="timApp__helpText">\n      <span\n        i18n-id="timelion.help.mainPage.functionReference.gettingStartedText"\n        i18n-default-message="Click any function for more information. Just getting started?"\n      ></span>\n      <a\n        i18n-id="timelion.help.mainPage.functionReference.welcomePageLinkText"\n        i18n-default-message="Check out the tutorial"\n        style="color: #006BB4;"\n        ng-click="setPage(1)"\n        kbn-accessible-click\n      ></a>.\n    </div>\n\n    <div class="timHelp__functions">\n      <table class="table table-condensed table-bordered">\n        <tr\n          class="timHelp__functionsTableRow"\n          ng-repeat-start="function in functions.list"\n          ng-class="{active: functions.details === function.name}"\n          ng-click="functions.details =\n                    (functions.details === function.name ?\n                      null : function.name)"\n          kbn-accessible-click\n        >\n          <td><strong>.{{function.name}}()</strong></td>\n          <td>{{function.help}}</td>\n        </tr>\n        <tr ng-if="functions.details === function.name" ng-repeat-end>\n          <td colspan=2>\n            <div class="suggestion-details" >\n              <table\n                class="table table-condensed table-bordered\n                        timHelp__functionDetailsTable"\n                ng-show="function.args.length > (function.chainable ? 1: 0)"\n              >\n                <thead>\n                  <th\n                    scope="col"\n                    i18n-id="timelion.help.mainPage.functionReference.detailsTable.argumentNameColumnLabel"\n                    i18n-default-message="Argument Name"\n                  ></th>\n                  <th\n                    scope="col"\n                    i18n-id="timelion.help.mainPage.functionReference.detailsTable.acceptedTypesColumnLabel"\n                    i18n-default-message="Accepted Types"\n                  ></th>\n                  <th\n                    scope="col"\n                    i18n-id="timelion.help.mainPage.functionReference.detailsTable.informationColumnLabel"\n                    i18n-default-message="Information"\n                  ></th>\n                </thead>\n                <tr\n                  ng-repeat="arg in function.args"\n                  ng-hide="$index < 1 && function.chainable"\n                >\n                  <td>{{arg.name}}</td>\n                  <td><em>{{arg.types.join(\', \')}}</em></td>\n                  <td>{{arg.help}}</td>\n                </tr>\n              </table>\n              <div ng-hide="function.args.length > (function.chainable ? 1: 0)">\n                <em\n                  i18n-id="timelion.help.mainPage.functionReference.noArgumentsFunctionErrorMessage"\n                  i18n-default-message="This function does not accept any arguments. Well that\'s simple, isn\'t it?"\n                ></em>\n              </div>\n            </div>\n          </td>\n        </tr>\n      </table>\n    </div>\n  </div>\n\n  <div ng-show="activeTab == \'keyboardtips\'" class="list-group-item list-group-item--noBorder">\n    \x3c!-- General editing tips --\x3e\n    <dl class="dl-horizontal">\n      <dd>\n        <strong\n          i18n-id="timelion.help.mainPage.keyboardTips.generalEditingTitle"\n          i18n-default-message="General editing"\n        ></strong></dd>\n      <dt></dt>\n      <dt>Ctrl/Cmd + Enter</dt>\n      <dd\n        i18n-id="timelion.help.mainPage.keyboardTips.generalEditing.submitRequestText"\n        i18n-default-message="Submit request"\n      ></dd>\n    </dl>\n\n    \x3c!-- Auto complete tips --\x3e\n    <dl class="dl-horizontal">\n      <dt></dt>\n      <dd>\n        <strong\n          i18n-id="timelion.help.mainPage.keyboardTips.autoCompleteTitle"\n          i18n-default-message="When auto-complete is visible"\n        ></strong>\n      </dd>\n      <dt\n        i18n-id="timelion.help.mainPage.keyboardTips.autoComplete.downArrowLabel"\n        i18n-default-message="Down arrow"\n      ></dt>\n      <dd\n        i18n-id="timelion.help.mainPage.keyboardTips.autoComplete.downArrowDescription"\n        i18n-default-message="Switch focus to auto-complete menu. Use arrows to further select a term"\n      ></dd>\n      <dt>Enter/Tab</dt>\n      <dd\n        i18n-id="timelion.help.mainPage.keyboardTips.autoComplete.enterTabDescription"\n        i18n-default-message="Select the currently selected or the top most term in auto-complete menu"\n      ></dd>\n      <dt>Esc</dt>\n      <dd\n        i18n-id="timelion.help.mainPage.keyboardTips.autoComplete.escDescription"\n        i18n-default-message="Close auto-complete menu"\n      ></dd>\n    </dl>\n  </div>\n</div>\n';var external_kbnSharedDeps_Moment_=__webpack_require__(20);var external_kbnSharedDeps_Moment_default=__webpack_require__.n(external_kbnSharedDeps_Moment_);function initTimelionHelpDirective(app){app.directive("timelionHelp",(function($http){return{restrict:"E",template:timelion_help,controller:function($scope){$scope.functions={list:[],details:null};$scope.activeTab="funcref";$scope.activateTab=function(tabName){$scope.activeTab=tabName};function init(){$scope.es={invalidCount:0};$scope.translations={nextButtonLabel:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.help.nextPageButtonLabel",{defaultMessage:"Next"}),previousButtonLabel:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.help.previousPageButtonLabel",{defaultMessage:"Previous"}),dontShowHelpButtonLabel:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.help.dontShowHelpButtonLabel",{defaultMessage:`Don't show this again`}),strongNextText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.help.welcome.content.strongNextText",{defaultMessage:"Next"}),emphasizedEverythingText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.help.welcome.content.emphasizedEverythingText",{defaultMessage:"everything"}),notValidAdvancedSettingsPath:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.help.configuration.notValid.advancedSettingsPathText",{defaultMessage:"Management / Kibana / Advanced Settings"}),validAdvancedSettingsPath:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.help.configuration.valid.advancedSettingsPathText",{defaultMessage:"Management/Kibana/Advanced Settings"}),esAsteriskQueryDescription:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.help.querying.esAsteriskQueryDescriptionText",{defaultMessage:"hey Elasticsearch, find everything in my default index"}),esIndexQueryDescription:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.help.querying.esIndexQueryDescriptionText",{defaultMessage:"use * as the q (query) for the logstash-* index"}),strongAddText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.help.expressions.strongAddText",{defaultMessage:"Add"}),twoExpressionsDescriptionTitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.help.expressions.examples.twoExpressionsDescriptionTitle",{defaultMessage:"Double the fun."}),customStylingDescriptionTitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.help.expressions.examples.customStylingDescriptionTitle",{defaultMessage:"Custom styling."}),namedArgumentsDescriptionTitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.help.expressions.examples.namedArgumentsDescriptionTitle",{defaultMessage:"Named arguments."}),groupedExpressionsDescriptionTitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.help.expressions.examples.groupedExpressionsDescriptionTitle",{defaultMessage:"Grouped expressions."})};getFunctions();checkElasticsearch()}function getFunctions(){return $http.get("../api/timelion/functions").then((function(resp){$scope.functions.list=resp.data}))}$scope.recheckElasticsearch=function(){$scope.es.valid=null;checkElasticsearch().then((function(valid){if(!valid)$scope.es.invalidCount++}))};function checkElasticsearch(){return $http.get("../api/timelion/validate/es").then((function(resp){if(resp.data.ok){$scope.es.valid=true;$scope.es.stats={min:external_kbnSharedDeps_Moment_default()(resp.data.min).format("LLL"),max:external_kbnSharedDeps_Moment_default()(resp.data.max).format("LLL"),field:resp.data.field}}else{$scope.es.valid=false;$scope.es.invalidReason=function(){try{const esResp=JSON.parse(resp.data.resp.response);return external_kbnSharedDeps_Lodash_default.a.get(esResp,"error.root_cause[0].reason")}catch(e){if(external_kbnSharedDeps_Lodash_default.a.get(resp,"data.resp.message"))return external_kbnSharedDeps_Lodash_default.a.get(resp,"data.resp.message");if(external_kbnSharedDeps_Lodash_default.a.get(resp,"data.resp.output.payload.message"))return external_kbnSharedDeps_Lodash_default.a.get(resp,"data.resp.output.payload.message");return external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.help.unknownErrorMessage",{defaultMessage:"Unknown error"})}}()}return $scope.es.valid}))}init()}}}))}var save_sheet='<div class="list-group">\n  <button class="list-group-item" ng-click="section = \'sheet\'" type="button" data-test-subj="timelionSaveAsSheetButton">\n    <h4\n      class="list-group-item-heading"\n      i18n-id="timelion.topNavMenu.save.saveEntireSheetTitle"\n      i18n-default-message="Save entire Timelion sheet"\n    ></h4>\n    <p\n      class="list-group-item-text"\n      i18n-id="timelion.topNavMenu.save.saveEntireSheetDescription"\n      i18n-default-message="You want this option if you mostly use Timelion expressions from within\n                            the Timelion app and don\'t need to add Timelion charts to Kibana\n                            dashboards. You may also want this if you make use of references to\n                            other panels."\n    ></p>\n  </button>\n\n  <div class="list-group-item" ng-show="section == \'sheet\'">\n    <form role="form" class="container-fluid" ng-submit="opts.saveSheet()">\n      <label\n        for="savedSheet"\n        class="timApp__label"\n        i18n-id="timelion.topNavMenu.save.saveEntireSheetLabel"\n        i18n-default-message="Save sheet as"\n      ></label>\n\n      <input\n        id="savedSheet"\n        ng-model="opts.savedSheet.title"\n        input-focus="select"\n        class="form-control"\n        style="margin-bottom: 4px;"\n        placeholder="{{ ::\'timelion.topNavMenu.save.saveEntireSheet.inputPlaceholder\' | i18n: { defaultMessage: \'Name this sheet...\' } }}"\n        aria-label="{{ ::\'timelion.topNavMenu.save.saveEntireSheet.inputAriaLabel\' | i18n: { defaultMessage: \'Name\' } }}"\n      >\n\n      <saved-object-save-as-check-box\n        saved-object="opts.savedSheet"\n        style="margin-bottom: 4px;"\n      ></saved-object-save-as-check-box>\n\n      <button\n        ng-disabled="!opts.savedSheet.title"\n        type="submit"\n        class="timApp__button"\n        i18n-id="timelion.topNavMenu.save.saveEntireSheet.submitButtonLabel"\n        i18n-default-message="Save"\n        data-test-subj="timelionFinishSaveButton"\n      ></button>\n    </form>\n  </div>\n\n  <button class="list-group-item" ng-click="section = \'expression\'" type="button">\n    <h4\n      class="list-group-item-heading"\n      i18n-id="timelion.topNavMenu.save.saveAsDashboardPanelTitle"\n      i18n-default-message="Save current expression as Kibana dashboard panel"\n    ></h4>\n    <p\n      class="list-group-item-text"\n      i18n-id="timelion.topNavMenu.save.saveAsDashboardPanelDescription"\n      i18n-default-message="Need to add a chart to a Kibana dashboard? We can do that! This option\n                            will save your currently selected expression as a panel that can be\n                            added to Kibana dashboards as you would add anything else. Note, if you\n                            use references to other panels you will need to remove the refences by\n                            copying the referenced expression directly into the expression you are\n                            saving. Click a chart to select a different expression to save."\n    ></p>\n  </button>\n\n  <div class="list-group-item" ng-show="section == \'expression\'">\n    <form role="form" class="container-fluid" ng-submit="opts.saveExpression(panelTitle)">\n      <div class="form-group">\n        <label\n          class="control-label"\n          i18n-id="timelion.topNavMenu.save.saveAsDashboardPanel.selectedExpressionLabel"\n          i18n-default-message="Currently selected expression"\n        ></label>\n        <code>{{opts.state.sheet[opts.state.selected]}}</code>\n      </div>\n      <div class="form-group">\n        <label\n          for="savedExpression"\n          class="control-label"\n          i18n-id="timelion.topNavMenu.save.saveAsDashboardPanelLabel"\n          i18n-default-message="Save expression as"\n        ></label>\n        <input\n          id="savedExpression"\n          ng-model="panelTitle"\n          input-focus="select"\n          class="form-control"\n          placeholder="{{ ::\'timelion.topNavMenu.save.saveAsDashboardPanel.inputPlaceholder\' | i18n: { defaultMessage: \'Name this panel\' } }}"\n        >\n      </div>\n      <div class="form-group">\n        <button\n          ng-disabled="!panelTitle"\n          type="submit"\n          class="timApp__button"\n          i18n-id="timelion.topNavMenu.save.saveAsDashboardPanel.submitButtonLabel"\n          i18n-default-message="Save"\n        ></button>\n      </div>\n    </form>\n  </div>\n</div>\n';function initTimelionSaveSheetDirective(app){app.directive("timelionSave",(function(){return{replace:true,restrict:"E",template:save_sheet}}))}var sheet_options='<form role="form">\n  <h2\n    class="timApp__sectionTitle"\n    i18n-id="timelion.topNavMenu.sheetOptionsTitle"\n    i18n-default-message="Sheet options"\n  ></h2>\n\n  <div class="clearfix">\n    <div class="form-group col-md-6">\n      <label\n        for="timelionColCount"\n        i18n-id="timelion.topNavMenu.options.columnsCountLabel"\n        i18n-default-message="Columns (Column count must divide evenly into 12)"\n      ></label>\n      <select class="form-control"\n        id="timelionColCount"\n        ng-change="opts.search()"\n        ng-options="column for column in [1, 2, 3, 4, 6, 12]"\n        ng-model="opts.state.columns">\n      </select>\n    </div>\n    <div class="form-group col-md-6">\n      <label\n        for="timelionRowCount"\n        i18n-id="timelion.topNavMenu.options.rowsCountLabel"\n        i18n-default-message="Rows (This is a target based on the current window height)"\n      ></label>\n      <select class="form-control"\n        id="timelionRowCount"\n        ng-change="opts.search()"\n        ng-options="row for row in [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]"\n        ng-model="opts.state.rows">\n      </select>\n    </div>\n  </div>\n</form>\n';function initTimelionOptionsSheetDirective(app){app.directive("timelionOptions",(function(){return{replace:true,restrict:"E",template:sheet_options}}))}var saved_object_save_as_checkbox='<div ng-hide="!savedObject.id || savedObject.isSaving">\n  <div\n    ng-hide="!savedObject.isTitleChanged() || savedObject.copyOnSave"\n    class="timDropdownWarning"\n    i18n-id="timelion.savedObjects.howToSaveAsNewDescription"\n    i18n-default-message="In previous versions of Kibana, changing the name of a {savedObjectName} would make a copy with the new name. Use the \'Save as a new {savedObjectName}\' checkbox to do this now."\n    i18n-values="{ savedObjectName: savedObject.getDisplayName() }"\n    i18n-description="\'Save as a new {savedObjectName}\' refers to timelion.savedObjects.saveAsNewLabel and should be the same text."\n  ></div>\n\n  <label class="timFormCheckbox">\n    <input\n      class="timFormCheckbox__input"\n      type="checkbox"\n      data-test-subj="saveAsNewCheckbox"\n      ng-model="savedObject.copyOnSave"\n      ng-checked="savedObject.copyOnSave"\n    >\n    <icon type="\'check\'" class="timFormCheckbox__icon" color="\'white\'" size="\'s\'"></icon>\n\n    <span\n      style="margin-left: 8px;"\n      i18n-id="timelion.savedObjects.saveAsNewLabel"\n      i18n-default-message="Save as a new {savedObjectName}"\n      i18n-values="{ savedObjectName: savedObject.getDisplayName() }"\n    ></span>\n  </label>\n</div>\n\n';function initSavedObjectSaveAsCheckBoxDirective(app){app.directive("savedObjectSaveAsCheckBox",(function(){return{restrict:"E",template:saved_object_save_as_checkbox,replace:true,scope:{savedObject:"="}}}))}var rison=__webpack_require__(45);var rison_default=__webpack_require__.n(rison);var saved_object_finder='<form\n  role="form"\n>\n  <div class="timSearchBar">\n      <div class="timSearchBar__section">\n        <icon class="timSearchBar__icon" type="\'search\'"></icon>\n        <input\n          class="timSearchBar__input"\n          input-focus\n          disable-input-focus="disableAutoFocus"\n          ng-model="filter"\n          ng-attr-placeholder="{{ finder.getLabel() }} Filter..."\n          ng-keydown="finder.filterKeyDown($event)"\n          name="filter"\n          type="text"\n          autocomplete="off"\n          data-test-subj="savedObjectFinderSearchInput"\n        >\n    </div>\n\n    <div>\n      <p class="timSearchBar__pagecount"\n        i18n-id="timelion.savedObjectFinder.pageItemsFromHitCountDescription"\n        i18n-default-message="{pageFirstItem}-{pageLastItem} of {hitCount}"\n        i18n-values="{pageFirstItem, pageLastItem, hitCount: finder.hitCount}"\n      ></p>\n      <div>\n        <button\n          class="timApp__button"\n          ng-if="onAddNew"\n          ng-click="onAddNew()"\n          data-test-subj="addNewSavedObjectLink"\n          i18n-id="timelion.savedObjectFinder.addNewItemButtonLabel"\n          i18n-default-message="Add new {item}"\n          i18n-values="{item: finder.properties.noun}"\n          i18n-description="{item} can be a type of object in Kibana, like \'visualization\', \'dashboard\', etc"\n        ></button>\n\n        <button\n          class="timApp__button--secondary"\n          ng-if="!useLocalManagement"\n          ng-click="finder.manageObjects(finder.properties.name)"\n          i18n-id="timelion.savedObjectFinder.manageItemsButtonLabel"\n          i18n-default-message="Manage {items}"\n          i18n-values="{items: finder.properties.nouns}"\n          i18n-description="{items} can be a type of object in Kibana, like \'visualizations\', \'dashboards\', etc"\n        ></button>\n      </div>\n    </div>\n  </div>\n</form>\n\n<paginate\n  list="finder.hits"\n  per-page="20"\n>\n  <button\n    class="paginate-heading list-group-item list-sort-button"\n    ng-click="finder.sortHits(finder.hits)"\n    aria-live="assertive"\n  >\n    <span class="euiScreenReaderOnly"\n      i18n-id="timelion.savedObjectFinder.sortByButtonLabelScreenReaderOnly"\n      i18n-default-message="Sort by"\n    ></span>\n    <span\n      i18n-id="timelion.savedObjectFinder.sortByButtonLabel"\n      i18n-default-message="Name"\n    ></span>\n    <icon type="\'sortUp\'" ng-if="finder.isAscending"></icon>\n    <icon type="\'sortDown\'" ng-if="!finder.isAscending"></icon>\n      <span class="euiScreenReaderOnly"\n        ng-if="finder.isAscending"\n        i18n-id="timelion.savedObjectFinder.sortByButtonLabeAscendingScreenReaderOnly"\n        i18n-default-message="ascending"\n      ></span>\n      <span class="euiScreenReaderOnly"\n        ng-if="!finder.isAscending"\n        i18n-id="timelion.savedObjectFinder.sortByButtonLabeDescendingScreenReaderOnly"\n        i18n-default-message="descending"\n      ></span>\n    </span>\n  </button>\n  <ul class="li-striped list-group list-group-menu" ng-class="{\'select-mode\': finder.selector.enabled}">\n    <li\n      class="list-group-item list-group-menu-item"\n      ng-class="{\'active\': finder.selector.index === $index && finder.selector.enabled}"\n      ng-repeat="hit in page"\n      ng-keydown="finder.hitKeyDown($event, page, paginate)"\n      ng-click="finder.onChoose(hit, $event)">\n\n      <a ng-href="{{finder.makeUrl(hit)}}"\n          ng-blur="finder.hitBlur($event)"\n          ng-click="finder.preventClick($event)">\n          <icon aria-hidden="true" class="finder-type" ng-if="hit.icon" ng-class="hit.icon"></icon>\n          <icon type="\'beaker\'" ng-if="hit.type.shouldMarkAsExperimentalInUI()"></icon>\n          <span>{{hit.title}}</span>\n          <p ng-if="hit.description" ng-bind="hit.description"></p>\n      </a>\n    </li>\n    <li\n      class="list-group-item list-group-no-results"\n      ng-if="finder.hits.length === 0"\n    >\n      <p i18n-id="timelion.savedObjectFinder.noMatchesFoundDescription"\n        i18n-default-message="No matching {items} found."\n        i18n-values="{items: finder.properties.nouns}"\n        i18n-description="{items} can be a type of object in Kibana, like \'visualizations\', \'dashboards\', etc"\n      ></p>\n    </li>\n  </ul>\n</paginate>\n';const keyMap={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capsLock",27:"escape",32:"space",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",91:"leftWindowKey",92:"rightWindowKey",93:"selectKey",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"multiply",107:"add",109:"subtract",110:"period",111:"divide",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numLock",145:"scrollLock",186:"semiColon",187:"equalSign",188:"comma",189:"dash",190:"period",191:"forwardSlash",192:"graveAccent",219:"openBracket",220:"backSlash",221:"closeBracket",222:"singleQuote",224:"meta"};var savedObjects_public_=__webpack_require__(15);var visualizations_public_=__webpack_require__(21);function initSavedObjectFinderDirective(app,savedSheetLoader,uiSettings){app.directive("paginate",kibanaLegacy_public_["PaginateDirectiveProvider"]).directive("paginateControls",kibanaLegacy_public_["PaginateControlsDirectiveProvider"]).directive("savedObjectFinder",(function(){return{restrict:"E",scope:{type:"@",userMakeUrl:"=?makeUrl",userOnChoose:"=?onChoose",useLocalManagement:"=?useLocalManagement",onAddNew:"=",disableAutoFocus:"="},template:saved_object_finder,controllerAs:"finder",controller:function($scope,$element,$location,history){const self=this;const $input=$element.find("input[ng-model=filter]");$scope.perPage=uiSettings.get(savedObjects_public_["PER_PAGE_SETTING"]);const $list=$element.find("ul");let currentFilter=$scope.filter;let prevSearch;self.hits=[];self.service=savedSheetLoader;self.properties=self.service.loaderProperties;filterResults();self.isAscending=true;self.sortHits=function(hits){self.isAscending=!self.isAscending;self.hits=self.isAscending?external_kbnSharedDeps_Lodash_default.a.sortBy(hits,["title"]):external_kbnSharedDeps_Lodash_default.a.sortBy(hits,["title"]).reverse()};self.makeUrl=function(hit){if($scope.userMakeUrl){return $scope.userMakeUrl(hit)}if(!$scope.userOnChoose){return hit.url}return"#"};self.preventClick=function($event){$event.preventDefault()};self.onChoose=function(hit,$event){if($scope.userOnChoose){$scope.userOnChoose(hit,$event)}const url=self.makeUrl(hit);if(!url||url==="#"||url.charAt(0)!=="#")return;$event.preventDefault();history.push(url.substr(1))};$scope.$watch("filter",(function(newFilter){currentFilter=newFilter||"";filterResults()}));$scope.pageFirstItem=0;$scope.pageLastItem=0;$scope.onPageChanged=page=>{$scope.pageFirstItem=page.firstItem;$scope.pageLastItem=page.lastItem};self.selector={enabled:false,index:-1};self.getLabel=function(){return external_kbnSharedDeps_Lodash_default.a.words(self.properties.nouns).map(external_kbnSharedDeps_Lodash_default.a.capitalize).join(" ")};self.filterKeyDown=function($event){switch(keyMap[$event.keyCode]){case"enter":if(self.hitCount!==1)return;const hit=self.hits[0];if(!hit)return;self.onChoose(hit,$event);$event.preventDefault();break}};self.hitKeyDown=function($event,page,paginate){switch(keyMap[$event.keyCode]){case"tab":if(!self.selector.enabled)break;self.selector.index=-1;self.selector.enabled=false;if($event.shiftKey){$input.focus()}else{$list.find("li.active a").focus()}$event.preventDefault();break;case"down":if(!self.selector.enabled)break;if(self.selector.index+1<page.length){self.selector.index+=1}$event.preventDefault();break;case"up":if(!self.selector.enabled)break;if(self.selector.index>0){self.selector.index-=1}$event.preventDefault();break;case"right":if(!self.selector.enabled)break;if(page.number<page.count){paginate.goToPage(page.number+1);self.selector.index=0;selectTopHit()}$event.preventDefault();break;case"left":if(!self.selector.enabled)break;if(page.number>1){paginate.goToPage(page.number-1);self.selector.index=0;selectTopHit()}$event.preventDefault();break;case"escape":if(!self.selector.enabled)break;$input.focus();$event.preventDefault();break;case"enter":if(!self.selector.enabled)break;const hitIndex=(page.number-1)*paginate.perPage+self.selector.index;const hit=self.hits[hitIndex];if(!hit)break;self.onChoose(hit,$event);$event.preventDefault();break;case"shift":break;default:$input.focus();break}};self.hitBlur=function(){self.selector.index=-1;self.selector.enabled=false};self.manageObjects=function(type){$location.url("/management/kibana/objects?_a="+rison_default.a.encode({tab:type}))};self.hitCountNoun=function(){return(self.hitCount===1?self.properties.noun:self.properties.nouns).toLowerCase()};function selectTopHit(){setTimeout((function(){$list.find("a:first").focus()}),0)}function filterResults(){if(!self.service)return;if(!self.properties)return;const filter=currentFilter;if(prevSearch===filter)return;prevSearch=filter;const isLabsEnabled=uiSettings.get(visualizations_public_["VISUALIZE_ENABLE_LABS_SETTING"]);self.service.find(filter).then((function(hits){hits.hits=hits.hits.filter(hit=>isLabsEnabled||external_kbnSharedDeps_Lodash_default.a.get(hit,"type.stage")!=="experimental");hits.total=hits.hits.length;if(currentFilter===filter){self.hitCount=hits.total;self.hits=external_kbnSharedDeps_Lodash_default.a.sortBy(hits.hits,["title"])}}))}}}}))}var external_kbnSharedDeps_React_=__webpack_require__(12);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(16);function handleClick(activateTab,tabName){activateTab(tabName)}function TimelionHelpTabs(props){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTabs"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTab"],{isSelected:props.activeTab==="funcref",onClick:()=>handleClick(props.activateTab,"funcref")},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"timelion.help.mainPage.functionReferenceTitle",defaultMessage:"Function reference"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTab"],{isSelected:props.activeTab==="keyboardtips",onClick:()=>handleClick(props.activateTab,"keyboardtips")},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"timelion.help.mainPage.keyboardTipsTitle",defaultMessage:"Keyboard tips"})))}function initTimelionTabsDirective(app,deps){app.directive("timelionHelpTabs",(function(reactDirective){return reactDirective(props=>external_kbnSharedDeps_React_default.a.createElement(deps.core.i18n.Context,null,external_kbnSharedDeps_React_default.a.createElement(TimelionHelpTabs,props)),[["activeTab"],["activateTab",{watchDepth:"reference"}]],{restrict:"E",scope:{activeTab:"=",activateTab:"="}})}))}const TimelionDeprecation=({links:links})=>{const timelionDeprecationLink=links.visualize.timelionDeprecation;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"timelion.deprecation.message",defaultMessage:"Deprecated since 7.0, the Timelion app will be removed in 8.0. To continue using your Timelion worksheets, {timeLionDeprecationLink}.",values:{timeLionDeprecationLink:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:timelionDeprecationLink,target:"_blank",external:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"timelion.deprecation.here",defaultMessage:"migrate them to a dashboard."}))}}),color:"warning",iconType:"alert",size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}))};function initTimelionTDeprecationDirective(app,deps){app.directive("timelionDeprecation",(function(reactDirective){return reactDirective(()=>external_kbnSharedDeps_React_default.a.createElement(deps.core.i18n.Context,null,external_kbnSharedDeps_React_default.a.createElement(TimelionDeprecation,{links:deps.core.docLinks.links})),[],{restrict:"E",scope:{docLinks:"="}})}))}function initTimelionTopNavDirective(app,deps){app.directive("timelionTopNav",(function(reactDirective){return reactDirective(props=>{const{TopNavMenu:TopNavMenu}=deps.plugins.navigation.ui;return external_kbnSharedDeps_React_default.a.createElement(deps.core.i18n.Context,null,external_kbnSharedDeps_React_default.a.createElement(TopNavMenu,{appName:"timelion",showTopNavMenu:true,config:props.topNavMenu,setMenuMountPoint:deps.mountParams.setHeaderActionMenu,onQuerySubmit:props.onTimeUpdate,screenTitle:"timelion",showDatePicker:true,showFilterBar:false,showQueryInput:false,showSaveQuery:false,showSearchBar:true,useDefaultBehaviors:true}))},[["topNavMenu",{watchDepth:"reference"}],["onTimeUpdate",{watchDepth:"reference"}]],{restrict:"E",scope:{topNavMenu:"=",onTimeUpdate:"="}})}))}function initInputFocusDirective(app){app.directive("inputFocus",(function($parse,$timeout){return{restrict:"A",link:function($scope,$elem,attrs){const isDisabled=attrs.disableInputFocus&&$parse(attrs.disableInputFocus)($scope);if(!isDisabled){$timeout((function(){$elem.focus();if(attrs.inputFocus==="select")$elem.select()}))}}}}))}function Chart(timelionPanels){return{restrict:"A",scope:{seriesList:"=chart",search:"=",interval:"=",rerenderTrigger:"="},link:function($scope,$elem){let panelScope=$scope.$new(true);function render(){panelScope.$destroy();if(!$scope.seriesList)return;$scope.seriesList.render=$scope.seriesList.render||{type:"timechart"};const panelSchema=timelionPanels.get($scope.seriesList.render.type);if(!panelSchema){$elem.text(external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.chart.seriesList.noSchemaWarning",{defaultMessage:"No such panel type: {renderType}",values:{renderType:$scope.seriesList.render.type}}));return}panelScope=$scope.$new(true);panelScope.seriesList=$scope.seriesList;panelScope.interval=$scope.interval;panelScope.search=$scope.search;panelSchema.render(panelScope,$elem)}$scope.$watchGroup(["seriesList","rerenderTrigger"],render)}}}var timelion_interval='<input\n  input-focus\n  aria-label="{{ ::\'timelion.intervals.customIntervalAriaLabel\' | i18n: { defaultMessage: \'Custom interval\' } }}"\n  class="timInterval__input"\n  ng-show="interval === \'other\'"\n  ng-class="{ \'timInterval__input--compact\': interval === \'other\' }"\n  ng-model="otherInterval"\n><select\n  id="timelionInterval"\n  aria-label="{{ ::\'timelion.intervals.selectIntervalAriaLabel\' | i18n: { defaultMessage: \'Select interval\' } }}"\n  class="form-control timInterval__presets"\n  ng-class="{ \'timInterval__presets--compact\': interval === \'other\'}"\n  ng-model="interval"\n>\n  <option\n    ng-repeat="intervalOption in intervalOptions"\n    aria-label="{{::intervalLabels[intervalOption]}}"\n    value="{{::intervalOption}}"\n  >\n      {{::intervalOption}}\n  </option>\n</select>\n';function TimelionInterval($timeout){return{restrict:"E",scope:{model:"=",changeInterval:"="},template:timelion_interval,link:function($scope,$elem){$scope.intervalOptions=["auto","1s","1m","1h","1d","1w","1M","1y","other"];$scope.intervalLabels={auto:"auto","1s":"1 second","1m":"1 minute","1h":"1 hour","1d":"1 day","1w":"1 week","1M":"1 month","1y":"1 year",other:"other"};$scope.$watch("model",(function(newVal,oldVal){if(newVal!==oldVal||oldVal==null)return;if(external_kbnSharedDeps_Lodash_default.a.includes($scope.intervalOptions,newVal)){$scope.interval=newVal}else{$scope.interval="other"}if(newVal!=="other"){$scope.otherInterval=newVal}}));$scope.$watch("interval",(function(newVal,oldVal){if(newVal===oldVal||$scope.model===newVal)return;if(newVal==="other"){$scope.otherInterval=oldVal;$scope.changeInterval($scope.otherInterval);$timeout((function(){external_kbnSharedDeps_Jquery_default()("input",$elem).select()}),0)}else{$scope.otherInterval=$scope.interval;$scope.changeInterval($scope.interval)}}));$scope.$watch("otherInterval",(function(newVal,oldVal){if(newVal===oldVal||$scope.model===newVal)return;$scope.changeInterval(newVal)}))}}}var peg=__webpack_require__(46);var peg_default=__webpack_require__.n(peg);var chain="/*\n * Timelion syntax parser\n */\n\n{\n function ltoo (literal) {\n  return {type: 'literal', value: literal}\n }\n\n function simpleLocation (location) {\n  // Returns an object representing the position of the function within the expression,\n  // demarcated by the position of its first character and last character. We calculate these values\n  // using the offset because the expression could span multiple lines, and we don't want to deal\n  // with column and line values.\n  return {\n   min: location.start.offset,\n   max: location.end.offset\n  }\n }\n\n var currentFunction;\n var currentArgs = [];\n\n var functions = [];\n var args = [];\n var variables = {};\n\n}\n\nstart\n = space? tree:series {\n  return {\n    tree: tree.filter(function (o) {return o != null}),\n    functions: functions,\n    args: args,\n    variables: variables\n  }\n }\n\narg_list\n = first:argument rest:(space? ',' space? arg:argument {return arg})* space? ','? {\n  return [first].concat(rest);\n }\n\nargument\n = name:argument_name space? '=' space? value:arg_type {\n  var arg = {\n   type: 'namedArg',\n   name: name,\n   value: value,\n   location: simpleLocation(location()),\n   text: text()\n  };\n  currentArgs.push(arg);\n  return arg;\n }\n / space? '=' space? value:arg_type? {\n  var exception = {\n   type: 'incompleteArgument',\n   currentArgs: currentArgs,\n   currentFunction: currentFunction,\n   location: simpleLocation(location()),\n   text: text()\n  }\n  error(JSON.stringify(exception));\n }\n / name:argument_name space? '=' {\n  var exception = {\n   type: 'incompleteArgumentValue',\n   currentArgs: currentArgs,\n   currentFunction: currentFunction,\n   name: name,\n   location: simpleLocation(location()),\n   text: text()\n  }\n  error(JSON.stringify(exception));\n }\n / element:arg_type {return element}\n\narg_type\n = variable_get\n / series_type\n / literal:literal {\n  var result = ltoo(literal);\n  result.location = simpleLocation(location()),\n  result.text = text();\n  return result;\n }\n\nvariable_get\n = '$' name:argument_name {\n  if (variables[name]) {\n   return variables[name];\n  } else {\n   error('$' + name + ' is not defined')\n  }\n }\n\nvariable_set\n = '$' name:argument_name space? '=' space? value:arg_type {\n  variables[name] = value;\n }\n\nseries_type\n = variable_set\n / variable_get\n / group\n / chain\n / reference\n\nseries\n = first:series_type rest:(space? ',' space? series:series_type {return series})* ','? {\n  return [first].concat(rest)\n }\n\nfunction_name\n = first:[a-zA-Z]+ rest:[.a-zA-Z0-9_-]* {\n  currentFunction = first.join('') + rest.join('');\n  currentArgs = [];\n  return currentFunction;\n}\n\nargument_name\n = first:[a-zA-Z]+ rest:[.a-zA-Z0-9_-]* { return first.join('') + rest.join('') }\n\nfunction \"function\"\n = space? '.' name:function_name space? '(' space? arg_list:arg_list? space? ')' space? {\n  var result = {\n    type: 'function',\n    function: name,\n    arguments: arg_list || [],\n    location: simpleLocation(location()),\n    text: text()\n  }\n\n  result.arguments.forEach(function (arg) {\n   arg.function = name;\n   args.push(arg);\n  })\n\n  functions.push(result)\n  return result;\n }\n / '.' func:function_name? {\n  var exception = {\n   type: 'incompleteFunction',\n   function: func,\n   location: simpleLocation(location()),\n   text: text()\n  }\n  error(JSON.stringify(exception));\n }\n\nreference\n = '@' plot:integer ':' series:integer {\n  return {\n   type: 'reference',\n   plot: plot,\n   series: series\n  }\n }\n / '@' plot:integer {\n  return {\n   type: 'reference',\n   plot: plot\n  }\n }\n\n\nchain\n = func:function space? rest:function* {return {type: 'chain', chain: [func].concat(rest)}}\n\ngroup\n = '(' space? grouped:series space? ')' functions:function* {\n  var first = {\n    type: 'chainList',\n    list: grouped\n  }\n  first.label = text();\n\n  return {type: \"chain\", chain: [first].concat(functions)};\n }\n\n /* ----- Core types ----- */\n\nliteral \"literal\"\n  =  '\"' chars:dq_char* '\"' { return chars.join(''); } // double quoted string\n  / \"'\" chars:sq_char* \"'\" { return chars.join(''); } // single quoted string\n  / 'true'  { return true; } // unquoted literals from here down\n  / 'false' { return false; }\n  / 'null'  { return null; }\n  / string:[^()\"',=\\ \\t]+ { // this also matches numbers via Number()\n   var result = string.join('');\n   // Sort of hacky, but PEG doesn't have backtracking so\n   // a number rule is hard to read, and performs worse\n   if (isNaN(Number(result))) return result;\n   return Number(result)\n  }\n\nspace\n = [\\ \\t\\r\\n]+\n\ndq_char\n  = \"\\\\\" sequence:('\"' / \"\\\\\") { return sequence; }\n  / [^\"] // everything except \"\n\nsq_char\n  = \"\\\\\" sequence:(\"'\" / \"\\\\\") { return sequence; }\n  / [^'] // everything except '\n\ninteger\n = digits:[0-9]+ {return parseInt(digits.join(''))}\n";var timelion_expression_input='<div\n  class="timExpressionInput__container"\n  role="combobox"\n  aria-expanded="{{suggestions.isVisible}}"\n  aria-owns="timelionSuggestionList"\n  aria-haspopup="true"\n>\n  \x3c!-- The `role=textbox` is required by VoiceOver to properly detect the autocompletion.\n       For some reasons it doesn\'t work without it (even though the default role of\n       the element is textbox anyway). --\x3e\n  <textarea\n    data-expression-input\n    role="textbox"\n    rows="{{ rows }}"\n    class="timExpressionInput timFormTextarea fullWidth"\n    placeholder="{{ ::\'timelion.expressionInputPlaceholder\' | i18n: { defaultMessage: \'Try a query with {esQuery}\', values: { esQuery: \'.es(*)\' } } }}"\n    ng-model="sheet"\n    ng-focus="onFocusInput()"\n    ng-keydown="onKeyDownInput($event)"\n    ng-keyup="onKeyUpInput($event)"\n    ng-blur="onBlurInput()"\n    ng-mousedown="onMouseDownInput()"\n    ng-mouseup="onMouseUpInput()"\n    ng-click="onClickExpression()"\n    aria-label="{{ ::\'timelion.expressionInputAriaLabel\' | i18n: { defaultMessage: \'Timelion expression\' } }}"\n    aria-multiline="false"\n    aria-autocomplete="list"\n    aria-controls="timelionSuggestionList"\n    aria-activedescendant="{{ getActiveSuggestionId() }}"\n    data-test-subj="timelionExpressionTextArea"\n  ></textarea>\n\n  <timelion-expression-suggestions\n    ng-show="suggestions.isVisible"\n    suggestions="suggestions.list"\n    suggestions-type="suggestions.type"\n    selected-index="suggestions.index"\n    on-click-suggestion="onClickSuggestion(suggestionIndex)"\n    should-popover="shouldPopoverSuggestions"\n  ></timelion-expression-suggestions>\n</div>\n';const SUGGESTION_TYPE={ARGUMENTS:"arguments",ARGUMENT_VALUE:"argument_value",FUNCTIONS:"functions"};class Suggestions{constructor(){this.reset()}reset(){this.index=-1;this.list=[];this.type=null;this.isVisible=false}setList(list,type){this.list=list.sort((a,b)=>{if(a.name<b.name){return-1}if(a.name>b.name){return 1}return 0});this.type=type;if(this.index>-1){this.index=Math.max(0,Math.min(this.index,this.list.length-1))}}getCount(){return this.list.length}isEmpty(){return this.list.length===0}show(){this.isVisible=true}hide(){this.isVisible=false}stepForward(){if(this.index>0){this.index-=1}}stepBackward(){if(this.index<this.list.length-1){this.index+=1}}}function inLocation(cursorPosition,location){return cursorPosition>=location.min&&cursorPosition<=location.max}function getArgumentsHelp(functionHelp,functionArgs=[]){if(!functionHelp){return[]}const argsHelp=functionHelp.chainable?functionHelp.args.slice(1):functionHelp.args.slice(0);const functionArgNames=functionArgs.map(arg=>arg.name);return argsHelp.filter(arg=>!functionArgNames.includes(arg.name))}async function extractSuggestionsFromParsedResult(result,cursorPosition,functionList,argValueSuggestions){const activeFunc=result.functions.find(func=>cursorPosition>=func.location.min&&cursorPosition<func.location.max);if(!activeFunc){return}const functionHelp=functionList.find(func=>func.name===activeFunc.function);const openParen=activeFunc.location.min+activeFunc.function.length+2;if(cursorPosition<openParen){return{list:[functionHelp],location:activeFunc.location,type:SUGGESTION_TYPE.FUNCTIONS}}const activeArg=activeFunc.arguments.find(argument=>inLocation(cursorPosition,argument.location));if(activeArg&&activeArg.type==="namedArg"&&inLocation(cursorPosition,activeArg.value.location)){const{function:functionName,arguments:functionArgs}=activeFunc;const{name:argName,value:{text:partialInput}}=activeArg;let valueSuggestions;if(argValueSuggestions.hasDynamicSuggestionsForArgument(functionName,argName)){valueSuggestions=await argValueSuggestions.getDynamicSuggestionsForArgument(functionName,argName,functionArgs,partialInput)}else{const{suggestions:staticSuggestions}=functionHelp.args.find(arg=>arg.name===activeArg.name);valueSuggestions=argValueSuggestions.getStaticSuggestionsForInput(partialInput,staticSuggestions)}return{list:valueSuggestions,location:activeArg.value.location,type:SUGGESTION_TYPE.ARGUMENT_VALUE}}const argsHelp=getArgumentsHelp(functionHelp,activeFunc.arguments);const argumentSuggestions=argsHelp.filter(arg=>{if(external_kbnSharedDeps_Lodash_default.a.get(activeArg,"type")==="namedArg"){return external_kbnSharedDeps_Lodash_default.a.startsWith(arg.name,activeArg.name)}else if(activeArg){return external_kbnSharedDeps_Lodash_default.a.startsWith(arg.name,activeArg.text)}return true});const location=activeArg?activeArg.location:{min:cursorPosition,max:cursorPosition};return{list:argumentSuggestions,location:location,type:SUGGESTION_TYPE.ARGUMENTS}}async function suggest(expression,functionList,Parser,cursorPosition,argValueSuggestions){try{const result=await Parser.parse(expression);return await extractSuggestionsFromParsedResult(result,cursorPosition,functionList,argValueSuggestions)}catch(e){let message;try{message=JSON.parse(e.message)}catch(e){return}switch(message.type){case"incompleteFunction":{let list;if(message.function){list=functionList.filter(func=>external_kbnSharedDeps_Lodash_default.a.startsWith(func.name,message.function))}else{list=functionList}return{list:list,location:message.location,type:SUGGESTION_TYPE.FUNCTIONS}}case"incompleteArgument":{const{currentFunction:functionName,currentArgs:functionArgs}=message;const functionHelp=functionList.find(func=>func.name===functionName);return{list:getArgumentsHelp(functionHelp,functionArgs),location:message.location,type:SUGGESTION_TYPE.ARGUMENTS}}case"incompleteArgumentValue":{const{name:argName,currentFunction:functionName,currentArgs:functionArgs}=message;let valueSuggestions=[];if(argValueSuggestions.hasDynamicSuggestionsForArgument(functionName,argName)){valueSuggestions=await argValueSuggestions.getDynamicSuggestionsForArgument(functionName,argName,functionArgs)}else{const functionHelp=functionList.find(func=>func.name===functionName);if(functionHelp){const argHelp=functionHelp.args.find(arg=>arg.name===argName);if(argHelp&&argHelp.suggestions){valueSuggestions=argHelp.suggestions}}}return{list:valueSuggestions,location:{min:cursorPosition,max:cursorPosition},type:SUGGESTION_TYPE.ARGUMENT_VALUE}}}}}function insertAtLocation(valueToInsert,destination,replacementRangeStart,replacementRangeEnd){const prefix=destination.slice(0,replacementRangeStart);const suffix=destination.slice(replacementRangeEnd,destination.length);const result=`${prefix}${valueToInsert}${suffix}`;return result}const timelion_expression_input_Parser=peg_default.a.generate(chain);function timelionExpInput(deps){return($http,$timeout)=>({restrict:"E",scope:{rows:"=",sheet:"=",updateChart:"&",shouldPopoverSuggestions:"@"},replace:true,template:timelion_expression_input,link:function(scope,elem){const argValueSuggestions=deps.plugins.visTypeTimelion.getArgValueSuggestions();const expressionInput=elem.find("[data-expression-input]");const functionReference={};let suggestibleFunctionLocation={};scope.suggestions=new Suggestions;function init(){$http.get("../api/timelion/functions").then((function(resp){Object.assign(functionReference,{byName:external_kbnSharedDeps_Lodash_default.a.keyBy(resp.data,"name"),list:resp.data})}))}function setCaretOffset(caretOffset){$timeout(()=>{expressionInput.focus();expressionInput[0].selectionStart=expressionInput[0].selectionEnd=caretOffset;scope.$apply()},0)}function insertSuggestionIntoExpression(suggestionIndex){if(scope.suggestions.isEmpty()){return}const{min:min,max:max}=suggestibleFunctionLocation;let insertedValue;let insertPositionMinOffset=0;switch(scope.suggestions.type){case SUGGESTION_TYPE.FUNCTIONS:{insertedValue=`${scope.suggestions.list[suggestionIndex].name}()`;insertPositionMinOffset=1;break}case SUGGESTION_TYPE.ARGUMENTS:{insertedValue=`${scope.suggestions.list[suggestionIndex].name}=`;break}case SUGGESTION_TYPE.ARGUMENT_VALUE:{insertedValue=`${scope.suggestions.list[suggestionIndex].name}`;break}}const updatedExpression=insertAtLocation(insertedValue,scope.sheet,min+insertPositionMinOffset,max);scope.sheet=updatedExpression;const newCaretOffset=min+insertedValue.length;setCaretOffset(newCaretOffset)}function scrollToSuggestionAt(index){const suggestionsList=external_kbnSharedDeps_Jquery_default()("[data-suggestions-list]");const suggestionListItem=external_kbnSharedDeps_Jquery_default()("[data-suggestion-list-item]")[index];suggestionsList.scrollTop(suggestionListItem.offsetTop-suggestionsList[0].offsetTop)}function getCursorPosition(){if(expressionInput.length){return expressionInput[0].selectionStart}return null}async function getSuggestions(){const suggestions=await suggest(scope.sheet,functionReference.list,timelion_expression_input_Parser,getCursorPosition(),argValueSuggestions);scope.$apply(()=>{if(suggestions){scope.suggestions.setList(suggestions.list,suggestions.type);scope.suggestions.show();suggestibleFunctionLocation=suggestions.location;$timeout(()=>{const suggestionsList=external_kbnSharedDeps_Jquery_default()("[data-suggestions-list]");suggestionsList.scrollTop(0)},0);return}suggestibleFunctionLocation=undefined;scope.suggestions.reset()})}function isNavigationalKey(keyCode){const keyCodes=external_kbnSharedDeps_Lodash_default.a.values(external_kbnSharedDeps_ElasticEui_["comboBoxKeyCodes"]);return keyCodes.includes(keyCode)}scope.onFocusInput=()=>{$timeout(getSuggestions,0)};scope.onBlurInput=()=>{scope.suggestions.hide()};scope.onKeyDownInput=e=>{if(!isNavigationalKey(e.keyCode)){return}switch(e.keyCode){case external_kbnSharedDeps_ElasticEui_["comboBoxKeyCodes"].UP:if(scope.suggestions.isVisible){e.preventDefault();scope.suggestions.stepForward();scrollToSuggestionAt(scope.suggestions.index)}break;case external_kbnSharedDeps_ElasticEui_["comboBoxKeyCodes"].DOWN:if(scope.suggestions.isVisible){e.preventDefault();scope.suggestions.stepBackward();scrollToSuggestionAt(scope.suggestions.index)}break;case external_kbnSharedDeps_ElasticEui_["comboBoxKeyCodes"].TAB:if(scope.suggestions.isEmpty()||scope.suggestions.index<0){scope.suggestions.hide();return}e.preventDefault();insertSuggestionIntoExpression(scope.suggestions.index);break;case external_kbnSharedDeps_ElasticEui_["comboBoxKeyCodes"].ENTER:if(e.metaKey||e.ctrlKey){e.preventDefault();scope.updateChart()}else if(!scope.suggestions.isEmpty()){e.preventDefault();insertSuggestionIntoExpression(scope.suggestions.index)}break;case external_kbnSharedDeps_ElasticEui_["comboBoxKeyCodes"].ESCAPE:e.preventDefault();scope.suggestions.hide();break}};scope.onKeyUpInput=e=>{if(!isNavigationalKey(e.keyCode)){getSuggestions()}};scope.onClickExpression=()=>{getSuggestions()};scope.onClickSuggestion=index=>{insertSuggestionIntoExpression(index)};scope.getActiveSuggestionId=()=>{if(scope.suggestions.isVisible&&scope.suggestions.index>-1){return`timelionSuggestion${scope.suggestions.index}`}return""};init()}})}var timelion_expression_suggestions='<div\n  id="timelionSuggestionList"\n  class="timSuggestions"\n  role="listbox"\n  ng-class="{ \'timSuggestions-isPopover\': shouldPopover === \'true\' }"\n  data-suggestions-list\n>\n  <div\n    class="timSuggestions__item"\n    id="timelionSuggestion{{$index}}"\n    role="option"\n    tabindex="0"\n    data-suggestion-list-item\n    ng-class="{active: $index === selectedIndex}"\n    ng-repeat="suggestion in suggestions track by suggestion.name"\n    ng-mousedown="onMouseDown($event)"\n    ng-click="onClickSuggestion({ suggestionIndex: $index })"\n    aria-label="{{suggestion.name}}"\n    aria-describedby="timelionSuggestionDescription{{$index}}"\n    data-test-subj="timelionSuggestionListItem"\n  >\n\n    <div ng-switch on="suggestionsType">\n\n      <div ng-switch-when="functions">\n        <h4>\n          <strong>.{{suggestion.name}}()</strong>\n          <small id="timelionSuggestionDescription{{$index}}">\n            <span\n              ng-if="suggestion.chainable"\n              i18n-id="timelion.expressionSuggestions.func.description.chainableText"\n              i18n-default-message="{help} (Chainable)"\n              i18n-values="{ help: suggestion.help }"\n            ></span>\n            <span\n              ng-if="!suggestion.chainable"\n              i18n-id="timelion.expressionSuggestions.func.description.dataSourceText"\n              i18n-default-message="{help} (Data Source)"\n              i18n-values="{ help: suggestion.help }"\n            ></span>\n          </small>\n        </h4>\n\n        <div ng-show="suggestion.args.length > (suggestion.chainable ? 1: 0)">\n          <div ng-show="suggestions.length > 1">\n            <strong\n              i18n-id="timelion.expressionSuggestions.arg.listTitle"\n              i18n-default-message="Arguments:"\n            ></strong>\n            <span ng-repeat="arg in suggestion.args" ng-hide="$index < 1 && suggestion.chainable">\n              <strong>{{arg.name}}</strong>=(<em>{{arg.types.join(\' | \')}}</em>)\n              <em ng-show="!$last">,</em>\n            </span>\n          </div>\n\n          <div class="timSuggestions__details" ng-show="suggestions.length === 1">\n            <table class="table table-striped table-condensed table-bordered">\n            <thead>\n              <th\n                scope="col"\n                i18n-id="timelion.expressionSuggestions.arg.nameTitle"\n                i18n-default-message="Argument Name"\n              ></th>\n              <th\n                scope="col"\n                i18n-id="timelion.expressionSuggestions.arg.typesTitle"\n                i18n-default-message="Accepted Types"\n              ></th>\n              <th\n                scope="col"\n                i18n-id="timelion.expressionSuggestions.arg.infoTitle"\n                i18n-default-message="Information"\n              ></th>\n            </thead>\n            <tr ng-repeat="arg in suggestion.args" ng-hide="$index < 1 && suggestion.chainable">\n              <td>{{arg.name}}</td>\n              <td><em>{{arg.types.join(\', \')}}</em></td>\n              <td>{{arg.help}}</td>\n            </tr>\n            </table>\n          </div>\n        </div>\n      </div>\n\n      <div ng-switch-when="arguments">\n        <h4>\n          <strong>{{suggestion.name}}=</strong>\n          <small id="timelionSuggestionDescription{{$index}}">\n            {{suggestion.help}}\n          </small>\n        </h4>\n        <div>\n          <strong>Accepts:</strong>\n          <em>{{suggestion.types.join(\', \')}}</em>\n        </div>\n      </div>\n\n      <div ng-switch-when="argument_value">\n        <h4>\n          <strong>{{suggestion.name}}</strong>\n          <small id="timelionSuggestionDescription{{$index}}">\n            {{suggestion.help}}\n          </small>\n        </h4>\n      </div>\n\n    </div>\n  </div>\n</div>\n';function TimelionExpressionSuggestions(){return{restrict:"E",scope:{suggestions:"=",suggestionsType:"=",selectedIndex:"=",onClickSuggestion:"&",shouldPopover:"="},replace:true,template:timelion_expression_suggestions,link:function(scope){scope.onMouseDown=e=>e.preventDefault()}}}function _saved_sheet_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function createSavedSheetClass(savedObjects,config){class SavedSheet extends savedObjects.SavedObjectClass{constructor(id){super({type:SavedSheet.type,mapping:SavedSheet.mapping,id:id,defaults:{title:"New TimeLion Sheet",hits:0,description:"",timelion_sheet:[".es(*)"],timelion_interval:"auto",timelion_chart_height:275,timelion_columns:config.get("timelion:default_columns")||2,timelion_rows:config.get("timelion:default_rows")||2,version:1}});this.showInRecentlyAccessed=true;this.getFullPath=()=>`/app/timelion#/${this.id}`}}_saved_sheet_defineProperty(SavedSheet,"type","timelion-sheet");_saved_sheet_defineProperty(SavedSheet,"mapping",{title:"text",hits:"integer",description:"text",timelion_sheet:"text",timelion_interval:"keyword",timelion_other_interval:"keyword",timelion_chart_height:"integer",timelion_columns:"integer",timelion_rows:"integer",version:"integer"});_saved_sheet_defineProperty(SavedSheet,"fieldOrder",["title","description"]);return SavedSheet}function initSavedSheetService(app,deps){const savedObjectsClient=deps.core.savedObjects.client;const SavedSheet=createSavedSheetClass(deps.plugins.savedObjects,deps.core.uiSettings);const savedSheetLoader=new savedObjects_public_["SavedObjectLoader"](SavedSheet,savedObjectsClient);savedSheetLoader.urlFor=id=>`#/${encodeURIComponent(id)}`;savedSheetLoader.loaderProperties={name:"timelion-sheet",noun:"Saved Sheets",nouns:"saved sheets"};app.service("savedSheets",(function(){return savedSheetLoader}));return savedSheetLoader}const STATE_STORAGE_KEY="_a";function initTimelionAppState({stateDefaults:stateDefaults,kbnUrlStateStorage:kbnUrlStateStorage}){const urlState=kbnUrlStateStorage.get(STATE_STORAGE_KEY);const initialState={...stateDefaults,...urlState};kbnUrlStateStorage.set(STATE_STORAGE_KEY,initialState,{replace:true});const stateContainer=Object(kibanaUtils_public_["createStateContainer"])(initialState,{set:state=>(prop,value)=>({...state,[prop]:value}),updateState:state=>newValues=>({...state,...newValues})});const{start:startStateSync,stop:stopStateSync}=Object(kibanaUtils_public_["syncState"])({storageKey:STATE_STORAGE_KEY,stateContainer:{...stateContainer,set:state=>{if(state){stateContainer.set(state)}}},stateStorage:kbnUrlStateStorage});startStateSync();return{stateContainer:stateContainer,stopStateSync:stopStateSync}}var public_1='<timelion-app class="timApp app-container">\n  <span class="timApp__title">\n    <span class="timApp__stats" ng-show="stats">\n      <span\n        i18n-id="timelion.topNavMenu.statsDescription"\n        i18n-default-message="Query Time {queryTime}ms / Processing Time {processingTime}ms"\n        i18n-values="{\n          queryTime: stats.queryTime - stats.invokeTime,\n          processingTime: stats.sheetTime - stats.queryTime,\n        }"></span>\n    </span>\n  </span>\n  \x3c!-- Local nav. --\x3e\n  <timelion-top-nav top-nav-menu="topNavMenu" on-time-update="onTimeUpdate"></timelion-top-nav>\n\n  <div class="timApp__menus">\n    <timelion-deprecation></timelion-deprecation>\n    <timelion-help ng-show="menus.showHelp"></timelion-help>\n    <timelion-save ng-show="menus.showSave"></timelion-save>\n    <timelion-load ng-show="menus.showLoad"></timelion-load>\n    <timelion-options ng-show="menus.showOptions"></timelion-options>\n  </div>\n\n  <div class="timApp__container">\n    <div>\n      \x3c!-- Search. --\x3e\n      <form\n        role="form"\n        ng-submit="updateChart()"\n        class="timApp__form"\n      >\n        <div class="timApp__expression">\n          <timelion-expression-input\n            sheet="expression"\n            rows="1"\n            update-chart="updateChart()"\n            should-popover-suggestions="true"\n          ></timelion-expression-input>\n        </div>\n\n        <div>\n          <timelion-interval\n            model="state.interval"\n            change-interval="changeInterval"\n          ></timelion-interval>\n\n          <button\n            type="submit"\n            aria-label="{{ ::\'timelion.search.submitAriaLabel\' | i18n: { defaultMessage: \'Search\' } }}"\n            class="timApp__button fullWidth"\n          >\n            <icon type="\'play\'"></icon>\n          </button>\n        </div>\n      </form>\n\n      <div>\n        <timelion-fullscreen\n          ng-show="transient.fullscreen"\n          transient="transient"\n          state="state"\n          series="sheet[state.selected]"\n          expression="state.sheet[state.selected]"\n          on-search="search"\n        ></timelion-fullscreen>\n\n        <timelion-cells\n          ng-show="!transient.fullscreen"\n          transient="transient"\n          state="state"\n          sheet="sheet"\n          on-search="search"\n          on-select="setActiveCell"\n          on-remove-sheet="removeSheet"\n        ></timelion-cells>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n';function initTimelionApp(app,deps){app.run(kibanaLegacy_public_["registerListenEventListener"]);const savedSheetLoader=initSavedSheetService(app,deps);app.factory("history",()=>Object(node_modules_history["createHashHistory"])());app.factory("kbnUrlStateStorage",history=>Object(kibanaUtils_public_["createKbnUrlStateStorage"])({history:history,useHash:deps.core.uiSettings.get("state:storeInSessionStorage"),...Object(kibanaUtils_public_["withNotifyOnErrors"])(deps.core.notifications.toasts)}));app.config(kibanaLegacy_public_["watchMultiDecorator"]);app.controller("TimelionVisController",(function($scope){$scope.$on("timelionChartRendered",event=>{event.stopPropagation();$scope.renderComplete()})})).constant("timelionPanels",deps.timelionPanels).directive("chart",Chart).directive("timelionInterval",TimelionInterval).directive("timelionExpressionSuggestions",TimelionExpressionSuggestions).directive("timelionExpressionInput",timelionExpInput(deps));initTimelionHelpDirective(app);initInputFocusDirective(app);initTimelionTabsDirective(app,deps);initTimelionTDeprecationDirective(app,deps);initTimelionTopNavDirective(app,deps);initSavedObjectFinderDirective(app,savedSheetLoader,deps.core.uiSettings);initSavedObjectSaveAsCheckBoxDirective(app);initCellsDirective(app);initFixedElementDirective(app);initFullscreenDirective(app);initTimelionSaveSheetDirective(app);initTimelionLoadSheetDirective(app);initTimelionOptionsSheetDirective(app);const location="Timelion";app.directive("timelionApp",(function(){return{restrict:"E",controllerAs:"timelionApp",controller:timelionController}}));function timelionController($http,$route,$routeParams,$scope,$timeout,history,kbnUrlStateStorage){$scope.page=deps.core.uiSettings.get("timelion:showTutorial",true)?1:0;$scope.setPage=page=>$scope.page=page;const timefilter=deps.plugins.data.query.timefilter.timefilter;timefilter.enableAutoRefreshSelector();timefilter.enableTimeRangeSelector();deps.core.chrome.docTitle.change("Timelion - Kibana");const{stop:stopSyncingQueryServiceStateWithUrl}=Object(data_public_["syncQueryStateWithUrl"])(deps.plugins.data.query,kbnUrlStateStorage);const savedSheet=$route.current.locals.savedSheet;function getStateDefaults(){return{sheet:savedSheet.timelion_sheet,selected:0,columns:savedSheet.timelion_columns,rows:savedSheet.timelion_rows,interval:savedSheet.timelion_interval}}const{stateContainer:stateContainer,stopStateSync:stopStateSync}=initTimelionAppState({stateDefaults:getStateDefaults(),kbnUrlStateStorage:kbnUrlStateStorage});$scope.state=external_kbnSharedDeps_Lodash_default.a.cloneDeep(stateContainer.getState());$scope.expression=external_kbnSharedDeps_Lodash_default.a.clone($scope.state.sheet[$scope.state.selected]);$scope.updatedSheets=[];const savedVisualizations=deps.plugins.visualizations.savedVisualizationsLoader;const timezone=Object(public_["getTimezone"])(deps.core.uiSettings);const defaultExpression=".es(*)";$scope.topNavMenu=getTopNavMenu();$timeout((function(){if(deps.core.uiSettings.get("timelion:showTutorial",true)){$scope.toggleMenu("showHelp")}}),0);$scope.transient={};function getTopNavMenu(){const newSheetAction={id:"new",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.topNavMenu.newSheetButtonLabel",{defaultMessage:"New"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.topNavMenu.newSheetButtonAriaLabel",{defaultMessage:"New Sheet"}),run:function(){history.push("/");$route.reload()},testId:"timelionNewButton"};const addSheetAction={id:"add",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.topNavMenu.addChartButtonLabel",{defaultMessage:"Add"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.topNavMenu.addChartButtonAriaLabel",{defaultMessage:"Add a chart"}),run:function(){$scope.$evalAsync(()=>$scope.newCell())},testId:"timelionAddChartButton"};const saveSheetAction={id:"save",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.topNavMenu.saveSheetButtonLabel",{defaultMessage:"Save"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.topNavMenu.saveSheetButtonAriaLabel",{defaultMessage:"Save Sheet"}),run:()=>{$scope.$evalAsync(()=>$scope.toggleMenu("showSave"))},testId:"timelionSaveButton"};const deleteSheetAction={id:"delete",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.topNavMenu.deleteSheetButtonLabel",{defaultMessage:"Delete"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.topNavMenu.deleteSheetButtonAriaLabel",{defaultMessage:"Delete current sheet"}),disableButton:function(){return!savedSheet.id},run:function(){const title=savedSheet.title;function doDelete(){savedSheet.delete().then(()=>{deps.core.notifications.toasts.addSuccess(external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.topNavMenu.delete.modal.successNotificationText",{defaultMessage:`Deleted '{title}'`,values:{title:title}}));history.push("/")}).catch(error=>Object(kibanaLegacy_public_["addFatalError"])(deps.core.fatalErrors,error,location))}const confirmModalOptions={confirmButtonText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.topNavMenu.delete.modal.confirmButtonLabel",{defaultMessage:"Delete"}),title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.topNavMenu.delete.modalTitle",{defaultMessage:`Delete Timelion sheet '{title}'?`,values:{title:title}})};$scope.$evalAsync(()=>{deps.core.overlays.openConfirm(external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.topNavMenu.delete.modal.warningText",{defaultMessage:`You can't recover deleted sheets.`}),confirmModalOptions).then(isConfirmed=>{if(isConfirmed){doDelete()}})})},testId:"timelionDeleteButton"};const openSheetAction={id:"open",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.topNavMenu.openSheetButtonLabel",{defaultMessage:"Open"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.topNavMenu.openSheetButtonAriaLabel",{defaultMessage:"Open Sheet"}),run:()=>{$scope.$evalAsync(()=>$scope.toggleMenu("showLoad"))},testId:"timelionOpenButton"};const optionsAction={id:"options",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.topNavMenu.optionsButtonLabel",{defaultMessage:"Options"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.topNavMenu.optionsButtonAriaLabel",{defaultMessage:"Options"}),run:()=>{$scope.$evalAsync(()=>$scope.toggleMenu("showOptions"))},testId:"timelionOptionsButton"};const helpAction={id:"help",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.topNavMenu.helpButtonLabel",{defaultMessage:"Help"}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.topNavMenu.helpButtonAriaLabel",{defaultMessage:"Help"}),run:()=>{$scope.$evalAsync(()=>$scope.toggleMenu("showHelp"))},testId:"timelionDocsButton"};if(deps.core.application.capabilities.timelion.save){return[newSheetAction,addSheetAction,saveSheetAction,deleteSheetAction,openSheetAction,optionsAction,helpAction]}return[newSheetAction,addSheetAction,openSheetAction,optionsAction,helpAction]}let refresher;const setRefreshData=function(){if(refresher)$timeout.cancel(refresher);const interval=timefilter.getRefreshInterval();if(interval.value>0&&!interval.pause){function startRefresh(){refresher=$timeout((function(){if(!$scope.running)$scope.search();startRefresh()}),interval.value)}startRefresh()}};const init=function(){$scope.running=false;$scope.search();setRefreshData();$scope.model={timeRange:timefilter.getTime(),refreshInterval:timefilter.getRefreshInterval()};const unsubscribeStateUpdates=stateContainer.subscribe(state=>{const clonedState=external_kbnSharedDeps_Lodash_default.a.cloneDeep(state);$scope.updatedSheets.forEach(updatedSheet=>{clonedState.sheet[updatedSheet.id]=updatedSheet.expression});$scope.state=clonedState;$scope.opts.state=clonedState;$scope.expression=external_kbnSharedDeps_Lodash_default.a.clone($scope.state.sheet[$scope.state.selected]);$scope.search()});timefilter.getFetch$().subscribe($scope.search);$scope.opts={saveExpression:saveExpression,saveSheet:saveSheet,savedSheet:savedSheet,state:external_kbnSharedDeps_Lodash_default.a.cloneDeep(stateContainer.getState()),search:$scope.search,dontShowHelp:function(){deps.core.uiSettings.set("timelion:showTutorial",false);$scope.setPage(0);$scope.closeMenus()}};$scope.$watch("opts.state.rows",(function(newRow){const state=stateContainer.getState();if(state.rows!==newRow){stateContainer.transitions.set("rows",newRow)}}));$scope.$watch("opts.state.columns",(function(newColumn){const state=stateContainer.getState();if(state.columns!==newColumn){stateContainer.transitions.set("columns",newColumn)}}));$scope.menus={showHelp:false,showSave:false,showLoad:false,showOptions:false};$scope.toggleMenu=menuName=>{const curState=$scope.menus[menuName];$scope.closeMenus();$scope.menus[menuName]=!curState};$scope.closeMenus=()=>{external_kbnSharedDeps_Lodash_default.a.forOwn($scope.menus,(function(value,key){$scope.menus[key]=false}))};$scope.$on("$destroy",()=>{stopSyncingQueryServiceStateWithUrl();unsubscribeStateUpdates();stopStateSync()})};$scope.onTimeUpdate=function({dateRange:dateRange}){$scope.model.timeRange={...dateRange};timefilter.setTime(dateRange);if(!$scope.running)$scope.search()};$scope.onRefreshChange=function({isPaused:isPaused,refreshInterval:refreshInterval}){$scope.model.refreshInterval={pause:isPaused,value:refreshInterval};timefilter.setRefreshInterval({pause:isPaused,value:refreshInterval?refreshInterval:$scope.refreshInterval.value});setRefreshData()};$scope.$watch((function(){return savedSheet.lastSavedTitle}),(function(newTitle){if(savedSheet.id&&newTitle){deps.core.chrome.docTitle.change(newTitle)}}));$scope.$watch("expression",(function(newExpression){const state=stateContainer.getState();if(state.sheet[state.selected]!==newExpression){const updatedSheet=$scope.updatedSheets.find(updatedSheet=>updatedSheet.id===state.selected);if(updatedSheet){updatedSheet.expression=newExpression}else{$scope.updatedSheets.push({id:state.selected,expression:newExpression})}}}));$scope.toggle=function(property){$scope[property]=!$scope[property]};$scope.changeInterval=function(interval){$scope.currentInterval=interval};$scope.updateChart=function(){const state=stateContainer.getState();const newSheet=external_kbnSharedDeps_Lodash_default.a.clone(state.sheet);if($scope.updatedSheets.length){$scope.updatedSheets.forEach(updatedSheet=>{newSheet[updatedSheet.id]=updatedSheet.expression});$scope.updatedSheets=[]}stateContainer.transitions.updateState({interval:$scope.currentInterval?$scope.currentInterval:state.interval,sheet:newSheet})};$scope.newSheet=function(){history.push("/")};$scope.removeSheet=function(removedIndex){const state=stateContainer.getState();const newSheet=state.sheet.filter((el,index)=>index!==removedIndex);$scope.updatedSheets=$scope.updatedSheets.filter(el=>el.id!==removedIndex);stateContainer.transitions.updateState({sheet:newSheet,selected:removedIndex?removedIndex-1:removedIndex})};$scope.newCell=function(){const state=stateContainer.getState();const newSheet=[...state.sheet,defaultExpression];stateContainer.transitions.updateState({sheet:newSheet,selected:newSheet.length-1})};$scope.setActiveCell=function(cell){const state=stateContainer.getState();if(state.selected!==cell){stateContainer.transitions.updateState({sheet:$scope.state.sheet,selected:cell})}};$scope.search=function(){$scope.running=true;const state=stateContainer.getState();const timeRangeBounds=timefilter.getBounds();const httpResult=$http.post("../api/timelion/run",{sheet:state.sheet,time:external_kbnSharedDeps_Lodash_default.a.assignIn({from:timeRangeBounds.min,to:timeRangeBounds.max},{interval:state.interval,timezone:timezone})}).then(resp=>resp.data).catch(resp=>{throw resp.data});httpResult.then((function(resp){$scope.stats=resp.stats;$scope.sheet=resp.sheet;external_kbnSharedDeps_Lodash_default.a.forEach(resp.sheet,(function(cell){if(cell.exception&&cell.plot!==state.selected){stateContainer.transitions.set("selected",cell.plot)}}));$scope.running=false})).catch((function(resp){$scope.sheet=[];$scope.running=false;const err=new Error(resp.message);err.stack=resp.stack;deps.core.notifications.toasts.addError(err,{title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.searchErrorTitle",{defaultMessage:"Timelion request error"})})}))};$scope.safeSearch=external_kbnSharedDeps_Lodash_default.a.debounce($scope.search,500);function saveSheet(){const state=stateContainer.getState();savedSheet.timelion_sheet=state.sheet;savedSheet.timelion_interval=state.interval;savedSheet.timelion_columns=state.columns;savedSheet.timelion_rows=state.rows;savedSheet.save().then((function(id){if(id){deps.core.notifications.toasts.addSuccess({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.saveSheet.successNotificationText",{defaultMessage:`Saved sheet '{title}'`,values:{title:savedSheet.title}}),"data-test-subj":"timelionSaveSuccessToast"});if(savedSheet.id!==$routeParams.id){history.push(`/${savedSheet.id}`)}}}))}async function saveExpression(title){const vis=await deps.plugins.visualizations.createVis("timelion",{title:title,params:{expression:$scope.state.sheet[$scope.state.selected],interval:$scope.state.interval}});const state=deps.plugins.visualizations.convertFromSerializedVis(vis.serialize());const visSavedObject=await savedVisualizations.get();Object.assign(visSavedObject,state);const id=await visSavedObject.save();if(id){deps.core.notifications.toasts.addSuccess(external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.saveExpression.successNotificationText",{defaultMessage:`Saved expression '{title}'`,values:{title:state.title}}))}}init()}app.config((function($routeProvider){$routeProvider.when("/:id?",{template:public_1,reloadOnSearch:false,k7Breadcrumbs:($injector,$route)=>$injector.invoke($route.current.params.id?getSavedSheetBreadcrumbs:getCreateBreadcrumbs),badge:()=>{if(deps.core.application.capabilities.timelion.save){return undefined}return{text:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.badge.readOnly.text",{defaultMessage:"Read only"}),tooltip:external_kbnSharedDeps_KbnI18n_["i18n"].translate("timelion.badge.readOnly.tooltip",{defaultMessage:"Unable to save Timelion sheets"}),iconType:"glasses"}},resolve:{savedSheet:function(savedSheets,$route){return savedSheets.get($route.current.params.id).then(savedSheet=>{if($route.current.params.id){deps.core.chrome.recentlyAccessed.add(savedSheet.getFullPath(),savedSheet.title,savedSheet.id)}return savedSheet}).catch()}}}).otherwise("/")}))}let angularModuleInstance=null;const renderApp=deps=>{if(!angularModuleInstance){angularModuleInstance=createLocalAngularModule(deps);Object(kibanaLegacy_public_["configureAppAngularModule"])(angularModuleInstance,{core:deps.core,env:deps.pluginInitializerContext.env},true);initTimelionApp(angularModuleInstance,deps)}const $injector=mountTimelionApp(deps.mountParams.appBasePath,deps.mountParams.element,deps);return()=>{$injector.get("$rootScope").$destroy()}};function registerPanels(dependencies){const timeChartPanel=getTimeChart(dependencies);dependencies.timelionPanels.set(timeChartPanel.name,timeChartPanel)}const mainTemplate=basePath=>`<div ng-view class="timelionAppContainer">\n  <base href="${basePath}" />\n</div>`;const moduleName="app/timelion";const thirdPartyAngularDependencies=["ngSanitize","ngRoute","react","angular-sortable-view"];function mountTimelionApp(appBasePath,element,deps){const mountpoint=document.createElement("div");mountpoint.setAttribute("class","timelionAppContainer");mountpoint.innerHTML=mainTemplate(appBasePath);const $injector=external_kbnSharedDeps_Angular_default.a.bootstrap(mountpoint,[moduleName]);registerPanels({uiSettings:deps.core.uiSettings,timelionPanels:deps.timelionPanels,data:deps.plugins.data,$rootScope:$injector.get("$rootScope"),$compile:$injector.get("$compile")});element.appendChild(mountpoint);return $injector}function createLocalAngularModule(deps){createLocalI18nModule();createLocalIconModule();const dashboardAngularModule=external_kbnSharedDeps_Angular_default.a.module(moduleName,[...thirdPartyAngularDependencies,"app/timelion/I18n","app/timelion/icon"]);return dashboardAngularModule}function createLocalIconModule(){external_kbnSharedDeps_Angular_default.a.module("app/timelion/icon",["react"]).directive("icon",reactDirective=>reactDirective(external_kbnSharedDeps_ElasticEui_["EuiIcon"]))}function createLocalI18nModule(){external_kbnSharedDeps_Angular_default.a.module("app/timelion/I18n",[]).provider("i18n",external_kbnSharedDeps_KbnI18nAngular_["I18nProvider"]).filter("i18n",external_kbnSharedDeps_KbnI18nAngular_["i18nFilter"]).directive("i18nId",external_kbnSharedDeps_KbnI18nAngular_["i18nDirective"])}}])]);