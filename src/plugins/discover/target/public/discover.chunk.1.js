(window["discover_bundle_jsonpfunction"]=window["discover_bundle_jsonpfunction"]||[]).push([[1],{107:function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(108);case"v7light":return __webpack_require__(110);case"v8dark":return __webpack_require__(112);case"v8light":return __webpack_require__(114)}},108:function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(109);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},109:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,'@media only screen and (max-width: 574px) {\n  .kbnDocViewerTable {\n    table-layout: fixed; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .kbnDocViewerTable {\n    table-layout: fixed; } }\n\n.kbnDocViewer pre,\n.kbnDocViewer .kbnDocViewer__value {\n  display: inline-block;\n  word-break: break-all;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  color: #FFF;\n  vertical-align: top;\n  padding-top: 2px; }\n\n.kbnDocViewer .kbnDocViewer__field {\n  padding-top: 8px; }\n\n.kbnDocViewer .kbnDocViewer__multifield_row:hover td {\n  background-color: transparent; }\n\n.kbnDocViewer .kbnDocViewer__multifield_title {\n  font-family: "Inter UI", -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; }\n\n.kbnDocViewer .dscFieldName {\n  color: #98A2B3; }\n\n.kbnDocViewer td,\n.kbnDocViewer pre {\n  font-family: "Roboto Mono", Consolas, Menlo, Courier, monospace; }\n\n.kbnDocViewer tr:first-child td {\n  border-top-color: transparent; }\n\n.kbnDocViewer tr:hover .kbnDocViewer__actionButton {\n  opacity: 1; }\n\n.kbnDocViewer__buttons,\n.kbnDocViewer__field {\n  white-space: nowrap; }\n\n.kbnDocViewer__buttons {\n  width: 96px; }\n  .kbnDocViewer__buttons:focus-within .kbnDocViewer__actionButton {\n    opacity: 1; }\n\n.kbnDocViewer__field {\n  width: 160px; }\n  @media only screen and (max-width: 574px) {\n    .kbnDocViewer__field {\n      width: 96px; } }\n  @media only screen and (min-width: 575px) and (max-width: 767px) {\n    .kbnDocViewer__field {\n      width: 96px; } }\n\n@media only screen and (min-width: 768px) and (max-width: 991px) {\n  .kbnDocViewer__actionButton {\n    opacity: 0; } }\n\n@media only screen and (min-width: 992px) and (max-width: 1199px) {\n  .kbnDocViewer__actionButton {\n    opacity: 0; } }\n\n@media only screen and (min-width: 1200px) {\n  .kbnDocViewer__actionButton {\n    opacity: 0; } }\n\n.kbnDocViewer__actionButton:focus {\n  opacity: 1; }\n\n.kbnDocViewer__warning {\n  margin-right: 8px; }\n',""]);module.exports=exports},110:function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(111);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},111:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,'@media only screen and (max-width: 574px) {\n  .kbnDocViewerTable {\n    table-layout: fixed; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .kbnDocViewerTable {\n    table-layout: fixed; } }\n\n.kbnDocViewer pre,\n.kbnDocViewer .kbnDocViewer__value {\n  display: inline-block;\n  word-break: break-all;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  color: #000;\n  vertical-align: top;\n  padding-top: 2px; }\n\n.kbnDocViewer .kbnDocViewer__field {\n  padding-top: 8px; }\n\n.kbnDocViewer .kbnDocViewer__multifield_row:hover td {\n  background-color: transparent; }\n\n.kbnDocViewer .kbnDocViewer__multifield_title {\n  font-family: "Inter UI", -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; }\n\n.kbnDocViewer .dscFieldName {\n  color: #69707D; }\n\n.kbnDocViewer td,\n.kbnDocViewer pre {\n  font-family: "Roboto Mono", Consolas, Menlo, Courier, monospace; }\n\n.kbnDocViewer tr:first-child td {\n  border-top-color: transparent; }\n\n.kbnDocViewer tr:hover .kbnDocViewer__actionButton {\n  opacity: 1; }\n\n.kbnDocViewer__buttons,\n.kbnDocViewer__field {\n  white-space: nowrap; }\n\n.kbnDocViewer__buttons {\n  width: 96px; }\n  .kbnDocViewer__buttons:focus-within .kbnDocViewer__actionButton {\n    opacity: 1; }\n\n.kbnDocViewer__field {\n  width: 160px; }\n  @media only screen and (max-width: 574px) {\n    .kbnDocViewer__field {\n      width: 96px; } }\n  @media only screen and (min-width: 575px) and (max-width: 767px) {\n    .kbnDocViewer__field {\n      width: 96px; } }\n\n@media only screen and (min-width: 768px) and (max-width: 991px) {\n  .kbnDocViewer__actionButton {\n    opacity: 0; } }\n\n@media only screen and (min-width: 992px) and (max-width: 1199px) {\n  .kbnDocViewer__actionButton {\n    opacity: 0; } }\n\n@media only screen and (min-width: 1200px) {\n  .kbnDocViewer__actionButton {\n    opacity: 0; } }\n\n.kbnDocViewer__actionButton:focus {\n  opacity: 1; }\n\n.kbnDocViewer__warning {\n  margin-right: 8px; }\n',""]);module.exports=exports},112:function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(113);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},113:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,'@media only screen and (max-width: 574px) {\n  .kbnDocViewerTable {\n    table-layout: fixed; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .kbnDocViewerTable {\n    table-layout: fixed; } }\n\n.kbnDocViewer pre,\n.kbnDocViewer .kbnDocViewer__value {\n  display: inline-block;\n  word-break: break-all;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  color: #FFF;\n  vertical-align: top;\n  padding-top: 2px; }\n\n.kbnDocViewer .kbnDocViewer__field {\n  padding-top: 8px; }\n\n.kbnDocViewer .kbnDocViewer__multifield_row:hover td {\n  background-color: transparent; }\n\n.kbnDocViewer .kbnDocViewer__multifield_title {\n  font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; }\n\n.kbnDocViewer .dscFieldName {\n  color: #98A2B3; }\n\n.kbnDocViewer td,\n.kbnDocViewer pre {\n  font-family: "Roboto Mono", Consolas, Menlo, Courier, monospace; }\n\n.kbnDocViewer tr:first-child td {\n  border-top-color: transparent; }\n\n.kbnDocViewer tr:hover .kbnDocViewer__actionButton {\n  opacity: 1; }\n\n.kbnDocViewer__buttons,\n.kbnDocViewer__field {\n  white-space: nowrap; }\n\n.kbnDocViewer__buttons {\n  width: 96px; }\n  .kbnDocViewer__buttons:focus-within .kbnDocViewer__actionButton {\n    opacity: 1; }\n\n.kbnDocViewer__field {\n  width: 160px; }\n  @media only screen and (max-width: 574px) {\n    .kbnDocViewer__field {\n      width: 96px; } }\n  @media only screen and (min-width: 575px) and (max-width: 767px) {\n    .kbnDocViewer__field {\n      width: 96px; } }\n\n@media only screen and (min-width: 768px) and (max-width: 991px) {\n  .kbnDocViewer__actionButton {\n    opacity: 0; } }\n\n@media only screen and (min-width: 992px) and (max-width: 1199px) {\n  .kbnDocViewer__actionButton {\n    opacity: 0; } }\n\n@media only screen and (min-width: 1200px) {\n  .kbnDocViewer__actionButton {\n    opacity: 0; } }\n\n.kbnDocViewer__actionButton:focus {\n  opacity: 1; }\n\n.kbnDocViewer__warning {\n  margin-right: 8px; }\n',""]);module.exports=exports},114:function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(115);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},115:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,'@media only screen and (max-width: 574px) {\n  .kbnDocViewerTable {\n    table-layout: fixed; } }\n\n@media only screen and (min-width: 575px) and (max-width: 767px) {\n  .kbnDocViewerTable {\n    table-layout: fixed; } }\n\n.kbnDocViewer pre,\n.kbnDocViewer .kbnDocViewer__value {\n  display: inline-block;\n  word-break: break-all;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  color: #000;\n  vertical-align: top;\n  padding-top: 2px; }\n\n.kbnDocViewer .kbnDocViewer__field {\n  padding-top: 8px; }\n\n.kbnDocViewer .kbnDocViewer__multifield_row:hover td {\n  background-color: transparent; }\n\n.kbnDocViewer .kbnDocViewer__multifield_title {\n  font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; }\n\n.kbnDocViewer .dscFieldName {\n  color: #69707D; }\n\n.kbnDocViewer td,\n.kbnDocViewer pre {\n  font-family: "Roboto Mono", Consolas, Menlo, Courier, monospace; }\n\n.kbnDocViewer tr:first-child td {\n  border-top-color: transparent; }\n\n.kbnDocViewer tr:hover .kbnDocViewer__actionButton {\n  opacity: 1; }\n\n.kbnDocViewer__buttons,\n.kbnDocViewer__field {\n  white-space: nowrap; }\n\n.kbnDocViewer__buttons {\n  width: 96px; }\n  .kbnDocViewer__buttons:focus-within .kbnDocViewer__actionButton {\n    opacity: 1; }\n\n.kbnDocViewer__field {\n  width: 160px; }\n  @media only screen and (max-width: 574px) {\n    .kbnDocViewer__field {\n      width: 96px; } }\n  @media only screen and (min-width: 575px) and (max-width: 767px) {\n    .kbnDocViewer__field {\n      width: 96px; } }\n\n@media only screen and (min-width: 768px) and (max-width: 991px) {\n  .kbnDocViewer__actionButton {\n    opacity: 0; } }\n\n@media only screen and (min-width: 992px) and (max-width: 1199px) {\n  .kbnDocViewer__actionButton {\n    opacity: 0; } }\n\n@media only screen and (min-width: 1200px) {\n  .kbnDocViewer__actionButton {\n    opacity: 0; } }\n\n.kbnDocViewer__actionButton:focus {\n  opacity: 1; }\n\n.kbnDocViewer__warning {\n  margin-right: 8px; }\n',""]);module.exports=exports},63:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return MAX_CONTEXT_SIZE}));__webpack_require__.d(__webpack_exports__,"b",(function(){return MIN_CONTEXT_SIZE}));__webpack_require__.d(__webpack_exports__,"c",(function(){return QUERY_PARAMETER_KEYS}));var _state__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(80);const MAX_CONTEXT_SIZE=1e4;const MIN_CONTEXT_SIZE=0;const QUERY_PARAMETER_KEYS=Object.keys(Object(_state__WEBPACK_IMPORTED_MODULE_0__["a"])())},68:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FAILURE_REASONS}));__webpack_require__.d(__webpack_exports__,"b",(function(){return LOADING_STATUS}));const FAILURE_REASONS={UNKNOWN:"unknown",INVALID_TIEBREAKER:"invalid_tiebreaker"};const LOADING_STATUS={FAILED:"failed",LOADED:"loaded",LOADING:"loading",UNINITIALIZED:"uninitialized"}},69:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getRootBreadcrumbs}));__webpack_require__.d(__webpack_exports__,"b",(function(){return getSavedSearchBreadcrumbs}));__webpack_require__.d(__webpack_exports__,"c",(function(){return setBreadcrumbsTitle}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__);function getRootBreadcrumbs(){return[{text:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("discover.rootBreadcrumb",{defaultMessage:"Discover"}),href:"#/"}]}function getSavedSearchBreadcrumbs($route){return[...getRootBreadcrumbs(),{text:$route.current.locals.savedObjects.savedSearch.id}]}function setBreadcrumbsTitle(savedSearch,chrome){const discoverBreadcrumbsTitle=_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("discover.discoverBreadcrumbTitle",{defaultMessage:"Discover"});if(savedSearch.id&&savedSearch.title){chrome.setBreadcrumbs([{text:discoverBreadcrumbsTitle,href:"#/"},{text:savedSearch.title}])}else{chrome.setBreadcrumbs([{text:discoverBreadcrumbsTitle}])}}},80:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return createInitialQueryParametersState}));function createInitialQueryParametersState(defaultStepSize=5,tieBreakerField="_doc"){return{anchorType:null,anchorId:null,columns:[],defaultStepSize:defaultStepSize,filters:[],indexPatternId:null,predecessorCount:0,successorCount:0,sort:[],tieBreakerField:tieBreakerField}}},82:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DocViewer}));var doc_viewer=__webpack_require__(107);var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(2);var kibana_services=__webpack_require__(3);var external_kbnSharedDeps_Lodash_=__webpack_require__(20);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(6);function DocViewRenderTab({render:render,renderProps:renderProps}){const ref=Object(external_kbnSharedDeps_React_["useRef"])(null);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(ref&&ref.current){return render(ref.current,renderProps)}},[render,renderProps]);return external_kbnSharedDeps_React_default.a.createElement("div",{ref:ref})}var doc_viewer_render_error=__webpack_require__(25);var public_=__webpack_require__(13);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class doc_viewer_tab_DocViewerTab extends external_kbnSharedDeps_React_default.a.Component{constructor(...args){super(...args);_defineProperty(this,"state",{hasError:false,error:""})}static getDerivedStateFromError(error){return{hasError:true,error:error}}shouldComponentUpdate(nextProps,nextState){return nextProps.renderProps.hit._id!==this.props.renderProps.hit._id||nextProps.id!==this.props.id||!Object(external_kbnSharedDeps_Lodash_["isEqual"])(nextProps.renderProps.columns,this.props.renderProps.columns)||nextState.hasError}render(){const{component:component,render:render,renderProps:renderProps,title:title}=this.props;const{hasError:hasError,error:error}=this.state;if(hasError&&error){return external_kbnSharedDeps_React_default.a.createElement(doc_viewer_render_error["a"],{error:error})}else if(!render&&!component){return external_kbnSharedDeps_React_default.a.createElement(doc_viewer_render_error["a"],{error:`Invalid plugin ${title}, there is neither a (react) component nor a render function provided`})}if(render){return external_kbnSharedDeps_React_default.a.createElement(DocViewRenderTab,{render:render,renderProps:renderProps})}const Component=component;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["I18nProvider"],null,external_kbnSharedDeps_React_default.a.createElement(public_["KibanaContextProvider"],{services:{uiSettings:Object(kibana_services["h"])().uiSettings}},external_kbnSharedDeps_React_default.a.createElement(Component,renderProps)))}}function DocViewer(renderProps){const docViewsRegistry=Object(kibana_services["b"])();const tabs=docViewsRegistry.getDocViewsSorted(renderProps.hit).map(({title:title,render:render,component:component},idx)=>({id:`kbn_doc_viewer_tab_${idx}`,name:title,content:external_kbnSharedDeps_React_default.a.createElement(doc_viewer_tab_DocViewerTab,{id:idx,title:title,component:component,renderProps:renderProps,render:render})}));if(!tabs.length){return null}return external_kbnSharedDeps_React_default.a.createElement("div",{className:"kbnDocViewer","data-test-subj":"kbnDocViewer"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTabbedContent"],{size:"s",tabs:tabs}))}},83:function(module,exports,__webpack_require__){__webpack_require__(93);module.exports="ngSanitize"},84:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getFirstSortableField}));__webpack_require__.d(__webpack_exports__,"b",(function(){return reverseSortDir}));let SortDirection;(function(SortDirection){SortDirection["asc"]="asc";SortDirection["desc"]="desc"})(SortDirection||(SortDirection={}));const META_FIELD_NAMES=["_seq_no","_doc","_uid"];function getFirstSortableField(indexPattern,fieldNames){const sortableFields=fieldNames.filter(fieldName=>META_FIELD_NAMES.includes(fieldName)||(indexPattern.fields.getByName(fieldName)||{sortable:false}).sortable);return sortableFields[0]}function reverseSortDir(sortDirection){return sortDirection===SortDirection.asc?SortDirection.desc:SortDirection.asc}},86:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return createDocViewerDirective}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _components_doc_viewer_doc_viewer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(82);function createDocViewerDirective(reactDirective){return reactDirective(props=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_doc_viewer_doc_viewer__WEBPACK_IMPORTED_MODULE_1__["a"],props),["hit",["indexPattern",{watchDepth:"reference"}],["filter",{watchDepth:"reference"}],["columns",{watchDepth:"collection"}],["onAddColumn",{watchDepth:"reference"}],["onRemoveColumn",{watchDepth:"reference"}]],{restrict:"E",scope:{hit:"=",indexPattern:"=",filter:"=?",columns:"=?",onAddColumn:"=?",onRemoveColumn:"=?"}})}},87:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return updateSearchSource}));var _angular_doc_table__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(64);var _common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(62);function updateSearchSource({indexPattern:indexPattern,services:services,sort:sort,columns:columns,useNewFieldsApi:useNewFieldsApi,showUnmappedFields:showUnmappedFields,persistentSearchSource:persistentSearchSource,volatileSearchSource:volatileSearchSource}){const{uiSettings:uiSettings,data:data}=services;const usedSort=Object(_angular_doc_table__WEBPACK_IMPORTED_MODULE_0__["c"])(sort,indexPattern,uiSettings.get(_common__WEBPACK_IMPORTED_MODULE_1__["k"]));persistentSearchSource.setField("index",indexPattern).setField("query",data.query.queryString.getQuery()||null).setField("filter",data.query.filterManager.getFilters());if(volatileSearchSource){volatileSearchSource.setField("size",uiSettings.get(_common__WEBPACK_IMPORTED_MODULE_1__["h"])).setField("sort",usedSort).setField("highlightAll",true).setField("version",true).setPreferredSearchStrategyId("default");if(useNewFieldsApi){volatileSearchSource.removeField("fieldsFromSource");const fields={field:"*"};if(showUnmappedFields){fields.include_unmapped="true"}volatileSearchSource.setField("fields",[fields])}else{volatileSearchSource.removeField("fields");const fieldNames=indexPattern.fields.map(field=>field.name);volatileSearchSource.setField("fieldsFromSource",fieldNames)}}}},89:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return QueryActionsProvider}));__webpack_require__.d(__webpack_exports__,"a",(function(){return constants["a"]}));__webpack_require__.d(__webpack_exports__,"b",(function(){return constants["b"]}));__webpack_require__.d(__webpack_exports__,"d",(function(){return createInitialLoadingStatusState}));var external_kbnSharedDeps_Lodash_=__webpack_require__(20);var external_kbnSharedDeps_Lodash_default=__webpack_require__.n(external_kbnSharedDeps_Lodash_);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(1);var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var kibana_services=__webpack_require__(3);function fetchAnchorProvider(indexPatterns,searchSource,useNewFieldsApi=false){return async function fetchAnchor(indexPatternId,anchorId,sort){const indexPattern=await indexPatterns.get(indexPatternId);searchSource.setParent(undefined).setField("index",indexPattern).setField("version",true).setField("size",1).setField("query",{query:{constant_score:{filter:{ids:{values:[anchorId]}}}},language:"lucene"}).setField("sort",sort);if(useNewFieldsApi){searchSource.removeField("fieldsFromSource");searchSource.setField("fields",[{field:"*",include_unmapped:"true"}])}const response=await searchSource.fetch();if(external_kbnSharedDeps_Lodash_default.a.get(response,["hits","total"],0)<1){throw new Error(external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.context.failedToLoadAnchorDocumentErrorDescription",{defaultMessage:"Failed to load anchor document."}))}return{...external_kbnSharedDeps_Lodash_default.a.get(response,["hits","hits",0]),$$_isAnchor:true}}}var sorting=__webpack_require__(84);var external_kbnSharedDeps_Moment_=__webpack_require__(49);var external_kbnSharedDeps_Moment_default=__webpack_require__.n(external_kbnSharedDeps_Moment_);function extractNanos(timeFieldValue=""){const fieldParts=timeFieldValue.split(".");const fractionSeconds=fieldParts.length===2?fieldParts[1].replace("Z",""):"";return fractionSeconds.length!==9?fractionSeconds.padEnd(9,"0"):fractionSeconds}function convertIsoToMillis(isoValue){const date=new Date(isoValue);return date.getTime()}function convertTimeValueToIso(timeValueMillis,nanosValue){if(!timeValueMillis){return null}const isoString=external_kbnSharedDeps_Moment_default()(timeValueMillis).toISOString();if(!isoString){return null}else if(nanosValue!==""){return`${isoString.substring(0,isoString.length-4)}${nanosValue}Z`}return isoString}var public_=__webpack_require__(4);async function fetchHitsInInterval(searchSource,timeField,sort,sortDir,interval,searchAfter,maxCount,nanosValue,anchorId){var _response$hits;const range={format:"strict_date_optional_time"};const[start,stop]=interval;if(start){range[sortDir===public_["SortDirection"].asc?"gte":"lte"]=convertTimeValueToIso(start,nanosValue)}if(stop){range[sortDir===public_["SortDirection"].asc?"lte":"gte"]=convertTimeValueToIso(stop,nanosValue)}const response=await searchSource.setField("size",maxCount).setField("query",{query:{bool:{must:{constant_score:{filter:{range:{[timeField]:range}}}},must_not:{ids:{values:[anchorId]}}}},language:"lucene"}).setField("searchAfter",searchAfter).setField("sort",sort).setField("version",true).fetch();return((_response$hits=response.hits)===null||_response$hits===void 0?void 0:_response$hits.hits)||[]}function*asPairs(iterable){let currentPair=[];for(const value of iterable){currentPair=[...currentPair,value].slice(-2);if(currentPair.length===2){yield currentPair}}}function generateIntervals(offsets,startTime,type,sort){const offsetSign=sort===public_["SortDirection"].asc&&type==="successors"||sort===public_["SortDirection"].desc&&type==="predecessors"?1:-1;return asPairs([...offsets.map(offset=>startTime+offset*offsetSign),null])}function getEsQuerySearchAfter(type,documents,timeFieldName,anchor,nanoSeconds,useNewFieldsApi){if(documents.length){const afterTimeRecIdx=type==="successors"&&documents.length?documents.length-1:0;const afterTimeDoc=documents[afterTimeRecIdx];let afterTimeValue=afterTimeDoc.sort[0];if(nanoSeconds){afterTimeValue=useNewFieldsApi?afterTimeDoc.fields[timeFieldName][0]:afterTimeDoc._source[timeFieldName]}return[afterTimeValue,afterTimeDoc.sort[1]]}const searchAfter=new Array(2);searchAfter[0]=anchor.sort[0];if(nanoSeconds){searchAfter[0]=useNewFieldsApi?anchor.fields[timeFieldName][0]:anchor._source[timeFieldName]}searchAfter[1]=anchor.sort[1];return searchAfter}function getEsQuerySort(timeField,tieBreakerField,sortDir){return[{[timeField]:sortDir},{[tieBreakerField]:sortDir}]}const DAY_MILLIS=24*60*60*1e3;const LOOKUP_OFFSETS=[0,1,7,30,365,1e4].map(days=>days*DAY_MILLIS);function fetchContextProvider(indexPatterns,useNewFieldsApi){return{fetchSurroundingDocs:fetchSurroundingDocs};async function fetchSurroundingDocs(type,indexPatternId,anchor,timeField,tieBreakerField,sortDir,size,filters){if(typeof anchor!=="object"||anchor===null||!size){return[]}const indexPattern=await indexPatterns.get(indexPatternId);const searchSource=await createSearchSource(indexPattern,filters);const sortDirToApply=type==="successors"?sortDir:Object(sorting["b"])(sortDir);const nanos=indexPattern.isTimeNanosBased()?extractNanos(anchor.fields[timeField][0]):"";const timeValueMillis=nanos!==""?convertIsoToMillis(anchor.fields[timeField][0]):anchor.sort[0];const intervals=generateIntervals(LOOKUP_OFFSETS,timeValueMillis,type,sortDir);let documents=[];for(const interval of intervals){const remainingSize=size-documents.length;if(remainingSize<=0){break}const searchAfter=getEsQuerySearchAfter(type,documents,timeField,anchor,nanos,useNewFieldsApi);const sort=getEsQuerySort(timeField,tieBreakerField,sortDirToApply);const hits=await fetchHitsInInterval(searchSource,timeField,sort,sortDirToApply,interval,searchAfter,remainingSize,nanos,anchor._id);documents=type==="successors"?[...documents,...hits]:[...hits.slice().reverse(),...documents]}return documents}async function createSearchSource(indexPattern,filters){const{data:data}=Object(kibana_services["h"])();const searchSource=await data.search.searchSource.create();if(useNewFieldsApi){searchSource.removeField("fieldsFromSource");searchSource.setField("fields",[{field:"*",include_unmapped:"true"}])}return searchSource.setParent(undefined).setField("index",indexPattern).setField("filter",filters)}}var query_parameters=__webpack_require__(92);var kibanaReact_public_=__webpack_require__(13);var common=__webpack_require__(62);function QueryActionsProvider(Promise){const{filterManager:filterManager,indexPatterns:indexPatterns,data:data,uiSettings:uiSettings}=Object(kibana_services["h"])();const useNewFieldsApi=!uiSettings.get(common["i"]);const fetchAnchor=fetchAnchorProvider(indexPatterns,data.search.searchSource.createEmpty(),useNewFieldsApi);const{fetchSurroundingDocs:fetchSurroundingDocs}=fetchContextProvider(indexPatterns,useNewFieldsApi);const{setPredecessorCount:setPredecessorCount,setQueryParameters:setQueryParameters,setSuccessorCount:setSuccessorCount}=Object(query_parameters["c"])(filterManager,indexPatterns);const setFailedStatus=state=>(subject,details={})=>state.loadingStatus[subject]={status:constants["b"].FAILED,reason:constants["a"].UNKNOWN,...details};const setLoadedStatus=state=>subject=>state.loadingStatus[subject]={status:constants["b"].LOADED};const setLoadingStatus=state=>subject=>state.loadingStatus[subject]={status:constants["b"].LOADING};const fetchAnchorRow=state=>()=>{const{queryParameters:{indexPatternId:indexPatternId,anchorId:anchorId,sort:sort,tieBreakerField:tieBreakerField}}=state;if(!tieBreakerField){return Promise.reject(setFailedStatus(state)("anchor",{reason:constants["a"].INVALID_TIEBREAKER}))}setLoadingStatus(state)("anchor");return Promise.try(()=>fetchAnchor(indexPatternId,anchorId,[external_kbnSharedDeps_Lodash_default.a.fromPairs([sort]),{[tieBreakerField]:sort[1]}])).then(anchorDocument=>{setLoadedStatus(state)("anchor");state.rows.anchor=anchorDocument;return anchorDocument},error=>{setFailedStatus(state)("anchor",{error:error});Object(kibana_services["h"])().toastNotifications.addDanger({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.context.unableToLoadAnchorDocumentDescription",{defaultMessage:"Unable to load the anchor document"}),text:external_kbnSharedDeps_React_default.a.createElement(kibanaReact_public_["MarkdownSimple"],null,error.message)});throw error})};const fetchSurroundingRows=(type,state)=>{const{queryParameters:{indexPatternId:indexPatternId,sort:sort,tieBreakerField:tieBreakerField},rows:{anchor:anchor}}=state;const filters=Object(kibana_services["h"])().filterManager.getFilters();const count=type==="successors"?state.queryParameters.successorCount:state.queryParameters.predecessorCount;if(!tieBreakerField){return Promise.reject(setFailedStatus(state)(type,{reason:constants["a"].INVALID_TIEBREAKER}))}setLoadingStatus(state)(type);const[sortField,sortDir]=sort;return Promise.try(()=>fetchSurroundingDocs(type,indexPatternId,anchor,sortField,tieBreakerField,sortDir,count,filters)).then(documents=>{setLoadedStatus(state)(type);state.rows[type]=documents;return documents},error=>{setFailedStatus(state)(type,{error:error});Object(kibana_services["h"])().toastNotifications.addDanger({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.context.unableToLoadDocumentDescription",{defaultMessage:"Unable to load documents"}),text:external_kbnSharedDeps_React_default.a.createElement(kibanaReact_public_["MarkdownSimple"],null,error.message)});throw error})};const fetchContextRows=state=>()=>Promise.all([fetchSurroundingRows("predecessors",state),fetchSurroundingRows("successors",state)]);const fetchAllRows=state=>()=>Promise.try(fetchAnchorRow(state)).then(fetchContextRows(state));const fetchContextRowsWithNewQueryParameters=state=>queryParameters=>{setQueryParameters(state)(queryParameters);return fetchContextRows(state)()};const fetchAllRowsWithNewQueryParameters=state=>queryParameters=>{setQueryParameters(state)(queryParameters);return fetchAllRows(state)()};const fetchGivenPredecessorRows=state=>count=>{setPredecessorCount(state)(count);return fetchSurroundingRows("predecessors",state)};const fetchGivenSuccessorRows=state=>count=>{setSuccessorCount(state)(count);return fetchSurroundingRows("successors",state)};const setAllRows=state=>(predecessorRows,anchorRow,successorRows)=>state.rows.all=[...predecessorRows||[],...anchorRow?[anchorRow]:[],...successorRows||[]];return{fetchAllRows:fetchAllRows,fetchAllRowsWithNewQueryParameters:fetchAllRowsWithNewQueryParameters,fetchAnchorRow:fetchAnchorRow,fetchContextRows:fetchContextRows,fetchContextRowsWithNewQueryParameters:fetchContextRowsWithNewQueryParameters,fetchGivenPredecessorRows:fetchGivenPredecessorRows,fetchGivenSuccessorRows:fetchGivenSuccessorRows,setAllRows:setAllRows}}var constants=__webpack_require__(68);function createInitialLoadingStatusState(){return{anchor:constants["b"].UNINITIALIZED,predecessors:constants["b"].UNINITIALIZED,successors:constants["b"].UNINITIALIZED}}},90:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return DiscoverUninitialized}));__webpack_require__.d(__webpack_exports__,"a",(function(){return histogram_DiscoverHistogram}));var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(6);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(2);const DiscoverUninitialized=({onRefresh:onRefresh})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["I18nProvider"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiEmptyPrompt"],{iconType:"discoverApp",title:external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.uninitializedTitle",defaultMessage:"Start searching"})),body:external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.uninitializedText",defaultMessage:"Write a query, add some filters, or simply hit Refresh to retrieve results for the current query."})),actions:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{color:"primary",fill:true,onClick:onRefresh},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.uninitializedRefreshButtonText",defaultMessage:"Refresh data"}))}));var external_kbnSharedDeps_MomentTimezone_=__webpack_require__(50);var external_kbnSharedDeps_MomentTimezone_default=__webpack_require__.n(external_kbnSharedDeps_MomentTimezone_);var external_kbnSharedDeps_ElasticCharts_=__webpack_require__(58);var external_kbnSharedDeps_Rxjs_=__webpack_require__(21);var kibana_services=__webpack_require__(3);var public_=__webpack_require__(59);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function getTimezone(uiSettings){if(uiSettings.isDefault("dateFormat:tz")){const detectedTimezone=external_kbnSharedDeps_MomentTimezone_default.a.tz.guess();if(detectedTimezone)return detectedTimezone;else return external_kbnSharedDeps_MomentTimezone_default()().format("Z")}else{return uiSettings.get("dateFormat:tz","Browser")}}class histogram_DiscoverHistogram extends external_kbnSharedDeps_React_["Component"]{constructor(...args){super(...args);_defineProperty(this,"subscription",void 0);_defineProperty(this,"state",{chartsTheme:Object(kibana_services["h"])().theme.chartsDefaultTheme,chartsBaseTheme:Object(kibana_services["h"])().theme.chartsDefaultBaseTheme});_defineProperty(this,"onBrushEnd",({x:x})=>{if(!x){return}const[from,to]=x;this.props.timefilterUpdateHandler({from:from,to:to})});_defineProperty(this,"onElementClick",xInterval=>([elementData])=>{const startRange=elementData[0].x;const range={from:startRange,to:startRange+xInterval};this.props.timefilterUpdateHandler(range)});_defineProperty(this,"formatXValue",val=>{const xAxisFormat=this.props.chartData.xAxisFormat.params.pattern;return external_kbnSharedDeps_MomentTimezone_default()(val).format(xAxisFormat)})}componentDidMount(){this.subscription=Object(external_kbnSharedDeps_Rxjs_["combineLatest"])([Object(kibana_services["h"])().theme.chartsTheme$,Object(kibana_services["h"])().theme.chartsBaseTheme$]).subscribe(([chartsTheme,chartsBaseTheme])=>this.setState({chartsTheme:chartsTheme,chartsBaseTheme:chartsBaseTheme}))}componentWillUnmount(){if(this.subscription){this.subscription.unsubscribe()}}render(){var _data$;const uiSettings=Object(kibana_services["h"])().uiSettings;const timeZone=getTimezone(uiSettings);const{chartData:chartData}=this.props;const{chartsTheme:chartsTheme,chartsBaseTheme:chartsBaseTheme}=this.state;if(!chartData){return null}const data=chartData.values;const isDarkMode=uiSettings.get("theme:darkMode");const{intervalESValue:intervalESValue,intervalESUnit:intervalESUnit,interval:interval}=chartData.ordered;const xInterval=interval.asMilliseconds();const xValues=chartData.xAxisOrderedValues;const lastXValue=xValues[xValues.length-1];const domain=chartData.ordered;const domainStart=domain.min.valueOf();const domainEnd=domain.max.valueOf();const domainMin=Math.min((_data$=data[0])===null||_data$===void 0?void 0:_data$.x,domainStart);const domainMax=Math.max(domainEnd-xInterval,lastXValue);const xDomain={min:domainMin,max:domainMax,minInterval:Object(public_["getAdjustedInterval"])(xValues,intervalESValue,intervalESUnit,timeZone)};const tooltipProps={headerFormatter:Object(public_["renderEndzoneTooltip"])(xInterval,domainStart,domainEnd,this.formatXValue),type:external_kbnSharedDeps_ElasticCharts_["TooltipType"].VerticalCursor};const xAxisFormatter=Object(kibana_services["h"])().data.fieldFormats.deserialize(this.props.chartData.yAxisFormat);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Chart"],{size:"100%"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Settings"],{xDomain:xDomain,onBrushEnd:this.onBrushEnd,onElementClick:this.onElementClick(xInterval),tooltip:tooltipProps,theme:chartsTheme,baseTheme:chartsBaseTheme}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Axis"],{id:"discover-histogram-left-axis",position:external_kbnSharedDeps_ElasticCharts_["Position"].Left,ticks:5,title:chartData.yAxisLabel,integersOnly:true,tickFormat:value=>xAxisFormatter.convert(value)}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["Axis"],{id:"discover-histogram-bottom-axis",position:external_kbnSharedDeps_ElasticCharts_["Position"].Bottom,title:chartData.xAxisLabel,tickFormat:this.formatXValue,ticks:10}),external_kbnSharedDeps_React_default.a.createElement(public_["CurrentTime"],{isDarkMode:isDarkMode,domainEnd:domainEnd}),external_kbnSharedDeps_React_default.a.createElement(public_["Endzones"],{isDarkMode:isDarkMode,domainStart:domainStart,domainEnd:domainEnd,interval:xDomain.minInterval,domainMin:xDomain.min,domainMax:xDomain.max}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticCharts_["HistogramBarSeries"],{id:"discover-histogram",minBarHeight:2,xScaleType:external_kbnSharedDeps_ElasticCharts_["ScaleType"].Time,yScaleType:external_kbnSharedDeps_ElasticCharts_["ScaleType"].Linear,xAccessor:"x",yAccessors:["y"],data:data,timeZone:timeZone,name:chartData.yAxisLabel}))}}},91:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ActionBar}));var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(1);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(6);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(2);function ActionBarWarning({docCount:docCount,type:type}){if(type==="predecessors"){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{color:"warning","data-test-subj":"predecessorsWarningMsg",iconType:"bolt",title:docCount===0?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.context.newerDocumentsWarningZero",defaultMessage:"No documents newer than the anchor could be found."}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.context.newerDocumentsWarning",defaultMessage:"Only {docCount} documents newer than the anchor could be found.",values:{docCount:docCount}}),size:"s"})}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{color:"warning","data-test-subj":"successorsWarningMsg",iconType:"bolt",title:docCount===0?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.context.olderDocumentsWarningZero",defaultMessage:"No documents older than the anchor could be found."}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.context.olderDocumentsWarning",defaultMessage:"Only {docCount} documents older than the anchor could be found.",values:{docCount:docCount}}),size:"s"})}var constants=__webpack_require__(63);function ActionBar({defaultStepSize:defaultStepSize,docCount:docCount,docCountAvailable:docCountAvailable,isDisabled:isDisabled,isLoading:isLoading,onChangeCount:onChangeCount,type:type}){const showWarning=!isDisabled&&!isLoading&&docCountAvailable<docCount;const isSuccessor=type==="successors";const[newDocCount,setNewDocCount]=Object(external_kbnSharedDeps_React_["useState"])(docCount);const isValid=value=>value>=constants["b"]&&value<=constants["a"];const onSubmit=ev=>{ev.preventDefault();if(newDocCount!==docCount&&isValid(newDocCount)){onChangeCount(newDocCount)}};Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(newDocCount!==docCount&&newDocCount===0){setNewDocCount(docCount)}},[docCount,newDocCount]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["I18nProvider"],null,external_kbnSharedDeps_React_default.a.createElement("form",{onSubmit:onSubmit},isSuccessor&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),isSuccessor&&showWarning&&external_kbnSharedDeps_React_default.a.createElement(ActionBarWarning,{docCount:docCountAvailable,type:type}),isSuccessor&&showWarning&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{direction:"row",gutterSize:"s",responsive:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{"data-test-subj":`${type}LoadMoreButton`,iconType:isSuccessor?"arrowDown":"arrowUp",isDisabled:isDisabled,isLoading:isLoading,onClick:()=>{const value=newDocCount+defaultStepSize;if(isValid(value)){setNewDocCount(value);onChangeCount(value)}},flush:"right"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.context.loadButtonLabel",defaultMessage:"Load"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{display:"center"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldNumber"],{"aria-label":isSuccessor?external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.context.olderDocumentsAriaLabel",{defaultMessage:"Number of older documents"}):external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.context.newerDocumentsAriaLabel",{defaultMessage:"Number of newer documents"}),compressed:true,className:"cxtSizePicker","data-test-subj":`${type}CountPicker`,disabled:isDisabled,min:constants["b"],max:constants["a"],onChange:ev=>{setNewDocCount(ev.target.valueAsNumber)},onBlur:()=>{if(newDocCount!==docCount&&isValid(newDocCount)){onChangeCount(newDocCount)}},type:"number",value:newDocCount>=0?newDocCount:""}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{display:"center"},isSuccessor?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.context.olderDocumentsDescription",defaultMessage:"older documents"}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.context.newerDocumentsDescription",defaultMessage:"newer documents"})))),!isSuccessor&&showWarning&&external_kbnSharedDeps_React_default.a.createElement(ActionBarWarning,{docCount:docCountAvailable,type:type}),!isSuccessor&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"})))}},92:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return getQueryParameterActions}));__webpack_require__.d(__webpack_exports__,"a",(function(){return constants["c"]}));__webpack_require__.d(__webpack_exports__,"b",(function(){return query_parameters_state["a"]}));var external_kbnSharedDeps_Lodash_=__webpack_require__(20);var external_kbnSharedDeps_Lodash_default=__webpack_require__.n(external_kbnSharedDeps_Lodash_);var public_=__webpack_require__(4);var popularize_field=__webpack_require__(67);var constants=__webpack_require__(63);function getQueryParameterActions(filterManager,indexPatterns){const setPredecessorCount=state=>predecessorCount=>state.queryParameters.predecessorCount=clamp(constants["b"],constants["a"],predecessorCount);const setSuccessorCount=state=>successorCount=>state.queryParameters.successorCount=clamp(constants["b"],constants["a"],successorCount);const setQueryParameters=state=>queryParameters=>Object.assign(state.queryParameters,external_kbnSharedDeps_Lodash_default.a.pick(queryParameters,constants["c"]));const updateFilters=()=>filters=>{filterManager.setFilters(filters)};const addFilter=state=>async(field,values,operation)=>{const indexPatternId=state.queryParameters.indexPatternId;const newFilters=public_["esFilters"].generateFilters(filterManager,field,values,operation,indexPatternId);filterManager.addFilters(newFilters);if(indexPatterns){const indexPattern=await indexPatterns.get(indexPatternId);await Object(popularize_field["a"])(indexPattern,field.name,indexPatterns)}};return{addFilter:addFilter,updateFilters:updateFilters,setPredecessorCount:setPredecessorCount,setQueryParameters:setQueryParameters,setSuccessorCount:setSuccessorCount}}function clamp(minimum,maximum,value){return Math.max(Math.min(maximum,value),minimum)}var query_parameters_state=__webpack_require__(80)},93:function(module,exports){
/**
 * @license AngularJS v1.8.0
 * (c) 2010-2020 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(window,angular){"use strict";var $sanitizeMinErr=angular.$$minErr("$sanitize");var bind;var extend;var forEach;var isArray;var isDefined;var lowercase;var noop;var nodeContains;var htmlParser;var htmlSanitizeWriter;function $SanitizeProvider(){var hasBeenInstantiated=false;var svgEnabled=false;this.$get=["$$sanitizeUri",function($$sanitizeUri){hasBeenInstantiated=true;if(svgEnabled){extend(validElements,svgElements)}return function(html){var buf=[];htmlParser(html,htmlSanitizeWriter(buf,(function(uri,isImage){return!/^unsafe:/.test($$sanitizeUri(uri,isImage))})));return buf.join("")}}];this.enableSvg=function(enableSvg){if(isDefined(enableSvg)){svgEnabled=enableSvg;return this}else{return svgEnabled}};this.addValidElements=function(elements){if(!hasBeenInstantiated){if(isArray(elements)){elements={htmlElements:elements}}addElementsTo(svgElements,elements.svgElements);addElementsTo(voidElements,elements.htmlVoidElements);addElementsTo(validElements,elements.htmlVoidElements);addElementsTo(validElements,elements.htmlElements)}return this};this.addValidAttrs=function(attrs){if(!hasBeenInstantiated){extend(validAttrs,arrayToMap(attrs,true))}return this};bind=angular.bind;extend=angular.extend;forEach=angular.forEach;isArray=angular.isArray;isDefined=angular.isDefined;lowercase=angular.$$lowercase;noop=angular.noop;htmlParser=htmlParserImpl;htmlSanitizeWriter=htmlSanitizeWriterImpl;nodeContains=window.Node.prototype.contains||function(arg){return!!(this.compareDocumentPosition(arg)&16)};var SURROGATE_PAIR_REGEXP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NON_ALPHANUMERIC_REGEXP=/([^#-~ |!])/g;var voidElements=stringToMap("area,br,col,hr,img,wbr");var optionalEndTagBlockElements=stringToMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),optionalEndTagInlineElements=stringToMap("rp,rt"),optionalEndTagElements=extend({},optionalEndTagInlineElements,optionalEndTagBlockElements);var blockElements=extend({},optionalEndTagBlockElements,stringToMap("address,article,"+"aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,"+"h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul"));var inlineElements=extend({},optionalEndTagInlineElements,stringToMap("a,abbr,acronym,b,"+"bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,"+"samp,small,span,strike,strong,sub,sup,time,tt,u,var"));var svgElements=stringToMap("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,"+"hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,"+"radialGradient,rect,stop,svg,switch,text,title,tspan");var blockedElements=stringToMap("script,style");var validElements=extend({},voidElements,blockElements,inlineElements,optionalEndTagElements);var uriAttrs=stringToMap("background,cite,href,longdesc,src,xlink:href,xml:base");var htmlAttrs=stringToMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,"+"color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,"+"ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,"+"scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,"+"valign,value,vspace,width");var svgAttrs=stringToMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,"+"baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,"+"cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,"+"font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,"+"height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,"+"marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,"+"max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,"+"path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,"+"requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,"+"stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,"+"stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,"+"stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,"+"underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,"+"width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,"+"xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",true);var validAttrs=extend({},uriAttrs,svgAttrs,htmlAttrs);function stringToMap(str,lowercaseKeys){return arrayToMap(str.split(","),lowercaseKeys)}function arrayToMap(items,lowercaseKeys){var obj={},i;for(i=0;i<items.length;i++){obj[lowercaseKeys?lowercase(items[i]):items[i]]=true}return obj}function addElementsTo(elementsMap,newElements){if(newElements&&newElements.length){extend(elementsMap,arrayToMap(newElements))}}var getInertBodyElement=function(window,document){var inertDocument;if(document&&document.implementation){inertDocument=document.implementation.createHTMLDocument("inert")}else{throw $sanitizeMinErr("noinert","Can't create an inert html document")}var inertBodyElement=(inertDocument.documentElement||inertDocument.getDocumentElement()).querySelector("body");inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>';if(!inertBodyElement.querySelector("svg")){return getInertBodyElement_XHR}else{inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">';if(inertBodyElement.querySelector("svg img")){return getInertBodyElement_DOMParser}else{return getInertBodyElement_InertDocument}}function getInertBodyElement_XHR(html){html="<remove></remove>"+html;try{html=encodeURI(html)}catch(e){return undefined}var xhr=new window.XMLHttpRequest;xhr.responseType="document";xhr.open("GET","data:text/html;charset=utf-8,"+html,false);xhr.send(null);var body=xhr.response.body;body.firstChild.remove();return body}function getInertBodyElement_DOMParser(html){html="<remove></remove>"+html;try{var body=(new window.DOMParser).parseFromString(html,"text/html").body;body.firstChild.remove();return body}catch(e){return undefined}}function getInertBodyElement_InertDocument(html){inertBodyElement.innerHTML=html;if(document.documentMode){stripCustomNsAttrs(inertBodyElement)}return inertBodyElement}}(window,window.document);function htmlParserImpl(html,handler){if(html===null||html===undefined){html=""}else if(typeof html!=="string"){html=""+html}var inertBodyElement=getInertBodyElement(html);if(!inertBodyElement)return"";var mXSSAttempts=5;do{if(mXSSAttempts===0){throw $sanitizeMinErr("uinput","Failed to sanitize html because the input is unstable")}mXSSAttempts--;html=inertBodyElement.innerHTML;inertBodyElement=getInertBodyElement(html)}while(html!==inertBodyElement.innerHTML);var node=inertBodyElement.firstChild;while(node){switch(node.nodeType){case 1:handler.start(node.nodeName.toLowerCase(),attrToMap(node.attributes));break;case 3:handler.chars(node.textContent);break}var nextNode;if(!(nextNode=node.firstChild)){if(node.nodeType===1){handler.end(node.nodeName.toLowerCase())}nextNode=getNonDescendant("nextSibling",node);if(!nextNode){while(nextNode==null){node=getNonDescendant("parentNode",node);if(node===inertBodyElement)break;nextNode=getNonDescendant("nextSibling",node);if(node.nodeType===1){handler.end(node.nodeName.toLowerCase())}}}}node=nextNode}while(node=inertBodyElement.firstChild){inertBodyElement.removeChild(node)}}function attrToMap(attrs){var map={};for(var i=0,ii=attrs.length;i<ii;i++){var attr=attrs[i];map[attr.name]=attr.value}return map}function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(SURROGATE_PAIR_REGEXP,(function(value){var hi=value.charCodeAt(0);var low=value.charCodeAt(1);return"&#"+((hi-55296)*1024+(low-56320)+65536)+";"})).replace(NON_ALPHANUMERIC_REGEXP,(function(value){return"&#"+value.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlSanitizeWriterImpl(buf,uriValidator){var ignoreCurrentElement=false;var out=bind(buf,buf.push);return{start:function(tag,attrs){tag=lowercase(tag);if(!ignoreCurrentElement&&blockedElements[tag]){ignoreCurrentElement=tag}if(!ignoreCurrentElement&&validElements[tag]===true){out("<");out(tag);forEach(attrs,(function(value,key){var lkey=lowercase(key);var isImage=tag==="img"&&lkey==="src"||lkey==="background";if(validAttrs[lkey]===true&&(uriAttrs[lkey]!==true||uriValidator(value,isImage))){out(" ");out(key);out('="');out(encodeEntities(value));out('"')}}));out(">")}},end:function(tag){tag=lowercase(tag);if(!ignoreCurrentElement&&validElements[tag]===true&&voidElements[tag]!==true){out("</");out(tag);out(">")}if(tag==ignoreCurrentElement){ignoreCurrentElement=false}},chars:function(chars){if(!ignoreCurrentElement){out(encodeEntities(chars))}}}}function stripCustomNsAttrs(node){while(node){if(node.nodeType===window.Node.ELEMENT_NODE){var attrs=node.attributes;for(var i=0,l=attrs.length;i<l;i++){var attrNode=attrs[i];var attrName=attrNode.name.toLowerCase();if(attrName==="xmlns:ns1"||attrName.lastIndexOf("ns1:",0)===0){node.removeAttributeNode(attrNode);i--;l--}}}var nextNode=node.firstChild;if(nextNode){stripCustomNsAttrs(nextNode)}node=getNonDescendant("nextSibling",node)}}function getNonDescendant(propName,node){var nextNode=node[propName];if(nextNode&&nodeContains.call(node,nextNode)){throw $sanitizeMinErr("elclob","Failed to sanitize html because the element is clobbered: {0}",node.outerHTML||node.outerText)}return nextNode}}function sanitizeText(chars){var buf=[];var writer=htmlSanitizeWriter(buf,noop);writer.chars(chars);return buf.join("")}angular.module("ngSanitize",[]).provider("$sanitize",$SanitizeProvider).info({angularVersion:"1.8.0"});angular.module("ngSanitize").filter("linky",["$sanitize",function($sanitize){var LINKY_URL_REGEXP=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,MAILTO_REGEXP=/^mailto:/i;var linkyMinErr=angular.$$minErr("linky");var isDefined=angular.isDefined;var isFunction=angular.isFunction;var isObject=angular.isObject;var isString=angular.isString;return function(text,target,attributes){if(text==null||text==="")return text;if(!isString(text))throw linkyMinErr("notstring","Expected string but received: {0}",text);var attributesFn=isFunction(attributes)?attributes:isObject(attributes)?function getAttributesObject(){return attributes}:function getEmptyAttributesObject(){return{}};var match;var raw=text;var html=[];var url;var i;while(match=raw.match(LINKY_URL_REGEXP)){url=match[0];if(!match[2]&&!match[4]){url=(match[3]?"http://":"mailto:")+url}i=match.index;addText(raw.substr(0,i));addLink(url,match[0].replace(MAILTO_REGEXP,""));raw=raw.substring(i+match[0].length)}addText(raw);return $sanitize(html.join(""));function addText(text){if(!text){return}html.push(sanitizeText(text))}function addLink(url,text){var key,linkAttributes=attributesFn(url);html.push("<a ");for(key in linkAttributes){html.push(key+'="'+linkAttributes[key]+'" ')}if(isDefined(target)&&!("target"in linkAttributes)){html.push('target="',target,'" ')}html.push('href="',url.replace(/"/g,"&quot;"),'">');addText(text);html.push("</a>")}}}])})(window,window.angular)}}]);