(function(modules){function webpackJsonpCallback(data){var chunkIds=data[0];var moreModules=data[1];var moduleId,chunkId,i=0,resolves=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]){resolves.push(installedChunks[chunkId][0])}installedChunks[chunkId]=0}for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){modules[moduleId]=moreModules[moduleId]}}if(parentJsonpFunction)parentJsonpFunction(data);while(resolves.length){resolves.shift()()}}var installedModules={};var installedChunks={3:0};function jsonpScriptSrc(chunkId){return __webpack_require__.p+"discover.chunk."+chunkId+".js"}function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.e=function requireEnsure(chunkId){var promises=[];var installedChunkData=installedChunks[chunkId];if(installedChunkData!==0){if(installedChunkData){promises.push(installedChunkData[2])}else{var promise=new Promise((function(resolve,reject){installedChunkData=installedChunks[chunkId]=[resolve,reject]}));promises.push(installedChunkData[2]=promise);var script=document.createElement("script");var onScriptComplete;script.charset="utf-8";script.timeout=120;if(__webpack_require__.nc){script.setAttribute("nonce",__webpack_require__.nc)}script.src=jsonpScriptSrc(chunkId);var error=new Error;onScriptComplete=function(event){script.onerror=script.onload=null;clearTimeout(timeout);var chunk=installedChunks[chunkId];if(chunk!==0){if(chunk){var errorType=event&&(event.type==="load"?"missing":event.type);var realSrc=event&&event.target&&event.target.src;error.message="Loading chunk "+chunkId+" failed.\n("+errorType+": "+realSrc+")";error.name="ChunkLoadError";error.type=errorType;error.request=realSrc;chunk[1](error)}installedChunks[chunkId]=undefined}};var timeout=setTimeout((function(){onScriptComplete({type:"timeout",target:script})}),12e4);script.onerror=script.onload=onScriptComplete;document.head.appendChild(script)}}return Promise.all(promises)};__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";__webpack_require__.oe=function(err){console.error(err);throw err};var jsonpArray=window["discover_bundle_jsonpfunction"]=window["discover_bundle_jsonpfunction"]||[];var oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback;jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;return __webpack_require__(__webpack_require__.s=32)})([function(module,exports){module.exports=__kbnSharedDeps__.React},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18n},function(module,exports){module.exports=__kbnSharedDeps__.ElasticEui},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"l",(function(){return setAngularModule}));__webpack_require__.d(__webpack_exports__,"a",(function(){return getAngularModule}));__webpack_require__.d(__webpack_exports__,"h",(function(){return getServices}));__webpack_require__.d(__webpack_exports__,"p",(function(){return setServices}));__webpack_require__.d(__webpack_exports__,"q",(function(){return setUiActions}));__webpack_require__.d(__webpack_exports__,"i",(function(){return getUiActions}));__webpack_require__.d(__webpack_exports__,"c",(function(){return getHeaderActionMenuMounter}));__webpack_require__.d(__webpack_exports__,"n",(function(){return setHeaderActionMenuMounter}));__webpack_require__.d(__webpack_exports__,"j",(function(){return getUrlTracker}));__webpack_require__.d(__webpack_exports__,"r",(function(){return setUrlTracker}));__webpack_require__.d(__webpack_exports__,"b",(function(){return getDocViewsRegistry}));__webpack_require__.d(__webpack_exports__,"m",(function(){return setDocViewsRegistry}));__webpack_require__.d(__webpack_exports__,"d",(function(){return getHistory}));__webpack_require__.d(__webpack_exports__,"t",(function(){return syncHistoryLocations}));__webpack_require__.d(__webpack_exports__,"g",(function(){return getScopedHistory}));__webpack_require__.d(__webpack_exports__,"o",(function(){return setScopedHistory}));__webpack_require__.d(__webpack_exports__,"e",(function(){return getRequestInspectorStats}));__webpack_require__.d(__webpack_exports__,"f",(function(){return getResponseInspectorStats}));__webpack_require__.d(__webpack_exports__,"u",(function(){return tabifyAggResponse}));var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(20);var lodash__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);var history__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(19);var history__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(history__WEBPACK_IMPORTED_MODULE_1__);var _kibana_utils_public__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5);var _kibana_utils_public__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_kibana_utils_public__WEBPACK_IMPORTED_MODULE_2__);var _data_public__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4);var _data_public__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_data_public__WEBPACK_IMPORTED_MODULE_3__);__webpack_require__.d(__webpack_exports__,"k",(function(){return _kibana_utils_public__WEBPACK_IMPORTED_MODULE_2__["redirectWhenMissing"]}));var _kibana_legacy_public__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(12);var _kibana_legacy_public__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_kibana_legacy_public__WEBPACK_IMPORTED_MODULE_4__);__webpack_require__.d(__webpack_exports__,"s",(function(){return _kibana_legacy_public__WEBPACK_IMPORTED_MODULE_4__["subscribeWithScope"]}));let angularModule=null;let services=null;let uiActions;function setAngularModule(module){angularModule=module}function getAngularModule(){return angularModule}function getServices(){if(!services){throw new Error("Discover services are not yet available")}return services}function setServices(newServices){services=newServices}const setUiActions=pluginUiActions=>uiActions=pluginUiActions;const getUiActions=()=>uiActions;const[getHeaderActionMenuMounter,setHeaderActionMenuMounter]=Object(_kibana_utils_public__WEBPACK_IMPORTED_MODULE_2__["createGetterSetter"])("headerActionMenuMounter");const[getUrlTracker,setUrlTracker]=Object(_kibana_utils_public__WEBPACK_IMPORTED_MODULE_2__["createGetterSetter"])("urlTracker");const[getDocViewsRegistry,setDocViewsRegistry]=Object(_kibana_utils_public__WEBPACK_IMPORTED_MODULE_2__["createGetterSetter"])("DocViewsRegistry");const getHistory=lodash__WEBPACK_IMPORTED_MODULE_0___default.a.once(()=>{const history=Object(history__WEBPACK_IMPORTED_MODULE_1__["createHashHistory"])();history.listen(()=>{});return history});const syncHistoryLocations=()=>{const h=getHistory();Object.assign(h.location,Object(history__WEBPACK_IMPORTED_MODULE_1__["createHashHistory"])().location);return h};const[getScopedHistory,setScopedHistory]=Object(_kibana_utils_public__WEBPACK_IMPORTED_MODULE_2__["createGetterSetter"])("scopedHistory");const{getRequestInspectorStats:getRequestInspectorStats,getResponseInspectorStats:getResponseInspectorStats,tabifyAggResponse:tabifyAggResponse}=_data_public__WEBPACK_IMPORTED_MODULE_3__["search"]},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/data/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nReact},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DISCOVER_APP_URL_GENERATOR}));__webpack_require__.d(__webpack_exports__,"d",(function(){return SEARCH_SESSION_ID_QUERY_PARAM}));__webpack_require__.d(__webpack_exports__,"b",(function(){return DiscoverUrlGenerator}));var _data_public__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4);var _data_public__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_data_public__WEBPACK_IMPORTED_MODULE_0__);var _kibana_utils_public__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5);var _kibana_utils_public__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_kibana_utils_public__WEBPACK_IMPORTED_MODULE_1__);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const DISCOVER_APP_URL_GENERATOR="DISCOVER_APP_URL_GENERATOR";const SEARCH_SESSION_ID_QUERY_PARAM="searchSessionId";class DiscoverUrlGenerator{constructor(params){this.params=params;_defineProperty(this,"id",DISCOVER_APP_URL_GENERATOR);_defineProperty(this,"createUrl",async({useHash:useHash=this.params.useHash,filters:filters,indexPatternId:indexPatternId,query:query,refreshInterval:refreshInterval,savedSearchId:savedSearchId,timeRange:timeRange,searchSessionId:searchSessionId,columns:columns,savedQuery:savedQuery,sort:sort,interval:interval})=>{const savedSearchPath=savedSearchId?`view/${encodeURIComponent(savedSearchId)}`:"";const appState={};const queryState={};if(query)appState.query=query;if(filters&&filters.length)appState.filters=filters===null||filters===void 0?void 0:filters.filter(f=>!_data_public__WEBPACK_IMPORTED_MODULE_0__["esFilters"].isFilterPinned(f));if(indexPatternId)appState.index=indexPatternId;if(columns)appState.columns=columns;if(savedQuery)appState.savedQuery=savedQuery;if(sort)appState.sort=sort;if(interval)appState.interval=interval;if(timeRange)queryState.time=timeRange;if(filters&&filters.length)queryState.filters=filters===null||filters===void 0?void 0:filters.filter(f=>_data_public__WEBPACK_IMPORTED_MODULE_0__["esFilters"].isFilterPinned(f));if(refreshInterval)queryState.refreshInterval=refreshInterval;let url=`${this.params.appBasePath}#/${savedSearchPath}`;url=Object(_kibana_utils_public__WEBPACK_IMPORTED_MODULE_1__["setStateToKbnUrl"])("_g",queryState,{useHash:useHash},url);url=Object(_kibana_utils_public__WEBPACK_IMPORTED_MODULE_1__["setStateToKbnUrl"])("_a",appState,{useHash:useHash},url);if(searchSessionId){url=`${url}&${SEARCH_SESSION_ID_QUERY_PARAM}=${searchSessionId}`}return url})}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14);__webpack_require__.d(__webpack_exports__,"SEARCH_EMBEDDABLE_TYPE",(function(){return _constants__WEBPACK_IMPORTED_MODULE_0__["a"]}));var _types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27);var _types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_types__WEBPACK_IMPORTED_MODULE_1__);if(__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_1__,"ISearchEmbeddable"))__webpack_require__.d(__webpack_exports__,"ISearchEmbeddable",(function(){return _types__WEBPACK_IMPORTED_MODULE_1__["ISearchEmbeddable"]}));if(__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_1__,"SearchEmbeddableFactory"))__webpack_require__.d(__webpack_exports__,"SearchEmbeddableFactory",(function(){return _types__WEBPACK_IMPORTED_MODULE_1__["SearchEmbeddableFactory"]}));if(__webpack_require__.o(_types__WEBPACK_IMPORTED_MODULE_1__,"SearchInput"))__webpack_require__.d(__webpack_exports__,"SearchInput",(function(){return _types__WEBPACK_IMPORTED_MODULE_1__["SearchInput"]}));var _search_embeddable_factory__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(28);__webpack_require__.d(__webpack_exports__,"SearchEmbeddableFactory",(function(){return _search_embeddable_factory__WEBPACK_IMPORTED_MODULE_2__["a"]}))},function(module,exports){module.exports=__kbnSharedDeps__.Angular},function(module,exports,__webpack_require__){"use strict";var isOldIE=function isOldIE(){var memo;return function memorize(){if(typeof memo==="undefined"){memo=Boolean(window&&document&&document.all&&!window.atob)}return memo}}();var getTarget=function getTarget(){var memo={};return function memorize(target){if(typeof memo[target]==="undefined"){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement){try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}}memo[target]=styleTarget}return memo[target]}}();var stylesInDom=[];function getIndexByIdentifier(identifier){var result=-1;for(var i=0;i<stylesInDom.length;i++){if(stylesInDom[i].identifier===identifier){result=i;break}}return result}function modulesToDom(list,options){var idCountMap={};var identifiers=[];for(var i=0;i<list.length;i++){var item=list[i];var id=options.base?item[0]+options.base:item[0];var count=idCountMap[id]||0;var identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier);var obj={css:item[1],media:item[2],sourceMap:item[3]};if(index!==-1){stylesInDom[index].references++;stylesInDom[index].updater(obj)}else{stylesInDom.push({identifier:identifier,updater:addStyle(obj,options),references:1})}identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement("style");var attributes=options.attributes||{};if(typeof attributes.nonce==="undefined"){var nonce=true?__webpack_require__.nc:undefined;if(nonce){attributes.nonce=nonce}}Object.keys(attributes).forEach((function(key){style.setAttribute(key,attributes[key])}));if(typeof options.insert==="function"){options.insert(style)}else{var target=getTarget(options.insert||"head");if(!target){throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.")}target.appendChild(style)}return style}function removeStyleElement(style){if(style.parentNode===null){return false}style.parentNode.removeChild(style)}var replaceText=function replaceText(){var textStore=[];return function replace(index,replacement){textStore[index]=replacement;return textStore.filter(Boolean).join("\n")}}();function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.media?"@media ".concat(obj.media," {").concat(obj.css,"}"):obj.css;if(style.styleSheet){style.styleSheet.cssText=replaceText(index,css)}else{var cssNode=document.createTextNode(css);var childNodes=style.childNodes;if(childNodes[index]){style.removeChild(childNodes[index])}if(childNodes.length){style.insertBefore(cssNode,childNodes[index])}else{style.appendChild(cssNode)}}}function applyToTag(style,options,obj){var css=obj.css;var media=obj.media;var sourceMap=obj.sourceMap;if(media){style.setAttribute("media",media)}else{style.removeAttribute("media")}if(sourceMap&&btoa){css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")}if(style.styleSheet){style.styleSheet.cssText=css}else{while(style.firstChild){style.removeChild(style.firstChild)}style.appendChild(document.createTextNode(css))}}var singleton=null;var singletonCounter=0;function addStyle(obj,options){var style;var update;var remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options));update=applyToSingletonTag.bind(null,style,styleIndex,false);remove=applyToSingletonTag.bind(null,style,styleIndex,true)}else{style=insertStyleElement(options);update=applyToTag.bind(null,style,options);remove=function remove(){removeStyleElement(style)}}update(obj);return function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap){return}update(obj=newObj)}else{remove()}}}module.exports=function(list,options){options=options||{};if(!options.singleton&&typeof options.singleton!=="boolean"){options.singleton=isOldIE()}list=list||[];var lastIdentifiers=modulesToDom(list,options);return function update(newList){newList=newList||[];if(Object.prototype.toString.call(newList)!=="[object Array]"){return}for(var i=0;i<lastIdentifiers.length;i++){var identifier=lastIdentifiers[i];var index=getIndexByIdentifier(identifier);stylesInDom[index].references--}var newLastIdentifiers=modulesToDom(newList,options);for(var _i=0;_i<lastIdentifiers.length;_i++){var _identifier=lastIdentifiers[_i];var _index=getIndexByIdentifier(_identifier);if(stylesInDom[_index].references===0){stylesInDom[_index].updater();stylesInDom.splice(_index,1)}}lastIdentifiers=newLastIdentifiers}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(useSourceMap){var list=[];list.toString=function toString(){return this.map((function(item){var content=cssWithMappingToString(item,useSourceMap);if(item[2]){return"@media ".concat(item[2]," {").concat(content,"}")}return content})).join("")};list.i=function(modules,mediaQuery,dedupe){if(typeof modules==="string"){modules=[[null,modules,""]]}var alreadyImportedModules={};if(dedupe){for(var i=0;i<this.length;i++){var id=this[i][0];if(id!=null){alreadyImportedModules[id]=true}}}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);if(dedupe&&alreadyImportedModules[item[0]]){continue}if(mediaQuery){if(!item[2]){item[2]=mediaQuery}else{item[2]="".concat(mediaQuery," and ").concat(item[2])}}list.push(item)}};return list};function cssWithMappingToString(item,useSourceMap){var content=item[1]||"";var cssMapping=item[3];if(!cssMapping){return content}if(useSourceMap&&typeof btoa==="function"){var sourceMapping=toComment(cssMapping);var sourceURLs=cssMapping.sources.map((function(source){return"/*# sourceURL=".concat(cssMapping.sourceRoot||"").concat(source," */")}));return[content].concat(sourceURLs).concat([sourceMapping]).join("\n")}return[content].join("\n")}function toComment(sourceMap){var base64=btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));var data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);return"/*# ".concat(data," */")}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaLegacy/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SEARCH_EMBEDDABLE_TYPE}));const SEARCH_EMBEDDABLE_TYPE="search"},function(module,exports){module.exports=__kbnSharedDeps__.RxjsOperators},function(module,exports){},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/embeddable/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.KbnMonaco},function(module,exports,__webpack_require__){"use strict";if(true){module.exports=__webpack_require__(43)}else{}},function(module,exports){module.exports=__kbnSharedDeps__.Lodash},function(module,exports){module.exports=__kbnSharedDeps__.Rxjs},function(module,exports){module.exports=__kbnSharedDeps__.ReactDom},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){var classes=[];for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(!arg)continue;var argType=typeof arg;if(argType==="string"||argType==="number"){classes.push(arg)}else if(Array.isArray(arg)&&arg.length){var inner=classNames.apply(null,arg);if(inner){classes.push(inner)}}else if(argType==="object"){for(var key in arg){if(hasOwn.call(arg,key)&&arg[key]){classes.push(key)}}}}return classes.join(" ")}if(true&&module.exports){classNames.default=classNames;module.exports=classNames}else if(true){!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}else{}})()},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/savedObjects/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return DocViewerError}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);var _elastic_eui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2);var _elastic_eui__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__);const DocViewerErrorWrapper=({error:error})=>{throw error};const DocViewerError=({error:error})=>react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_1__["EuiErrorBoundary"],{"data-test-subj":"docViewerError"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DocViewerErrorWrapper,{error:error}))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return isNestedFieldParent}));var lodash_fp__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(30);var lodash_fp__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_fp__WEBPACK_IMPORTED_MODULE_0__);function isNestedFieldParent(fieldName,indexPattern){return!indexPattern.fields.getByName(fieldName)&&!!indexPattern.fields.getAll().find(patternField=>{var _patternField$subType,_patternField$subType2,_patternField$subType3;const nestedRootRegex=new RegExp(Object(lodash_fp__WEBPACK_IMPORTED_MODULE_0__["escapeRegExp"])(fieldName)+"(\\.|$)");return nestedRootRegex.test((_patternField$subType=(_patternField$subType2=patternField.subType)===null||_patternField$subType2===void 0?void 0:(_patternField$subType3=_patternField$subType2.nested)===null||_patternField$subType3===void 0?void 0:_patternField$subType3.path)!==null&&_patternField$subType!==void 0?_patternField$subType:"")})}},function(module,exports){},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return SearchEmbeddableFactory}));var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__);var _kibana_services__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3);var _embeddable_public__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(17);var _embeddable_public__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_embeddable_public__WEBPACK_IMPORTED_MODULE_2__);var _constants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(14);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class SearchEmbeddableFactory{constructor(getStartServices,getInjector){this.getStartServices=getStartServices;_defineProperty(this,"type",_constants__WEBPACK_IMPORTED_MODULE_3__["a"]);_defineProperty(this,"$injector",void 0);_defineProperty(this,"getInjector",void 0);_defineProperty(this,"savedObjectMetaData",{name:_kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("discover.savedSearch.savedObjectName",{defaultMessage:"Saved search"}),type:"search",getIconForSavedObject:()=>"discoverApp"});_defineProperty(this,"isEditable",async()=>(await this.getStartServices()).isEditable());_defineProperty(this,"createFromSavedObject",async(savedObjectId,input,parent)=>{if(!this.$injector){this.$injector=await this.getInjector()}const $injector=this.$injector;const $compile=$injector.get("$compile");const $rootScope=$injector.get("$rootScope");const filterManager=Object(_kibana_services__WEBPACK_IMPORTED_MODULE_1__["h"])().filterManager;const url=await Object(_kibana_services__WEBPACK_IMPORTED_MODULE_1__["h"])().getSavedSearchUrlById(savedObjectId);const editUrl=Object(_kibana_services__WEBPACK_IMPORTED_MODULE_1__["h"])().addBasePath(`/app/discover${url}`);try{const savedObject=await Object(_kibana_services__WEBPACK_IMPORTED_MODULE_1__["h"])().getSavedSearchById(savedObjectId);const indexPattern=savedObject.searchSource.getField("index");const{executeTriggerActions:executeTriggerActions}=await this.getStartServices();const{SearchEmbeddable:SearchEmbeddableClass}=await Promise.all([__webpack_require__.e(0),__webpack_require__.e(4)]).then(__webpack_require__.bind(null,61));return new SearchEmbeddableClass({savedSearch:savedObject,$rootScope:$rootScope,$compile:$compile,editUrl:editUrl,editPath:url,filterManager:filterManager,editable:Object(_kibana_services__WEBPACK_IMPORTED_MODULE_1__["h"])().capabilities.discover.save,indexPatterns:indexPattern?[indexPattern]:[],services:Object(_kibana_services__WEBPACK_IMPORTED_MODULE_1__["h"])()},input,executeTriggerActions,parent)}catch(e){console.error(e);return new _embeddable_public__WEBPACK_IMPORTED_MODULE_2__["ErrorEmbeddable"](e,input,parent)}});this.$injector=null;this.getInjector=getInjector}canCreateNew(){return false}getDisplayName(){return _kbn_i18n__WEBPACK_IMPORTED_MODULE_0__["i18n"].translate("discover.embeddable.search.displayName",{defaultMessage:"search"})}async create(input){return new _embeddable_public__WEBPACK_IMPORTED_MODULE_2__["ErrorEmbeddable"]("Saved searches can only be created from a saved object",input)}}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("entry/core/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.LodashFp},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/home/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_val_loader_dist_cjs_js_key_discover_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(33);var _node_modules_val_loader_dist_cjs_js_key_discover_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_val_loader_dist_cjs_js_key_discover_kbn_ui_shared_deps_public_path_module_creator_js__WEBPACK_IMPORTED_MODULE_0__);__kbnBundles__.define("plugin/discover/public",__webpack_require__,48)},function(module,exports,__webpack_require__){__webpack_require__.p=window.__kbnPublicPath__["discover"]},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(35);case"v7light":return __webpack_require__(37);case"v8dark":return __webpack_require__(39);case"v8light":return __webpack_require__(41)}},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(36);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscJsonCodeEditor {\n  width: 100%; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(38);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscJsonCodeEditor {\n  width: 100%; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(40);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscJsonCodeEditor {\n  width: 100%; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(42);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".dscJsonCodeEditor {\n  width: 100%; }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){"use strict";function _interopDefault(n){return n&&"object"==typeof n&&"default"in n?n.default:n}Object.defineProperty(exports,"__esModule",{value:!0});var resolvePathname=_interopDefault(__webpack_require__(44)),valueEqual=_interopDefault(__webpack_require__(45));__webpack_require__(46);var invariant=_interopDefault(__webpack_require__(47));function _extends(){return(_extends=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n}).apply(this,arguments)}function addLeadingSlash(n){return"/"===n.charAt(0)?n:"/"+n}function stripLeadingSlash(n){return"/"===n.charAt(0)?n.substr(1):n}function hasBasename(n,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(n)}function stripBasename(n,t){return hasBasename(n,t)?n.substr(t.length):n}function stripTrailingSlash(n){return"/"===n.charAt(n.length-1)?n.slice(0,-1):n}function parsePath(n){var t=n||"/",e="",a="",o=t.indexOf("#");-1!==o&&(a=t.substr(o),t=t.substr(0,o));var r=t.indexOf("?");return-1!==r&&(e=t.substr(r),t=t.substr(0,r)),{pathname:t,search:"?"===e?"":e,hash:"#"===a?"":a}}function createPath(n){var t=n.pathname,e=n.search,a=n.hash,o=t||"/";return e&&"?"!==e&&(o+="?"===e.charAt(0)?e:"?"+e),a&&"#"!==a&&(o+="#"===a.charAt(0)?a:"#"+a),o}function createLocation(n,t,e,a){var o;"string"==typeof n?(o=parsePath(n)).state=t:(void 0===(o=_extends({},n)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(n){throw n instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):n}return e&&(o.key=e),a?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=resolvePathname(o.pathname,a.pathname)):o.pathname=a.pathname:o.pathname||(o.pathname="/"),o}function locationsAreEqual(n,t){return n.pathname===t.pathname&&n.search===t.search&&n.hash===t.hash&&n.key===t.key&&valueEqual(n.state,t.state)}function createTransitionManager(){var r=null;var a=[];return{setPrompt:function(n){return r=n,function(){r===n&&(r=null)}},confirmTransitionTo:function(n,t,e,a){if(null!=r){var o="function"==typeof r?r(n,t):r;"string"==typeof o?"function"==typeof e?e(o,a):a(!0):a(!1!==o)}else a(!0)},appendListener:function(n){var t=!0;function e(){t&&n.apply(void 0,arguments)}return a.push(e),function(){t=!1,a=a.filter((function(n){return n!==e}))}},notifyListeners:function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];a.forEach((function(n){return n.apply(void 0,t)}))}}}var canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement);function getConfirmation(n,t){t(window.confirm(n))}function supportsHistory(){var n=window.navigator.userAgent;return(-1===n.indexOf("Android 2.")&&-1===n.indexOf("Android 4.0")||-1===n.indexOf("Mobile Safari")||-1!==n.indexOf("Chrome")||-1!==n.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}function supportsPopStateOnHashChange(){return-1===window.navigator.userAgent.indexOf("Trident")}function supportsGoWithoutReloadUsingHash(){return-1===window.navigator.userAgent.indexOf("Firefox")}function isExtraneousPopstateEvent(n){void 0===n.state&&navigator.userAgent.indexOf("CriOS")}var PopStateEvent="popstate",HashChangeEvent="hashchange";function getHistoryState(){try{return window.history.state||{}}catch(n){return{}}}function createBrowserHistory(n){void 0===n&&(n={}),canUseDOM||invariant(!1);var c=window.history,s=supportsHistory(),t=!supportsPopStateOnHashChange(),e=n,a=e.forceRefresh,h=void 0!==a&&a,o=e.getUserConfirmation,u=void 0===o?getConfirmation:o,r=e.keyLength,i=void 0===r?6:r,f=n.basename?stripTrailingSlash(addLeadingSlash(n.basename)):"";function l(n){var t=n||{},e=t.key,a=t.state,o=window.location,r=o.pathname+o.search+o.hash;return f&&(r=stripBasename(r,f)),createLocation(r,a,e)}function d(){return Math.random().toString(36).substr(2,i)}var v=createTransitionManager();function p(n){_extends(T,n),T.length=c.length,v.notifyListeners(T.location,T.action)}function g(n){isExtraneousPopstateEvent(n)||w(l(n.state))}function P(){w(l(getHistoryState()))}var m=!1;function w(t){if(m)m=!1,p();else{v.confirmTransitionTo(t,"POP",u,(function(n){n?p({action:"POP",location:t}):function(n){var t=T.location,e=H.indexOf(t.key);-1===e&&(e=0);var a=H.indexOf(n.key);-1===a&&(a=0);var o=e-a;o&&(m=!0,L(o))}(t)}))}}var y=l(getHistoryState()),H=[y.key];function x(n){return f+createPath(n)}function L(n){c.go(n)}var O=0;function E(n){1===(O+=n)&&1===n?(window.addEventListener(PopStateEvent,g),t&&window.addEventListener(HashChangeEvent,P)):0===O&&(window.removeEventListener(PopStateEvent,g),t&&window.removeEventListener(HashChangeEvent,P))}var S=!1;var T={length:c.length,action:"POP",location:y,createHref:x,push:function(n,t){var i=createLocation(n,t,d(),T.location);v.confirmTransitionTo(i,"PUSH",u,(function(n){if(n){var t=x(i),e=i.key,a=i.state;if(s)if(c.pushState({key:e,state:a},null,t),h)window.location.href=t;else{var o=H.indexOf(T.location.key),r=H.slice(0,-1===o?0:o+1);r.push(i.key),H=r,p({action:"PUSH",location:i})}else window.location.href=t}}))},replace:function(n,t){var r="REPLACE",i=createLocation(n,t,d(),T.location);v.confirmTransitionTo(i,r,u,(function(n){if(n){var t=x(i),e=i.key,a=i.state;if(s)if(c.replaceState({key:e,state:a},null,t),h)window.location.replace(t);else{var o=H.indexOf(T.location.key);-1!==o&&(H[o]=i.key),p({action:r,location:i})}else window.location.replace(t)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(n){void 0===n&&(n=!1);var t=v.setPrompt(n);return S||(E(1),S=!0),function(){return S&&(S=!1,E(-1)),t()}},listen:function(n){var t=v.appendListener(n);return E(1),function(){E(-1),t()}}};return T}var HashChangeEvent$1="hashchange",HashPathCoders={hashbang:{encodePath:function(n){return"!"===n.charAt(0)?n:"!/"+stripLeadingSlash(n)},decodePath:function(n){return"!"===n.charAt(0)?n.substr(1):n}},noslash:{encodePath:stripLeadingSlash,decodePath:addLeadingSlash},slash:{encodePath:addLeadingSlash,decodePath:addLeadingSlash}};function getHashPath(){var n=window.location.href,t=n.indexOf("#");return-1===t?"":n.substring(t+1)}function pushHashPath(n){window.location.hash=n}function replaceHashPath(n){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,0<=t?t:0)+"#"+n)}function createHashHistory(n){void 0===n&&(n={}),canUseDOM||invariant(!1);var t=window.history,e=(supportsGoWithoutReloadUsingHash(),n),a=e.getUserConfirmation,i=void 0===a?getConfirmation:a,o=e.hashType,r=void 0===o?"slash":o,c=n.basename?stripTrailingSlash(addLeadingSlash(n.basename)):"",s=HashPathCoders[r],h=s.encodePath,u=s.decodePath;function f(){var n=u(getHashPath());return c&&(n=stripBasename(n,c)),createLocation(n)}var l=createTransitionManager();function d(n){_extends(E,n),E.length=t.length,l.notifyListeners(E.location,E.action)}var v=!1,p=null;function g(){var n=getHashPath(),t=h(n);if(n!==t)replaceHashPath(t);else{var e=f(),a=E.location;if(!v&&locationsAreEqual(a,e))return;if(p===createPath(e))return;p=null,function(t){if(v)v=!1,d();else{l.confirmTransitionTo(t,"POP",i,(function(n){n?d({action:"POP",location:t}):function(n){var t=E.location,e=y.lastIndexOf(createPath(t));-1===e&&(e=0);var a=y.lastIndexOf(createPath(n));-1===a&&(a=0);var o=e-a;o&&(v=!0,H(o))}(t)}))}}(e)}}var P=getHashPath(),m=h(P);P!==m&&replaceHashPath(m);var w=f(),y=[createPath(w)];function H(n){t.go(n)}var x=0;function L(n){1===(x+=n)&&1===n?window.addEventListener(HashChangeEvent$1,g):0===x&&window.removeEventListener(HashChangeEvent$1,g)}var O=!1;var E={length:t.length,action:"POP",location:w,createHref:function(n){return"#"+h(c+createPath(n))},push:function(n,t){var r=createLocation(n,void 0,void 0,E.location);l.confirmTransitionTo(r,"PUSH",i,(function(n){if(n){var t=createPath(r),e=h(c+t);if(getHashPath()!==e){p=t,pushHashPath(e);var a=y.lastIndexOf(createPath(E.location)),o=y.slice(0,-1===a?0:a+1);o.push(t),y=o,d({action:"PUSH",location:r})}else d()}}))},replace:function(n,t){var o="REPLACE",r=createLocation(n,void 0,void 0,E.location);l.confirmTransitionTo(r,o,i,(function(n){if(n){var t=createPath(r),e=h(c+t);getHashPath()!==e&&(p=t,replaceHashPath(e));var a=y.indexOf(createPath(E.location));-1!==a&&(y[a]=t),d({action:o,location:r})}}))},go:H,goBack:function(){H(-1)},goForward:function(){H(1)},block:function(n){void 0===n&&(n=!1);var t=l.setPrompt(n);return O||(L(1),O=!0),function(){return O&&(O=!1,L(-1)),t()}},listen:function(n){var t=l.appendListener(n);return L(1),function(){L(-1),t()}}};return E}function clamp(n,t,e){return Math.min(Math.max(n,t),e)}function createMemoryHistory(n){void 0===n&&(n={});var t=n,o=t.getUserConfirmation,e=t.initialEntries,a=void 0===e?["/"]:e,r=t.initialIndex,i=void 0===r?0:r,c=t.keyLength,s=void 0===c?6:c,h=createTransitionManager();function u(n){_extends(g,n),g.length=g.entries.length,h.notifyListeners(g.location,g.action)}function f(){return Math.random().toString(36).substr(2,s)}var l=clamp(i,0,a.length-1),d=a.map((function(n){return createLocation(n,void 0,"string"==typeof n?f():n.key||f())})),v=createPath;function p(n){var t=clamp(g.index+n,0,g.entries.length-1),e=g.entries[t];h.confirmTransitionTo(e,"POP",o,(function(n){n?u({action:"POP",location:e,index:t}):u()}))}var g={length:d.length,action:"POP",location:d[l],index:l,entries:d,createHref:v,push:function(n,t){var a=createLocation(n,t,f(),g.location);h.confirmTransitionTo(a,"PUSH",o,(function(n){if(n){var t=g.index+1,e=g.entries.slice(0);e.length>t?e.splice(t,e.length-t,a):e.push(a),u({action:"PUSH",location:a,index:t,entries:e})}}))},replace:function(n,t){var e="REPLACE",a=createLocation(n,t,f(),g.location);h.confirmTransitionTo(a,e,o,(function(n){n&&(g.entries[g.index]=a,u({action:e,location:a}))}))},go:p,goBack:function(){p(-1)},goForward:function(){p(1)},canGo:function(n){var t=g.index+n;return 0<=t&&t<g.entries.length},block:function(n){return void 0===n&&(n=!1),h.setPrompt(n)},listen:function(n){return h.appendListener(n)}};return g}exports.createBrowserHistory=createBrowserHistory,exports.createHashHistory=createHashHistory,exports.createMemoryHistory=createMemoryHistory,exports.createLocation=createLocation,exports.locationsAreEqual=locationsAreEqual,exports.parsePath=parsePath,exports.createPath=createPath},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function isAbsolute(pathname){return pathname.charAt(0)==="/"}function spliceOne(list,index){for(var i=index,k=i+1,n=list.length;k<n;i+=1,k+=1){list[i]=list[k]}list.pop()}function resolvePathname(to){var from=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var toParts=to&&to.split("/")||[];var fromParts=from&&from.split("/")||[];var isToAbs=to&&isAbsolute(to);var isFromAbs=from&&isAbsolute(from);var mustEndAbs=isToAbs||isFromAbs;if(to&&isAbsolute(to)){fromParts=toParts}else if(toParts.length){fromParts.pop();fromParts=fromParts.concat(toParts)}if(!fromParts.length)return"/";var hasTrailingSlash=void 0;if(fromParts.length){var last=fromParts[fromParts.length-1];hasTrailingSlash=last==="."||last===".."||last===""}else{hasTrailingSlash=false}var up=0;for(var i=fromParts.length;i>=0;i--){var part=fromParts[i];if(part==="."){spliceOne(fromParts,i)}else if(part===".."){spliceOne(fromParts,i);up++}else if(up){spliceOne(fromParts,i);up--}}if(!mustEndAbs)for(;up--;up){fromParts.unshift("..")}if(mustEndAbs&&fromParts[0]!==""&&(!fromParts[0]||!isAbsolute(fromParts[0])))fromParts.unshift("");var result=fromParts.join("/");if(hasTrailingSlash&&result.substr(-1)!=="/")result+="/";return result}exports.default=resolvePathname;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};function valueEqual(a,b){if(a===b)return true;if(a==null||b==null)return false;if(Array.isArray(a)){return Array.isArray(b)&&a.length===b.length&&a.every((function(item,index){return valueEqual(item,b[index])}))}var aType=typeof a==="undefined"?"undefined":_typeof(a);var bType=typeof b==="undefined"?"undefined":_typeof(b);if(aType!==bType)return false;if(aType==="object"){var aValue=a.valueOf();var bValue=b.valueOf();if(aValue!==a||bValue!==b)return valueEqual(aValue,bValue);var aKeys=Object.keys(a);var bKeys=Object.keys(b);if(aKeys.length!==bKeys.length)return false;return aKeys.every((function(key){return valueEqual(a[key],b[key])}))}return false}exports.default=valueEqual;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var isProduction="production"==="production";function warning(condition,message){if(!isProduction){if(condition){return}var text="Warning: "+message;if(typeof console!=="undefined"){console.warn(text)}try{throw Error(text)}catch(x){}}}module.exports=warning},function(module,exports,__webpack_require__){"use strict";var isProduction="production"==="production";var prefix="Invariant failed";function invariant(condition,message){if(condition){return}if(isProduction){throw new Error(prefix)}else{throw new Error(prefix+": "+(message||""))}}module.exports=invariant},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"DiscoverSetup",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"DiscoverStart",(function(){return undefined}));__webpack_require__.d(__webpack_exports__,"plugin",(function(){return public_plugin}));__webpack_require__.d(__webpack_exports__,"SavedSearch",(function(){return types["SavedSearch"]}));__webpack_require__.d(__webpack_exports__,"SavedSearchLoader",(function(){return types["SavedSearchLoader"]}));__webpack_require__.d(__webpack_exports__,"createSavedSearchesLoader",(function(){return createSavedSearchesLoader}));__webpack_require__.d(__webpack_exports__,"ISearchEmbeddable",(function(){return embeddable["ISearchEmbeddable"]}));__webpack_require__.d(__webpack_exports__,"SEARCH_EMBEDDABLE_TYPE",(function(){return embeddable["SEARCH_EMBEDDABLE_TYPE"]}));__webpack_require__.d(__webpack_exports__,"SearchInput",(function(){return embeddable["SearchInput"]}));__webpack_require__.d(__webpack_exports__,"DISCOVER_APP_URL_GENERATOR",(function(){return url_generator["a"]}));__webpack_require__.d(__webpack_exports__,"DiscoverUrlGeneratorState",(function(){return url_generator["DiscoverUrlGeneratorState"]}));var external_kbnSharedDeps_KbnI18n_=__webpack_require__(1);var external_kbnSharedDeps_Angular_=__webpack_require__(9);var external_kbnSharedDeps_Angular_default=__webpack_require__.n(external_kbnSharedDeps_Angular_);var external_kbnSharedDeps_Rxjs_=__webpack_require__(21);var external_kbnSharedDeps_RxjsOperators_=__webpack_require__(15);var public_=__webpack_require__(4);var kibanaUtils_public_=__webpack_require__(5);var core_public_=__webpack_require__(29);var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ReactDom_=__webpack_require__(22);var doc_viewer_render_error=__webpack_require__(25);async function injectAngularElement(domNode,template,scopeProps,Controller,getInjector){const $injector=await getInjector();const rootScope=$injector.get("$rootScope");const $compile=$injector.get("$compile");const newScope=Object.assign(rootScope.$new(),scopeProps);if(typeof Controller==="function"){newScope.$ctrl=$injector.instantiate(Controller,{$scope:newScope})}const $target=external_kbnSharedDeps_Angular_default.a.element(domNode);const $element=external_kbnSharedDeps_Angular_default.a.element(template);newScope.$apply(()=>{const linkFn=$compile($element);$target.empty().append($element);linkFn(newScope)});return()=>{newScope.$destroy()}}function convertDirectiveToRenderFn(directive,getInjector){return(domNode,props)=>{let rejected=false;const cleanupFnPromise=injectAngularElement(domNode,directive.template,props,directive.controller,getInjector);cleanupFnPromise.catch(e=>{rejected=true;Object(external_kbnSharedDeps_ReactDom_["render"])(external_kbnSharedDeps_React_default.a.createElement(doc_viewer_render_error["a"],{error:e}),domNode)});return()=>{if(!rejected){cleanupFnPromise.then(cleanup=>cleanup())}}}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class doc_views_registry_DocViewsRegistry{constructor(){_defineProperty(this,"docViews",[]);_defineProperty(this,"angularInjectorGetter",null);_defineProperty(this,"setAngularInjectorGetter",injectorGetter=>{this.angularInjectorGetter=injectorGetter})}addDocView(docViewRaw){const docView=typeof docViewRaw==="function"?docViewRaw():docViewRaw;if(docView.directive){docView.render=convertDirectiveToRenderFn(docView.directive,()=>{if(!this.angularInjectorGetter){throw new Error("Angular was not initialized")}return this.angularInjectorGetter()})}if(typeof docView.shouldShow!=="function"){docView.shouldShow=()=>true}this.docViews.push(docView)}getDocViewsSorted(hit){return this.docViews.filter(docView=>docView.shouldShow(hit)).sort((a,b)=>Number(a.order)>Number(b.order)?1:-1)}}var classnames=__webpack_require__(23);var classnames_default=__webpack_require__.n(classnames);var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(6);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(2);function DocViewTableRowBtnFilterAdd({onClick:onClick,disabled:disabled=false}){const tooltipContent=disabled?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.docViews.table.unindexedFieldsCanNotBeSearchedTooltip",defaultMessage:"Unindexed fields can not be searched"}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.docViews.table.filterForValueButtonTooltip",defaultMessage:"Filter for value"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:tooltipContent},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonIcon"],{"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.docViews.table.filterForValueButtonAriaLabel",{defaultMessage:"Filter for value"}),className:"kbnDocViewer__actionButton","data-test-subj":"addInclusiveFilterButton",disabled:disabled,onClick:onClick,iconType:"plusInCircle",iconSize:"s"}))}function DocViewTableRowBtnFilterRemove({onClick:onClick,disabled:disabled=false}){const tooltipContent=disabled?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.docViews.table.unindexedFieldsCanNotBeSearchedTooltip",defaultMessage:"Unindexed fields can not be searched"}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.docViews.table.filterOutValueButtonTooltip",defaultMessage:"Filter out value"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:tooltipContent},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonIcon"],{"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.docViews.table.filterOutValueButtonAriaLabel",{defaultMessage:"Filter out value"}),className:"kbnDocViewer__actionButton","data-test-subj":"removeInclusiveFilterButton",disabled:disabled,onClick:onClick,iconType:"minusInCircle",iconSize:"s"}))}function DocViewTableRowBtnToggleColumn({onClick:onClick,active:active,disabled:disabled=false}){if(disabled){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonIcon"],{"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.docViews.table.toggleColumnInTableButtonAriaLabel",{defaultMessage:"Toggle column in table"}),className:"kbnDocViewer__actionButton","data-test-subj":"toggleColumnButton",disabled:true,iconType:"listAdd",iconSize:"s"})}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.docViews.table.toggleColumnInTableButtonTooltip",defaultMessage:"Toggle column in table"})},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonIcon"],{"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.docViews.table.toggleColumnInTableButtonAriaLabel",{defaultMessage:"Toggle column in table"}),"aria-pressed":active,onClick:onClick,className:"kbnDocViewer__actionButton","data-test-subj":"toggleColumnButton",iconType:"listAdd",iconSize:"s"}))}function DocViewTableRowBtnCollapse({onClick:onClick,isCollapsed:isCollapsed}){const label=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.docViews.table.toggleFieldDetails",{defaultMessage:"Toggle field details"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:label},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonIcon"],{"aria-expanded":!isCollapsed,"aria-label":label,"data-test-subj":"collapseBtn",onClick:()=>onClick(),iconType:isCollapsed?"arrowRight":"arrowDown",iconSize:"s"}))}function DocViewTableRowBtnFilterExists({onClick:onClick,disabled:disabled=false,scripted:scripted=false}){const tooltipContent=disabled?scripted?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.docViews.table.unableToFilterForPresenceOfScriptedFieldsTooltip",defaultMessage:"Unable to filter for presence of scripted fields"}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.docViews.table.unableToFilterForPresenceOfMetaFieldsTooltip",defaultMessage:"Unable to filter for presence of meta fields"}):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"discover.docViews.table.filterForFieldPresentButtonTooltip",defaultMessage:"Filter for field present"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{content:tooltipContent},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonIcon"],{"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.docViews.table.filterForFieldPresentButtonAriaLabel",{defaultMessage:"Filter for field present"}),onClick:onClick,className:"kbnDocViewer__actionButton","data-test-subj":"addExistsFilterButton",disabled:disabled,iconType:"filter",iconSize:"s"}))}function DocViewTableRowIconUnderscore(){const ariaLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.docViews.table.fieldNamesBeginningWithUnderscoreUnsupportedAriaLabel",{defaultMessage:"Warning"});const tooltipContent=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.docViews.table.fieldNamesBeginningWithUnderscoreUnsupportedTooltip",{defaultMessage:"Field names beginning with {underscoreSign} are not supported",values:{underscoreSign:"_"}});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIconTip"],{"aria-label":ariaLabel,content:tooltipContent,color:"warning",iconProps:{className:"kbnDocViewer__warning","data-test-subj":"underscoreWarning"},size:"s",type:"alert"})}var kibanaReact_public_=__webpack_require__(13);function getFieldTypeName(type){switch(type){case"boolean":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.booleanAriaLabel",{defaultMessage:"Boolean field"});case"conflict":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.conflictFieldAriaLabel",{defaultMessage:"Conflicting field"});case"date":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.dateFieldAriaLabel",{defaultMessage:"Date field"});case"geo_point":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.geoPointFieldAriaLabel",{defaultMessage:"Geo point field"});case"geo_shape":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.geoShapeFieldAriaLabel",{defaultMessage:"Geo shape field"});case"ip":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.ipAddressFieldAriaLabel",{defaultMessage:"IP address field"});case"murmur3":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.murmur3FieldAriaLabel",{defaultMessage:"Murmur3 field"});case"number":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.numberFieldAriaLabel",{defaultMessage:"Number field"});case"source":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.sourceFieldAriaLabel",{defaultMessage:"Source field"});case"string":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.stringFieldAriaLabel",{defaultMessage:"String field"});case"nested":return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.nestedFieldAriaLabel",{defaultMessage:"Nested field"});default:return external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldNameIcons.unknownFieldAriaLabel",{defaultMessage:"Unknown field"})}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function FieldName({fieldName:fieldName,fieldMapping:fieldMapping,fieldType:fieldType,fieldIconProps:fieldIconProps,className:className,scripted:scripted=false}){const typeName=getFieldTypeName(fieldType);const displayName=fieldMapping&&fieldMapping.displayName?fieldMapping.displayName:fieldName;const tooltip=displayName!==fieldName?`${fieldName} (${displayName})`:fieldName;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{className:className,alignItems:"center",gutterSize:"s",responsive:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(kibanaReact_public_["FieldIcon"],_extends({type:fieldType,label:typeName,scripted:scripted},fieldIconProps))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{className:"eui-textTruncate"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{position:"top",content:tooltip,delay:"long",anchorClassName:"eui-textTruncate"},external_kbnSharedDeps_React_default.a.createElement("span",null,displayName))))}function DocViewTableRow({field:field,fieldMapping:fieldMapping,fieldType:fieldType,displayUnderscoreWarning:displayUnderscoreWarning,isCollapsible:isCollapsible,isCollapsed:isCollapsed,isColumnActive:isColumnActive,onFilter:onFilter,onToggleCollapse:onToggleCollapse,onToggleColumn:onToggleColumn,value:value,valueRaw:valueRaw}){const valueClassName=classnames_default()({kbnDocViewer__value:true,"truncate-by-height":isCollapsible&&isCollapsed});const key=field?field:fieldMapping===null||fieldMapping===void 0?void 0:fieldMapping.displayName;return external_kbnSharedDeps_React_default.a.createElement("tr",{key:key,"data-test-subj":`tableDocViewRow-${key}`},external_kbnSharedDeps_React_default.a.createElement("td",{className:"kbnDocViewer__field"},field?external_kbnSharedDeps_React_default.a.createElement(FieldName,{fieldName:field,fieldType:fieldType,fieldMapping:fieldMapping,scripted:Boolean(fieldMapping===null||fieldMapping===void 0?void 0:fieldMapping.scripted)}):external_kbnSharedDeps_React_default.a.createElement("span",null," ")),external_kbnSharedDeps_React_default.a.createElement("td",null,isCollapsible&&external_kbnSharedDeps_React_default.a.createElement(DocViewTableRowBtnCollapse,{onClick:onToggleCollapse,isCollapsed:isCollapsed}),displayUnderscoreWarning&&external_kbnSharedDeps_React_default.a.createElement(DocViewTableRowIconUnderscore,null),field?null:external_kbnSharedDeps_React_default.a.createElement("div",{className:valueClassName},key,": "),external_kbnSharedDeps_React_default.a.createElement("div",{className:valueClassName,"data-test-subj":`tableDocViewRow-${key}-value`,dangerouslySetInnerHTML:{__html:value}})),typeof onFilter==="function"&&external_kbnSharedDeps_React_default.a.createElement("td",{className:"kbnDocViewer__buttons"},external_kbnSharedDeps_React_default.a.createElement(DocViewTableRowBtnFilterAdd,{disabled:!fieldMapping||!fieldMapping.filterable,onClick:()=>onFilter(fieldMapping,valueRaw,"+")}),external_kbnSharedDeps_React_default.a.createElement(DocViewTableRowBtnFilterRemove,{disabled:!fieldMapping||!fieldMapping.filterable,onClick:()=>onFilter(fieldMapping,valueRaw,"-")}),typeof onToggleColumn==="function"&&external_kbnSharedDeps_React_default.a.createElement(DocViewTableRowBtnToggleColumn,{active:isColumnActive,onClick:onToggleColumn}),external_kbnSharedDeps_React_default.a.createElement(DocViewTableRowBtnFilterExists,{disabled:!fieldMapping||!fieldMapping.filterable,onClick:()=>onFilter("_exists_",field,"+"),scripted:fieldMapping&&fieldMapping.scripted})))}function arrayContainsObjects(value){return Array.isArray(value)&&value.some(v=>typeof v==="object"&&v!==null)}function trimAngularSpan(text){return text.replace(/^<span ng-non-bindable>/,"").replace(/<\/span>$/,"")}var nested_fields=__webpack_require__(26);const COLLAPSE_LINE_LENGTH=350;function DocViewTable({hit:hit,indexPattern:indexPattern,filter:filter,columns:columns,onAddColumn:onAddColumn,onRemoveColumn:onRemoveColumn}){const[fieldRowOpen,setFieldRowOpen]=Object(external_kbnSharedDeps_React_["useState"])({});const[multiFields,setMultiFields]=Object(external_kbnSharedDeps_React_["useState"])({});const[fieldsWithParents,setFieldsWithParents]=Object(external_kbnSharedDeps_React_["useState"])([]);Object(external_kbnSharedDeps_React_["useEffect"])(()=>{if(!indexPattern){return}const mapping=indexPattern.fields.getByName;const flattened=indexPattern.flattenHit(hit);const map={};const arr=[];Object.keys(flattened).forEach(key=>{var _field$spec,_field$spec$subType,_field$spec$subType$m;const field=mapping(key);if(field&&(_field$spec=field.spec)!==null&&_field$spec!==void 0&&(_field$spec$subType=_field$spec.subType)!==null&&_field$spec$subType!==void 0&&(_field$spec$subType$m=_field$spec$subType.multi)!==null&&_field$spec$subType$m!==void 0&&_field$spec$subType$m.parent){const parent=field.spec.subType.multi.parent;if(!map[parent]){map[parent]=[]}const value=map[parent];value.push(key);map[parent]=value;arr.push(key)}});setMultiFields(map);setFieldsWithParents(arr)},[indexPattern,hit]);const toggleColumn=Object(external_kbnSharedDeps_React_["useCallback"])(field=>{if(!onRemoveColumn||!onAddColumn||!columns){return}if(columns.includes(field)){onRemoveColumn(field)}else{onAddColumn(field)}},[onRemoveColumn,onAddColumn,columns]);if(!indexPattern){return null}const mapping=indexPattern.fields.getByName;const flattened=indexPattern.flattenHit(hit);const formatted=indexPattern.formatHit(hit,"html");function toggleValueCollapse(field){fieldRowOpen[field]=!fieldRowOpen[field];setFieldRowOpen({...fieldRowOpen})}return external_kbnSharedDeps_React_default.a.createElement("table",{className:"table table-condensed kbnDocViewerTable"},external_kbnSharedDeps_React_default.a.createElement("tbody",null,Object.keys(flattened).filter(field=>!fieldsWithParents.includes(field)).sort((fieldA,fieldB)=>{const mappingA=mapping(fieldA);const mappingB=mapping(fieldB);const nameA=!mappingA||!mappingA.displayName?fieldA:mappingA.displayName;const nameB=!mappingB||!mappingB.displayName?fieldB:mappingB.displayName;return nameA.localeCompare(nameB)}).map(field=>{var _indexPattern$fields$;const valueRaw=flattened[field];const value=trimAngularSpan(String(formatted[field]));const isCollapsible=value.length>COLLAPSE_LINE_LENGTH;const isCollapsed=isCollapsible&&!fieldRowOpen[field];const displayUnderscoreWarning=!mapping(field)&&field.indexOf("_")===0;const fieldType=Object(nested_fields["a"])(field,indexPattern)?"nested":(_indexPattern$fields$=indexPattern.fields.getByName(field))===null||_indexPattern$fields$===void 0?void 0:_indexPattern$fields$.type;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,{key:field},external_kbnSharedDeps_React_default.a.createElement(DocViewTableRow,{field:field,fieldMapping:mapping(field),fieldType:String(fieldType),displayUnderscoreWarning:displayUnderscoreWarning,isCollapsed:isCollapsed,isCollapsible:isCollapsible,isColumnActive:!!(columns!==null&&columns!==void 0&&columns.includes(field)),onFilter:filter,onToggleCollapse:()=>toggleValueCollapse(field),onToggleColumn:()=>toggleColumn(field),value:value,valueRaw:valueRaw}),multiFields[field]?external_kbnSharedDeps_React_default.a.createElement("tr",{key:`tableDocViewRow-multifieldsTitle-${field}`,className:"kbnDocViewer__multifield_row","data-test-subj":`tableDocViewRow-multifieldsTitle-${field}`},external_kbnSharedDeps_React_default.a.createElement("td",{className:"kbnDocViewer__field"}," "),external_kbnSharedDeps_React_default.a.createElement("td",{className:"kbnDocViewer__multifield_title",colSpan:2},external_kbnSharedDeps_React_default.a.createElement("b",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.fieldChooser.discoverField.multiFields",{defaultMessage:"Multi fields"})))):null,multiFields[field]?multiFields[field].map(multiField=>external_kbnSharedDeps_React_default.a.createElement(DocViewTableRow,{key:multiField,fieldMapping:mapping(multiField),fieldType:String(fieldType),displayUnderscoreWarning:displayUnderscoreWarning,isCollapsed:isCollapsed,isCollapsible:isCollapsible,isColumnActive:Array.isArray(columns)&&columns.includes(multiField),onFilter:filter,onToggleCollapse:()=>{toggleValueCollapse(multiField)},onToggleColumn:()=>toggleColumn(multiField),value:value,valueRaw:valueRaw})):null)})))}var json_code_editor=__webpack_require__(34);var external_kbnSharedDeps_KbnMonaco_=__webpack_require__(18);const codeEditorAriaLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.json.codeEditorAriaLabel",{defaultMessage:"Read only JSON view of an elasticsearch document"});const copyToClipboardLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.json.copyToClipboardLabel",{defaultMessage:"Copy to clipboard"});const JsonCodeEditor=({hit:hit})=>{const jsonValue=JSON.stringify(hit,null,2);const setEditorCalculatedHeight=Object(external_kbnSharedDeps_React_["useCallback"])(editor=>{var _editor$getModel;const editorElement=editor.getDomNode();if(!editorElement){return}const lineHeight=editor.getOption(external_kbnSharedDeps_KbnMonaco_["monaco"].editor.EditorOption.lineHeight);const lineCount=((_editor$getModel=editor.getModel())===null||_editor$getModel===void 0?void 0:_editor$getModel.getLineCount())||1;const height=editor.getTopForLineNumber(lineCount+1)+lineHeight;editorElement.style.height=`${height}px`;editor.layout()},[]);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{className:"dscJsonCodeEditor",direction:"column",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement("div",{className:"eui-textRight"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCopy"],{textToCopy:jsonValue},copy=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{size:"xs",flush:"right",iconType:"copyClipboard",onClick:copy},copyToClipboardLabel)))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:true},external_kbnSharedDeps_React_default.a.createElement(kibanaReact_public_["CodeEditor"],{languageId:external_kbnSharedDeps_KbnMonaco_["XJsonLang"].ID,value:jsonValue,onChange:()=>{},editorDidMount:setEditorCalculatedHeight,"aria-label":codeEditorAriaLabel,options:{automaticLayout:true,fontSize:12,minimap:{enabled:false},overviewRulerBorder:false,readOnly:true,scrollbar:{alwaysConsumeMouseWheel:false},scrollBeyondLastLine:false,wordWrap:"on",wrappingIndent:"indent"}})))};var kibana_services=__webpack_require__(3);var savedObjects_public_=__webpack_require__(24);function _saved_search_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function createSavedSearchClass(savedObjects){class SavedSearch extends savedObjects.SavedObjectClass{constructor(id){super({id:id,type:"search",mapping:{title:"text",description:"text",hideChart:"boolean",hits:"integer",columns:"keyword",grid:"object",sort:"keyword",version:"integer"},searchSource:true,defaults:{title:"",description:"",columns:[],hits:0,sort:[],version:1}});_saved_search_defineProperty(this,"id",void 0);_saved_search_defineProperty(this,"showInRecentlyAccessed",void 0);this.showInRecentlyAccessed=true;this.id=id;this.getFullPath=()=>`/app/discover#/view/${String(id)}`}}_saved_search_defineProperty(SavedSearch,"type","search");_saved_search_defineProperty(SavedSearch,"mapping",{title:"text",description:"text",hideChart:"boolean",hits:"integer",columns:"keyword",grid:"object",sort:"keyword",version:"integer"});_saved_search_defineProperty(SavedSearch,"fieldOrder",["title","description"]);_saved_search_defineProperty(SavedSearch,"searchSource",true);return SavedSearch}function createSavedSearchesLoader({savedObjectsClient:savedObjectsClient,savedObjects:savedObjects}){const SavedSearchClass=createSavedSearchClass(savedObjects);const savedSearchLoader=new savedObjects_public_["SavedObjectLoader"](SavedSearchClass,savedObjectsClient);savedSearchLoader.loaderProperties={name:"searches",noun:"Saved Search",nouns:"saved searches"};savedSearchLoader.urlFor=id=>id?`#/view/${encodeURIComponent(id)}`:"#/";return savedSearchLoader}var types=__webpack_require__(16);var home_public_=__webpack_require__(31);function registerFeature(home){home.featureCatalogue.register({id:"discover",title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.discoverTitle",{defaultMessage:"Discover"}),subtitle:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.discoverSubtitle",{defaultMessage:"Search and find insights."}),description:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.discoverDescription",{defaultMessage:"Interactively explore your data by querying and filtering raw documents."}),icon:"discoverApp",path:"/app/discover#/",showOnHomePage:false,category:home_public_["FeatureCatalogueCategory"].DATA,solutionId:"kibana",order:200})}async function buildServices(core,plugins,context,getEmbeddableInjector){const services={savedObjectsClient:core.savedObjects.client,savedObjects:plugins.savedObjects};const savedObjectService=createSavedSearchesLoader(services);const{usageCollection:usageCollection}=plugins;return{addBasePath:core.http.basePath.prepend,capabilities:core.application.capabilities,chrome:core.chrome,core:core,data:plugins.data,docLinks:core.docLinks,theme:plugins.charts.theme,filterManager:plugins.data.query.filterManager,getEmbeddableInjector:getEmbeddableInjector,getSavedSearchById:async id=>savedObjectService.get(id),getSavedSearchUrlById:async id=>savedObjectService.urlFor(id),history:kibana_services["d"],indexPatterns:plugins.data.indexPatterns,inspector:plugins.inspector,metadata:{branch:context.env.packageInfo.branch},navigation:plugins.navigation,share:plugins.share,kibanaLegacy:plugins.kibanaLegacy,urlForwarding:plugins.urlForwarding,timefilter:plugins.data.query.timefilter.timefilter,toastNotifications:core.notifications.toasts,uiSettings:core.uiSettings,trackUiMetric:usageCollection===null||usageCollection===void 0?void 0:usageCollection.reportUiCounter.bind(usageCollection,"discover")}}var url_generator=__webpack_require__(7);var embeddable=__webpack_require__(8);function plugin_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const innerAngularName="app/discover";const embeddableAngularName="app/discoverEmbeddable";class plugin_DiscoverPlugin{constructor(initializerContext){this.initializerContext=initializerContext;plugin_defineProperty(this,"appStateUpdater",new external_kbnSharedDeps_Rxjs_["BehaviorSubject"](()=>({})));plugin_defineProperty(this,"docViewsRegistry",null);plugin_defineProperty(this,"embeddableInjector",null);plugin_defineProperty(this,"stopUrlTracking",undefined);plugin_defineProperty(this,"servicesInitialized",false);plugin_defineProperty(this,"innerAngularInitialized",false);plugin_defineProperty(this,"urlGenerator",void 0);plugin_defineProperty(this,"initializeInnerAngular",void 0);plugin_defineProperty(this,"initializeServices",void 0);plugin_defineProperty(this,"getEmbeddableInjector",async()=>{if(!this.embeddableInjector){if(!this.initializeServices){throw Error("Discover plugin getEmbeddableInjector:  initializeServices is undefined")}const{core:core,plugins:plugins}=await this.initializeServices();Object(kibana_services["h"])().kibanaLegacy.loadFontAwesome();const{getInnerAngularModuleEmbeddable:getInnerAngularModuleEmbeddable}=await Promise.all([__webpack_require__.e(0),__webpack_require__.e(1),__webpack_require__.e(2)]).then(__webpack_require__.bind(null,228));getInnerAngularModuleEmbeddable(embeddableAngularName,core,plugins);const mountpoint=document.createElement("div");this.embeddableInjector=external_kbnSharedDeps_Angular_default.a.bootstrap(mountpoint,[embeddableAngularName])}return this.embeddableInjector})}setup(core,plugins){const baseUrl=core.http.basePath.prepend("/app/discover");if(plugins.share){this.urlGenerator=plugins.share.urlGenerators.registerUrlGenerator(new url_generator["b"]({appBasePath:baseUrl,useHash:core.uiSettings.get("state:storeInSessionStorage")}))}this.docViewsRegistry=new doc_views_registry_DocViewsRegistry;Object(kibana_services["m"])(this.docViewsRegistry);this.docViewsRegistry.addDocView({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.docViews.table.tableTitle",{defaultMessage:"Table"}),order:10,component:DocViewTable});this.docViewsRegistry.addDocView({title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("discover.docViews.json.jsonTitle",{defaultMessage:"JSON"}),order:20,component:JsonCodeEditor});const{appMounted:appMounted,appUnMounted:appUnMounted,stop:stopUrlTracker,setActiveUrl:setTrackedUrl,restorePreviousUrl:restorePreviousUrl}=Object(kibanaUtils_public_["createKbnUrlTracker"])({getHistory:kibana_services["g"],baseUrl:baseUrl,defaultSubUrl:"#/",storageKey:`lastUrl:${core.http.basePath.get()}:discover`,navLinkUpdater$:this.appStateUpdater,toastNotifications:core.notifications.toasts,stateParams:[{kbnUrlKey:"_g",stateUpdate$:plugins.data.query.state$.pipe(Object(external_kbnSharedDeps_RxjsOperators_["filter"])(({changes:changes})=>!!(changes.globalFilters||changes.time||changes.refreshInterval)),Object(external_kbnSharedDeps_RxjsOperators_["map"])(({state:state})=>{var _state$filters;return{...state,filters:(_state$filters=state.filters)===null||_state$filters===void 0?void 0:_state$filters.filter(public_["esFilters"].isFilterPinned)}}))}],onBeforeNavLinkSaved:newNavLink=>{if(newNavLink.includes(url_generator["d"])){newNavLink=Object(kibanaUtils_public_["replaceUrlHashQuery"])(newNavLink,query=>{delete query[url_generator["d"]];return query})}return newNavLink}});Object(kibana_services["r"])({setTrackedUrl:setTrackedUrl,restorePreviousUrl:restorePreviousUrl});this.stopUrlTracking=()=>{stopUrlTracker()};this.docViewsRegistry.setAngularInjectorGetter(this.getEmbeddableInjector);core.application.register({id:"discover",title:"Discover",updater$:this.appStateUpdater.asObservable(),order:1e3,euiIconType:"logoKibana",defaultPath:"#/",category:core_public_["DEFAULT_APP_CATEGORIES"].kibana,mount:async params=>{if(!this.initializeServices){throw Error("Discover plugin method initializeServices is undefined")}if(!this.initializeInnerAngular){throw Error("Discover plugin method initializeInnerAngular is undefined")}Object(kibana_services["o"])(params.history);Object(kibana_services["n"])(params.setHeaderActionMenu);Object(kibana_services["t"])();appMounted();const{plugins:{data:dataStart}}=await this.initializeServices();await this.initializeInnerAngular();await dataStart.indexPatterns.clearCache();const{renderApp:renderApp}=await __webpack_require__.e(5).then(__webpack_require__.bind(null,227));params.element.classList.add("dscAppWrapper");const unmount=await renderApp(innerAngularName,params.element);return()=>{params.element.classList.remove("dscAppWrapper");unmount();appUnMounted()}}});plugins.urlForwarding.forwardApp("doc","discover",path=>`#${path}`);plugins.urlForwarding.forwardApp("context","discover",path=>{const urlParts=path.split("/");if(urlParts[4]){const newPath=[...urlParts.slice(0,3),...urlParts.slice(4)].join("/");return`#${newPath}`}return`#${path}`});plugins.urlForwarding.forwardApp("discover","discover",path=>{const[,id,tail]=/discover\/([^\?]+)(.*)/.exec(path)||[];if(!id){return`#${path.replace("/discover","")||"/"}`}return`#/view/${id}${tail||""}`});if(plugins.home){registerFeature(plugins.home)}this.registerEmbeddable(core,plugins);return{docViews:{addDocView:this.docViewsRegistry.addDocView.bind(this.docViewsRegistry)}}}start(core,plugins){this.initializeInnerAngular=async()=>{if(this.innerAngularInitialized){return}const{getInnerAngularModule:getInnerAngularModule}=await Promise.all([__webpack_require__.e(0),__webpack_require__.e(1),__webpack_require__.e(2)]).then(__webpack_require__.bind(null,228));const module=getInnerAngularModule(innerAngularName,core,plugins,this.initializerContext);Object(kibana_services["l"])(module);this.innerAngularInitialized=true};Object(kibana_services["q"])(plugins.uiActions);this.initializeServices=async()=>{if(this.servicesInitialized){return{core:core,plugins:plugins}}const services=await buildServices(core,plugins,this.initializerContext,this.getEmbeddableInjector);Object(kibana_services["p"])(services);this.servicesInitialized=true;return{core:core,plugins:plugins}};return{urlGenerator:this.urlGenerator,savedSearchLoader:createSavedSearchesLoader({savedObjectsClient:core.savedObjects.client,savedObjects:plugins.savedObjects})}}stop(){if(this.stopUrlTracking){this.stopUrlTracking()}}registerEmbeddable(core,plugins){if(!this.getEmbeddableInjector){throw Error("Discover plugin method getEmbeddableInjector is undefined")}const getStartServices=async()=>{const[coreStart,deps]=await core.getStartServices();return{executeTriggerActions:deps.uiActions.executeTriggerActions,isEditable:()=>coreStart.application.capabilities.discover.save}};const factory=new embeddable["SearchEmbeddableFactory"](getStartServices,this.getEmbeddableInjector);plugins.embeddable.registerEmbeddableFactory(factory.type,factory)}}function public_plugin(initializerContext){return new plugin_DiscoverPlugin(initializerContext)}},function(module,exports){module.exports=__kbnSharedDeps__.Moment},function(module,exports){module.exports=__kbnSharedDeps__.MomentTimezone},function(module,exports){module.exports=__kbnSharedDeps__.Jquery},function(module,exports){module.exports=__kbnSharedDeps__.Theme.euiLightVars},function(module,exports){module.exports=__kbnSharedDeps__.Theme.euiDarkVars},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/inspector/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.KbnI18nAngular},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/kibanaUtils/common");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/data/common");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,exports){module.exports=__kbnSharedDeps__.ElasticCharts},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/charts/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var ns=__kbnBundles__.get("plugin/uiActions/public");Object.defineProperties(__webpack_exports__,Object.getOwnPropertyDescriptors(ns))}]);