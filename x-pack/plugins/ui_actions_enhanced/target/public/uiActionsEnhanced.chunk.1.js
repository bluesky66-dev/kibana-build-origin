/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window["uiActionsEnhanced_bundle_jsonpfunction"]=window["uiActionsEnhanced_bundle_jsonpfunction"]||[]).push([[1],{81:function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(82);case"v7light":return __webpack_require__(84);case"v8dark":return __webpack_require__(86);case"v8light":return __webpack_require__(88)}},82:function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(83);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},83:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".uaeUrlDrilldownCollectConfig__urlTemplateFormRow .euiFormRow__label {\n  align-self: flex-end; }\n",""]);module.exports=exports},84:function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(85);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},85:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".uaeUrlDrilldownCollectConfig__urlTemplateFormRow .euiFormRow__label {\n  align-self: flex-end; }\n",""]);module.exports=exports},86:function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(87);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},87:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".uaeUrlDrilldownCollectConfig__urlTemplateFormRow .euiFormRow__label {\n  align-self: flex-end; }\n",""]);module.exports=exports},88:function(module,exports,__webpack_require__){var api=__webpack_require__(10);var content=__webpack_require__(89);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},89:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(11);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".uaeUrlDrilldownCollectConfig__urlTemplateFormRow .euiFormRow__label {\n  align-self: flex-end; }\n",""]);module.exports=exports},90:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"UrlDrilldownCollectConfig",(function(){return UrlDrilldownCollectConfig}));var external_kbnSharedDeps_React_=__webpack_require__(0);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(1);var url_drilldown_collect_config=__webpack_require__(81);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(2);const txtUrlTemplatePlaceholder=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uiActionsEnhanced.drilldowns.urlDrilldownCollectConfig.urlTemplatePlaceholderText",{defaultMessage:"Example: {exampleUrl}",values:{exampleUrl:"https://www.my-url.com/?{{event.key}}={{event.value}}"}});const txtUrlPreviewHelpText=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uiActionsEnhanced.drilldowns.urlDrilldownCollectConfig.urlPreviewHelpText",{defaultMessage:"Please note that in preview \\{\\{event.*\\}\\} variables are substituted with dummy values."});const txtUrlTemplateLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uiActionsEnhanced.drilldowns.urlDrilldownCollectConfig.urlTemplateLabel",{defaultMessage:"Enter URL:"});const txtUrlTemplateSyntaxHelpLinkText=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uiActionsEnhanced.drilldowns.urlDrilldownCollectConfig.urlTemplateSyntaxHelpLinkText",{defaultMessage:"Syntax help"});const txtUrlTemplatePreviewLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uiActionsEnhanced.drilldowns.urlDrilldownCollectConfig.urlPreviewLabel",{defaultMessage:"URL preview:"});const txtUrlTemplatePreviewLinkText=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uiActionsEnhanced.drilldowns.urlDrilldownCollectConfig.urlPreviewLinkText",{defaultMessage:"Preview"});const txtUrlTemplateOpenInNewTab=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uiActionsEnhanced.drilldowns.urlDrilldownCollectConfig.openInNewTabLabel",{defaultMessage:"Open in new window"});const txtUrlTemplateAdditionalOptions=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uiActionsEnhanced.drilldowns.urlDrilldownCollectConfig.additionalOptions",{defaultMessage:"Additional options"});const txtUrlTemplateEncodeUrl=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uiActionsEnhanced.drilldowns.urlDrilldownCollectConfig.encodeUrl",{defaultMessage:"Encode URL"});const txtUrlTemplateEncodeDescription=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uiActionsEnhanced.drilldowns.urlDrilldownCollectConfig.encodeDescription",{defaultMessage:"If enabled, URL will be escaped using percent encoding"});const txtAddVariableButtonTitle=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uiActionsEnhanced.drilldowns.urlDrilldownCollectConfig.addVariableButtonTitle",{defaultMessage:"Add variable"});const txtUrlTemplateVariablesHelpLinkText=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uiActionsEnhanced.drilldowns.urlDrilldownCollectConfig.urlTemplateVariablesHelpLinkText",{defaultMessage:"Help"});const txtUrlTemplateVariablesFilterPlaceholderText=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.uiActionsEnhanced.drilldowns.urlDrilldownCollectConfig.urlTemplateVariablesFilterPlaceholderText",{defaultMessage:"Filter variables"});const VariablePopover=({variables:variables,onSelect:onSelect,variablesHelpLink:variablesHelpLink})=>{const[isVariablesPopoverOpen,setIsVariablesPopoverOpen]=Object(external_kbnSharedDeps_React_["useState"])(false);const closePopover=()=>setIsVariablesPopoverOpen(false);const options=variables.map(({label:label})=>({key:label,label:label}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopover"],{ownFocus:true,button:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{onClick:()=>setIsVariablesPopoverOpen(true)},txtAddVariableButtonTitle," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"indexOpen"}))),isOpen:isVariablesPopoverOpen,closePopover:closePopover,panelPaddingSize:"none",anchorPosition:"downLeft"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelectable"],{singleSelection:true,searchable:true,searchProps:{placeholder:txtUrlTemplateVariablesFilterPlaceholderText,compressed:true},options:options,onChange:newOptions=>{const selected=newOptions.find(o=>o.checked==="on");if(!selected)return;onSelect(selected.key);closePopover()},listProps:{showIcons:false}},(list,search)=>external_kbnSharedDeps_React_default.a.createElement("div",{style:{width:320}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopoverTitle"],null,search),list,variablesHelpLink&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopoverFooter"],{className:"eui-textRight"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{external:true,href:variablesHelpLink,target:"_blank"},txtUrlTemplateVariablesHelpLinkText)))))};var public_=__webpack_require__(9);const UrlDrilldownCollectConfig=({config:config,variables:variables,onConfig:onConfig,syntaxHelpDocsLink:syntaxHelpDocsLink,variablesHelpDocsLink:variablesHelpDocsLink})=>{var _config$url$template,_config$encodeUrl;const editorRef=Object(external_kbnSharedDeps_React_["useRef"])(null);const[showUrlError,setShowUrlError]=external_kbnSharedDeps_React_default.a.useState(false);const urlTemplate=(_config$url$template=config.url.template)!==null&&_config$url$template!==void 0?_config$url$template:"";function updateUrlTemplate(newUrlTemplate){if(config.url.template!==newUrlTemplate){setShowUrlError(true);onConfig({...config,url:{...config.url,template:newUrlTemplate}})}}const isEmpty=!urlTemplate;const isInvalid=showUrlError&&isEmpty;const variablesDropdown=external_kbnSharedDeps_React_default.a.createElement(VariablePopover,{variables:variables,variablesHelpLink:variablesHelpDocsLink,onSelect:variable=>{const editor=editorRef.current;if(!editor)return;editor.trigger("keyboard","type",{text:"{{"+variable+"}}"})}});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{fullWidth:true,isInvalid:isInvalid,className:"uaeUrlDrilldownCollectConfig__urlTemplateFormRow",label:txtUrlTemplateLabel,helpText:syntaxHelpDocsLink&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{external:true,target:"_blank",href:syntaxHelpDocsLink},txtUrlTemplateSyntaxHelpLinkText),labelAppend:variablesDropdown},external_kbnSharedDeps_React_default.a.createElement(public_["UrlTemplateEditor"],{variables:variables,value:urlTemplate,onChange:newUrlTemplate=>updateUrlTemplate(newUrlTemplate),onEditor:editor=>{editorRef.current=editor}})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiAccordion"],{id:"accordion_url_drilldown_additional_options",buttonContent:txtUrlTemplateAdditionalOptions,"data-test-subj":"urlDrilldownAdditionalOptions"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPanel"],{color:"subdued",borderRadius:"none",hasShadow:false,style:{border:"none"}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{hasChildLabel:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSwitch"],{id:"openInNewTab",name:"openInNewTab",label:txtUrlTemplateOpenInNewTab,checked:config.openInNewTab,onChange:()=>onConfig({...config,openInNewTab:!config.openInNewTab}),"data-test-subj":"urlDrilldownOpenInNewTab"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{hasChildLabel:false,fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSwitch"],{id:"encodeUrl",name:"encodeUrl",label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_default.a.Fragment,null,txtUrlTemplateEncodeUrl,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"subdued"},txtUrlTemplateEncodeDescription)),checked:(_config$encodeUrl=config.encodeUrl)!==null&&_config$encodeUrl!==void 0?_config$encodeUrl:true,onChange:()=>{var _config$encodeUrl2;return onConfig({...config,encodeUrl:!((_config$encodeUrl2=config.encodeUrl)!==null&&_config$encodeUrl2!==void 0?_config$encodeUrl2:true)})}})))))}}}]);