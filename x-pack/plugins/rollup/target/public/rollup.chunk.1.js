/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window["rollup_bundle_jsonpfunction"]=window["rollup_bundle_jsonpfunction"]||[]).push([[1],Array(26).concat([function(module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}module.exports=_interopRequireDefault},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(26);exports.__esModule=true;exports["default"]=exports.ReactReduxContext=void 0;var _react=_interopRequireDefault(__webpack_require__(3));var ReactReduxContext=_react["default"].createContext(null);exports.ReactReduxContext=ReactReduxContext;if(false){}var _default=ReactReduxContext;exports["default"]=_default},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(26);exports.__esModule=true;var _Provider=_interopRequireDefault(__webpack_require__(46));exports.Provider=_Provider["default"];var _connectAdvanced=_interopRequireDefault(__webpack_require__(37));exports.connectAdvanced=_connectAdvanced["default"];var _Context=__webpack_require__(27);exports.ReactReduxContext=_Context.ReactReduxContext;var _connect=_interopRequireDefault(__webpack_require__(53));exports.connect=_connect["default"];var _useDispatch=__webpack_require__(64);exports.useDispatch=_useDispatch.useDispatch;exports.createDispatchHook=_useDispatch.createDispatchHook;var _useSelector=__webpack_require__(65);exports.useSelector=_useSelector.useSelector;exports.createSelectorHook=_useSelector.createSelectorHook;var _useStore=__webpack_require__(44);exports.useStore=_useStore.useStore;exports.createStoreHook=_useStore.createStoreHook;var _batch=__webpack_require__(36);var _reactBatchedUpdates=__webpack_require__(66);exports.batch=_reactBatchedUpdates.unstable_batchedUpdates;var _shallowEqual=_interopRequireDefault(__webpack_require__(40));exports.shallowEqual=_shallowEqual["default"];(0,_batch.setBatch)(_reactBatchedUpdates.unstable_batchedUpdates)},function(module,exports,__webpack_require__){"use strict";var isOldIE=function isOldIE(){var memo;return function memorize(){if(typeof memo==="undefined"){memo=Boolean(window&&document&&document.all&&!window.atob)}return memo}}();var getTarget=function getTarget(){var memo={};return function memorize(target){if(typeof memo[target]==="undefined"){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement){try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}}memo[target]=styleTarget}return memo[target]}}();var stylesInDom=[];function getIndexByIdentifier(identifier){var result=-1;for(var i=0;i<stylesInDom.length;i++){if(stylesInDom[i].identifier===identifier){result=i;break}}return result}function modulesToDom(list,options){var idCountMap={};var identifiers=[];for(var i=0;i<list.length;i++){var item=list[i];var id=options.base?item[0]+options.base:item[0];var count=idCountMap[id]||0;var identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier);var obj={css:item[1],media:item[2],sourceMap:item[3]};if(index!==-1){stylesInDom[index].references++;stylesInDom[index].updater(obj)}else{stylesInDom.push({identifier:identifier,updater:addStyle(obj,options),references:1})}identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement("style");var attributes=options.attributes||{};if(typeof attributes.nonce==="undefined"){var nonce=true?__webpack_require__.nc:undefined;if(nonce){attributes.nonce=nonce}}Object.keys(attributes).forEach((function(key){style.setAttribute(key,attributes[key])}));if(typeof options.insert==="function"){options.insert(style)}else{var target=getTarget(options.insert||"head");if(!target){throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.")}target.appendChild(style)}return style}function removeStyleElement(style){if(style.parentNode===null){return false}style.parentNode.removeChild(style)}var replaceText=function replaceText(){var textStore=[];return function replace(index,replacement){textStore[index]=replacement;return textStore.filter(Boolean).join("\n")}}();function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.media?"@media ".concat(obj.media," {").concat(obj.css,"}"):obj.css;if(style.styleSheet){style.styleSheet.cssText=replaceText(index,css)}else{var cssNode=document.createTextNode(css);var childNodes=style.childNodes;if(childNodes[index]){style.removeChild(childNodes[index])}if(childNodes.length){style.insertBefore(cssNode,childNodes[index])}else{style.appendChild(cssNode)}}}function applyToTag(style,options,obj){var css=obj.css;var media=obj.media;var sourceMap=obj.sourceMap;if(media){style.setAttribute("media",media)}else{style.removeAttribute("media")}if(sourceMap&&btoa){css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")}if(style.styleSheet){style.styleSheet.cssText=css}else{while(style.firstChild){style.removeChild(style.firstChild)}style.appendChild(document.createTextNode(css))}}var singleton=null;var singletonCounter=0;function addStyle(obj,options){var style;var update;var remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options));update=applyToSingletonTag.bind(null,style,styleIndex,false);remove=applyToSingletonTag.bind(null,style,styleIndex,true)}else{style=insertStyleElement(options);update=applyToTag.bind(null,style,options);remove=function remove(){removeStyleElement(style)}}update(obj);return function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap){return}update(obj=newObj)}else{remove()}}}module.exports=function(list,options){options=options||{};if(!options.singleton&&typeof options.singleton!=="boolean"){options.singleton=isOldIE()}list=list||[];var lastIdentifiers=modulesToDom(list,options);return function update(newList){newList=newList||[];if(Object.prototype.toString.call(newList)!=="[object Array]"){return}for(var i=0;i<lastIdentifiers.length;i++){var identifier=lastIdentifiers[i];var index=getIndexByIdentifier(identifier);stylesInDom[index].references--}var newLastIdentifiers=modulesToDom(newList,options);for(var _i=0;_i<lastIdentifiers.length;_i++){var _identifier=lastIdentifiers[_i];var _index=getIndexByIdentifier(_identifier);if(stylesInDom[_index].references===0){stylesInDom[_index].updater();stylesInDom.splice(_index,1)}}lastIdentifiers=newLastIdentifiers}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(useSourceMap){var list=[];list.toString=function toString(){return this.map((function(item){var content=cssWithMappingToString(item,useSourceMap);if(item[2]){return"@media ".concat(item[2]," {").concat(content,"}")}return content})).join("")};list.i=function(modules,mediaQuery,dedupe){if(typeof modules==="string"){modules=[[null,modules,""]]}var alreadyImportedModules={};if(dedupe){for(var i=0;i<this.length;i++){var id=this[i][0];if(id!=null){alreadyImportedModules[id]=true}}}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);if(dedupe&&alreadyImportedModules[item[0]]){continue}if(mediaQuery){if(!item[2]){item[2]=mediaQuery}else{item[2]="".concat(mediaQuery," and ").concat(item[2])}}list.push(item)}};return list};function cssWithMappingToString(item,useSourceMap){var content=item[1]||"";var cssMapping=item[3];if(!cssMapping){return content}if(useSourceMap&&typeof btoa==="function"){var sourceMapping=toComment(cssMapping);var sourceURLs=cssMapping.sources.map((function(source){return"/*# sourceURL=".concat(cssMapping.sourceRoot||"").concat(source," */")}));return[content].concat(sourceURLs).concat([sourceMapping]).join("\n")}return[content].join("\n")}function toComment(sourceMap){var base64=btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));var data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);return"/*# ".concat(data," */")}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=void 0;var _batch=__webpack_require__(36);var nullListeners={notify:function notify(){}};function createListenerCollection(){var batch=(0,_batch.getBatch)();var first=null;var last=null;return{clear:function clear(){first=null;last=null},notify:function notify(){batch((function(){var listener=first;while(listener){listener.callback();listener=listener.next}}))},get:function get(){var listeners=[];var listener=first;while(listener){listeners.push(listener);listener=listener.next}return listeners},subscribe:function subscribe(callback){var isSubscribed=true;var listener=last={callback:callback,next:null,prev:last};if(listener.prev){listener.prev.next=listener}else{first=listener}return function unsubscribe(){if(!isSubscribed||first===null)return;isSubscribed=false;if(listener.next){listener.next.prev=listener.prev}else{last=listener.prev}if(listener.prev){listener.prev.next=listener.next}else{first=listener.next}}}}}var Subscription=function(){function Subscription(store,parentSub){this.store=store;this.parentSub=parentSub;this.unsubscribe=null;this.listeners=nullListeners;this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var _proto=Subscription.prototype;_proto.addNestedSub=function addNestedSub(listener){this.trySubscribe();return this.listeners.subscribe(listener)};_proto.notifyNestedSubs=function notifyNestedSubs(){this.listeners.notify()};_proto.handleChangeWrapper=function handleChangeWrapper(){if(this.onStateChange){this.onStateChange()}};_proto.isSubscribed=function isSubscribed(){return Boolean(this.unsubscribe)};_proto.trySubscribe=function trySubscribe(){if(!this.unsubscribe){this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper);this.listeners=createListenerCollection()}};_proto.tryUnsubscribe=function tryUnsubscribe(){if(this.unsubscribe){this.unsubscribe();this.unsubscribe=null;this.listeners.clear();this.listeners=nullListeners}};return Subscription}();exports["default"]=Subscription},function(module,exports){function _extends(){module.exports=_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}module.exports=_extends},function(module,exports){function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}module.exports=_objectWithoutPropertiesLoose},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopDefault(ex){return ex&&typeof ex==="object"&&"default"in ex?ex["default"]:ex}var $$observable=_interopDefault(__webpack_require__(55));var randomString=function randomString(){return Math.random().toString(36).substring(7).split("").join(".")};var ActionTypes={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function PROBE_UNKNOWN_ACTION(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function isPlainObject(obj){if(typeof obj!=="object"||obj===null)return false;var proto=obj;while(Object.getPrototypeOf(proto)!==null){proto=Object.getPrototypeOf(proto)}return Object.getPrototypeOf(obj)===proto}function createStore(reducer,preloadedState,enhancer){var _ref2;if(typeof preloadedState==="function"&&typeof enhancer==="function"||typeof enhancer==="function"&&typeof arguments[3]==="function"){throw new Error("It looks like you are passing several store enhancers to "+"createStore(). This is not supported. Instead, compose them "+"together to a single function.")}if(typeof preloadedState==="function"&&typeof enhancer==="undefined"){enhancer=preloadedState;preloadedState=undefined}if(typeof enhancer!=="undefined"){if(typeof enhancer!=="function"){throw new Error("Expected the enhancer to be a function.")}return enhancer(createStore)(reducer,preloadedState)}if(typeof reducer!=="function"){throw new Error("Expected the reducer to be a function.")}var currentReducer=reducer;var currentState=preloadedState;var currentListeners=[];var nextListeners=currentListeners;var isDispatching=false;function ensureCanMutateNextListeners(){if(nextListeners===currentListeners){nextListeners=currentListeners.slice()}}function getState(){if(isDispatching){throw new Error("You may not call store.getState() while the reducer is executing. "+"The reducer has already received the state as an argument. "+"Pass it down from the top reducer instead of reading it from the store.")}return currentState}function subscribe(listener){if(typeof listener!=="function"){throw new Error("Expected the listener to be a function.")}if(isDispatching){throw new Error("You may not call store.subscribe() while the reducer is executing. "+"If you would like to be notified after the store has been updated, subscribe from a "+"component and invoke store.getState() in the callback to access the latest state. "+"See https://redux.js.org/api-reference/store#subscribelistener for more details.")}var isSubscribed=true;ensureCanMutateNextListeners();nextListeners.push(listener);return function unsubscribe(){if(!isSubscribed){return}if(isDispatching){throw new Error("You may not unsubscribe from a store listener while the reducer is executing. "+"See https://redux.js.org/api-reference/store#subscribelistener for more details.")}isSubscribed=false;ensureCanMutateNextListeners();var index=nextListeners.indexOf(listener);nextListeners.splice(index,1);currentListeners=null}}function dispatch(action){if(!isPlainObject(action)){throw new Error("Actions must be plain objects. "+"Use custom middleware for async actions.")}if(typeof action.type==="undefined"){throw new Error('Actions may not have an undefined "type" property. '+"Have you misspelled a constant?")}if(isDispatching){throw new Error("Reducers may not dispatch actions.")}try{isDispatching=true;currentState=currentReducer(currentState,action)}finally{isDispatching=false}var listeners=currentListeners=nextListeners;for(var i=0;i<listeners.length;i++){var listener=listeners[i];listener()}return action}function replaceReducer(nextReducer){if(typeof nextReducer!=="function"){throw new Error("Expected the nextReducer to be a function.")}currentReducer=nextReducer;dispatch({type:ActionTypes.REPLACE})}function observable(){var _ref;var outerSubscribe=subscribe;return _ref={subscribe:function subscribe(observer){if(typeof observer!=="object"||observer===null){throw new TypeError("Expected the observer to be an object.")}function observeState(){if(observer.next){observer.next(getState())}}observeState();var unsubscribe=outerSubscribe(observeState);return{unsubscribe:unsubscribe}}},_ref[$$observable]=function(){return this},_ref}dispatch({type:ActionTypes.INIT});return _ref2={dispatch:dispatch,subscribe:subscribe,getState:getState,replaceReducer:replaceReducer},_ref2[$$observable]=observable,_ref2}function warning(message){if(typeof console!=="undefined"&&typeof console.error==="function"){console.error(message)}try{throw new Error(message)}catch(e){}}function getUndefinedStateErrorMessage(key,action){var actionType=action&&action.type;var actionDescription=actionType&&'action "'+String(actionType)+'"'||"an action";return"Given "+actionDescription+', reducer "'+key+'" returned undefined. '+"To ignore an action, you must explicitly return the previous state. "+"If you want this reducer to hold no value, you can return null instead of undefined."}function getUnexpectedStateShapeWarningMessage(inputState,reducers,action,unexpectedKeyCache){var reducerKeys=Object.keys(reducers);var argumentName=action&&action.type===ActionTypes.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(reducerKeys.length===0){return"Store does not have a valid reducer. Make sure the argument passed "+"to combineReducers is an object whose values are reducers."}if(!isPlainObject(inputState)){return"The "+argumentName+' has unexpected type of "'+{}.toString.call(inputState).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+reducerKeys.join('", "')+'"')}var unexpectedKeys=Object.keys(inputState).filter((function(key){return!reducers.hasOwnProperty(key)&&!unexpectedKeyCache[key]}));unexpectedKeys.forEach((function(key){unexpectedKeyCache[key]=true}));if(action&&action.type===ActionTypes.REPLACE)return;if(unexpectedKeys.length>0){return"Unexpected "+(unexpectedKeys.length>1?"keys":"key")+" "+('"'+unexpectedKeys.join('", "')+'" found in '+argumentName+". ")+"Expected to find one of the known reducer keys instead: "+('"'+reducerKeys.join('", "')+'". Unexpected keys will be ignored.')}}function assertReducerShape(reducers){Object.keys(reducers).forEach((function(key){var reducer=reducers[key];var initialState=reducer(undefined,{type:ActionTypes.INIT});if(typeof initialState==="undefined"){throw new Error('Reducer "'+key+'" returned undefined during initialization. '+"If the state passed to the reducer is undefined, you must "+"explicitly return the initial state. The initial state may "+"not be undefined. If you don't want to set a value for this reducer, "+"you can use null instead of undefined.")}if(typeof reducer(undefined,{type:ActionTypes.PROBE_UNKNOWN_ACTION()})==="undefined"){throw new Error('Reducer "'+key+'" returned undefined when probed with a random type. '+("Don't try to handle "+ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the "+"current state for any unknown actions, unless it is undefined, "+"in which case you must return the initial state, regardless of the "+"action type. The initial state may not be undefined, but can be null.")}}))}function combineReducers(reducers){var reducerKeys=Object.keys(reducers);var finalReducers={};for(var i=0;i<reducerKeys.length;i++){var key=reducerKeys[i];if(false){}if(typeof reducers[key]==="function"){finalReducers[key]=reducers[key]}}var finalReducerKeys=Object.keys(finalReducers);var unexpectedKeyCache;if(false){}var shapeAssertionError;try{assertReducerShape(finalReducers)}catch(e){shapeAssertionError=e}return function combination(state,action){if(state===void 0){state={}}if(shapeAssertionError){throw shapeAssertionError}if(false){var warningMessage}var hasChanged=false;var nextState={};for(var _i=0;_i<finalReducerKeys.length;_i++){var _key=finalReducerKeys[_i];var reducer=finalReducers[_key];var previousStateForKey=state[_key];var nextStateForKey=reducer(previousStateForKey,action);if(typeof nextStateForKey==="undefined"){var errorMessage=getUndefinedStateErrorMessage(_key,action);throw new Error(errorMessage)}nextState[_key]=nextStateForKey;hasChanged=hasChanged||nextStateForKey!==previousStateForKey}hasChanged=hasChanged||finalReducerKeys.length!==Object.keys(state).length;return hasChanged?nextState:state}}function bindActionCreator(actionCreator,dispatch){return function(){return dispatch(actionCreator.apply(this,arguments))}}function bindActionCreators(actionCreators,dispatch){if(typeof actionCreators==="function"){return bindActionCreator(actionCreators,dispatch)}if(typeof actionCreators!=="object"||actionCreators===null){throw new Error("bindActionCreators expected an object or a function, instead received "+(actionCreators===null?"null":typeof actionCreators)+". "+'Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?')}var boundActionCreators={};for(var key in actionCreators){var actionCreator=actionCreators[key];if(typeof actionCreator==="function"){boundActionCreators[key]=bindActionCreator(actionCreator,dispatch)}}return boundActionCreators}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){keys.push.apply(keys,Object.getOwnPropertySymbols(object))}if(enumerableOnly)keys=keys.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}));return keys}function _objectSpread2(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach((function(key){_defineProperty(target,key,source[key])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source))}else{ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}}return target}function compose(){for(var _len=arguments.length,funcs=new Array(_len),_key=0;_key<_len;_key++){funcs[_key]=arguments[_key]}if(funcs.length===0){return function(arg){return arg}}if(funcs.length===1){return funcs[0]}return funcs.reduce((function(a,b){return function(){return a(b.apply(void 0,arguments))}}))}function applyMiddleware(){for(var _len=arguments.length,middlewares=new Array(_len),_key=0;_key<_len;_key++){middlewares[_key]=arguments[_key]}return function(createStore){return function(){var store=createStore.apply(void 0,arguments);var _dispatch=function dispatch(){throw new Error("Dispatching while constructing your middleware is not allowed. "+"Other middleware would not be applied to this dispatch.")};var middlewareAPI={getState:store.getState,dispatch:function dispatch(){return _dispatch.apply(void 0,arguments)}};var chain=middlewares.map((function(middleware){return middleware(middlewareAPI)}));_dispatch=compose.apply(void 0,chain)(store.dispatch);return _objectSpread2({},store,{dispatch:_dispatch})}}}function isCrushed(){}if(false){}exports.__DO_NOT_USE__ActionTypes=ActionTypes;exports.applyMiddleware=applyMiddleware;exports.bindActionCreators=bindActionCreators;exports.combineReducers=combineReducers;exports.compose=compose;exports.createStore=createStore},function(module,exports,__webpack_require__){var _typeof=__webpack_require__(47);function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj)}return newObj}module.exports=_interopRequireWildcard},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.getBatch=exports.setBatch=void 0;function defaultNoopBatch(callback){callback()}var batch=defaultNoopBatch;var setBatch=function setBatch(newBatch){return batch=newBatch};exports.setBatch=setBatch;var getBatch=function getBatch(){return batch};exports.getBatch=getBatch},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(35);var _interopRequireDefault=__webpack_require__(26);exports.__esModule=true;exports["default"]=connectAdvanced;var _extends2=_interopRequireDefault(__webpack_require__(32));var _objectWithoutPropertiesLoose2=_interopRequireDefault(__webpack_require__(33));var _hoistNonReactStatics=_interopRequireDefault(__webpack_require__(51));var _react=_interopRequireWildcard(__webpack_require__(3));var _reactIs=__webpack_require__(38);var _Subscription=_interopRequireDefault(__webpack_require__(31));var _useIsomorphicLayoutEffect=__webpack_require__(39);var _Context=__webpack_require__(27);var EMPTY_ARRAY=[];var NO_SUBSCRIPTION_ARRAY=[null,null];var stringifyComponent=function stringifyComponent(Comp){try{return JSON.stringify(Comp)}catch(err){return String(Comp)}};function storeStateUpdatesReducer(state,action){var updateCount=state[1];return[action.payload,updateCount+1]}function useIsomorphicLayoutEffectWithArgs(effectFunc,effectArgs,dependencies){(0,_useIsomorphicLayoutEffect.useIsomorphicLayoutEffect)((function(){return effectFunc.apply(void 0,effectArgs)}),dependencies)}function captureWrapperProps(lastWrapperProps,lastChildProps,renderIsScheduled,wrapperProps,actualChildProps,childPropsFromStoreUpdate,notifyNestedSubs){lastWrapperProps.current=wrapperProps;lastChildProps.current=actualChildProps;renderIsScheduled.current=false;if(childPropsFromStoreUpdate.current){childPropsFromStoreUpdate.current=null;notifyNestedSubs()}}function subscribeUpdates(shouldHandleStateChanges,store,subscription,childPropsSelector,lastWrapperProps,lastChildProps,renderIsScheduled,childPropsFromStoreUpdate,notifyNestedSubs,forceComponentUpdateDispatch){if(!shouldHandleStateChanges)return;var didUnsubscribe=false;var lastThrownError=null;var checkForUpdates=function checkForUpdates(){if(didUnsubscribe){return}var latestStoreState=store.getState();var newChildProps,error;try{newChildProps=childPropsSelector(latestStoreState,lastWrapperProps.current)}catch(e){error=e;lastThrownError=e}if(!error){lastThrownError=null}if(newChildProps===lastChildProps.current){if(!renderIsScheduled.current){notifyNestedSubs()}}else{lastChildProps.current=newChildProps;childPropsFromStoreUpdate.current=newChildProps;renderIsScheduled.current=true;forceComponentUpdateDispatch({type:"STORE_UPDATED",payload:{error:error}})}};subscription.onStateChange=checkForUpdates;subscription.trySubscribe();checkForUpdates();var unsubscribeWrapper=function unsubscribeWrapper(){didUnsubscribe=true;subscription.tryUnsubscribe();subscription.onStateChange=null;if(lastThrownError){throw lastThrownError}};return unsubscribeWrapper}var initStateUpdates=function initStateUpdates(){return[null,0]};function connectAdvanced(selectorFactory,_ref){if(_ref===void 0){_ref={}}var _ref2=_ref,_ref2$getDisplayName=_ref2.getDisplayName,getDisplayName=_ref2$getDisplayName===void 0?function(name){return"ConnectAdvanced("+name+")"}:_ref2$getDisplayName,_ref2$methodName=_ref2.methodName,methodName=_ref2$methodName===void 0?"connectAdvanced":_ref2$methodName,_ref2$renderCountProp=_ref2.renderCountProp,renderCountProp=_ref2$renderCountProp===void 0?undefined:_ref2$renderCountProp,_ref2$shouldHandleSta=_ref2.shouldHandleStateChanges,shouldHandleStateChanges=_ref2$shouldHandleSta===void 0?true:_ref2$shouldHandleSta,_ref2$storeKey=_ref2.storeKey,storeKey=_ref2$storeKey===void 0?"store":_ref2$storeKey,_ref2$withRef=_ref2.withRef,withRef=_ref2$withRef===void 0?false:_ref2$withRef,_ref2$forwardRef=_ref2.forwardRef,forwardRef=_ref2$forwardRef===void 0?false:_ref2$forwardRef,_ref2$context=_ref2.context,context=_ref2$context===void 0?_Context.ReactReduxContext:_ref2$context,connectOptions=(0,_objectWithoutPropertiesLoose2["default"])(_ref2,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);if(false){var customStoreWarningMessage}var Context=context;return function wrapWithConnect(WrappedComponent){if(false){}var wrappedComponentName=WrappedComponent.displayName||WrappedComponent.name||"Component";var displayName=getDisplayName(wrappedComponentName);var selectorFactoryOptions=(0,_extends2["default"])({},connectOptions,{getDisplayName:getDisplayName,methodName:methodName,renderCountProp:renderCountProp,shouldHandleStateChanges:shouldHandleStateChanges,storeKey:storeKey,displayName:displayName,wrappedComponentName:wrappedComponentName,WrappedComponent:WrappedComponent});var pure=connectOptions.pure;function createChildSelector(store){return selectorFactory(store.dispatch,selectorFactoryOptions)}var usePureOnlyMemo=pure?_react.useMemo:function(callback){return callback()};function ConnectFunction(props){var _useMemo=(0,_react.useMemo)((function(){var forwardedRef=props.forwardedRef,wrapperProps=(0,_objectWithoutPropertiesLoose2["default"])(props,["forwardedRef"]);return[props.context,forwardedRef,wrapperProps]}),[props]),propsContext=_useMemo[0],forwardedRef=_useMemo[1],wrapperProps=_useMemo[2];var ContextToUse=(0,_react.useMemo)((function(){return propsContext&&propsContext.Consumer&&(0,_reactIs.isContextConsumer)(_react["default"].createElement(propsContext.Consumer,null))?propsContext:Context}),[propsContext,Context]);var contextValue=(0,_react.useContext)(ContextToUse);var didStoreComeFromProps=Boolean(props.store)&&Boolean(props.store.getState)&&Boolean(props.store.dispatch);var didStoreComeFromContext=Boolean(contextValue)&&Boolean(contextValue.store);if(false){}var store=didStoreComeFromProps?props.store:contextValue.store;var childPropsSelector=(0,_react.useMemo)((function(){return createChildSelector(store)}),[store]);var _useMemo2=(0,_react.useMemo)((function(){if(!shouldHandleStateChanges)return NO_SUBSCRIPTION_ARRAY;var subscription=new _Subscription["default"](store,didStoreComeFromProps?null:contextValue.subscription);var notifyNestedSubs=subscription.notifyNestedSubs.bind(subscription);return[subscription,notifyNestedSubs]}),[store,didStoreComeFromProps,contextValue]),subscription=_useMemo2[0],notifyNestedSubs=_useMemo2[1];var overriddenContextValue=(0,_react.useMemo)((function(){if(didStoreComeFromProps){return contextValue}return(0,_extends2["default"])({},contextValue,{subscription:subscription})}),[didStoreComeFromProps,contextValue,subscription]);var _useReducer=(0,_react.useReducer)(storeStateUpdatesReducer,EMPTY_ARRAY,initStateUpdates),_useReducer$=_useReducer[0],previousStateUpdateResult=_useReducer$[0],forceComponentUpdateDispatch=_useReducer[1];if(previousStateUpdateResult&&previousStateUpdateResult.error){throw previousStateUpdateResult.error}var lastChildProps=(0,_react.useRef)();var lastWrapperProps=(0,_react.useRef)(wrapperProps);var childPropsFromStoreUpdate=(0,_react.useRef)();var renderIsScheduled=(0,_react.useRef)(false);var actualChildProps=usePureOnlyMemo((function(){if(childPropsFromStoreUpdate.current&&wrapperProps===lastWrapperProps.current){return childPropsFromStoreUpdate.current}return childPropsSelector(store.getState(),wrapperProps)}),[store,previousStateUpdateResult,wrapperProps]);useIsomorphicLayoutEffectWithArgs(captureWrapperProps,[lastWrapperProps,lastChildProps,renderIsScheduled,wrapperProps,actualChildProps,childPropsFromStoreUpdate,notifyNestedSubs]);useIsomorphicLayoutEffectWithArgs(subscribeUpdates,[shouldHandleStateChanges,store,subscription,childPropsSelector,lastWrapperProps,lastChildProps,renderIsScheduled,childPropsFromStoreUpdate,notifyNestedSubs,forceComponentUpdateDispatch],[store,subscription,childPropsSelector]);var renderedWrappedComponent=(0,_react.useMemo)((function(){return _react["default"].createElement(WrappedComponent,(0,_extends2["default"])({},actualChildProps,{ref:forwardedRef}))}),[forwardedRef,WrappedComponent,actualChildProps]);var renderedChild=(0,_react.useMemo)((function(){if(shouldHandleStateChanges){return _react["default"].createElement(ContextToUse.Provider,{value:overriddenContextValue},renderedWrappedComponent)}return renderedWrappedComponent}),[ContextToUse,renderedWrappedComponent,overriddenContextValue]);return renderedChild}var Connect=pure?_react["default"].memo(ConnectFunction):ConnectFunction;Connect.WrappedComponent=WrappedComponent;Connect.displayName=displayName;if(forwardRef){var forwarded=_react["default"].forwardRef((function forwardConnectRef(props,ref){return _react["default"].createElement(Connect,(0,_extends2["default"])({},props,{forwardedRef:ref}))}));forwarded.displayName=displayName;forwarded.WrappedComponent=WrappedComponent;return(0,_hoistNonReactStatics["default"])(forwarded,WrappedComponent)}return(0,_hoistNonReactStatics["default"])(Connect,WrappedComponent)}}},function(module,exports,__webpack_require__){"use strict";if(true){module.exports=__webpack_require__(52)}else{}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.useIsomorphicLayoutEffect=void 0;var _react=__webpack_require__(3);var useIsomorphicLayoutEffect=typeof window!=="undefined"&&typeof window.document!=="undefined"&&typeof window.document.createElement!=="undefined"?_react.useLayoutEffect:_react.useEffect;exports.useIsomorphicLayoutEffect=useIsomorphicLayoutEffect},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=shallowEqual;function is(x,y){if(x===y){return x!==0||y!==0||1/x===1/y}else{return x!==x&&y!==y}}function shallowEqual(objA,objB){if(is(objA,objB))return true;if(typeof objA!=="object"||objA===null||typeof objB!=="object"||objB===null){return false}var keysA=Object.keys(objA);var keysB=Object.keys(objB);if(keysA.length!==keysB.length)return false;for(var i=0;i<keysA.length;i++){if(!Object.prototype.hasOwnProperty.call(objB,keysA[i])||!is(objA[keysA[i]],objB[keysA[i]])){return false}}return true}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(26);exports.__esModule=true;exports.wrapMapToPropsConstant=wrapMapToPropsConstant;exports.getDependsOnOwnProps=getDependsOnOwnProps;exports.wrapMapToPropsFunc=wrapMapToPropsFunc;var _verifyPlainObject=_interopRequireDefault(__webpack_require__(42));function wrapMapToPropsConstant(getConstant){return function initConstantSelector(dispatch,options){var constant=getConstant(dispatch,options);function constantSelector(){return constant}constantSelector.dependsOnOwnProps=false;return constantSelector}}function getDependsOnOwnProps(mapToProps){return mapToProps.dependsOnOwnProps!==null&&mapToProps.dependsOnOwnProps!==undefined?Boolean(mapToProps.dependsOnOwnProps):mapToProps.length!==1}function wrapMapToPropsFunc(mapToProps,methodName){return function initProxySelector(dispatch,_ref){var displayName=_ref.displayName;var proxy=function mapToPropsProxy(stateOrDispatch,ownProps){return proxy.dependsOnOwnProps?proxy.mapToProps(stateOrDispatch,ownProps):proxy.mapToProps(stateOrDispatch)};proxy.dependsOnOwnProps=true;proxy.mapToProps=function detectFactoryAndVerify(stateOrDispatch,ownProps){proxy.mapToProps=mapToProps;proxy.dependsOnOwnProps=getDependsOnOwnProps(mapToProps);var props=proxy(stateOrDispatch,ownProps);if(typeof props==="function"){proxy.mapToProps=props;proxy.dependsOnOwnProps=getDependsOnOwnProps(props);props=proxy(stateOrDispatch,ownProps)}if(false){}return props};return proxy}}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(26);exports.__esModule=true;exports["default"]=verifyPlainObject;var _isPlainObject=_interopRequireDefault(__webpack_require__(59));var _warning=_interopRequireDefault(__webpack_require__(43));function verifyPlainObject(value,displayName,methodName){if(!(0,_isPlainObject["default"])(value)){(0,_warning["default"])(methodName+"() in "+displayName+" must return a plain object. Instead received "+value+".")}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=warning;function warning(message){if(typeof console!=="undefined"&&typeof console.error==="function"){console.error(message)}try{throw new Error(message)}catch(e){}}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.createStoreHook=createStoreHook;exports.useStore=void 0;var _react=__webpack_require__(3);var _Context=__webpack_require__(27);var _useReduxContext2=__webpack_require__(45);function createStoreHook(context){if(context===void 0){context=_Context.ReactReduxContext}var useReduxContext=context===_Context.ReactReduxContext?_useReduxContext2.useReduxContext:function(){return(0,_react.useContext)(context)};return function useStore(){var _useReduxContext=useReduxContext(),store=_useReduxContext.store;return store}}var useStore=createStoreHook();exports.useStore=useStore},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.useReduxContext=useReduxContext;var _react=__webpack_require__(3);var _Context=__webpack_require__(27);function useReduxContext(){var contextValue=(0,_react.useContext)(_Context.ReactReduxContext);if(false){}return contextValue}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(26);var _interopRequireWildcard=__webpack_require__(35);exports.__esModule=true;exports["default"]=void 0;var _react=_interopRequireWildcard(__webpack_require__(3));var _propTypes=_interopRequireDefault(__webpack_require__(48));var _Context=__webpack_require__(27);var _Subscription=_interopRequireDefault(__webpack_require__(31));function Provider(_ref){var store=_ref.store,context=_ref.context,children=_ref.children;var contextValue=(0,_react.useMemo)((function(){var subscription=new _Subscription["default"](store);subscription.onStateChange=subscription.notifyNestedSubs;return{store:store,subscription:subscription}}),[store]);var previousState=(0,_react.useMemo)((function(){return store.getState()}),[store]);(0,_react.useEffect)((function(){var subscription=contextValue.subscription;subscription.trySubscribe();if(previousState!==store.getState()){subscription.notifyNestedSubs()}return function(){subscription.tryUnsubscribe();subscription.onStateChange=null}}),[contextValue,previousState]);var Context=context||_Context.ReactReduxContext;return _react["default"].createElement(Context.Provider,{value:contextValue},children)}if(false){}var _default=Provider;exports["default"]=_default},function(module,exports){function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){module.exports=_typeof=function _typeof(obj){return typeof obj}}else{module.exports=_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}module.exports=_typeof},function(module,exports,__webpack_require__){if(false){var throwOnDirectAccess,ReactIs}else{module.exports=__webpack_require__(49)()}},function(module,exports,__webpack_require__){"use strict";var ReactPropTypesSecret=__webpack_require__(50);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret===ReactPropTypesSecret){return}var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. "+"Use PropTypes.checkPropTypes() to call them. "+"Read more at http://fb.me/use-check-prop-types");err.name="Invariant Violation";throw err}shim.isRequired=shim;function getShim(){return shim}var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};ReactPropTypes.PropTypes=ReactPropTypes;return ReactPropTypes}},function(module,exports,__webpack_require__){"use strict";var ReactPropTypesSecret="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";module.exports=ReactPropTypesSecret},function(module,exports,__webpack_require__){"use strict";var reactIs=__webpack_require__(38);var REACT_STATICS={childContextTypes:true,contextType:true,contextTypes:true,defaultProps:true,displayName:true,getDefaultProps:true,getDerivedStateFromError:true,getDerivedStateFromProps:true,mixins:true,propTypes:true,type:true};var KNOWN_STATICS={name:true,length:true,prototype:true,caller:true,callee:true,arguments:true,arity:true};var FORWARD_REF_STATICS={$$typeof:true,render:true,defaultProps:true,displayName:true,propTypes:true};var MEMO_STATICS={$$typeof:true,compare:true,defaultProps:true,displayName:true,propTypes:true,type:true};var TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;function getStatics(component){if(reactIs.isMemo(component)){return MEMO_STATICS}return TYPE_STATICS[component["$$typeof"]]||REACT_STATICS}var defineProperty=Object.defineProperty;var getOwnPropertyNames=Object.getOwnPropertyNames;var getOwnPropertySymbols=Object.getOwnPropertySymbols;var getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;var getPrototypeOf=Object.getPrototypeOf;var objectPrototype=Object.prototype;function hoistNonReactStatics(targetComponent,sourceComponent,blacklist){if(typeof sourceComponent!=="string"){if(objectPrototype){var inheritedComponent=getPrototypeOf(sourceComponent);if(inheritedComponent&&inheritedComponent!==objectPrototype){hoistNonReactStatics(targetComponent,inheritedComponent,blacklist)}}var keys=getOwnPropertyNames(sourceComponent);if(getOwnPropertySymbols){keys=keys.concat(getOwnPropertySymbols(sourceComponent))}var targetStatics=getStatics(targetComponent);var sourceStatics=getStatics(sourceComponent);for(var i=0;i<keys.length;++i){var key=keys[i];if(!KNOWN_STATICS[key]&&!(blacklist&&blacklist[key])&&!(sourceStatics&&sourceStatics[key])&&!(targetStatics&&targetStatics[key])){var descriptor=getOwnPropertyDescriptor(sourceComponent,key);try{defineProperty(targetComponent,key,descriptor)}catch(e){}}}}return targetComponent}module.exports=hoistNonReactStatics},function(module,exports,__webpack_require__){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b="function"===typeof Symbol&&Symbol.for,c=b?Symbol.for("react.element"):60103,d=b?Symbol.for("react.portal"):60106,e=b?Symbol.for("react.fragment"):60107,f=b?Symbol.for("react.strict_mode"):60108,g=b?Symbol.for("react.profiler"):60114,h=b?Symbol.for("react.provider"):60109,k=b?Symbol.for("react.context"):60110,l=b?Symbol.for("react.async_mode"):60111,m=b?Symbol.for("react.concurrent_mode"):60111,n=b?Symbol.for("react.forward_ref"):60112,p=b?Symbol.for("react.suspense"):60113,q=b?Symbol.for("react.suspense_list"):60120,r=b?Symbol.for("react.memo"):60115,t=b?Symbol.for("react.lazy"):60116,v=b?Symbol.for("react.block"):60121,w=b?Symbol.for("react.fundamental"):60117,x=b?Symbol.for("react.responder"):60118,y=b?Symbol.for("react.scope"):60119;function z(a){if("object"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;exports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};exports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};exports.isValidElementType=function(a){return"string"===typeof a||"function"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||"object"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(26);exports.__esModule=true;exports.createConnect=createConnect;exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(32));var _objectWithoutPropertiesLoose2=_interopRequireDefault(__webpack_require__(33));var _connectAdvanced=_interopRequireDefault(__webpack_require__(37));var _shallowEqual=_interopRequireDefault(__webpack_require__(40));var _mapDispatchToProps=_interopRequireDefault(__webpack_require__(54));var _mapStateToProps=_interopRequireDefault(__webpack_require__(60));var _mergeProps=_interopRequireDefault(__webpack_require__(61));var _selectorFactory=_interopRequireDefault(__webpack_require__(62));function match(arg,factories,name){for(var i=factories.length-1;i>=0;i--){var result=factories[i](arg);if(result)return result}return function(dispatch,options){throw new Error("Invalid value of type "+typeof arg+" for "+name+" argument when connecting component "+options.wrappedComponentName+".")}}function strictEqual(a,b){return a===b}function createConnect(_temp){var _ref=_temp===void 0?{}:_temp,_ref$connectHOC=_ref.connectHOC,connectHOC=_ref$connectHOC===void 0?_connectAdvanced["default"]:_ref$connectHOC,_ref$mapStateToPropsF=_ref.mapStateToPropsFactories,mapStateToPropsFactories=_ref$mapStateToPropsF===void 0?_mapStateToProps["default"]:_ref$mapStateToPropsF,_ref$mapDispatchToPro=_ref.mapDispatchToPropsFactories,mapDispatchToPropsFactories=_ref$mapDispatchToPro===void 0?_mapDispatchToProps["default"]:_ref$mapDispatchToPro,_ref$mergePropsFactor=_ref.mergePropsFactories,mergePropsFactories=_ref$mergePropsFactor===void 0?_mergeProps["default"]:_ref$mergePropsFactor,_ref$selectorFactory=_ref.selectorFactory,selectorFactory=_ref$selectorFactory===void 0?_selectorFactory["default"]:_ref$selectorFactory;return function connect(mapStateToProps,mapDispatchToProps,mergeProps,_ref2){if(_ref2===void 0){_ref2={}}var _ref3=_ref2,_ref3$pure=_ref3.pure,pure=_ref3$pure===void 0?true:_ref3$pure,_ref3$areStatesEqual=_ref3.areStatesEqual,areStatesEqual=_ref3$areStatesEqual===void 0?strictEqual:_ref3$areStatesEqual,_ref3$areOwnPropsEqua=_ref3.areOwnPropsEqual,areOwnPropsEqual=_ref3$areOwnPropsEqua===void 0?_shallowEqual["default"]:_ref3$areOwnPropsEqua,_ref3$areStatePropsEq=_ref3.areStatePropsEqual,areStatePropsEqual=_ref3$areStatePropsEq===void 0?_shallowEqual["default"]:_ref3$areStatePropsEq,_ref3$areMergedPropsE=_ref3.areMergedPropsEqual,areMergedPropsEqual=_ref3$areMergedPropsE===void 0?_shallowEqual["default"]:_ref3$areMergedPropsE,extraOptions=(0,_objectWithoutPropertiesLoose2["default"])(_ref3,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]);var initMapStateToProps=match(mapStateToProps,mapStateToPropsFactories,"mapStateToProps");var initMapDispatchToProps=match(mapDispatchToProps,mapDispatchToPropsFactories,"mapDispatchToProps");var initMergeProps=match(mergeProps,mergePropsFactories,"mergeProps");return connectHOC(selectorFactory,(0,_extends2["default"])({methodName:"connect",getDisplayName:function getDisplayName(name){return"Connect("+name+")"},shouldHandleStateChanges:Boolean(mapStateToProps),initMapStateToProps:initMapStateToProps,initMapDispatchToProps:initMapDispatchToProps,initMergeProps:initMergeProps,pure:pure,areStatesEqual:areStatesEqual,areOwnPropsEqual:areOwnPropsEqual,areStatePropsEqual:areStatePropsEqual,areMergedPropsEqual:areMergedPropsEqual},extraOptions))}}var _default=createConnect();exports["default"]=_default},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.whenMapDispatchToPropsIsFunction=whenMapDispatchToPropsIsFunction;exports.whenMapDispatchToPropsIsMissing=whenMapDispatchToPropsIsMissing;exports.whenMapDispatchToPropsIsObject=whenMapDispatchToPropsIsObject;exports["default"]=void 0;var _redux=__webpack_require__(34);var _wrapMapToProps=__webpack_require__(41);function whenMapDispatchToPropsIsFunction(mapDispatchToProps){return typeof mapDispatchToProps==="function"?(0,_wrapMapToProps.wrapMapToPropsFunc)(mapDispatchToProps,"mapDispatchToProps"):undefined}function whenMapDispatchToPropsIsMissing(mapDispatchToProps){return!mapDispatchToProps?(0,_wrapMapToProps.wrapMapToPropsConstant)((function(dispatch){return{dispatch:dispatch}})):undefined}function whenMapDispatchToPropsIsObject(mapDispatchToProps){return mapDispatchToProps&&typeof mapDispatchToProps==="object"?(0,_wrapMapToProps.wrapMapToPropsConstant)((function(dispatch){return(0,_redux.bindActionCreators)(mapDispatchToProps,dispatch)})):undefined}var _default=[whenMapDispatchToPropsIsFunction,whenMapDispatchToPropsIsMissing,whenMapDispatchToPropsIsObject];exports["default"]=_default},function(module,exports,__webpack_require__){"use strict";(function(global,module){Object.defineProperty(exports,"__esModule",{value:true});var _ponyfill=__webpack_require__(58);var _ponyfill2=_interopRequireDefault(_ponyfill);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var root;if(typeof self!=="undefined"){root=self}else if(typeof window!=="undefined"){root=window}else if(typeof global!=="undefined"){root=global}else if(true){root=module}else{}var result=(0,_ponyfill2["default"])(root);exports["default"]=result}).call(this,__webpack_require__(56),__webpack_require__(57)(module))},function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){if(typeof window==="object")g=window}module.exports=g},function(module,exports){module.exports=function(module){if(!module.webpackPolyfill){module.deprecate=function(){};module.paths=[];if(!module.children)module.children=[];Object.defineProperty(module,"loaded",{enumerable:true,get:function(){return module.l}});Object.defineProperty(module,"id",{enumerable:true,get:function(){return module.i}});module.webpackPolyfill=1}return module}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=symbolObservablePonyfill;function symbolObservablePonyfill(root){var result;var _Symbol=root.Symbol;if(typeof _Symbol==="function"){if(_Symbol.observable){result=_Symbol.observable}else{result=_Symbol("observable");_Symbol.observable=result}}else{result="@@observable"}return result}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports["default"]=isPlainObject;function isPlainObject(obj){if(typeof obj!=="object"||obj===null)return false;var proto=Object.getPrototypeOf(obj);if(proto===null)return true;var baseProto=proto;while(Object.getPrototypeOf(baseProto)!==null){baseProto=Object.getPrototypeOf(baseProto)}return proto===baseProto}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.whenMapStateToPropsIsFunction=whenMapStateToPropsIsFunction;exports.whenMapStateToPropsIsMissing=whenMapStateToPropsIsMissing;exports["default"]=void 0;var _wrapMapToProps=__webpack_require__(41);function whenMapStateToPropsIsFunction(mapStateToProps){return typeof mapStateToProps==="function"?(0,_wrapMapToProps.wrapMapToPropsFunc)(mapStateToProps,"mapStateToProps"):undefined}function whenMapStateToPropsIsMissing(mapStateToProps){return!mapStateToProps?(0,_wrapMapToProps.wrapMapToPropsConstant)((function(){return{}})):undefined}var _default=[whenMapStateToPropsIsFunction,whenMapStateToPropsIsMissing];exports["default"]=_default},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(26);exports.__esModule=true;exports.defaultMergeProps=defaultMergeProps;exports.wrapMergePropsFunc=wrapMergePropsFunc;exports.whenMergePropsIsFunction=whenMergePropsIsFunction;exports.whenMergePropsIsOmitted=whenMergePropsIsOmitted;exports["default"]=void 0;var _extends2=_interopRequireDefault(__webpack_require__(32));var _verifyPlainObject=_interopRequireDefault(__webpack_require__(42));function defaultMergeProps(stateProps,dispatchProps,ownProps){return(0,_extends2["default"])({},ownProps,{},stateProps,{},dispatchProps)}function wrapMergePropsFunc(mergeProps){return function initMergePropsProxy(dispatch,_ref){var displayName=_ref.displayName,pure=_ref.pure,areMergedPropsEqual=_ref.areMergedPropsEqual;var hasRunOnce=false;var mergedProps;return function mergePropsProxy(stateProps,dispatchProps,ownProps){var nextMergedProps=mergeProps(stateProps,dispatchProps,ownProps);if(hasRunOnce){if(!pure||!areMergedPropsEqual(nextMergedProps,mergedProps))mergedProps=nextMergedProps}else{hasRunOnce=true;mergedProps=nextMergedProps;if(false){}}return mergedProps}}}function whenMergePropsIsFunction(mergeProps){return typeof mergeProps==="function"?wrapMergePropsFunc(mergeProps):undefined}function whenMergePropsIsOmitted(mergeProps){return!mergeProps?function(){return defaultMergeProps}:undefined}var _default=[whenMergePropsIsFunction,whenMergePropsIsOmitted];exports["default"]=_default},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(26);exports.__esModule=true;exports.impureFinalPropsSelectorFactory=impureFinalPropsSelectorFactory;exports.pureFinalPropsSelectorFactory=pureFinalPropsSelectorFactory;exports["default"]=finalPropsSelectorFactory;var _objectWithoutPropertiesLoose2=_interopRequireDefault(__webpack_require__(33));var _verifySubselectors=_interopRequireDefault(__webpack_require__(63));function impureFinalPropsSelectorFactory(mapStateToProps,mapDispatchToProps,mergeProps,dispatch){return function impureFinalPropsSelector(state,ownProps){return mergeProps(mapStateToProps(state,ownProps),mapDispatchToProps(dispatch,ownProps),ownProps)}}function pureFinalPropsSelectorFactory(mapStateToProps,mapDispatchToProps,mergeProps,dispatch,_ref){var areStatesEqual=_ref.areStatesEqual,areOwnPropsEqual=_ref.areOwnPropsEqual,areStatePropsEqual=_ref.areStatePropsEqual;var hasRunAtLeastOnce=false;var state;var ownProps;var stateProps;var dispatchProps;var mergedProps;function handleFirstCall(firstState,firstOwnProps){state=firstState;ownProps=firstOwnProps;stateProps=mapStateToProps(state,ownProps);dispatchProps=mapDispatchToProps(dispatch,ownProps);mergedProps=mergeProps(stateProps,dispatchProps,ownProps);hasRunAtLeastOnce=true;return mergedProps}function handleNewPropsAndNewState(){stateProps=mapStateToProps(state,ownProps);if(mapDispatchToProps.dependsOnOwnProps)dispatchProps=mapDispatchToProps(dispatch,ownProps);mergedProps=mergeProps(stateProps,dispatchProps,ownProps);return mergedProps}function handleNewProps(){if(mapStateToProps.dependsOnOwnProps)stateProps=mapStateToProps(state,ownProps);if(mapDispatchToProps.dependsOnOwnProps)dispatchProps=mapDispatchToProps(dispatch,ownProps);mergedProps=mergeProps(stateProps,dispatchProps,ownProps);return mergedProps}function handleNewState(){var nextStateProps=mapStateToProps(state,ownProps);var statePropsChanged=!areStatePropsEqual(nextStateProps,stateProps);stateProps=nextStateProps;if(statePropsChanged)mergedProps=mergeProps(stateProps,dispatchProps,ownProps);return mergedProps}function handleSubsequentCalls(nextState,nextOwnProps){var propsChanged=!areOwnPropsEqual(nextOwnProps,ownProps);var stateChanged=!areStatesEqual(nextState,state);state=nextState;ownProps=nextOwnProps;if(propsChanged&&stateChanged)return handleNewPropsAndNewState();if(propsChanged)return handleNewProps();if(stateChanged)return handleNewState();return mergedProps}return function pureFinalPropsSelector(nextState,nextOwnProps){return hasRunAtLeastOnce?handleSubsequentCalls(nextState,nextOwnProps):handleFirstCall(nextState,nextOwnProps)}}function finalPropsSelectorFactory(dispatch,_ref2){var initMapStateToProps=_ref2.initMapStateToProps,initMapDispatchToProps=_ref2.initMapDispatchToProps,initMergeProps=_ref2.initMergeProps,options=(0,_objectWithoutPropertiesLoose2["default"])(_ref2,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]);var mapStateToProps=initMapStateToProps(dispatch,options);var mapDispatchToProps=initMapDispatchToProps(dispatch,options);var mergeProps=initMergeProps(dispatch,options);if(false){}var selectorFactory=options.pure?pureFinalPropsSelectorFactory:impureFinalPropsSelectorFactory;return selectorFactory(mapStateToProps,mapDispatchToProps,mergeProps,dispatch,options)}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(26);exports.__esModule=true;exports["default"]=verifySubselectors;var _warning=_interopRequireDefault(__webpack_require__(43));function verify(selector,methodName,displayName){if(!selector){throw new Error("Unexpected value for "+methodName+" in "+displayName+".")}else if(methodName==="mapStateToProps"||methodName==="mapDispatchToProps"){if(!Object.prototype.hasOwnProperty.call(selector,"dependsOnOwnProps")){(0,_warning["default"])("The selector for "+methodName+" of "+displayName+" did not specify a value for dependsOnOwnProps.")}}}function verifySubselectors(mapStateToProps,mapDispatchToProps,mergeProps,displayName){verify(mapStateToProps,"mapStateToProps",displayName);verify(mapDispatchToProps,"mapDispatchToProps",displayName);verify(mergeProps,"mergeProps",displayName)}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.createDispatchHook=createDispatchHook;exports.useDispatch=void 0;var _Context=__webpack_require__(27);var _useStore=__webpack_require__(44);function createDispatchHook(context){if(context===void 0){context=_Context.ReactReduxContext}var useStore=context===_Context.ReactReduxContext?_useStore.useStore:(0,_useStore.createStoreHook)(context);return function useDispatch(){var store=useStore();return store.dispatch}}var useDispatch=createDispatchHook();exports.useDispatch=useDispatch},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(26);exports.__esModule=true;exports.createSelectorHook=createSelectorHook;exports.useSelector=void 0;var _react=__webpack_require__(3);var _useReduxContext2=__webpack_require__(45);var _Subscription=_interopRequireDefault(__webpack_require__(31));var _useIsomorphicLayoutEffect=__webpack_require__(39);var _Context=__webpack_require__(27);var refEquality=function refEquality(a,b){return a===b};function useSelectorWithStoreAndSubscription(selector,equalityFn,store,contextSub){var _useReducer=(0,_react.useReducer)((function(s){return s+1}),0),forceRender=_useReducer[1];var subscription=(0,_react.useMemo)((function(){return new _Subscription["default"](store,contextSub)}),[store,contextSub]);var latestSubscriptionCallbackError=(0,_react.useRef)();var latestSelector=(0,_react.useRef)();var latestSelectedState=(0,_react.useRef)();var selectedState;try{if(selector!==latestSelector.current||latestSubscriptionCallbackError.current){selectedState=selector(store.getState())}else{selectedState=latestSelectedState.current}}catch(err){if(latestSubscriptionCallbackError.current){err.message+="\nThe error may be correlated with this previous error:\n"+latestSubscriptionCallbackError.current.stack+"\n\n"}throw err}(0,_useIsomorphicLayoutEffect.useIsomorphicLayoutEffect)((function(){latestSelector.current=selector;latestSelectedState.current=selectedState;latestSubscriptionCallbackError.current=undefined}));(0,_useIsomorphicLayoutEffect.useIsomorphicLayoutEffect)((function(){function checkForUpdates(){try{var newSelectedState=latestSelector.current(store.getState());if(equalityFn(newSelectedState,latestSelectedState.current)){return}latestSelectedState.current=newSelectedState}catch(err){latestSubscriptionCallbackError.current=err}forceRender({})}subscription.onStateChange=checkForUpdates;subscription.trySubscribe();checkForUpdates();return function(){return subscription.tryUnsubscribe()}}),[store,subscription]);return selectedState}function createSelectorHook(context){if(context===void 0){context=_Context.ReactReduxContext}var useReduxContext=context===_Context.ReactReduxContext?_useReduxContext2.useReduxContext:function(){return(0,_react.useContext)(context)};return function useSelector(selector,equalityFn){if(equalityFn===void 0){equalityFn=refEquality}if(false){}var _useReduxContext=useReduxContext(),store=_useReduxContext.store,contextSub=_useReduxContext.subscription;return useSelectorWithStoreAndSubscription(selector,equalityFn,store,contextSub)}}var useSelector=createSelectorHook();exports.useSelector=useSelector},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.unstable_batchedUpdates=void 0;var _reactDom=__webpack_require__(24);exports.unstable_batchedUpdates=_reactDom.unstable_batchedUpdates},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function createThunkMiddleware(extraArgument){return function(_ref){var dispatch=_ref.dispatch,getState=_ref.getState;return function(next){return function(action){if(typeof action==="function"){return action(dispatch,getState,extraArgument)}return next(action)}}}}var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware;exports["default"]=thunk},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.defaultMemoize=defaultMemoize;exports.createSelectorCreator=createSelectorCreator;exports.createStructuredSelector=createStructuredSelector;function defaultEqualityCheck(a,b){return a===b}function areArgumentsShallowlyEqual(equalityCheck,prev,next){if(prev===null||next===null||prev.length!==next.length){return false}var length=prev.length;for(var i=0;i<length;i++){if(!equalityCheck(prev[i],next[i])){return false}}return true}function defaultMemoize(func){var equalityCheck=arguments.length>1&&arguments[1]!==undefined?arguments[1]:defaultEqualityCheck;var lastArgs=null;var lastResult=null;return function(){if(!areArgumentsShallowlyEqual(equalityCheck,lastArgs,arguments)){lastResult=func.apply(null,arguments)}lastArgs=arguments;return lastResult}}function getDependencies(funcs){var dependencies=Array.isArray(funcs[0])?funcs[0]:funcs;if(!dependencies.every((function(dep){return typeof dep==="function"}))){var dependencyTypes=dependencies.map((function(dep){return typeof dep})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, "+("instead received the following types: ["+dependencyTypes+"]"))}return dependencies}function createSelectorCreator(memoize){for(var _len=arguments.length,memoizeOptions=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){memoizeOptions[_key-1]=arguments[_key]}return function(){for(var _len2=arguments.length,funcs=Array(_len2),_key2=0;_key2<_len2;_key2++){funcs[_key2]=arguments[_key2]}var recomputations=0;var resultFunc=funcs.pop();var dependencies=getDependencies(funcs);var memoizedResultFunc=memoize.apply(undefined,[function(){recomputations++;return resultFunc.apply(null,arguments)}].concat(memoizeOptions));var selector=memoize((function(){var params=[];var length=dependencies.length;for(var i=0;i<length;i++){params.push(dependencies[i].apply(null,arguments))}return memoizedResultFunc.apply(null,params)}));selector.resultFunc=resultFunc;selector.dependencies=dependencies;selector.recomputations=function(){return recomputations};selector.resetRecomputations=function(){return recomputations=0};return selector}}var createSelector=exports.createSelector=createSelectorCreator(defaultMemoize);function createStructuredSelector(selectors){var selectorCreator=arguments.length>1&&arguments[1]!==undefined?arguments[1]:createSelector;if(typeof selectors!=="object"){throw new Error("createStructuredSelector expects first argument to be an object "+("where each property is a selector, instead received a "+typeof selectors))}var objectKeys=Object.keys(selectors);return selectorCreator(objectKeys.map((function(key){return selectors[key]})),(function(){for(var _len3=arguments.length,values=Array(_len3),_key3=0;_key3<_len3;_key3++){values[_key3]=arguments[_key3]}return values.reduce((function(composition,value,index){composition[objectKeys[index]]=value;return composition}),{})}))}},function(module,exports,__webpack_require__){!function(e,t){true?module.exports=t():undefined}("undefined"!=typeof self?self:this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(2),i=function(){function e(t,n){this.expression=t,this.options=n,this.expressionParts=new Array(5),e.locales[n.locale]?this.i18n=e.locales[n.locale]:(console.warn("Locale '"+n.locale+"' could not be found; falling back to 'en'."),this.i18n=e.locales.en),void 0===n.use24HourTimeFormat&&(n.use24HourTimeFormat=this.i18n.use24HourTimeFormatByDefault())}return e.toString=function(t,n){var r=void 0===n?{}:n,o=r.throwExceptionOnParseError,i=void 0===o||o,s=r.verbose,a=void 0!==s&&s,u=r.dayOfWeekStartIndexZero,c=void 0===u||u,f=r.use24HourTimeFormat,p=r.locale;return new e(t,{throwExceptionOnParseError:i,verbose:a,dayOfWeekStartIndexZero:c,use24HourTimeFormat:f,locale:void 0===p?"en":p}).getFullDescription()},e.initialize=function(t){e.specialCharacters=["/","-",",","*"],t.load(e.locales)},e.prototype.getFullDescription=function(){var e="";try{var t=new o.CronParser(this.expression,this.options.dayOfWeekStartIndexZero);this.expressionParts=t.parse();var n=this.getTimeOfDayDescription(),r=this.getDayOfMonthDescription(),i=this.getMonthDescription();e+=n+r+this.getDayOfWeekDescription()+i+this.getYearDescription(),e=(e=this.transformVerbosity(e,this.options.verbose)).charAt(0).toLocaleUpperCase()+e.substr(1)}catch(t){if(this.options.throwExceptionOnParseError)throw""+t;e=this.i18n.anErrorOccuredWhenGeneratingTheExpressionD()}return e},e.prototype.getTimeOfDayDescription=function(){var t=this.expressionParts[0],n=this.expressionParts[1],o=this.expressionParts[2],i="";if(r.StringUtilities.containsAny(n,e.specialCharacters)||r.StringUtilities.containsAny(o,e.specialCharacters)||r.StringUtilities.containsAny(t,e.specialCharacters))if(t||!(n.indexOf("-")>-1)||n.indexOf(",")>-1||r.StringUtilities.containsAny(o,e.specialCharacters))if(!t&&o.indexOf(",")>-1&&-1==o.indexOf("-")&&-1==o.indexOf("/")&&!r.StringUtilities.containsAny(n,e.specialCharacters)){var s=o.split(",");i+=this.i18n.at();for(var a=0;a<s.length;a++)i+=" ",i+=this.formatTime(s[a],n,""),a<s.length-2&&(i+=","),a==s.length-2&&(i+=this.i18n.spaceAnd())}else{var u=this.getSecondsDescription(),c=this.getMinutesDescription(),f=this.getHoursDescription();(i+=u).length>0&&(i+=", "),(i+=c).length>0&&(i+=", "),i+=f}else{var p=n.split("-");i+=r.StringUtilities.format(this.i18n.everyMinuteBetweenX0AndX1(),this.formatTime(o,p[0],""),this.formatTime(o,p[1],""))}else i+=this.i18n.atSpace()+this.formatTime(o,n,t);return i},e.prototype.getSecondsDescription=function(){var e=this;return this.getSegmentDescription(this.expressionParts[0],this.i18n.everySecond(),(function(e){return e}),(function(t){return r.StringUtilities.format(e.i18n.everyX0Seconds(),t)}),(function(t){return e.i18n.secondsX0ThroughX1PastTheMinute()}),(function(t){return"0"==t?"":parseInt(t)<20?e.i18n.atX0SecondsPastTheMinute():e.i18n.atX0SecondsPastTheMinuteGt20()||e.i18n.atX0SecondsPastTheMinute()}))},e.prototype.getMinutesDescription=function(){var e=this;return this.getSegmentDescription(this.expressionParts[1],this.i18n.everyMinute(),(function(e){return e}),(function(t){return r.StringUtilities.format(e.i18n.everyX0Minutes(),t)}),(function(t){return e.i18n.minutesX0ThroughX1PastTheHour()}),(function(t){try{return"0"==t?"":parseInt(t)<20?e.i18n.atX0MinutesPastTheHour():e.i18n.atX0MinutesPastTheHourGt20()||e.i18n.atX0MinutesPastTheHour()}catch(t){return e.i18n.atX0MinutesPastTheHour()}}))},e.prototype.getHoursDescription=function(){var e=this,t=this.expressionParts[2];return this.getSegmentDescription(t,this.i18n.everyHour(),(function(t){return e.formatTime(t,"0","")}),(function(t){return r.StringUtilities.format(e.i18n.everyX0Hours(),t)}),(function(t){return e.i18n.betweenX0AndX1()}),(function(t){return e.i18n.atX0()}))},e.prototype.getDayOfWeekDescription=function(){var e=this,t=this.i18n.daysOfTheWeek();return"*"==this.expressionParts[5]?"":this.getSegmentDescription(this.expressionParts[5],this.i18n.commaEveryDay(),(function(e){var n=e;return e.indexOf("#")>-1?n=e.substr(0,e.indexOf("#")):e.indexOf("L")>-1&&(n=n.replace("L","")),t[parseInt(n)]}),(function(t){return r.StringUtilities.format(e.i18n.commaEveryX0DaysOfTheWeek(),t)}),(function(t){return e.i18n.commaX0ThroughX1()}),(function(t){var n=null;if(t.indexOf("#")>-1){var r=null;switch(t.substring(t.indexOf("#")+1)){case"1":r=e.i18n.first();break;case"2":r=e.i18n.second();break;case"3":r=e.i18n.third();break;case"4":r=e.i18n.fourth();break;case"5":r=e.i18n.fifth()}n=e.i18n.commaOnThe()+r+e.i18n.spaceX0OfTheMonth()}else if(t.indexOf("L")>-1)n=e.i18n.commaOnTheLastX0OfTheMonth();else{n="*"!=e.expressionParts[3]?e.i18n.commaAndOnX0():e.i18n.commaOnlyOnX0()}return n}))},e.prototype.getMonthDescription=function(){var e=this,t=this.i18n.monthsOfTheYear();return this.getSegmentDescription(this.expressionParts[4],"",(function(e){return t[parseInt(e)-1]}),(function(t){return r.StringUtilities.format(e.i18n.commaEveryX0Months(),t)}),(function(t){return e.i18n.commaMonthX0ThroughMonthX1()||e.i18n.commaX0ThroughX1()}),(function(t){return e.i18n.commaOnlyInX0()}))},e.prototype.getDayOfMonthDescription=function(){var e=this,t=null,n=this.expressionParts[3];switch(n){case"L":t=this.i18n.commaOnTheLastDayOfTheMonth();break;case"WL":case"LW":t=this.i18n.commaOnTheLastWeekdayOfTheMonth();break;default:var o=n.match(/(\d{1,2}W)|(W\d{1,2})/);if(o){var i=parseInt(o[0].replace("W","")),s=1==i?this.i18n.firstWeekday():r.StringUtilities.format(this.i18n.weekdayNearestDayX0(),i.toString());t=r.StringUtilities.format(this.i18n.commaOnTheX0OfTheMonth(),s);break}var a=n.match(/L-(\d{1,2})/);if(a){var u=a[1];t=r.StringUtilities.format(this.i18n.commaDaysBeforeTheLastDayOfTheMonth(),u);break}t=this.getSegmentDescription(n,this.i18n.commaEveryDay(),(function(t){return"L"==t?e.i18n.lastDay():t}),(function(t){return"1"==t?e.i18n.commaEveryDay():e.i18n.commaEveryX0Days()}),(function(t){return e.i18n.commaBetweenDayX0AndX1OfTheMonth()}),(function(t){return e.i18n.commaOnDayX0OfTheMonth()}))}return t},e.prototype.getYearDescription=function(){var e=this;return this.getSegmentDescription(this.expressionParts[6],"",(function(e){return/^\d+$/.test(e)?new Date(parseInt(e),1).getFullYear().toString():e}),(function(t){return r.StringUtilities.format(e.i18n.commaEveryX0Years(),t)}),(function(t){return e.i18n.commaYearX0ThroughYearX1()||e.i18n.commaX0ThroughX1()}),(function(t){return e.i18n.commaOnlyInX0()}))},e.prototype.getSegmentDescription=function(e,t,n,o,i,s){var a=this,u=null;if(e)if("*"===e)u=t;else if(r.StringUtilities.containsAny(e,["/","-",","]))if(e.indexOf("/")>-1){var c=e.split("/");if(u=r.StringUtilities.format(o(c[1]),n(c[1])),c[0].indexOf("-")>-1)0!=(y=this.generateBetweenSegmentDescription(c[0],i,n)).indexOf(", ")&&(u+=", "),u+=y;else if(!r.StringUtilities.containsAny(c[0],["*",","])){var f=r.StringUtilities.format(s(c[0]),n(c[0]));f=f.replace(", ",""),u+=r.StringUtilities.format(this.i18n.commaStartingX0(),f)}}else if(e.indexOf(",")>-1){c=e.split(",");for(var p="",h=0;h<c.length;h++){var y;if(h>0&&c.length>2&&(p+=",",h<c.length-1&&(p+=" ")),h>0&&c.length>1&&(h==c.length-1||2==c.length)&&(p+=this.i18n.spaceAnd()+" "),c[h].indexOf("-")>-1)p+=y=(y=this.generateBetweenSegmentDescription(c[h],(function(e){return a.i18n.commaX0ThroughX1()}),n)).replace(", ","");else p+=n(c[h])}u=r.StringUtilities.format(s(e),p)}else e.indexOf("-")>-1&&(u=this.generateBetweenSegmentDescription(e,i,n));else u=r.StringUtilities.format(s(e),n(e));else u="";return u},e.prototype.generateBetweenSegmentDescription=function(e,t,n){var o="",i=e.split("-"),s=n(i[0]),a=n(i[1]);a=a.replace(":00",":59");var u=t(e);return o+=r.StringUtilities.format(u,s,a)},e.prototype.formatTime=function(e,t,n){var r=parseInt(e),o="";this.options.use24HourTimeFormat||(o=r>=12?" PM":" AM",r>12&&(r-=12),0===r&&(r=12));var i=t,s="";return n&&(s=":"+("00"+n).substring(n.length)),("00"+r.toString()).substring(r.toString().length)+":"+("00"+i.toString()).substring(i.toString().length)+s+o},e.prototype.transformVerbosity=function(e,t){return t||(e=(e=(e=e.replace(new RegExp(this.i18n.commaEveryMinute(),"g"),"")).replace(new RegExp(this.i18n.commaEveryHour(),"g"),"")).replace(new RegExp(this.i18n.commaEveryDay(),"g"),"")),e},e.locales={},e}();t.ExpressionDescriptor=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.replace(/%s/g,(function(){return t.shift()}))},e.containsAny=function(e,t){return t.some((function(t){return e.indexOf(t)>-1}))},e}();t.StringUtilities=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){void 0===t&&(t=!0),this.expression=e,this.dayOfWeekStartIndexZero=t}return e.prototype.parse=function(){var e=this.extractParts(this.expression);return this.normalize(e),this.validate(e),e},e.prototype.extractParts=function(e){if(!this.expression)throw new Error("Expression is empty");var t=e.trim().split(" ");if(t.length<5)throw new Error("Expression has only "+t.length+" part"+(1==t.length?"":"s")+". At least 5 parts are required.");if(5==t.length)t.unshift(""),t.push("");else if(6==t.length)/\d{4}$/.test(t[5])?t.unshift(""):t.push("");else if(t.length>7)throw new Error("Expression has "+t.length+" parts; too many!");return t},e.prototype.normalize=function(e){var t=this;if(e[3]=e[3].replace("?","*"),e[5]=e[5].replace("?","*"),0==e[0].indexOf("0/")&&(e[0]=e[0].replace("0/","*/")),0==e[1].indexOf("0/")&&(e[1]=e[1].replace("0/","*/")),0==e[2].indexOf("0/")&&(e[2]=e[2].replace("0/","*/")),0==e[3].indexOf("1/")&&(e[3]=e[3].replace("1/","*/")),0==e[4].indexOf("1/")&&(e[4]=e[4].replace("1/","*/")),0==e[5].indexOf("1/")&&(e[5]=e[5].replace("1/","*/")),0==e[6].indexOf("1/")&&(e[6]=e[6].replace("1/","*/")),e[5]=e[5].replace(/(^\d)|([^#/\s]\d)/g,(function(e){var n=e.replace(/\D/,""),r=n;return t.dayOfWeekStartIndexZero?"7"==n&&(r="0"):r=(parseInt(n)-1).toString(),e.replace(n,r)})),"L"==e[5]&&(e[5]="6"),"?"==e[3]&&(e[3]="*"),e[3].indexOf("W")>-1&&(e[3].indexOf(",")>-1||e[3].indexOf("-")>-1))throw new Error("The 'W' character can be specified only when the day-of-month is a single day, not a range or list of days.");var n={SUN:0,MON:1,TUE:2,WED:3,THU:4,FRI:5,SAT:6};for(var r in n)e[5]=e[5].replace(new RegExp(r,"gi"),n[r].toString());var o={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12};for(var i in o)e[4]=e[4].replace(new RegExp(i,"gi"),o[i].toString());"0"==e[0]&&(e[0]="");for(var s=0;s<e.length;s++)if("*/1"==e[s]&&(e[s]="*"),e[s].indexOf("/")>-1&&!/^\*|\-|\,/.test(e[s])){var a=null;switch(s){case 4:a="12";break;case 5:a="6";break;case 6:a="9999";break;default:a=null}if(null!=a){var u=e[s].split("/");e[s]=u[0]+"-"+a+"/"+u[1]}}},e.prototype.validate=function(e){this.assertNoInvalidCharacters("DOW",e[5]),this.assertNoInvalidCharacters("DOM",e[3])},e.prototype.assertNoInvalidCharacters=function(e,t){var n=t.match(/[A-KM-VX-Z]+/gi);if(n&&n.length)throw new Error(e+" part contains invalid values: '"+n.toString()+"'")},e}();t.CronParser=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.atX0SecondsPastTheMinuteGt20=function(){return null},e.prototype.atX0MinutesPastTheHourGt20=function(){return null},e.prototype.commaMonthX0ThroughMonthX1=function(){return null},e.prototype.commaYearX0ThroughYearX1=function(){return null},e.prototype.use24HourTimeFormatByDefault=function(){return!1},e.prototype.anErrorOccuredWhenGeneratingTheExpressionD=function(){return"An error occured when generating the expression description.  Check the cron expression syntax."},e.prototype.everyMinute=function(){return"every minute"},e.prototype.everyHour=function(){return"every hour"},e.prototype.atSpace=function(){return"At "},e.prototype.everyMinuteBetweenX0AndX1=function(){return"Every minute between %s and %s"},e.prototype.at=function(){return"At"},e.prototype.spaceAnd=function(){return" and"},e.prototype.everySecond=function(){return"every second"},e.prototype.everyX0Seconds=function(){return"every %s seconds"},e.prototype.secondsX0ThroughX1PastTheMinute=function(){return"seconds %s through %s past the minute"},e.prototype.atX0SecondsPastTheMinute=function(){return"at %s seconds past the minute"},e.prototype.everyX0Minutes=function(){return"every %s minutes"},e.prototype.minutesX0ThroughX1PastTheHour=function(){return"minutes %s through %s past the hour"},e.prototype.atX0MinutesPastTheHour=function(){return"at %s minutes past the hour"},e.prototype.everyX0Hours=function(){return"every %s hours"},e.prototype.betweenX0AndX1=function(){return"between %s and %s"},e.prototype.atX0=function(){return"at %s"},e.prototype.commaEveryDay=function(){return", every day"},e.prototype.commaEveryX0DaysOfTheWeek=function(){return", every %s days of the week"},e.prototype.commaX0ThroughX1=function(){return", %s through %s"},e.prototype.first=function(){return"first"},e.prototype.second=function(){return"second"},e.prototype.third=function(){return"third"},e.prototype.fourth=function(){return"fourth"},e.prototype.fifth=function(){return"fifth"},e.prototype.commaOnThe=function(){return", on the "},e.prototype.spaceX0OfTheMonth=function(){return" %s of the month"},e.prototype.lastDay=function(){return"the last day"},e.prototype.commaOnTheLastX0OfTheMonth=function(){return", on the last %s of the month"},e.prototype.commaOnlyOnX0=function(){return", only on %s"},e.prototype.commaAndOnX0=function(){return", and on %s"},e.prototype.commaEveryX0Months=function(){return", every %s months"},e.prototype.commaOnlyInX0=function(){return", only in %s"},e.prototype.commaOnTheLastDayOfTheMonth=function(){return", on the last day of the month"},e.prototype.commaOnTheLastWeekdayOfTheMonth=function(){return", on the last weekday of the month"},e.prototype.commaDaysBeforeTheLastDayOfTheMonth=function(){return", %s days before the last day of the month"},e.prototype.firstWeekday=function(){return"first weekday"},e.prototype.weekdayNearestDayX0=function(){return"weekday nearest day %s"},e.prototype.commaOnTheX0OfTheMonth=function(){return", on the %s of the month"},e.prototype.commaEveryX0Days=function(){return", every %s days"},e.prototype.commaBetweenDayX0AndX1OfTheMonth=function(){return", between day %s and %s of the month"},e.prototype.commaOnDayX0OfTheMonth=function(){return", on day %s of the month"},e.prototype.commaEveryMinute=function(){return", every minute"},e.prototype.commaEveryHour=function(){return", every hour"},e.prototype.commaEveryX0Years=function(){return", every %s years"},e.prototype.commaStartingX0=function(){return", starting %s"},e.prototype.daysOfTheWeek=function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},e.prototype.monthsOfTheYear=function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]},e}();t.en=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(5);r.ExpressionDescriptor.initialize(new o.enLocaleLoader),t.default=r.ExpressionDescriptor;var i=r.ExpressionDescriptor.toString;t.toString=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=function(){function e(){}return e.prototype.load=function(e){e.en=new r.en},e}();t.enLocaleLoader=o}])}))},function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(71);case"v7light":return __webpack_require__(73);case"v8dark":return __webpack_require__(75);case"v8light":return __webpack_require__(77)}},function(module,exports,__webpack_require__){var api=__webpack_require__(29);var content=__webpack_require__(72);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(30);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,"/**\n * 1. Override EUI styles.\n */\n.rollupJobWizardStepActions {\n  align-items: flex-end;\n  /* 1 */ }\n\n/**\n * 1. Ensure panel fills width of parent when search input yields no matching rollup jobs.\n */\n.rollupJobsListPanel {\n  flex-grow: 1 !important;\n  /* 1 */ }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(29);var content=__webpack_require__(74);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(30);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,"/**\n * 1. Override EUI styles.\n */\n.rollupJobWizardStepActions {\n  align-items: flex-end;\n  /* 1 */ }\n\n/**\n * 1. Ensure panel fills width of parent when search input yields no matching rollup jobs.\n */\n.rollupJobsListPanel {\n  flex-grow: 1 !important;\n  /* 1 */ }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(29);var content=__webpack_require__(76);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(30);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,"/**\n * 1. Override EUI styles.\n */\n.rollupJobWizardStepActions {\n  align-items: flex-end;\n  /* 1 */ }\n\n/**\n * 1. Ensure panel fills width of parent when search input yields no matching rollup jobs.\n */\n.rollupJobsListPanel {\n  flex-grow: 1 !important;\n  /* 1 */ }\n",""]);module.exports=exports},function(module,exports,__webpack_require__){var api=__webpack_require__(29);var content=__webpack_require__(78);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(30);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,"/**\n * 1. Override EUI styles.\n */\n.rollupJobWizardStepActions {\n  align-items: flex-end;\n  /* 1 */ }\n\n/**\n * 1. Ensure panel fills width of parent when search input yields no matching rollup jobs.\n */\n.rollupJobsListPanel {\n  flex-grow: 1 !important;\n  /* 1 */ }\n",""]);module.exports=exports},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"renderApp",(function(){return renderApp}));var external_kbnSharedDeps_React_=__webpack_require__(3);var external_kbnSharedDeps_React_default=__webpack_require__.n(external_kbnSharedDeps_React_);var external_kbnSharedDeps_ReactDom_=__webpack_require__(24);var lib=__webpack_require__(28);var public_=__webpack_require__(23);var redux=__webpack_require__(34);var redux_thunk_lib=__webpack_require__(67);var redux_thunk_lib_default=__webpack_require__.n(redux_thunk_lib);const OPEN_DETAIL_PANEL="OPEN_DETAIL_PANEL";const CLOSE_DETAIL_PANEL="CLOSE_DETAIL_PANEL";const LOAD_JOBS_START="LOAD_JOBS_START";const LOAD_JOBS_SUCCESS="LOAD_JOBS_SUCCESS";const LOAD_JOBS_FAILURE="LOAD_JOBS_FAILURE";const REFRESH_JOBS_SUCCESS="REFRESH_JOBS_SUCCESS";const CLONE_JOB_START="CLONE_JOB_START";const CLONE_JOB_CLEAR="CLONE_JOB_CLEAR";const CREATE_JOB_START="CREATE_JOB_START";const CREATE_JOB_SUCCESS="CREATE_JOB_SUCCESS";const CREATE_JOB_FAILURE="CREATE_JOB_FAILURE";const CLEAR_CREATE_JOB_ERRORS="CLEAR_CREATE_JOB_ERRORS";const UPDATE_JOB_START="UPDATE_JOB_START";const UPDATE_JOB_SUCCESS="UPDATE_JOB_SUCCESS";const UPDATE_JOB_FAILURE="UPDATE_JOB_FAILURE";const FILTER_CHANGED="FILTER_CHANGED";const PAGE_CHANGED="PAGE_CHANGED";const PAGE_SIZE_CHANGED="PAGE_SIZE_CHANGED";const SORT_CHANGED="SORT_CHANGED";const jobs_initialState={isLoading:false,byId:{},allIds:[]};function mapJobsToIds(jobs){const jobsById={};jobs.forEach(job=>{jobsById[job.id]=job});return jobsById}function getJobsIds(jobs){return jobs.map(job=>job.id)}function jobs_jobs(state=jobs_initialState,action){const{type:type,payload:payload}=action;switch(type){case LOAD_JOBS_START:return{...state,isLoading:true};case LOAD_JOBS_SUCCESS:return{byId:mapJobsToIds(payload.jobs),allIds:getJobsIds(payload.jobs),isLoading:false};case REFRESH_JOBS_SUCCESS:return{byId:mapJobsToIds(payload.jobs),allIds:getJobsIds(payload.jobs)};case LOAD_JOBS_FAILURE:return{...state,isLoading:false,jobLoadError:payload.error};case CREATE_JOB_SUCCESS:const{job:job}=payload;return{byId:{...state.byId,[job.id]:job},allIds:state.allIds.concat(job.id)};default:return state}}const table_state_initialState={filter:"",pageSize:20,currentPage:0,sortField:"job.id",isSortAscending:true};function table_state_tableState(state=table_state_initialState,action){const{type:type,payload:payload}=action;switch(type){case FILTER_CHANGED:const{filter:filter}=payload;return{...state,filter:filter,currentPage:0};case SORT_CHANGED:const{sortField:sortField,isSortAscending:isSortAscending}=payload;return{...state,sortField:sortField,isSortAscending:isSortAscending};case PAGE_CHANGED:const{pageNumber:pageNumber}=payload;return{...state,currentPage:pageNumber};case PAGE_SIZE_CHANGED:const{pageSize:pageSize}=payload;return{...state,pageSize:pageSize};default:return state}}const detail_panel_initialState={isOpen:false,panelType:undefined,jobId:undefined};function detailPanel(state=detail_panel_initialState,action){const{type:type,payload:payload}=action;switch(type){case OPEN_DETAIL_PANEL:const{panelType:panelType,jobId:jobId}=payload;return{panelType:panelType||state.panelType,jobId:jobId,isOpen:true};case CLOSE_DETAIL_PANEL:return{panelType:undefined,jobId:undefined,isOpen:false};default:return state}}const clone_job_initialState={job:undefined};function clone_job_cloneJob(state=clone_job_initialState,action){const{type:type,payload:payload}=action;if(type===CLONE_JOB_START){return{job:payload}}if(type===CLONE_JOB_CLEAR){return{...clone_job_initialState}}return state}const create_job_initialState={isSaving:false,error:undefined};function createJob(state=create_job_initialState,action){const{type:type,payload:payload}=action;switch(type){case CREATE_JOB_START:return{isSaving:true,error:undefined};case CREATE_JOB_SUCCESS:return{...state,isSaving:false};case CREATE_JOB_FAILURE:return{...state,error:payload.error,isSaving:false};case CLEAR_CREATE_JOB_ERRORS:return{...state,error:undefined};default:return state}}const update_job_initialState={isUpdating:false,error:undefined};function updateJob(state=update_job_initialState,action){const{type:type}=action;switch(type){case UPDATE_JOB_START:return{isUpdating:true};case UPDATE_JOB_SUCCESS:return{isUpdating:false};case UPDATE_JOB_FAILURE:return{isUpdating:false};default:return state}}const rollupJobs=Object(redux["combineReducers"])({jobs:jobs_jobs,cloneJob:clone_job_cloneJob,tableState:table_state_tableState,detailPanel:detailPanel,createJob:createJob,updateJob:updateJob});var crud_app_services=__webpack_require__(7);const middleware_clone_job_cloneJob=()=>next=>action=>{const{type:type}=action;if(type===CLONE_JOB_START){if(!Object(crud_app_services["t"])()){Object(crud_app_services["q"])().history.push({pathname:`/create`})}}return next(action)};const detail_panel_detailPanel=()=>next=>action=>{const{type:type}=action;switch(type){case CLOSE_DETAIL_PANEL:if(!Object(crud_app_services["t"])()){const{history:history}=Object(crud_app_services["q"])();history.replace({search:""})}break}return next(action)};function createRollupJobsStore(initialState={}){const enhancers=[Object(redux["applyMiddleware"])(redux_thunk_lib_default.a,detail_panel_detailPanel,middleware_clone_job_cloneJob)];window.__REDUX_DEVTOOLS_EXTENSION__&&enhancers.push(window.__REDUX_DEVTOOLS_EXTENSION__());return Object(redux["createStore"])(rollupJobs,initialState,Object(redux["compose"])(...enhancers))}const rollupJobsStore=createRollupJobsStore();var external_kbnSharedDeps_ReactRouterDom_=__webpack_require__(25);var common=__webpack_require__(2);var kibana_services=__webpack_require__(1);var external_kbnSharedDeps_ElasticEui_=__webpack_require__(8);var reselect_lib=__webpack_require__(68);const getJobs=state=>state.jobs.byId;const getJobsList=state=>state.jobs.allIds;const getJobByJobId=(state,id)=>getJobs(state)[id];const getFilteredIds=state=>state.jobs.filteredIds;const getTableState=state=>state.tableState;const getDetailPanelType=state=>state.detailPanel.panelType;const isDetailPanelOpen=state=>state.detailPanel.isOpen;const getDetailPanelJob=state=>getJobByJobId(state,state.detailPanel.jobId);const getDetailPanelJobId=state=>state.detailPanel.jobId;const selectors_isLoading=state=>state.jobs.isLoading;const selectors_jobLoadError=state=>state.jobs.jobLoadError;const selectors_isSaving=state=>state.createJob.isSaving;const getCreateJobError=state=>state.createJob.error;const selectors_isUpdating=state=>state.updateJob.isUpdating;const getCloneJobConfig=state=>state.cloneJob.job;const getJobStatusByJobName=(state,jobName)=>{const jobs=getJobs(state);const{status:status}=jobs[jobName]||{};return status};const getFilteredJobs=Object(reselect_lib["createSelector"])(getJobs,getTableState,(jobs,tableState)=>{const jobArray=Object.keys(jobs).map(jobName=>jobs[jobName]);return Object(crud_app_services["h"])(["id","indexPattern","rollupIndex"],tableState.filter,jobArray)});const getTotalItems=Object(reselect_lib["createSelector"])(getFilteredJobs,filteredJobs=>Object.keys(filteredJobs).length);const getPager=Object(reselect_lib["createSelector"])(getTableState,getTotalItems,({currentPage:currentPage,pageSize:pageSize},totalItems)=>new external_kbnSharedDeps_ElasticEui_["Pager"](totalItems,pageSize,currentPage));const getPageOfJobs=Object(reselect_lib["createSelector"])(getFilteredJobs,getTableState,getPager,(filteredJobs,tableState,pager)=>{const sortedIndexes=Object(crud_app_services["E"])(filteredJobs,tableState.sortField,tableState.isSortAscending);const{firstItemIndex:firstItemIndex,lastItemIndex:lastItemIndex}=pager;const pagedIndexes=sortedIndexes.slice(firstItemIndex,lastItemIndex+1);return pagedIndexes});const getHasNextPage=Object(reselect_lib["createSelector"])(getPager,pager=>pager.hasNextPage);const getHasPreviousPage=Object(reselect_lib["createSelector"])(getPager,pager=>pager.hasPreviousPage);const getCurrentPage=Object(reselect_lib["createSelector"])(getPager,pager=>pager.currentPage);const getFilter=Object(reselect_lib["createSelector"])(getTableState,({filter:filter})=>filter);const selectors_isSortAscending=Object(reselect_lib["createSelector"])(getTableState,({isSortAscending:isSortAscending})=>isSortAscending);const getSortField=Object(reselect_lib["createSelector"])(getTableState,({sortField:sortField})=>sortField);var external_kbnSharedDeps_KbnI18n_=__webpack_require__(0);const refreshJobs=options=>async dispatch=>{let jobs;try{jobs=await Object(crud_app_services["v"])(options)}catch(error){return Object(crud_app_services["D"])(error,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.refreshAction.errorTitle",{defaultMessage:"Error refreshing rollup jobs"}))}dispatch({type:REFRESH_JOBS_SUCCESS,payload:{jobs:Object(crud_app_services["g"])(jobs)}})};const change_job_status_startJobs=jobIds=>async dispatch=>{dispatch({type:UPDATE_JOB_START});try{await Object(crud_app_services["d"])(Object(crud_app_services["F"])(jobIds))}catch(error){dispatch({type:UPDATE_JOB_FAILURE});return Object(crud_app_services["C"])(error,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.startJobsAction.errorTitle",{defaultMessage:"Error starting rollup jobs"}))}dispatch({type:UPDATE_JOB_SUCCESS});dispatch(refreshJobs())};const change_job_status_stopJobs=jobIds=>async dispatch=>{dispatch({type:UPDATE_JOB_START});try{await Object(crud_app_services["d"])(Object(crud_app_services["G"])(jobIds))}catch(error){dispatch({type:UPDATE_JOB_FAILURE});return Object(crud_app_services["C"])(error,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.stopJobsAction.errorTitle",{defaultMessage:"Error stopping rollup jobs"}))}dispatch({type:UPDATE_JOB_SUCCESS});dispatch(refreshJobs())};const actions_clone_job_cloneJob=jobToClone=>dispatch=>{dispatch({type:CLONE_JOB_START,payload:jobToClone})};const clearCloneJob=()=>dispatch=>{dispatch({type:CLONE_JOB_CLEAR})};const create_job_createJob=jobConfig=>async dispatch=>{dispatch({type:CREATE_JOB_START});let newJob;try{[newJob]=await Promise.all([Object(crud_app_services["c"])(Object(crud_app_services["y"])(jobConfig)),new Promise(resolve=>setTimeout(resolve,500))])}catch(error){if(error){const{body:body}=error;const statusCode=error.statusCode||body&&body.statusCode;if(body){if(statusCode===409){return dispatch({type:CREATE_JOB_FAILURE,payload:{error:{message:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.createAction.jobIdAlreadyExistsErrorMessage",{defaultMessage:`A job with ID '{jobConfigId}' already exists.`,values:{jobConfigId:jobConfig.id}})}}})}return dispatch({type:CREATE_JOB_FAILURE,payload:{error:{message:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.createAction.failedDefaultErrorMessage",{defaultMessage:"Request failed with a {statusCode} error. {message}",values:{statusCode:statusCode,message:body.message}}),cause:body.cause}}})}}return Object(kibana_services["a"])().add(error,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.createAction.errorTitle",{defaultMessage:"Error creating rollup job"}))}const deserializedJob=Object(crud_app_services["f"])(newJob);dispatch({type:CREATE_JOB_SUCCESS,payload:{job:deserializedJob}});if(jobConfig.startJobAfterCreation){dispatch(change_job_status_startJobs([jobConfig.id]))}Object(crud_app_services["q"])().history.push({pathname:`/job_list`,search:`?job=${encodeURIComponent(jobConfig.id)}`})};const clearCreateJobErrors=()=>dispatch=>{dispatch({type:CLEAR_CREATE_JOB_ERRORS})};var esUiShared_public_=__webpack_require__(22);const detail_panel_openDetailPanel=({panelType:panelType,jobId:jobId})=>dispatch=>{const{history:history}=Object(crud_app_services["q"])();const search=history.location.search;const{job:deepLinkedJobId}=Object(esUiShared_public_["extractQueryParams"])(search);if(deepLinkedJobId!==jobId){history.replace({search:`?job=${jobId}`})}dispatch({type:OPEN_DETAIL_PANEL,payload:{panelType:panelType,jobId:jobId}})};const detail_panel_closeDetailPanel=()=>dispatch=>{dispatch({type:CLOSE_DETAIL_PANEL})};const delete_jobs_deleteJobs=jobIds=>async(dispatch,getState)=>{dispatch({type:UPDATE_JOB_START});try{await Object(crud_app_services["d"])(Object(crud_app_services["e"])(jobIds))}catch(error){dispatch({type:UPDATE_JOB_FAILURE});return Object(crud_app_services["C"])(error,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.deleteAction.errorTitle",{defaultMessage:"Error deleting rollup jobs"}))}if(jobIds.length===1){Object(kibana_services["b"])().toasts.addSuccess(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.deleteAction.successSingleNotificationTitle",{defaultMessage:`Rollup job '{jobId}' was deleted`,values:{jobId:jobIds[0]}}))}else{Object(kibana_services["b"])().toasts.addSuccess(external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.deleteAction.successMultipleNotificationTitle",{defaultMessage:"{count} rollup jobs were deleted",values:{count:jobIds.length}}))}const detailPanelJob=getDetailPanelJob(getState());if(detailPanelJob&&jobIds.includes(detailPanelJob.id)){dispatch(detail_panel_closeDetailPanel())}dispatch({type:UPDATE_JOB_SUCCESS});dispatch(refreshJobs())};const loadJobs=()=>async dispatch=>{dispatch({type:LOAD_JOBS_START});let jobs;try{jobs=await Object(crud_app_services["v"])()}catch(error){dispatch({type:LOAD_JOBS_FAILURE,payload:{error:error}});return Object(crud_app_services["C"])(error,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.loadAction.errorTitle",{defaultMessage:"Error loading rollup jobs"}))}dispatch({type:LOAD_JOBS_SUCCESS,payload:{jobs:Object(crud_app_services["g"])(jobs)}})};const table_state_filterChanged=({filter:filter})=>dispatch=>{dispatch({type:FILTER_CHANGED,payload:{filter:filter}})};const table_state_pageChanged=({pageNumber:pageNumber})=>dispatch=>{dispatch({type:PAGE_CHANGED,payload:{pageNumber:pageNumber}})};const table_state_pageSizeChanged=({pageSize:pageSize})=>dispatch=>{dispatch({type:PAGE_SIZE_CHANGED,payload:{pageSize:pageSize}})};const sortChanged=({sortField:sortField,isSortAscending:isSortAscending})=>dispatch=>{dispatch({type:SORT_CHANGED,payload:{sortField:sortField,isSortAscending:isSortAscending}})};var external_kbnSharedDeps_KbnI18nReact_=__webpack_require__(20);const FieldList=({columns:columns,fields:fields,onRemoveField:onRemoveField,addButton:addButton,emptyMessage:emptyMessage,dataTestSubj:dataTestSubj})=>{let message;if(!fields.length){message=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiEmptyPrompt"],{title:emptyMessage,titleSize:"xs"})}let extendedColumns;if(onRemoveField){extendedColumns=columns.concat({name:"Remove",width:"80px",actions:[{name:"Remove",isPrimary:true,description:"Remove this field",icon:"trash",type:"icon",color:"danger",onClick:field=>onRemoveField(field)}]})}else{extendedColumns=columns}const search={toolsRight:addButton?addButton:undefined,box:{incremental:true,placeholder:"Search"}};const pagination={initialPageSize:200,pageSizeOptions:[20,100,200]};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiInMemoryTable"],{items:fields,itemId:"name",columns:extendedColumns,search:search,pagination:pagination,sorting:true,message:message,"data-test-subj":dataTestSubj})};class confirm_delete_modal_ConfirmDeleteModal extends external_kbnSharedDeps_React_["Component"]{renderJobs(){const{jobs:jobs}=this.props;const jobItems=jobs.map(({id:id,status:status})=>{const startedMessage=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.startedMessage",{defaultMessage:"started"});const statusText=status==="started"?` (${startedMessage})`:null;return external_kbnSharedDeps_React_default.a.createElement("li",{key:id},id,statusText)});return external_kbnSharedDeps_React_default.a.createElement("ul",null,jobItems)}render(){const{isSingleSelection:isSingleSelection,jobs:jobs,onCancel:onCancel,onConfirm:onConfirm}=this.props;let title;let content;if(isSingleSelection){const{id:id,status:status}=jobs[0];title=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.deleteSingleJobTitle",{defaultMessage:"Delete rollup job '{id}'?",values:{id:id}});if(status==="started"){content=external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.deleteSingleJobDescription",defaultMessage:"This job has been started."}))}}else{title=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.multipleDeletionTitle",{defaultMessage:"Delete {count} rollup jobs?",values:{count:jobs.length}});content=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.multipleDeletionDescription",defaultMessage:"You are about to delete {isSingleSelection, plural, one {this job} other {these jobs}}",values:{isSingleSelection:isSingleSelection?1:0}})),this.renderJobs())}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiConfirmModal"],{title:title,onCancel:onCancel,onConfirm:onConfirm,cancelButtonText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.confirmButtonText",{defaultMessage:"Delete"})},content)}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class job_action_menu_JobActionMenuUi extends external_kbnSharedDeps_React_["Component"]{constructor(props){super(props);_defineProperty(this,"onButtonClick",()=>{this.setState(prevState=>({isPopoverOpen:!prevState.isPopoverOpen}))});_defineProperty(this,"closePopover",()=>{this.setState({isPopoverOpen:false})});_defineProperty(this,"closeDeleteConfirmationModal",()=>{this.setState({showDeleteConfirmation:false})});_defineProperty(this,"openDeleteConfirmationModal",()=>{this.setState({showDeleteConfirmation:true})});_defineProperty(this,"confirmDeleteModal",()=>{const{showDeleteConfirmation:showDeleteConfirmation}=this.state;if(!showDeleteConfirmation){return null}const{deleteJobs:deleteJobs,jobs:jobs}=this.props;const onConfirmDelete=()=>{this.closePopover();deleteJobs()};const isSingleSelection=this.isSingleSelection();return external_kbnSharedDeps_React_default.a.createElement(confirm_delete_modal_ConfirmDeleteModal,{isSingleSelection:isSingleSelection,jobs:jobs,onConfirm:onConfirmDelete,onCancel:this.closeDeleteConfirmationModal})});_defineProperty(this,"isSingleSelection",()=>this.props.jobs.length===1);this.state={isPopoverOpen:false,showDeleteConfirmation:false}}panels(){const{startJobs:startJobs,stopJobs:stopJobs,cloneJob:cloneJob}=this.props;const isSingleSelection=this.isSingleSelection()?1:0;const items=[];if(this.canStartJobs()){items.push({name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobActionMenu.startJobLabel",{defaultMessage:"Start {isSingleSelection, plural, one {job} other {jobs}}",values:{isSingleSelection:isSingleSelection}}),icon:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"play"}),onClick:()=>{this.closePopover();startJobs()}})}if(this.canStopJobs()){items.push({name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobActionMenu.stopJobLabel",{defaultMessage:"Stop {isSingleSelection, plural, one {job} other {jobs}}",values:{isSingleSelection:isSingleSelection}}),icon:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"stop"}),onClick:()=>{this.closePopover();stopJobs()}})}if(this.canCloneJob()){items.push({name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobActionMenu.cloneJobLabel",{defaultMessage:"Clone job"}),icon:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{"data-test-subj":"jobCloneActionContextMenu",type:"copy"}),onClick:()=>{this.closePopover();const{jobs:jobs}=this.props;cloneJob(jobs[0])}})}if(this.canDeleteJobs()){items.push({name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobActionMenu.deleteJobLabel",{defaultMessage:"Delete {isSingleSelection, plural, one {job} other {jobs}}",values:{isSingleSelection:isSingleSelection}}),icon:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{type:"trash"}),onClick:()=>{this.closePopover();this.openDeleteConfirmationModal()}})}const panelTree={id:0,title:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobActionMenu.panelTitle",{defaultMessage:"Job options"}),items:items};return Object(crud_app_services["i"])(panelTree)}canStartJobs(){const{jobs:jobs}=this.props;return jobs.some(job=>job.status==="stopped")}canStopJobs(){const{jobs:jobs}=this.props;return jobs.some(job=>job.status==="started")}canCloneJob(){const{jobs:jobs}=this.props;return Boolean(jobs&&jobs.length===1)}canDeleteJobs(){const{jobs:jobs}=this.props;const areAllJobsStopped=jobs.findIndex(job=>job.status==="started")===-1;return areAllJobsStopped}render(){const{isUpdating:isUpdating}=this.props;if(isUpdating){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexStart",gutterSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"l"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobActionMenu.updatingText",defaultMessage:"Updating"}))))}const jobCount=this.props.jobs.length;const{iconSide:iconSide,anchorPosition:anchorPosition,iconType:iconType,label:label=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobActionMenu.buttonLabel",{defaultMessage:"Manage {jobCount, plural, one {job} other {jobs}}",values:{jobCount:jobCount}})}=this.props;const panels=this.panels();const actionsAriaLabel=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobActionMenu.jobActionMenuButtonAriaLabel",{defaultMessage:"Job options"});const button=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{"data-test-subj":"jobActionMenuButton",iconSide:iconSide,"aria-label":actionsAriaLabel,onClick:this.onButtonClick,iconType:iconType,fill:true},label);return external_kbnSharedDeps_React_default.a.createElement("div",null,this.confirmDeleteModal(),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopover"],{button:button,isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,panelPaddingSize:"none",anchorPosition:anchorPosition,repositionOnScroll:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiContextMenu"],{"data-test-subj":"jobActionContextMenu",initialPanelId:0,panels:panels})))}}_defineProperty(job_action_menu_JobActionMenuUi,"defaultProps",{iconSide:"right",anchorPosition:"rightUp",iconType:"arrowDown",jobs:[]});const JobActionMenu=job_action_menu_JobActionMenuUi;const mapStateToProps=state=>({isUpdating:selectors_isUpdating(state)});const mapDispatchToProps=(dispatch,{jobs:jobs})=>{const jobIds=jobs.map(job=>job.id);return{startJobs:()=>{dispatch(change_job_status_startJobs(jobIds))},stopJobs:()=>{dispatch(change_job_status_stopJobs(jobIds))},deleteJobs:()=>{dispatch(delete_jobs_deleteJobs(jobIds))},cloneJob:jobConfig=>{dispatch(actions_clone_job_cloneJob(jobConfig))}}};const job_action_menu_container_JobActionMenu=Object(lib["connect"])(mapStateToProps,mapDispatchToProps)(JobActionMenu);const statusToHealthMap={stopped:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobStatus.stoppedLabel",defaultMessage:"Stopped"})),stopping:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:"warning"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobStatus.stoppingLabel",defaultMessage:"Stopping"})),started:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:"success"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobStatus.startedLabel",defaultMessage:"Started"})),indexing:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:"warning"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobStatus.indexingLabel",defaultMessage:"Indexing"})),abort:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:"danger"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobStatus.abortingLabel",defaultMessage:"Aborting"}))};const statusUnknown=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiHealth"],{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobStatus.unknownLabel",defaultMessage:"Unknown"}));const JobStatus=({status:status})=>statusToHealthMap[status]||statusUnknown;class tab_summary_TabSummary extends external_kbnSharedDeps_React_["Component"]{renderStats(){const{stats:stats}=this.props;if(!stats){return null}const{documentsProcessed:documentsProcessed,pagesProcessed:pagesProcessed,rollupsIndexed:rollupsIndexed,triggerCount:triggerCount,status:status}=stats;return external_kbnSharedDeps_React_default.a.createElement("section",{"aria-labelledby":"rollupJobDetailStatsTitle","data-test-subj":"rollupJobDetailSummaryStatsSection"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",{id:"rollupJobDetailStatsTitle","data-test-subj":"rollupJobDetailStatsTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobDetails.tabSummary.sectionStatsTitle",defaultMessage:"Stats"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(JobStatus,{status:status}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{textStyle:"reverse"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobDetails.tabSummary.itemDocumentsProcessedLabel","data-test-subj":"rollupJobDetailStatsDocumentsProcessedTitle",defaultMessage:"Documents processed"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"rollupJobDetailStatsDocumentsProcessedDescription"},documentsProcessed),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobDetails.tabSummary.itemRollupsIndexedLabel","data-test-subj":"rollupJobDetailStatsRollupsIndexedTitle",defaultMessage:"Rollups indexed"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"rollupJobDetailStatsRollupsIndexedDescription"},rollupsIndexed))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{textStyle:"reverse"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobDetails.tabSummary.itemPagesProcessedLabel","data-test-subj":"rollupJobDetailStatsPagesProcessedTitle",defaultMessage:"Pages processed"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"rollupJobDetailStatsPagesProcessedDescription"},pagesProcessed),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobDetails.tabSummary.itemTriggerCountLabel","data-test-subj":"rollupJobDetailStatsTriggerCountTitle",defaultMessage:"Trigger count"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"rollupJobDetailStatsTriggerCountDescription"},triggerCount)))))}render(){const{job:job}=this.props;const{indexPattern:indexPattern,rollupIndex:rollupIndex,rollupCron:rollupCron,rollupDelay:rollupDelay,dateHistogramInterval:dateHistogramInterval,dateHistogramTimeZone:dateHistogramTimeZone,dateHistogramField:dateHistogramField}=job;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement("section",{"aria-labelledby":"rollupJobDetailLogisticsTitle","data-test-subj":"rollupJobDetailSummaryLogisticsSection"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",{id:"rollupJobDetailLogisticsTitle","data-test-subj":"rollupJobDetailLogisticsTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobDetails.tabSummary.sectionLogisticsLabel",defaultMessage:"Logistics"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{textStyle:"reverse"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobDetails.tabSummary.itemIndexPatternLabel","data-test-subj":"rollupJobDetailLogisticsIndexPatternTitle",defaultMessage:"Index pattern"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{className:"eui-textBreakWord","data-test-subj":"rollupJobDetailLogisticsIndexPatternDescription"},indexPattern),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobDetails.tabSummary.itemCronLabel","data-test-subj":"rollupJobDetailLogisticsCronTitle",defaultMessage:"Cron"})," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIconTip"],{content:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobDetails.tabSummary.itemCronTip",defaultMessage:"The frequency with which data is rolled up"})})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"rollupJobDetailLogisticsCronDescription"},rollupCron))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{textStyle:"reverse"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobDetails.tabSummary.itemRollupIndexLabel","data-test-subj":"rollupJobDetailLogisticsRollupIndexTitle",defaultMessage:"Rollup index"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{className:"eui-textBreakWord","data-test-subj":"rollupJobDetailLogisticsRollupIndexDescription"},rollupIndex),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobDetails.tabSummary.itemDelayLabel","data-test-subj":"rollupJobDetailLogisticsDelayTitle",defaultMessage:"Delay"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"rollupJobDetailLogisticsDelayDescription"},rollupDelay||external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobDetails.tabSummary.itemDelay.none",defaultMessage:"None"}))))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"})),external_kbnSharedDeps_React_default.a.createElement("section",{"aria-labelledby":"rollupJobDetailDateHistogramTitle","data-test-subj":"rollupJobDetailSummaryDateHistogramSection"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",{id:"rollupJobDetailDateHistogramTitle","data-test-subj":"rollupJobDetailDateHistogramTitle"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobDetails.tabSummary.sectionDateHistogramLabel",defaultMessage:"Date histogram"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{textStyle:"reverse"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobDetails.tabSummary.itemTimeFieldLabel","data-test-subj":"rollupJobDetailDateHistogramTimeFieldTitle",defaultMessage:"Time field"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{className:"eui-textBreakWord","data-test-subj":"rollupJobDetailDateHistogramTimeFieldDescription"},dateHistogramField),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobDetails.tabSummary.itemIntervalLabel","data-test-subj":"rollupJobDetailDateHistogramIntervalTitle",defaultMessage:"Interval"})," ",external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIconTip"],{content:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobDetails.tabSummary.itemIntervalTip",defaultMessage:"The time bucket interval into which data is rolled up"})})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"rollupJobDetailDateHistogramIntervalDescription"},dateHistogramInterval))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{textStyle:"reverse"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobDetails.tabSummary.itemTimezoneLabel","data-test-subj":"rollupJobDetailDateHistogramTimezoneTitle",defaultMessage:"Timezone"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],{"data-test-subj":"rollupJobDetailDateHistogramTimezoneDescription"},dateHistogramTimeZone))))),this.renderStats())}}const tab_terms_columns=[{field:"name",name:"Field",sortable:true}];const TabTerms=({terms:terms})=>external_kbnSharedDeps_React_default.a.createElement(FieldList,{columns:tab_terms_columns,fields:terms,dataTestSubj:"detailPanelTermsTabTable"});const tab_histogram_columns=[{field:"name",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobDetails.tabHistogram.nameColumnLabel",{defaultMessage:"Field"}),sortable:true}];const TabHistogram=({histogram:histogram,histogramInterval:histogramInterval})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionList"],{textStyle:"reverse"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListTitle"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobDetails.tabHistogram.intervalLabel",defaultMessage:"Histogram interval"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescriptionListDescription"],null,histogramInterval)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(FieldList,{columns:tab_histogram_columns,fields:histogram,dataTestSubj:"detailPanelHistogramTabTable"}));const tab_metrics_columns=[{field:"name",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobDetails.tabMetrics.nameColumnLabel",{defaultMessage:"Field"}),sortable:true},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobDetails.tabMetrics.typesColumnLabel",{defaultMessage:"Types"}),render:({types:types})=>types.sort().join(", ")}];const TabMetrics=({metrics:metrics})=>external_kbnSharedDeps_React_default.a.createElement(FieldList,{columns:tab_metrics_columns,fields:metrics,dataTestSubj:"detailPanelMetricsTabTable"});const TabJson=({json:json})=>{const jsonString=JSON.stringify(json,null,2);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeEditor"],{mode:"json",theme:"textmate",isReadOnly:true,setOptions:{maxLines:Infinity,useWorker:false},value:jsonString,editorProps:{$blockScrolling:Infinity}})};const TabRequest=({json:json,endpoint:endpoint})=>{const request=`${endpoint}\n${JSON.stringify(json,null,2)}`;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobDetails.tabRequest.descriptionText",defaultMessage:"This Elasticsearch request will create this rollup job."}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCodeBlock"],{language:"json",isCopyable:true},request))};const JOB_DETAILS_TAB_SUMMARY="JOB_DETAILS_TAB_SUMMARY";const JOB_DETAILS_TAB_TERMS="JOB_DETAILS_TAB_TERMS";const JOB_DETAILS_TAB_HISTOGRAM="JOB_DETAILS_TAB_HISTOGRAM";const JOB_DETAILS_TAB_METRICS="JOB_DETAILS_TAB_METRICS";const JOB_DETAILS_TAB_JSON="JOB_DETAILS_TAB_JSON";const JOB_DETAILS_TAB_REQUEST="JOB_DETAILS_TAB_REQUEST";const tabToHumanizedMap={[JOB_DETAILS_TAB_SUMMARY]:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.jobDetails.tabSummaryLabel",defaultMessage:"Summary"}),[JOB_DETAILS_TAB_TERMS]:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.jobDetails.tabTermsLabel",defaultMessage:"Terms"}),[JOB_DETAILS_TAB_HISTOGRAM]:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.jobDetails.tabHistogramLabel",defaultMessage:"Histogram"}),[JOB_DETAILS_TAB_METRICS]:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.jobDetails.tabMetricsLabel",defaultMessage:"Metrics"}),[JOB_DETAILS_TAB_JSON]:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.jobDetails.tabJsonLabel",defaultMessage:"JSON"}),[JOB_DETAILS_TAB_REQUEST]:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.jobDetails.tabRequestLabel",defaultMessage:"Request"})};const JobDetails=({tab:tab,job:job,stats:stats,json:json,endpoint:endpoint})=>{const{metrics:metrics,terms:terms,histogram:histogram,histogramInterval:histogramInterval}=job;const tabToContentMap={[JOB_DETAILS_TAB_SUMMARY]:external_kbnSharedDeps_React_default.a.createElement(tab_summary_TabSummary,{job:job,stats:stats}),[JOB_DETAILS_TAB_TERMS]:external_kbnSharedDeps_React_default.a.createElement(TabTerms,{terms:terms}),[JOB_DETAILS_TAB_HISTOGRAM]:external_kbnSharedDeps_React_default.a.createElement(TabHistogram,{histogram:histogram,histogramInterval:histogramInterval}),[JOB_DETAILS_TAB_METRICS]:external_kbnSharedDeps_React_default.a.createElement(TabMetrics,{metrics:metrics}),[JOB_DETAILS_TAB_JSON]:external_kbnSharedDeps_React_default.a.createElement(TabJson,{json:json}),[JOB_DETAILS_TAB_REQUEST]:external_kbnSharedDeps_React_default.a.createElement(TabRequest,{json:json,endpoint:endpoint})};return tabToContentMap[tab]};function job_table_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const COLUMNS=[{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobTable.headers.nameHeader",{defaultMessage:"ID"}),fieldName:"id",isSortable:true},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobTable.headers.statusHeader",{defaultMessage:"Status"}),fieldName:"status",isSortable:true,render:({status:status,rollupCron:rollupCron})=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{placement:"top",content:`Cron: ${rollupCron}`},external_kbnSharedDeps_React_default.a.createElement(JobStatus,{status:status}))},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobTable.headers.indexPatternHeader",{defaultMessage:"Index pattern"}),truncateText:true,fieldName:"indexPattern",isSortable:true},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobTable.headers.rollupIndexHeader",{defaultMessage:"Rollup index"}),truncateText:true,fieldName:"rollupIndex",isSortable:true},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobTable.headers.delayHeader",{defaultMessage:"Delay"}),fieldName:"rollupDelay",isSortable:true,render:({rollupDelay:rollupDelay})=>rollupDelay||"None"},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobTable.headers.intervalHeader",{defaultMessage:"Interval"}),fieldName:"dateHistogramInterval",isSortable:true},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobTable.headers.groupsHeader",{defaultMessage:"Groups"}),fieldName:"groups",isSortable:false,truncateText:true,render:job=>["histogram","terms"].reduce((text,field)=>{if(job[field].length){return text?`${text}, ${field}`:field.replace(/^\w/,char=>char.toUpperCase())}return text},"")},{name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobTable.headers.metricsHeader",{defaultMessage:"Metrics"}),fieldName:"metrics",isSortable:false,truncateText:true,render:job=>{const{metrics:metrics}=job;if(metrics.length){return metrics.map(metric=>metric.name).join(", ")}return""}}];class job_table_JobTable extends external_kbnSharedDeps_React_["Component"]{static getDerivedStateFromProps(props,state){const{idToSelectedJobMap:idToSelectedJobMap}=state;const jobIds=props.jobs.map(job=>job.id);const selectedJobIds=Object.keys(idToSelectedJobMap);const missingJobIds=selectedJobIds.filter(selectedJobId=>!jobIds.includes(selectedJobId));if(missingJobIds.length){const newMap={...idToSelectedJobMap};missingJobIds.forEach(missingJobId=>delete newMap[missingJobId]);return{idToSelectedJobMap:newMap}}return null}constructor(props){super(props);job_table_defineProperty(this,"toggleAll",()=>{const allSelected=this.areAllItemsSelected();if(allSelected){return this.setState({idToSelectedJobMap:{}})}const{jobs:jobs}=this.props;const idToSelectedJobMap={};jobs.forEach(({id:id})=>{idToSelectedJobMap[id]=true});this.setState({idToSelectedJobMap:idToSelectedJobMap})});job_table_defineProperty(this,"toggleItem",id=>{this.setState(({idToSelectedJobMap:idToSelectedJobMap})=>{const newMap={...idToSelectedJobMap};if(newMap[id]){delete newMap[id]}else{newMap[id]=true}return{idToSelectedJobMap:newMap}})});job_table_defineProperty(this,"resetSelection",()=>{this.setState({idToSelectedJobMap:{}})});job_table_defineProperty(this,"deselectItems",itemIds=>{this.setState(({idToSelectedJobMap:idToSelectedJobMap})=>{const newMap={...idToSelectedJobMap};itemIds.forEach(id=>delete newMap[id]);return{idToSelectedJobMap:newMap}})});job_table_defineProperty(this,"areAllItemsSelected",()=>{const{jobs:jobs}=this.props;const indexOfUnselectedItem=jobs.findIndex(job=>!this.isItemSelected(job.id));return indexOfUnselectedItem===-1});job_table_defineProperty(this,"isItemSelected",id=>!!this.state.idToSelectedJobMap[id]);job_table_defineProperty(this,"onSort",column=>{const{sortField:sortField,isSortAscending:isSortAscending,sortChanged:sortChanged}=this.props;const newIsSortAscending=sortField===column?!isSortAscending:true;sortChanged(column,newIsSortAscending)});this.state={idToSelectedJobMap:{}}}getSelectedJobs(){const{jobs:jobs}=this.props;const{idToSelectedJobMap:idToSelectedJobMap}=this.state;return Object.keys(idToSelectedJobMap).map(jobId=>jobs.find(job=>job.id===jobId))}buildHeader(){const{sortField:sortField,isSortAscending:isSortAscending}=this.props;return COLUMNS.map(({name:name,fieldName:fieldName,isSortable:isSortable})=>{const isSorted=sortField===fieldName;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableHeaderCell"],{key:name,onSort:isSortable?()=>this.onSort(fieldName):undefined,isSorted:isSorted,isSortAscending:isSortAscending,"data-test-subj":`jobTableHeaderCell-${fieldName}`},name)})}buildRowCells(job){const{openDetailPanel:openDetailPanel}=this.props;return COLUMNS.map(({name:name,fieldName:fieldName,render:render,truncateText:truncateText})=>{const value=render?render(job):job[fieldName];let content;if(fieldName==="id"){content=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{onClick:()=>{Object(kibana_services["f"])(crud_app_services["a"].CLICK,common["p"]);openDetailPanel(encodeURIComponent(job.id))}},value)}else{content=external_kbnSharedDeps_React_default.a.createElement("span",null,value)}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableRowCell"],{key:`${job.id}-${name}`,"data-test-subj":`jobTableCell-${fieldName}`,truncateText:truncateText},truncateText?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiToolTip"],{anchorClassName:"eui-textTruncate",content:value},content):content)})}buildRows(){const{jobs:jobs}=this.props;return jobs.map(job=>{const{id:id}=job;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableRow"],{key:`${id}-row`,"data-test-subj":"jobTableRow"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableRowCellCheckbox"],{key:`checkbox-${id}`},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCheckbox"],{type:"inList",id:`checkboxSelectIndex-${id}`,checked:this.isItemSelected(id),onChange:()=>{this.toggleItem(id)},"data-test-subj":`indexTableRowCheckbox-${id}`,"aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobTable.selectRow",{defaultMessage:"Select this row {id}",values:{id:id}})})),this.buildRowCells(job))})}renderPager(){const{pager:pager,pageChanged:pageChanged,pageSizeChanged:pageSizeChanged}=this.props;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTablePagination"],{activePage:pager.getCurrentPageIndex(),itemsPerPage:pager.itemsPerPage,itemsPerPageOptions:[20,50,100],pageCount:pager.getTotalPages(),onChangeItemsPerPage:pageSizeChanged,onChangePage:pageChanged})}render(){const{filterChanged:filterChanged,filter:filter,jobs:jobs,closeDetailPanel:closeDetailPanel}=this.props;const{idToSelectedJobMap:idToSelectedJobMap}=this.state;const atLeastOneItemSelected=Object.keys(idToSelectedJobMap).length>0;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{gutterSize:"l",alignItems:"center"},atLeastOneItemSelected?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(job_action_menu_container_JobActionMenu,{jobs:this.getSelectedJobs(),closeDetailPanel:closeDetailPanel,resetSelection:this.resetSelection,deselectJobs:this.deselectItems})):null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldSearch"],{fullWidth:true,value:filter,onChange:event=>{filterChanged(event.target.value)},"data-test-subj":"jobTableFilterInput",placeholder:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobTable.searchInputPlaceholder",{defaultMessage:"Search"}),"aria-label":"Search jobs"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),jobs.length>0?external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTable"],{"data-test-subj":"rollupJobsListTable"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableHeader"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableHeaderCellCheckbox"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCheckbox"],{id:"selectAllJobsCheckbox",checked:this.areAllItemsSelected(),onChange:this.toggleAll,type:"inList","aria-label":external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobTable.selectAllRows",{defaultMessage:"Select all rows"})})),this.buildHeader()),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTableBody"],null,this.buildRows())):external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobTable.noJobsMatchSearchMessage",defaultMessage:"No rollup jobs match your search"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),jobs.length>0?this.renderPager():null)}}job_table_defineProperty(job_table_JobTable,"defaultProps",{jobs:[]});const job_table_container_mapStateToProps=state=>({jobs:getPageOfJobs(state),pager:getPager(state),filter:getFilter(state),sortField:getSortField(state),isSortAscending:selectors_isSortAscending(state)});const job_table_container_mapDispatchToProps=dispatch=>({closeDetailPanel:()=>{dispatch(detail_panel_closeDetailPanel())},filterChanged:filter=>{dispatch(table_state_filterChanged({filter:filter}))},pageChanged:pageNumber=>{dispatch(table_state_pageChanged({pageNumber:pageNumber}))},pageSizeChanged:pageSize=>{dispatch(table_state_pageSizeChanged({pageSize:pageSize}))},sortChanged:(sortField,isSortAscending)=>{dispatch(sortChanged({sortField:sortField,isSortAscending:isSortAscending}))},openDetailPanel:jobId=>{dispatch(detail_panel_openDetailPanel({jobId:jobId}))}});const job_table_container_JobTable=Object(lib["connect"])(job_table_container_mapStateToProps,job_table_container_mapDispatchToProps)(job_table_JobTable);function detail_panel_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const JOB_DETAILS_TABS=[JOB_DETAILS_TAB_SUMMARY,JOB_DETAILS_TAB_TERMS,JOB_DETAILS_TAB_HISTOGRAM,JOB_DETAILS_TAB_METRICS,JOB_DETAILS_TAB_JSON];const tabToUiMetricMap={[JOB_DETAILS_TAB_SUMMARY]:common["g"],[JOB_DETAILS_TAB_TERMS]:common["h"],[JOB_DETAILS_TAB_HISTOGRAM]:common["d"],[JOB_DETAILS_TAB_METRICS]:common["f"],[JOB_DETAILS_TAB_JSON]:common["e"]};class detail_panel_DetailPanel extends external_kbnSharedDeps_React_["Component"]{constructor(props){super(props)}renderTabs(){const{panelType:panelType,job:job,openDetailPanel:openDetailPanel}=this.props;if(!job){return}const{id:id,terms:terms,histogram:histogram,metrics:metrics}=job;const renderedTabs=[];JOB_DETAILS_TABS.map((tab,index)=>{if(tab===JOB_DETAILS_TAB_TERMS&&!terms.length){return}if(tab===JOB_DETAILS_TAB_HISTOGRAM&&!histogram.length){return}if(tab===JOB_DETAILS_TAB_METRICS&&!metrics.length){return}const isSelected=tab===panelType;renderedTabs.push(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTab"],{onClick:()=>{Object(kibana_services["f"])(crud_app_services["a"].CLICK,tabToUiMetricMap[tab]);openDetailPanel({panelType:tab,jobId:id})},isSelected:isSelected,"data-test-subj":`detailPanelTab${isSelected?"Selected":""}`,key:index},tabToHumanizedMap[tab]))});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTabs"],null,renderedTabs))}renderJob(){const{panelType:panelType,job:job}=this.props;const{status:status,documentsProcessed:documentsProcessed,pagesProcessed:pagesProcessed,rollupsIndexed:rollupsIndexed,triggerCount:triggerCount,json:json}=job;const stats={status:status,documentsProcessed:documentsProcessed,pagesProcessed:pagesProcessed,rollupsIndexed:rollupsIndexed,triggerCount:triggerCount};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],{"data-test-subj":"rollupJobDetailTabContent"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiErrorBoundary"],null,external_kbnSharedDeps_React_default.a.createElement(JobDetails,{tab:panelType,job:job,stats:stats,json:json}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutFooter"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexEnd"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(job_action_menu_container_JobActionMenu,{iconSide:"left",jobs:[job],anchorPosition:"upRight",detailPanel:true,iconType:"arrowUp",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.detailPanel.jobActionMenu.buttonLabel",{defaultMessage:"Manage"})})))))}render(){const{isOpen:isOpen,isLoading:isLoading,closeDetailPanel:closeDetailPanel,job:job,jobId:jobId}=this.props;if(!isOpen){return null}let content;if(isLoading){content=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],{"data-test-subj":"rollupJobDetailLoading"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"m"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.detailPanel.loadingLabel",defaultMessage:"Loading rollup job..."}))))))}else if(job){content=this.renderJob()}else{content=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],{"data-test-subj":"rollupJobDetailJobNotFound"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiIcon"],{size:"m",type:"alert",color:"danger"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.detailPanel.notFoundLabel",defaultMessage:"Rollup job not found"}))))))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyout"],{"data-test-subj":"rollupJobDetailFlyout",onClose:closeDetailPanel,"aria-labelledby":"rollupJobDetailsFlyoutTitle",size:"m",maxWidth:550},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutHeader"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"m",id:"rollupJobDetailsFlyoutTitle","data-test-subj":"rollupJobDetailsFlyoutTitle"},external_kbnSharedDeps_React_default.a.createElement("h2",null,jobId)),this.renderTabs()),content)}}detail_panel_defineProperty(detail_panel_DetailPanel,"defaultProps",{panelType:JOB_DETAILS_TABS[0]});const detail_panel_container_mapStateToProps=state=>({isOpen:isDetailPanelOpen(state),isLoading:selectors_isLoading(state),job:getDetailPanelJob(state),jobId:getDetailPanelJobId(state),panelType:getDetailPanelType(state)});const detail_panel_container_mapDispatchToProps=dispatch=>({closeDetailPanel:()=>{dispatch(detail_panel_closeDetailPanel())},openDetailPanel:({panelType:panelType,jobId:jobId})=>{dispatch(detail_panel_openDetailPanel({panelType:panelType,jobId:jobId}))}});const detail_panel_container_DetailPanel=Object(lib["connect"])(detail_panel_container_mapStateToProps,detail_panel_container_mapDispatchToProps)(detail_panel_DetailPanel);function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}const REFRESH_RATE_MS=3e4;class job_list_JobListUi extends external_kbnSharedDeps_React_["Component"]{static getDerivedStateFromProps(props){const{openDetailPanel:openDetailPanel,history:{location:{search:search}}}=props;const{job:jobId}=Object(esUiShared_public_["extractQueryParams"])(search);if(jobId!=null){openDetailPanel(jobId)}return null}constructor(props){super(props);props.loadJobs();props.kibana.services.setBreadcrumbs([crud_app_services["u"]]);this.state={}}componentDidMount(){this.interval=setInterval(()=>this.props.refreshJobs({asSystemRequest:true}),REFRESH_RATE_MS)}componentWillUnmount(){clearInterval(this.interval);this.props.closeDetailPanel()}getHeaderSection(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContentHeaderSection"],{"data-test-subj":"jobListPageHeader"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"l"},external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobListTitle",defaultMessage:"Rollup Jobs"}))))}renderNoPermission(){const title=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobList.noPermissionTitle",{defaultMessage:"Permission error"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,this.getHeaderSection(),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{"data-test-subj":"jobListNoPermission",title:title,color:"warning",iconType:"help"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobList.noPermissionText",defaultMessage:"You do not have permission to view or add rollup jobs."})))}renderError(error){const{statusCode:statusCode,error:errorString}=error.body;const title=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.jobList.loadingErrorTitle",{defaultMessage:"Error loading rollup jobs"});return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,this.getHeaderSection(),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{"data-test-subj":"jobListError",title:title,color:"danger",iconType:"alert"},statusCode," ",errorString))}renderEmpty(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiEmptyPrompt"],{"data-test-subj":"jobListEmptyPrompt",iconType:"indexRollupApp",title:external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobList.emptyPromptTitle",defaultMessage:"Create your first rollup job"})),body:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobList.emptyPromptDescription",defaultMessage:"Rollup jobs summarize and store historical data in a smaller index for future analysis."}))),actions:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],_extends({"data-test-subj":"createRollupJobButton"},Object(crud_app_services["r"])(`/create`),{fill:true,iconType:"plusInCircle"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobList.emptyPrompt.createButtonLabel",defaultMessage:"Create rollup job"}))})}renderLoading(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"m"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,"data-test-subj":"jobListLoading"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"subdued"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobList.loadingTitle",defaultMessage:"Loading rollup jobs..."})))))}renderList(){const{isLoading:isLoading}=this.props;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContentHeader"],null,this.getHeaderSection(),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContentHeaderSection"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],_extends({fill:true},Object(crud_app_services["r"])(`/create`)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.jobList.createButtonLabel",defaultMessage:"Create rollup job"})))),isLoading?this.renderLoading():external_kbnSharedDeps_React_default.a.createElement(job_table_container_JobTable,null),external_kbnSharedDeps_React_default.a.createElement(detail_panel_container_DetailPanel,null))}render(){const{isLoading:isLoading,hasJobs:hasJobs,jobLoadError:jobLoadError}=this.props;let content;if(jobLoadError){if(jobLoadError.status===403){content=this.renderNoPermission()}else{content=this.renderError(jobLoadError)}}else if(!isLoading&&!hasJobs){content=this.renderEmpty()}else{content=this.renderList()}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],{horizontalPosition:"center",className:"rollupJobsListPanel"},content)}}const JobList=Object(public_["withKibana"])(job_list_JobListUi);const job_list_container_mapStateToProps=state=>({hasJobs:Boolean(getJobsList(state).length),isLoading:selectors_isLoading(state),jobLoadError:selectors_jobLoadError(state)});const job_list_container_mapDispatchToProps=dispatch=>({loadJobs:()=>{dispatch(loadJobs())},refreshJobs:options=>{dispatch(refreshJobs(options))},openDetailPanel:jobId=>{dispatch(detail_panel_openDetailPanel({jobId:jobId}))},closeDetailPanel:()=>{dispatch(detail_panel_closeDetailPanel())},cloneJob:jobConfig=>{dispatch(actions_clone_job_cloneJob(jobConfig))}});const job_list_container_JobList=Object(lib["connect"])(job_list_container_mapStateToProps,job_list_container_mapDispatchToProps)(JobList);var external_kbnSharedDeps_Lodash_=__webpack_require__(4);const Navigation=({isSaving:isSaving,hasNextStep:hasNextStep,hasPreviousStep:hasPreviousStep,goToNextStep:goToNextStep,goToPreviousStep:goToPreviousStep,save:save,canGoToNextStep:canGoToNextStep,onClickToggleStart:onClickToggleStart,startJobAfterCreation:startJobAfterCreation})=>{if(isSaving){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexStart",gutterSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingSpinner"],{size:"l"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.navigation.savingText",defaultMessage:"Saving"}))))}const previousStepButton=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{iconType:"arrowLeft",onClick:goToPreviousStep,"data-test-subj":"rollupJobBackButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.backButton.label",defaultMessage:"Back"})));const nextStepButton=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{iconType:"arrowRight",iconSide:"right",onClick:goToNextStep,disabled:!canGoToNextStep,fill:true,"data-test-subj":"rollupJobNextButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.nextButton.label",defaultMessage:"Next"})));const saveButton=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{color:"secondary",iconType:"check",onClick:save,fill:true,"data-test-subj":"rollupJobSaveButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.saveButton.label",defaultMessage:"Save"})));const startAfterCreateCheckbox=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,style:{alignSelf:"center"}},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCheckbox"],{id:"rollupJobToggleJobStartAfterCreation","data-test-subj":"rollupJobToggleJobStartAfterCreation",checked:startJobAfterCreation,label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.startJobLabel",defaultMessage:"Start job now"}),onChange:onClickToggleStart}));return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"flexStart",gutterSize:"m"},hasPreviousStep&&previousStepButton,hasNextStep&&nextStepButton,!hasNextStep&&external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,saveButton,startAfterCreateCheckbox))};var data_public_=__webpack_require__(21);function field_chooser_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class field_chooser_FieldChooser extends external_kbnSharedDeps_React_["Component"]{constructor(props){super(props);field_chooser_defineProperty(this,"onSearch",e=>{this.setState({searchValue:e.target.value})});field_chooser_defineProperty(this,"onButtonClick",()=>{this.setState(state=>({isOpen:!state.isOpen}))});field_chooser_defineProperty(this,"close",()=>{this.setState({isOpen:false})});this.state={isOpen:false,searchValue:""}}render(){const{buttonLabel:buttonLabel,columns:columns,fields:fields,selectedFields:selectedFields,prompt:prompt,onSelectField:onSelectField,dataTestSubj:dataTestSubj}=this.props;const{isOpen:isOpen,searchValue:searchValue}=this.state;const getRowProps=item=>({onClick:()=>{onSelectField(item)}});const renderFlyout=()=>{const selectedFieldNames=selectedFields.map(({name:name})=>name);const unselectedFields=fields.filter(({name:name})=>!selectedFieldNames.includes(name));const searchedItems=searchValue?unselectedFields.filter(item=>{const normalizedSearchValue=searchValue.trim().toLowerCase();return item.name.toLowerCase().includes(normalizedSearchValue)||item.type.toLowerCase().includes(normalizedSearchValue)}):unselectedFields;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyout"],{onClose:this.close,"aria-labelledby":"fieldChooserFlyoutTitle",size:"m",maxWidth:400,"data-test-subj":dataTestSubj},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutHeader"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"m",id:"fieldChooserFlyoutTitle","data-test-subj":"rollupJobCreateFlyoutTitle"},external_kbnSharedDeps_React_default.a.createElement("h2",null,buttonLabel)),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldSearch"],{placeholder:prompt,value:searchValue,onChange:this.onSearch,"aria-label":prompt,fullWidth:true})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlyoutBody"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiBasicTable"],{items:searchedItems,columns:columns,rowProps:getRowProps,responsive:false,"data-test-subj":`${dataTestSubj}-table`})))};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{onClick:this.onButtonClick,"data-test-subj":"rollupJobShowFieldChooserButton"},buttonLabel),isOpen?renderFlyout():null)}}field_chooser_defineProperty(field_chooser_FieldChooser,"defaultProps",{prompt:"Search",dataTestSubj:"rollupJobFieldChooser"});function StepError({title:title=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepErrorTitle",defaultMessage:"Fix errors before continuing."})}){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:title,color:"danger",iconType:"cross","data-test-subj":"rollupJobCreateStepError"}))}function step_logistics_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const indexPatternIllegalCharacters=data_public_["indexPatterns"].ILLEGAL_CHARACTERS_VISIBLE.join(" ");const indexIllegalCharacters=esUiShared_public_["indices"].INDEX_ILLEGAL_CHARACTERS_VISIBLE.join(" ");class step_logistics_StepLogistics extends external_kbnSharedDeps_React_["Component"]{constructor(...args){super(...args);step_logistics_defineProperty(this,"state",{cronFocus:false});step_logistics_defineProperty(this,"showAdvancedCron",()=>{this.setState({cronFocus:true});const{onFieldsChange:onFieldsChange}=this.props;onFieldsChange({isAdvancedCronVisible:true})});step_logistics_defineProperty(this,"hideAdvancedCron",()=>{this.setState({cronFocus:true});const{onFieldsChange:onFieldsChange,fields:fields}=this.props;const{simpleRollupCron:simpleRollupCron}=fields;onFieldsChange({isAdvancedCronVisible:false,rollupCron:simpleRollupCron})});step_logistics_defineProperty(this,"renderErrors",()=>{const{areStepErrorsVisible:areStepErrorsVisible,hasErrors:hasErrors}=this.props;if(!areStepErrorsVisible||!hasErrors){return null}return external_kbnSharedDeps_React_default.a.createElement(StepError,null)})}renderIndexPatternHelpText(){const{isValidatingIndexPattern:isValidatingIndexPattern,hasMatchingIndices:hasMatchingIndices}=this.props;if(!isValidatingIndexPattern&&hasMatchingIndices){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"secondary","data-test-subj":"fieldIndexPatternSuccessMessage"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepLogistics.fieldIndexPattern.helpHasMatchesLabel",defaultMessage:"Success! Index pattern has matching indices."})))}let indexPatternValidationStatus;if(isValidatingIndexPattern){indexPatternValidationStatus=external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepLogistics.fieldIndexPattern.helpSearchingLabel",defaultMessage:"Looking for matching indices..."}))}else{indexPatternValidationStatus=external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepLogistics.fieldIndexPattern.helpMustMatchLabel",defaultMessage:"Index pattern must match at least one index that is not a rollup."}))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,indexPatternValidationStatus,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepLogistics.fieldIndexPattern.helpAllowLabel",defaultMessage:"Use a wildcard ({asterisk}) to match multiple indices.",values:{asterisk:external_kbnSharedDeps_React_default.a.createElement("strong",null,"*")}})),external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepLogistics.fieldIndexPattern.helpDisallowLabel",defaultMessage:"Spaces and the characters {characterList} are not allowed.",values:{characterList:external_kbnSharedDeps_React_default.a.createElement("strong",null,indexPatternIllegalCharacters)}})))}renderCronEditor(){const{fields:fields,onFieldsChange:onFieldsChange,areStepErrorsVisible:areStepErrorsVisible,fieldErrors:fieldErrors}=this.props;const{rollupCron:rollupCron,cronFrequency:cronFrequency,isAdvancedCronVisible:isAdvancedCronVisible,fieldToPreferredValueMap:fieldToPreferredValueMap}=fields;const{rollupCron:errorRollupCron}=fieldErrors;if(isAdvancedCronVisible){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepLogistics.fieldCronLabel",defaultMessage:"Cron expression"}),error:errorRollupCron,isInvalid:Boolean(areStepErrorsVisible&&errorRollupCron),helpText:external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:Object(crud_app_services["k"])(),target:"_blank"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepLogistics.fieldCron.helpReferenceLinkLabel",defaultMessage:"Learn more about cron expressions"}))),fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldText"],{autoFocus:this.state.cronFocus,value:rollupCron,onChange:e=>onFieldsChange({rollupCron:e.target.value}),isInvalid:Boolean(areStepErrorsVisible&&errorRollupCron),fullWidth:true,"data-test-subj":"rollupAdvancedCron"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{onClick:this.hideAdvancedCron},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepLogistics.sectionSchedule.buttonBasicLabel",defaultMessage:"Create basic interval"}))))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(esUiShared_public_["CronEditor"],{autoFocus:this.state.cronFocus,fieldToPreferredValueMap:fieldToPreferredValueMap,cronExpression:rollupCron,frequency:cronFrequency,onChange:({cronExpression:cronExpression,frequency:frequency,fieldToPreferredValueMap:fieldToPreferredValueMap})=>onFieldsChange({rollupCron:cronExpression,simpleRollupCron:cronExpression,cronFrequency:frequency,fieldToPreferredValueMap:fieldToPreferredValueMap})}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{onClick:this.showAdvancedCron,"data-test-subj":"rollupShowAdvancedCronLink"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepLogistics.sectionSchedule.buttonAdvancedLabel",defaultMessage:"Create cron expression"}))))}render(){const{fields:fields,onFieldsChange:onFieldsChange,areStepErrorsVisible:areStepErrorsVisible,fieldErrors:fieldErrors,isValidatingIndexPattern:isValidatingIndexPattern,indexPatternAsyncErrors:indexPatternAsyncErrors}=this.props;const{id:id,indexPattern:indexPattern,rollupIndex:rollupIndex,rollupPageSize:rollupPageSize,rollupDelay:rollupDelay}=fields;const{id:errorId,indexPattern:errorIndexPattern,rollupIndex:errorRollupIndex,rollupPageSize:errorRollupPageSize,rollupDelay:errorRollupDelay}=fieldErrors;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{"data-test-subj":"rollupJobCreateLogisticsTitle"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepLogisticsTitle",defaultMessage:"Logistics"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepLogistics.logisticsDescription",defaultMessage:"Define how to run the rollup job and when to index the documents."})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{size:"s",flush:"right",href:Object(crud_app_services["o"])(),target:"_blank",iconType:"help","data-test-subj":"rollupJobCreateLogisticsDocsButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepLogistics.readDocsButtonLabel",defaultMessage:"Logistics docs"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiForm"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescribedFormGroup"],{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepLogistics.sectionIdTitle",defaultMessage:"Name"}))),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepLogistics.sectionIdDescription",defaultMessage:"This name will be used as a unique identifier for this rollup job."}),fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepLogistics.fieldIdLabel",defaultMessage:"Name"}),error:errorId,isInvalid:Boolean(areStepErrorsVisible&&errorId),fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldText"],{isInvalid:Boolean(areStepErrorsVisible&&errorId),value:id,onChange:e=>onFieldsChange({id:e.target.value}),fullWidth:true,"data-test-subj":"rollupJobName"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescribedFormGroup"],{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepLogistics.sectionDataFlowTitle",defaultMessage:"Data flow"}))),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepLogistics.sectionDataFlowDescription",defaultMessage:"Which indices do you want to roll up and where do you want to store the data?"}),fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepLogistics.fieldIndexPatternLabel",defaultMessage:"Index pattern"}),error:isValidatingIndexPattern?undefined:errorIndexPattern||indexPatternAsyncErrors,isInvalid:Boolean(areStepErrorsVisible&&errorIndexPattern)||Boolean(indexPatternAsyncErrors),helpText:this.renderIndexPatternHelpText(),fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldText"],{value:indexPattern,onChange:e=>onFieldsChange({indexPattern:e.target.value}),isInvalid:Boolean(areStepErrorsVisible&&errorIndexPattern)||Boolean(indexPatternAsyncErrors),isLoading:isValidatingIndexPattern,fullWidth:true,"data-test-subj":"rollupIndexPattern"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepLogistics.fieldRollupIndexLabel",defaultMessage:"Rollup index name"}),error:errorRollupIndex,isInvalid:Boolean(areStepErrorsVisible&&errorRollupIndex),helpText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepLogistics.fieldRollupIndex.helpDisallowLabel",defaultMessage:"Spaces, commas, and the characters {characterList} are not allowed.",values:{characterList:external_kbnSharedDeps_React_default.a.createElement("strong",null,indexIllegalCharacters)}}),fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldText"],{value:rollupIndex,onChange:e=>onFieldsChange({rollupIndex:e.target.value}),isInvalid:Boolean(areStepErrorsVisible&&errorRollupIndex),fullWidth:true,"data-test-subj":"rollupIndexName"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescribedFormGroup"],{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepLogistics.sectionScheduleTitle",defaultMessage:"Schedule"}))),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepLogistics.sectionScheduleDescription",defaultMessage:"How often do you want to roll up the data?"}),fullWidth:true},this.renderCronEditor()),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescribedFormGroup"],{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h4",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepLogistics.sectionPageSizeTitle",defaultMessage:"How many documents do you want to roll up at a time?"}))),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepLogistics.sectionPageSizeDescription",defaultMessage:"A larger page size will roll up data quicker, but requires more memory."}),fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepLogistics.fieldPageSizeLabel",defaultMessage:"Page size"}),error:errorRollupPageSize,isInvalid:Boolean(areStepErrorsVisible&&errorRollupPageSize),fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldNumber"],{value:rollupPageSize?Number(rollupPageSize):"",onChange:e=>onFieldsChange({rollupPageSize:e.target.value}),isInvalid:Boolean(areStepErrorsVisible&&errorRollupPageSize),fullWidth:true,min:0,"data-test-subj":"rollupPageSize"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescribedFormGroup"],{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"xs"},external_kbnSharedDeps_React_default.a.createElement("h4",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepLogistics.sectionDelayTitle",defaultMessage:"How long should the rollup job wait before rolling up new data?"}))),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepLogistics.sectionDelayDescription",defaultMessage:"A latency buffer will delay rolling up data. This will yield a higher-fidelity rollup by allowing for variable ingest latency. By default, the rollup job attempts to roll up all data that is available."}),fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepDateHistogram.fieldDelayLabel",defaultMessage:"Latency buffer (optional)"}),error:errorRollupDelay,isInvalid:Boolean(areStepErrorsVisible&&errorRollupDelay),helpText:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepDateHistogram.fieldDelay.helpExampleLabel",defaultMessage:"Example values: 30s, 20m, 24h, 2d, 1w, 1M"}))),fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldText"],{value:rollupDelay||"",onChange:e=>onFieldsChange({rollupDelay:e.target.value}),isInvalid:Boolean(areStepErrorsVisible&&errorRollupDelay),fullWidth:true,"data-test-subj":"rollupDelay"})))),this.renderErrors())}}var external_kbnSharedDeps_MomentTimezone_=__webpack_require__(5);var external_kbnSharedDeps_MomentTimezone_default=__webpack_require__.n(external_kbnSharedDeps_MomentTimezone_);function step_date_histogram_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const{parseEsInterval:parseEsInterval}=data_public_["search"].aggs;const timeZoneOptions=external_kbnSharedDeps_MomentTimezone_default.a.tz.names().map(name=>({value:name,text:name}));class step_date_histogram_StepDateHistogram extends external_kbnSharedDeps_React_["Component"]{static getDerivedStateFromProps(props){const{dateFields:dateFields}=props;const dateHistogramFieldOptions=dateFields.map(dateField=>({value:dateField,text:dateField}));return{dateHistogramFieldOptions:dateHistogramFieldOptions}}constructor(props){super(props);step_date_histogram_defineProperty(this,"renderErrors",()=>{const{areStepErrorsVisible:areStepErrorsVisible,hasErrors:hasErrors}=this.props;if(!areStepErrorsVisible||!hasErrors){return null}return external_kbnSharedDeps_React_default.a.createElement(StepError,null)});this.state={dateHistogramFieldOptions:[]}}renderIntervalHelpText(){const{fields:fields}=this.props;const{dateHistogramInterval:dateHistogramInterval}=fields;let preferFixedWarning;try{const{value:value,unit:unit}=parseEsInterval(dateHistogramInterval);if(value===1){switch(unit){case"d":preferFixedWarning=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"warning"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepDateHistogram.fieldInterval.preferFixedWarningDayLabel",defaultMessage:"Consider using 24h instead of 1d. This allows for more flexible queries."})));break;case"h":preferFixedWarning=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"warning"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepDateHistogram.fieldInterval.preferFixedWarningHourLabel",defaultMessage:"Consider using 60m instead of 1h. This allows for more flexible queries."})));break}}switch(unit){case"y":preferFixedWarning=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"warning"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepDateHistogram.fieldInterval.preferFixedWarningYearLabel",defaultMessage:"Consider using the d unit instead of y. This allows for more flexible queries."})));break;case"M":preferFixedWarning=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"warning"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepDateHistogram.fieldInterval.preferFixedWarningMonthLabel",defaultMessage:"Consider using the d unit instead of M. This allows for more flexible queries."})));break;case"w":preferFixedWarning=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTextColor"],{color:"warning"},external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepDateHistogram.fieldInterval.preferFixedWarningWeekLabel",defaultMessage:"Consider using the d unit instead of w. This allows for more flexible queries."})));break}}catch(error){}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,preferFixedWarning,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepDateHistogram.fieldInterval.helpExampleLabel",defaultMessage:"Example sizes: 1000ms, 30s, 20m, 24h, 2d, 1w, 1M, 1y"})))}render(){const{fields:fields,onFieldsChange:onFieldsChange,areStepErrorsVisible:areStepErrorsVisible,fieldErrors:fieldErrors}=this.props;const{dateHistogramInterval:dateHistogramInterval,dateHistogramField:dateHistogramField,dateHistogramTimeZone:dateHistogramTimeZone}=fields;const{dateHistogramInterval:errorDateHistogramInterval,dateHistogramField:errorDateHistogramField,dateHistogramTimeZone:errorDateHistogramTimeZone}=fieldErrors;const{dateHistogramFieldOptions:dateHistogramFieldOptions}=this.state;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{"data-test-subj":"rollupJobCreateDateHistogramTitle"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepDateHistogramTitle",defaultMessage:"Date histogram"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{size:"s",flush:"right",href:Object(crud_app_services["m"])(),target:"_blank",iconType:"help","data-test-subj":"rollupJobCreateDateHistogramDocsButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepDateHistogram.readDocsButtonLabel",defaultMessage:"Date histogram docs"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiForm"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescribedFormGroup"],{title:external_kbnSharedDeps_React_default.a.createElement("div",null),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepDateHistogramDescription",defaultMessage:"Define how {link} will operate on your rollup data.",values:{link:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLink"],{href:Object(crud_app_services["l"])(),target:"_blank"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepDateHistogramDescription.aggregationsLinkLabel",defaultMessage:"date histogram aggregations"}))}})),external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepDateHistogram.sectionDataSourceDescription",defaultMessage:"Note that smaller time buckets take up proportionally more space."}))),fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepDateHistogram.fieldDateFieldLabel",defaultMessage:"Date field"}),error:errorDateHistogramField,isInvalid:Boolean(areStepErrorsVisible&&errorDateHistogramField),fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],{isInvalid:Boolean(areStepErrorsVisible&&errorDateHistogramField),options:dateHistogramFieldOptions,value:dateHistogramField,onChange:e=>onFieldsChange({dateHistogramField:e.target.value}),fullWidth:true,"data-test-subj":"rollupJobCreateDateFieldSelect"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepDateHistogram.fieldIntervalLabel",defaultMessage:"Time bucket size"}),error:errorDateHistogramInterval,isInvalid:Boolean(areStepErrorsVisible&&errorDateHistogramInterval),helpText:this.renderIntervalHelpText(),fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldText"],{value:dateHistogramInterval||"",onChange:e=>onFieldsChange({dateHistogramInterval:e.target.value}),isInvalid:Boolean(areStepErrorsVisible&&errorDateHistogramInterval),fullWidth:true,"data-test-subj":"rollupJobInterval"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepDateHistogram.fieldTimeZoneLabel",defaultMessage:"Time zone"}),error:errorDateHistogramTimeZone||"",isInvalid:Boolean(areStepErrorsVisible&&errorDateHistogramTimeZone),fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSelect"],{options:timeZoneOptions,value:dateHistogramTimeZone,onChange:e=>onFieldsChange({dateHistogramTimeZone:e.target.value}),fullWidth:true,"data-test-subj":"rollupJobCreateTimeZoneSelect"})))),this.renderErrors())}}function step_terms_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class step_terms_StepTerms extends external_kbnSharedDeps_React_["Component"]{constructor(...args){super(...args);step_terms_defineProperty(this,"onSelectField",field=>{const{fields:{terms:terms},onFieldsChange:onFieldsChange}=this.props;onFieldsChange({terms:terms.concat(field)})});step_terms_defineProperty(this,"onRemoveField",field=>{const{fields:{terms:terms},onFieldsChange:onFieldsChange}=this.props;onFieldsChange({terms:terms.filter(term=>term!==field)})})}render(){const{fields:fields,termsFields:termsFields}=this.props;const{terms:terms}=fields;const columns=[{field:"name",name:"Field",sortable:true},{field:"type",name:"Type",truncateText:true,sortable:true,width:"180px"}];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{"data-test-subj":"rollupJobCreateTermsTitle"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepTermsTitle",defaultMessage:"Terms (optional)"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepTermsDescription",defaultMessage:"Select the fields you want to bucket using terms aggregations. This can be costly for high-cardinality fields such as IP addresses, if the time bucket is sparse."})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,className:"rollupJobWizardStepActions"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{size:"s",flush:"right",href:Object(crud_app_services["s"])(),target:"_blank",iconType:"help","data-test-subj":"rollupJobCreateTermsDocsButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepTerms.readDocsButtonLabel",defaultMessage:"Terms docs"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(FieldList,{columns:columns,fields:terms,onRemoveField:this.onRemoveField,emptyMessage:external_kbnSharedDeps_React_default.a.createElement("p",null,"No terms fields added"),addButton:external_kbnSharedDeps_React_default.a.createElement(field_chooser_FieldChooser,{buttonLabel:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepTerms.fieldsChooserLabel",defaultMessage:"Add terms fields"}),columns:columns,fields:termsFields,selectedFields:terms,onSelectField:this.onSelectField,dataTestSubj:"rollupJobTermsFieldChooser"}),dataTestSubj:"rollupJobTermsFieldList"}))}}function step_histogram_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class step_histogram_StepHistogram extends external_kbnSharedDeps_React_["Component"]{constructor(...args){super(...args);step_histogram_defineProperty(this,"onSelectField",field=>{const{fields:{histogram:histogram},onFieldsChange:onFieldsChange}=this.props;onFieldsChange({histogram:histogram.concat(field)})});step_histogram_defineProperty(this,"onRemoveField",field=>{const{fields:{histogram:histogram},onFieldsChange:onFieldsChange}=this.props;onFieldsChange({histogram:histogram.filter(histogramField=>histogramField!==field)})});step_histogram_defineProperty(this,"renderErrors",()=>{const{areStepErrorsVisible:areStepErrorsVisible,hasErrors:hasErrors}=this.props;if(!areStepErrorsVisible||!hasErrors){return null}return external_kbnSharedDeps_React_default.a.createElement(StepError,null)})}render(){const{fields:fields,histogramFields:histogramFields}=this.props;const{histogram:histogram}=fields;const columns=[{field:"name",name:"Field",sortable:true}];return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{"data-test-subj":"rollupJobCreateHistogramTitle"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepHistogramTitle",defaultMessage:"Histogram (optional)"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepHistogram.histogramDescription",defaultMessage:"Select the fields you want to bucket using numeric intervals."})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,className:"rollupJobWizardStepActions"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{size:"s",flush:"right",href:Object(crud_app_services["n"])(),target:"_blank",iconType:"help","data-test-subj":"rollupJobCreateHistogramDocsButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepHistogram.readDocsButtonLabel",defaultMessage:"Histogram docs"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(FieldList,{columns:columns,fields:histogram,onRemoveField:this.onRemoveField,emptyMessage:external_kbnSharedDeps_React_default.a.createElement("p",null,"No histogram fields added"),addButton:external_kbnSharedDeps_React_default.a.createElement(field_chooser_FieldChooser,{buttonLabel:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepHistogram.fieldsChooserLabel",defaultMessage:"Add histogram fields"}),columns:columns,fields:histogramFields,selectedFields:histogram,onSelectField:this.onSelectField,dataTestSubj:"rollupJobHistogramFieldChooser"}),dataTestSubj:"rollupJobHistogramFieldList"}),this.renderInterval(),this.renderErrors())}renderInterval(){const{fields:fields,onFieldsChange:onFieldsChange,areStepErrorsVisible:areStepErrorsVisible,fieldErrors:fieldErrors}=this.props;const{histogram:histogram,histogramInterval:histogramInterval}=fields;const{histogramInterval:errorHistogramInterval}=fieldErrors;if(!histogram.length){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"xl"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiDescribedFormGroup"],{title:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"s"},external_kbnSharedDeps_React_default.a.createElement("h3",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepHistogram.sectionHistogramIntervalTitle",defaultMessage:"Histogram interval"}))),description:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepHistogram.sectionHistogramIntervalDescription",defaultMessage:"This is the interval of histogram buckets to be generated when rolling up, e.g. 5 will create buckets that are five units wide (0-5, 5-10, etc). Note that only one interval can be specified in the histogram group, meaning that all fields being grouped via the histogram must share the same interval."}),fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFormRow"],{label:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepHistogram.fieldHistogramIntervalLabel",defaultMessage:"Interval"}),error:errorHistogramInterval,isInvalid:Boolean(areStepErrorsVisible&&errorHistogramInterval),fullWidth:true},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFieldNumber"],{value:!histogramInterval&&histogramInterval!==0?"":Number(histogramInterval),onChange:e=>onFieldsChange({histogramInterval:e.target.value}),isInvalid:Boolean(areStepErrorsVisible&&errorHistogramInterval),fullWidth:true,"data-test-subj":"rollupJobCreateHistogramInterval"}))))}}const METRICS_CONFIG=[{type:"avg",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.create.stepMetrics.checkboxAverageLabel",{defaultMessage:"Average"})},{type:"max",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.create.stepMetrics.checkboxMaxLabel",{defaultMessage:"Maximum"})},{type:"min",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.create.stepMetrics.checkboxMinLabel",{defaultMessage:"Minimum"})},{type:"sum",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.create.stepMetrics.checkboxSumLabel",{defaultMessage:"Sum"})},{type:"value_count",label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.create.stepMetrics.checkboxValueCountLabel",{defaultMessage:"Value count"})}];function step_metrics_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const whiteListedMetricByFieldType={numeric:{avg:true,max:true,min:true,sum:true,value_count:true},date:{max:true,min:true,value_count:true}};const checkWhiteListedMetricByFieldType=(fieldType,metricType)=>!!Object(external_kbnSharedDeps_Lodash_["get"])(whiteListedMetricByFieldType,[fieldType,metricType]);const metricTypesConfig=function(){return METRICS_CONFIG.map(config=>{const fieldTypes={};for(const[fieldType,metrics]of Object.entries(whiteListedMetricByFieldType)){fieldTypes[fieldType]=!!metrics[config.type]}return{...config,fieldTypes:fieldTypes}})}();class step_metrics_StepMetrics extends external_kbnSharedDeps_React_["Component"]{constructor(props){super(props);step_metrics_defineProperty(this,"openMetricsPopover",()=>{this.setState({metricsPopoverOpen:true})});step_metrics_defineProperty(this,"closeMetricsPopover",()=>{this.setState({metricsPopoverOpen:false})});step_metrics_defineProperty(this,"onSelectField",field=>{const{fields:{metrics:metrics},onFieldsChange:onFieldsChange}=this.props;const newMetrics=metrics.concat({...field,types:[]});onFieldsChange({metrics:newMetrics})});step_metrics_defineProperty(this,"onRemoveField",field=>{const{fields:{metrics:metrics},onFieldsChange:onFieldsChange}=this.props;const newMetrics=metrics.filter(({name:name})=>name!==field.name);onFieldsChange({metrics:newMetrics})});step_metrics_defineProperty(this,"setMetric",(fieldName,metricType,isSelected)=>{const{fields:{metrics:metrics}}=this.props;const newMetrics=[...metrics];const newMetric=newMetrics.find(({name:name})=>name===fieldName);if(isSelected){if(newMetric.types.indexOf(metricType)===-1){newMetric.types.push(metricType)}}else{newMetric.types.splice(newMetric.types.indexOf(metricType),1)}return newMetrics});step_metrics_defineProperty(this,"renderErrors",()=>{const{areStepErrorsVisible:areStepErrorsVisible,fieldErrors:fieldErrors}=this.props;const{metrics:errorMetrics}=fieldErrors;if(!areStepErrorsVisible||!errorMetrics){return null}return external_kbnSharedDeps_React_default.a.createElement(StepError,{title:errorMetrics})});this.state={metricsPopoverOpen:false,listColumns:[],selectedMetricsMap:[]}}renderMetricsSelectAllCheckboxes(){const{fields:{metrics:metrics},onFieldsChange:onFieldsChange}=this.props;let disabledCheckboxesCount=0;const checkboxElements=[{label:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.create.stepMetrics.allCheckbox",{defaultMessage:"All"}),type:"all"}].concat(metricTypesConfig).map(({label:label,type:metricType,fieldTypes:fieldTypes},idx)=>{const isAllMetricTypes=metricType==="all";const applicableMetrics=isAllMetricTypes?metrics:metrics.filter(({type:type})=>fieldTypes[type]);let checkedCount=0;let isChecked=false;let isDisabled=false;if(isAllMetricTypes){applicableMetrics.forEach(({types:types,type:type})=>{const whiteListedSubset=Object.keys(whiteListedMetricByFieldType[type]);if(whiteListedSubset.every(metricName=>types.some(type=>type===metricName))){++checkedCount}});isDisabled=metrics.length===0}else{applicableMetrics.forEach(({types:types})=>{const metricSelected=types.some(type=>type===metricType);if(metricSelected){++checkedCount}});isDisabled=!metrics.some(({type:fieldType})=>checkWhiteListedMetricByFieldType(fieldType,metricType))}isChecked=checkedCount===applicableMetrics.length;if(isDisabled)++disabledCheckboxesCount;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCheckbox"],{id:`${idx}-select-all-checkbox`,"data-test-subj":`rollupJobMetricsSelectAllCheckbox-${metricType}`,disabled:isDisabled,label:label,checked:!isDisabled&&isChecked,onChange:()=>{if(isAllMetricTypes){const newMetrics=metricTypesConfig.reduce((acc,{type:type})=>this.setMetrics(type,!isChecked),null);onFieldsChange({metrics:newMetrics})}else{onFieldsChange({metrics:this.setMetrics(metricType,!isChecked)})}}})});return{checkboxElements:checkboxElements,allCheckboxesDisabled:checkboxElements.length===disabledCheckboxesCount}}getMetricsSelectAllMenu(){const{checkboxElements:checkboxElements,allCheckboxesDisabled:allCheckboxesDisabled}=this.renderMetricsSelectAllCheckboxes();return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPopover"],{ownFocus:true,isOpen:this.state.metricsPopoverOpen,closePopover:this.closeMetricsPopover,button:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButton"],{disabled:allCheckboxesDisabled,onClick:this.openMetricsPopover,"data-test-subj":"rollupJobSelectAllMetricsPopoverButton"},external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.create.stepMetrics.selectAllPopoverButtonLabel",{defaultMessage:"Select metrics"}))},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{alignItems:"flexStart",direction:"column"},checkboxElements.map((item,idx)=>external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{key:idx},item)))))}renderRowSelectAll({fieldName:fieldName,fieldType:fieldType,types:types}){const{onFieldsChange:onFieldsChange}=this.props;const hasSelectedItems=Boolean(types.length);const maxItemsToBeSelected=Object.keys(whiteListedMetricByFieldType[fieldType]).length;const allSelected=maxItemsToBeSelected===types.length;const label=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.create.stepMetrics.selectAllRowLabel",{defaultMessage:"All"});const onChange=()=>{const isSelected=hasSelectedItems?types.length!==maxItemsToBeSelected:true;const newMetrics=metricTypesConfig.filter(config=>config.fieldTypes[fieldType]).reduce((acc,{type:typeConfig})=>this.setMetric(fieldName,typeConfig,isSelected),null);onFieldsChange({metric:newMetrics})};return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCheckbox"],{id:`${fieldName}-selectAll-checkbox`,"data-test-subj":"rollupJobMetricsCheckbox-selectAll",label:label,checked:allSelected,onChange:onChange})}getListColumns(){return step_metrics_StepMetrics.chooserColumns.concat({type:"metrics",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.create.stepMetrics.metricsColumnHeader",{defaultMessage:"Metrics"}),render:({name:fieldName,type:fieldType,types:types})=>{const{onFieldsChange:onFieldsChange}=this.props;const checkboxes=metricTypesConfig.map(({type:type,label:label})=>{const isAllowed=checkWhiteListedMetricByFieldType(fieldType,type);if(!isAllowed){return}const isSelected=types.includes(type);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,key:`${fieldName}-${type}-checkbox`},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCheckbox"],{id:`${fieldName}-${type}-checkbox`,"data-test-subj":`rollupJobMetricsCheckbox-${type}`,label:label,checked:isSelected,onChange:()=>onFieldsChange({metrics:this.setMetric(fieldName,type,!isSelected)})}))}).filter(checkbox=>checkbox!==undefined);return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{wrap:true,gutterSize:"m"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,key:`${fieldName}-selectAll-checkbox`},this.renderRowSelectAll({fieldName:fieldName,fieldType:fieldType,types:types})),checkboxes)}})}setMetrics(metricType,isSelected){const{fields:{metrics:fields}}=this.props;return fields.filter(field=>checkWhiteListedMetricByFieldType(field.type,metricType)).reduce((acc,metric)=>this.setMetric(metric.name,metricType,isSelected),[])}render(){const{fields:fields,metricsFields:metricsFields}=this.props;const{metrics:metrics}=fields;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceBetween"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{"data-test-subj":"rollupJobCreateMetricsTitle"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepMetricsTitle",defaultMessage:"Metrics (optional)"}))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"s"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiText"],null,external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepMetricsDescription",defaultMessage:"Select the metrics to collect while rolling up data. By default, only doc_counts are collected for each group."})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],{grow:false,className:"rollupJobWizardStepActions"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiButtonEmpty"],{size:"s",flush:"right",href:Object(crud_app_services["p"])(),target:"_blank",iconType:"help","data-test-subj":"rollupJobCreateMetricsDocsButton"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepMetrics.readDocsButtonLabel",defaultMessage:"Metrics docs"})))),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),external_kbnSharedDeps_React_default.a.createElement(FieldList,{columns:this.getListColumns(),fields:metrics,onRemoveField:this.onRemoveField,emptyMessage:external_kbnSharedDeps_React_default.a.createElement("p",null,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.create.stepMetrics.emptyListLabel",{defaultMessage:"No metrics fields added"})),addButton:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexGroup"],{justifyContent:"spaceEvenly",alignItems:"center",gutterSize:"s"},external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,external_kbnSharedDeps_React_default.a.createElement(field_chooser_FieldChooser,{key:"stepMetricsFieldChooser",buttonLabel:external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepMetrics.fieldsChooserLabel",defaultMessage:"Add metrics fields"}),columns:step_metrics_StepMetrics.chooserColumns,fields:metricsFields,selectedFields:metrics,onSelectField:this.onSelectField,dataTestSubj:"rollupJobMetricsFieldChooser"})),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiFlexItem"],null,this.getMetricsSelectAllMenu())),dataTestSubj:"rollupJobMetricsFieldList"}),this.renderErrors())}}step_metrics_defineProperty(step_metrics_StepMetrics,"chooserColumns",[{field:"name",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.create.stepMetrics.fieldColumnLabel",{defaultMessage:"Field"}),sortable:true,width:"240px"},{field:"type",name:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.create.stepMetrics.typeColumnLabel",{defaultMessage:"Type"}),truncateText:true,sortable:true,width:"100px"}]);function step_review_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const step_review_JOB_DETAILS_TABS=[JOB_DETAILS_TAB_SUMMARY,JOB_DETAILS_TAB_TERMS,JOB_DETAILS_TAB_HISTOGRAM,JOB_DETAILS_TAB_METRICS,JOB_DETAILS_TAB_REQUEST];class step_review_StepReview extends external_kbnSharedDeps_React_["Component"]{constructor(props){super(props);step_review_defineProperty(this,"selectTab",tab=>{this.setState({selectedTab:tab})});this.state={selectedTab:step_review_JOB_DETAILS_TABS[0]}}renderTabs(){const{selectedTab:selectedTab}=this.state;const{job:job}=this.props;const renderedTabs=[];step_review_JOB_DETAILS_TABS.forEach((tab,index)=>{if(tab===JOB_DETAILS_TAB_TERMS&&!job.terms.length){return}if(tab===JOB_DETAILS_TAB_HISTOGRAM&&!job.histogram.length){return}if(tab===JOB_DETAILS_TAB_METRICS&&!job.metrics.length){return}const isSelected=tab===selectedTab;renderedTabs.push(external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTab"],{onClick:()=>this.selectTab(tab),isSelected:isSelected,"data-test-subj":"stepReviewTab",key:index},tabToHumanizedMap[tab]))});if(!renderedTabs.length===1){return null}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTabs"],null,renderedTabs),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"m"}))}render(){const{job:job}=this.props;const{selectedTab:selectedTab}=this.state;const json=Object(crud_app_services["y"])(job);const endpoint=`PUT _rollup/job/${job.id}`;return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{"data-test-subj":"rollupJobCreateReviewTitle"},external_kbnSharedDeps_React_default.a.createElement("h2",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.stepReviewTitle",defaultMessage:"Review details for '{jobId}'",values:{jobId:job.id}}))),this.renderTabs(),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiErrorBoundary"],null,external_kbnSharedDeps_React_default.a.createElement(JobDetails,{job:job,json:json,endpoint:endpoint,tab:selectedTab})))}}function validateId(id,clonedId){if(clonedId&&id===clonedId){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.idSameAsCloned",defaultMessage:'Name cannot be the same as cloned name: "{clonedId}".',values:{clonedId:clonedId}})]}if(!id||!id.trim()){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.idMissing",defaultMessage:"Name is required."})]}return undefined}function validateIndexPattern(indexPattern,rollupIndex){if(!indexPattern||!indexPattern.trim()){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.indexPatternMissing",defaultMessage:"Index pattern is required."})]}if(indexPattern===rollupIndex){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.indexPatternSameAsRollupIndex",defaultMessage:"Index pattern cannot have the same as the rollup index."})]}const illegalCharacters=data_public_["indexPatterns"].ILLEGAL_CHARACTERS_VISIBLE.reduce((chars,char)=>{if(indexPattern.includes(char)){chars.push(char)}return chars},[]);if(illegalCharacters.length){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.indexPatternIllegalCharacters",defaultMessage:"Remove the characters {characterList} from your index pattern.",values:{characterList:external_kbnSharedDeps_React_default.a.createElement("strong",null,illegalCharacters.join(" "))}})]}if(indexPattern.includes(" ")){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.indexPatternSpaces",defaultMessage:"Remove the spaces from your index pattern."})]}return undefined}function validateRollupIndex(rollupIndex,indexPattern){if(!rollupIndex||!rollupIndex.trim()){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.rollupIndexMissing",defaultMessage:"Rollup index is required."})]}if(rollupIndex===indexPattern){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.rollupIndexSameAsIndexPattern",defaultMessage:"Rollup index cannot have the same as the index pattern."})]}const illegalCharacters=esUiShared_public_["indices"].findIllegalCharactersInIndexName(rollupIndex);if(illegalCharacters.length){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.rollupIndexIllegalCharacters",defaultMessage:"Remove the characters {characterList} from your rollup index name.",values:{characterList:external_kbnSharedDeps_React_default.a.createElement("strong",null,illegalCharacters.join(" "))}})]}if(rollupIndex.includes(",")){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.rollupIndexCommas",defaultMessage:"Remove the commas from your rollup index name."})]}if(rollupIndex.includes(" ")){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.rollupIndexSpaces",defaultMessage:"Remove the spaces from your rollup index name."})]}if(rollupIndex[0]==="."){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.rollupIndexBeginningPeriod",defaultMessage:"Index names cannot begin with periods."})]}return undefined}var cronstrue=__webpack_require__(69);var cronstrue_default=__webpack_require__.n(cronstrue);function validateRollupCron(rollupCron){if(!rollupCron||!rollupCron.trim()){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.rollupCronMissing",defaultMessage:"Cron pattern or basic interval is required."})]}try{cronstrue_default.a.toString(rollupCron)}catch(error){const prefix="Error: ";const prefixIndex=error.indexOf(prefix);return error.substring(prefixIndex+prefix.length)}return undefined}function validateRollupPageSize(rollupPageSize){if(!rollupPageSize||!rollupPageSize.toString().trim()){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.rollupPageSizeMissing",defaultMessage:"Page size is required."})]}if(rollupPageSize<=0){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.rollupPageSizeGreaterThanZero",defaultMessage:"Page size must be greater than zero."})]}return undefined}const{InvalidEsIntervalFormatError:InvalidEsIntervalFormatError,InvalidEsCalendarIntervalError:InvalidEsCalendarIntervalError,parseEsInterval:validate_rollup_delay_parseEsInterval}=data_public_["search"].aggs;function validateRollupDelay(rollupDelay){if(!rollupDelay||!rollupDelay.trim()){return undefined}try{validate_rollup_delay_parseEsInterval(rollupDelay)}catch(error){if(error instanceof InvalidEsIntervalFormatError){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.rollupDelayInvalidFormat",defaultMessage:"Invalid delay format."})]}if(error instanceof InvalidEsCalendarIntervalError){const{unit:unit}=error;return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.rollupDelayInvalidCalendarInterval",defaultMessage:"The '{unit}' unit only allows values of 1. Try {suggestion}.",values:{unit:unit,suggestion:external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.rollupDelayInvalidCalendarIntervalSuggestion",defaultMessage:"1{unit}",values:{unit:unit}}))}})]}throw error}return undefined}function validateDateHistogramField(dateHistogramField){if(!dateHistogramField||!dateHistogramField.trim()){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.dateHistogramFieldMissing",defaultMessage:"Date field is required."})]}return undefined}const{InvalidEsIntervalFormatError:validate_date_histogram_interval_InvalidEsIntervalFormatError,InvalidEsCalendarIntervalError:validate_date_histogram_interval_InvalidEsCalendarIntervalError,parseEsInterval:validate_date_histogram_interval_parseEsInterval}=data_public_["search"].aggs;function validateDateHistogramInterval(dateHistogramInterval){if(!dateHistogramInterval||!dateHistogramInterval.trim()){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.dateHistogramIntervalMissing",defaultMessage:"Interval is required."})]}try{validate_date_histogram_interval_parseEsInterval(dateHistogramInterval)}catch(error){if(error instanceof validate_date_histogram_interval_InvalidEsIntervalFormatError){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.dateHistogramIntervalInvalidFormat",defaultMessage:"Invalid interval format."})]}if(error instanceof validate_date_histogram_interval_InvalidEsCalendarIntervalError){const{unit:unit}=error;return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.dateHistogramIntervalInvalidCalendarInterval",defaultMessage:"The '{unit}' unit only allows values of 1. Try {suggestion}.",values:{unit:unit,suggestion:external_kbnSharedDeps_React_default.a.createElement("strong",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.dateHistogramIntervalInvalidCalendarIntervalSuggestion",defaultMessage:"1{unit}",values:{unit:unit}}))}})]}throw error}return undefined}function validateHistogramInterval(histogram,histogramInterval){if(!histogram.length){return undefined}if(histogramInterval<=0){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.histogramIntervalZero",defaultMessage:"Interval must be greater than zero."})]}if(Math.round(histogramInterval)!==Number(histogramInterval)){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.histogramIntervalWholeNumber",defaultMessage:"Interval must be a whole number."})]}if(!histogramInterval){return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.histogramIntervalMissing",defaultMessage:"An interval is required to roll up these histogram fields."})]}return undefined}function validateMetrics(metrics){const missingTypes=metrics.reduce((accumMissingTypes,{name:name,types:types})=>{if(!types.length){accumMissingTypes.push(name)}return accumMissingTypes},[]);if(missingTypes.length){const allMissingTypes=missingTypes.join(", ");return[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.metricsTypesMissing",key:"xpack.rollupJobs.create.errors.metricsTypesMissing",defaultMessage:"Select metrics types for these fields or remove them: {allMissingTypes}.",values:{allMissingTypes:allMissingTypes}})]}return undefined}const STEP_LOGISTICS="STEP_LOGISTICS";const STEP_DATE_HISTOGRAM="STEP_DATE_HISTOGRAM";const STEP_TERMS="STEP_TERMS";const STEP_HISTOGRAM="STEP_HISTOGRAM";const STEP_METRICS="STEP_METRICS";const STEP_REVIEW="STEP_REVIEW";const stepIds=[STEP_LOGISTICS,STEP_DATE_HISTOGRAM,STEP_TERMS,STEP_HISTOGRAM,STEP_METRICS,STEP_REVIEW];const stepIdToStepConfigMap={[STEP_LOGISTICS]:{getDefaultFields:(overrides={})=>{const isAdvancedCronVisible=!!overrides.rollupCron;const rollupPageSize=Object(external_kbnSharedDeps_Lodash_["get"])(overrides,["json","config","page_size"],1e3);const clonedRollupId=overrides.id||undefined;const id=overrides.id?`${overrides.id}-copy`:"";const defaults={indexPattern:"",rollupIndex:"",rollupCron:"0 0 0 ? * 7",simpleRollupCron:"0 0 0 ? * 7",rollupPageSize:rollupPageSize,rollupDelay:"1d",cronFrequency:"WEEK",fieldToPreferredValueMap:{}};return{...defaults,...Object(external_kbnSharedDeps_Lodash_["pick"])(overrides,Object.keys(defaults)),id:id,isAdvancedCronVisible:isAdvancedCronVisible,rollupPageSize:rollupPageSize,clonedRollupId:clonedRollupId}},fieldsValidator:fields=>{const{id:id,indexPattern:indexPattern,rollupIndex:rollupIndex,rollupCron:rollupCron,rollupPageSize:rollupPageSize,rollupDelay:rollupDelay,clonedRollupId:clonedRollupId}=fields;return{id:validateId(id,clonedRollupId),indexPattern:validateIndexPattern(indexPattern,rollupIndex),rollupIndex:validateRollupIndex(rollupIndex,indexPattern),rollupCron:validateRollupCron(rollupCron),rollupPageSize:validateRollupPageSize(rollupPageSize),rollupDelay:validateRollupDelay(rollupDelay)}}},[STEP_DATE_HISTOGRAM]:{getDefaultFields:(overrides={})=>{const defaults={dateHistogramField:null,dateHistogramInterval:null,dateHistogramTimeZone:"UTC"};return{...defaults,...Object(external_kbnSharedDeps_Lodash_["pick"])(overrides,Object.keys(defaults))}},fieldsValidator:fields=>{const{dateHistogramField:dateHistogramField,dateHistogramInterval:dateHistogramInterval}=fields;return{dateHistogramField:validateDateHistogramField(dateHistogramField),dateHistogramInterval:validateDateHistogramInterval(dateHistogramInterval)}}},[STEP_TERMS]:{getDefaultFields:(overrides={})=>({terms:[],...Object(external_kbnSharedDeps_Lodash_["pick"])(overrides,["terms"])})},[STEP_HISTOGRAM]:{getDefaultFields:overrides=>({histogram:[],histogramInterval:undefined,...Object(external_kbnSharedDeps_Lodash_["pick"])(overrides,["histogram","histogramInterval"])}),fieldsValidator:fields=>{const{histogram:histogram,histogramInterval:histogramInterval}=fields;return{histogramInterval:validateHistogramInterval(histogram,histogramInterval)}}},[STEP_METRICS]:{getDefaultFields:(overrides={})=>({metrics:[],...Object(external_kbnSharedDeps_Lodash_["pick"])(overrides,["metrics"])}),fieldsValidator:fields=>{const{metrics:metrics}=fields;return{metrics:validateMetrics(metrics)}}},[STEP_REVIEW]:{getDefaultFields:()=>({})}};function getAffectedStepsFields(fields,stepsFields){const{indexPattern:indexPattern}=fields;const affectedStepsFields=Object(external_kbnSharedDeps_Lodash_["cloneDeep"])(stepsFields);if(indexPattern){affectedStepsFields[STEP_DATE_HISTOGRAM].dateHistogramField=undefined;affectedStepsFields[STEP_TERMS].terms=[];affectedStepsFields[STEP_HISTOGRAM].histogram=[];affectedStepsFields[STEP_METRICS].metrics=[]}return affectedStepsFields}function steps_config_hasErrors(fieldErrors){const errorValues=Object.values(fieldErrors);return errorValues.some(error=>error!==undefined)}function job_create_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const stepIdToTitleMap={[STEP_LOGISTICS]:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.create.steps.stepLogisticsTitle",{defaultMessage:"Logistics"}),[STEP_DATE_HISTOGRAM]:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.create.steps.stepDateHistogramTitle",{defaultMessage:"Date histogram"}),[STEP_TERMS]:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.create.steps.stepTermsTitle",{defaultMessage:"Terms"}),[STEP_HISTOGRAM]:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.create.steps.stepHistogramTitle",{defaultMessage:"Histogram"}),[STEP_METRICS]:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.create.steps.stepMetricsTitle",{defaultMessage:"Metrics"}),[STEP_REVIEW]:external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.create.steps.stepReviewTitle",{defaultMessage:"Review and save"})};class job_create_JobCreateUi extends external_kbnSharedDeps_React_["Component"]{constructor(props){super(props);job_create_defineProperty(this,"requestIndexPatternValidation",Object(external_kbnSharedDeps_Lodash_["debounce"])((resetDefaults=true)=>{const indexPattern=this.getIndexPattern();const lastIndexPatternValidationTime=this.lastIndexPatternValidationTime=Date.now();Object(crud_app_services["H"])(indexPattern).then(response=>{if(!this._isMounted){return}if(lastIndexPatternValidationTime!==this.lastIndexPatternValidationTime){return}const{doesMatchIndices:doesIndexPatternMatchIndices,doesMatchRollupIndices:doesIndexPatternMatchRollupIndices,dateFields:indexPatternDateFields,numericFields:numericFields,keywordFields:keywordFields}=response;let indexPatternAsyncErrors;if(doesIndexPatternMatchRollupIndices){indexPatternAsyncErrors=[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.indexPatternMatchesRollupIndices",defaultMessage:"Index pattern must not match rollup indices."})]}else if(!doesIndexPatternMatchIndices){indexPatternAsyncErrors=[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.indexPatternNoMatchingIndices",defaultMessage:"Index pattern doesn't match any indices."})]}else if(!indexPatternDateFields.length){indexPatternAsyncErrors=[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.indexPatternNoTimeFields",defaultMessage:"Index pattern must match indices that contain time fields."})]}const numericType=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.create.numericTypeField",{defaultMessage:"numeric"});const keywordType=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.create.keywordTypeField",{defaultMessage:"keyword"});const dateType=external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.create.dateTypeField",{defaultMessage:"date"});const formattedNumericFields=Object(crud_app_services["j"])(numericFields,numericType);const formattedKeywordFields=Object(crud_app_services["j"])(keywordFields,keywordType);const formattedDateFields=Object(crud_app_services["j"])(indexPatternDateFields,dateType);const{jobToClone:jobToClone,stepsFields:stepsFields}=this.state;const{[STEP_METRICS]:{metrics:metrics}}=stepsFields;if(jobToClone&&metrics&&metrics.length&&!Object(external_kbnSharedDeps_Lodash_["first"])(metrics).type){const typeMaps=[{fields:formattedNumericFields,type:numericType},{fields:formattedKeywordFields,type:keywordType},{fields:formattedDateFields,type:dateType}];const retypedMetrics=Object(crud_app_services["x"])({metrics:metrics,typeMaps:typeMaps});this.onFieldsChange({metrics:retypedMetrics},STEP_METRICS)}function sortFields(a,b){const nameA=a.name.toUpperCase();const nameB=b.name.toUpperCase();if(nameA<nameB){return-1}if(nameA>nameB){return 1}return 0}const indexPatternTermsFields=[...formattedNumericFields,...formattedKeywordFields].sort(sortFields);const indexPatternHistogramFields=[...formattedNumericFields].sort(sortFields);const indexPatternMetricsFields=[...formattedNumericFields,...formattedDateFields].sort(sortFields);indexPatternDateFields.sort();if(resetDefaults){this.onFieldsChange({dateHistogramField:indexPatternDateFields.length?indexPatternDateFields[0]:undefined},STEP_DATE_HISTOGRAM)}this.setState({indexPatternAsyncErrors:indexPatternAsyncErrors,indexPatternDateFields:indexPatternDateFields,indexPatternTermsFields:indexPatternTermsFields,indexPatternHistogramFields:indexPatternHistogramFields,indexPatternMetricsFields:indexPatternMetricsFields,isValidatingIndexPattern:false})}).catch(error=>{if(!this._isMounted){return}if(lastIndexPatternValidationTime!==this.lastIndexPatternValidationTime){return}if(error&&error.body){const{error:errorString,statusCode:statusCode}=error.body;const indexPatternAsyncErrors=[external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.create.errors.indexPatternValidationError",defaultMessage:"There was a problem validating this index pattern: {statusCode} {error}",values:{error:errorString,statusCode:statusCode}})];this.setState({indexPatternAsyncErrors:indexPatternAsyncErrors,indexPatternDateFields:[],indexPatternTermsFields:[],indexPatternHistogramFields:[],indexPatternMetricsFields:[],isValidatingIndexPattern:false});return}Object(kibana_services["a"])().add(error,external_kbnSharedDeps_KbnI18n_["i18n"].translate("xpack.rollupJobs.create.errors.indexPatternValidationFatalErrorTitle",{defaultMessage:"Rollup Job Wizard index pattern validation"}))})},300));job_create_defineProperty(this,"goToNextStep",()=>{this.goToStep(this.state.nextStepId)});job_create_defineProperty(this,"goToPreviousStep",()=>{this.goToStep(this.state.previousStepId)});job_create_defineProperty(this,"onFieldsChange",(fields,currentStepId=this.state.currentStepId)=>{const{stepsFields:stepsFields}=this.state;const prevFields=stepsFields[currentStepId];const affectedStepsFields=getAffectedStepsFields(fields,stepsFields);const newFields={...prevFields,...fields};const newStepsFields={...affectedStepsFields,[currentStepId]:newFields};this.setState({stepsFields:newStepsFields,stepsFieldErrors:this.getStepsFieldsErrors(newStepsFields)})});job_create_defineProperty(this,"save",()=>{const{createJob:createJob}=this.props;const jobConfig=this.getAllFields();createJob(jobConfig)});job_create_defineProperty(this,"onToggleStartAfterCreate",eve=>{this.setState({startJobAfterCreation:eve.target.checked})});props.kibana.services.setBreadcrumbs([crud_app_services["u"],crud_app_services["b"]]);const{jobToClone:stepDefaultOverrides}=props;const _stepsFields=Object(external_kbnSharedDeps_Lodash_["mapValues"])(stepIdToStepConfigMap,step=>Object(external_kbnSharedDeps_Lodash_["cloneDeep"])(step.getDefaultFields(stepDefaultOverrides)));this.state={jobToClone:stepDefaultOverrides||null,checkpointStepId:stepIds[0],currentStepId:stepIds[0],nextStepId:stepIds[1],previousStepId:undefined,stepsFieldErrors:this.getStepsFieldsErrors(_stepsFields),areStepErrorsVisible:!!stepDefaultOverrides,stepsFields:_stepsFields,isValidatingIndexPattern:false,indexPatternAsyncErrors:undefined,indexPatternDateFields:[],indexPatternTermsFields:[],indexPatternHistogramFields:[],indexPatternMetricsFields:[],startJobAfterCreation:false};this.lastIndexPatternValidationTime=0}componentDidMount(){this._isMounted=true;const{clearCloneJob:clearCloneJob,jobToClone:jobToClone}=this.props;if(jobToClone){clearCloneJob();this.requestIndexPatternValidation(false)}}componentDidUpdate(prevProps,prevState){const indexPattern=this.getIndexPattern();if(indexPattern!==this.getIndexPattern(prevState)){if(!indexPattern||!indexPattern.trim()){this.setState({indexPatternAsyncErrors:undefined,indexPatternDateFields:[],isValidatingIndexPattern:false});return}this.setState({isValidatingIndexPattern:true});this.requestIndexPatternValidation()}}componentWillUnmount(){this._isMounted=false;this.props.clearCreateJobErrors()}getSteps(){const{currentStepId:currentStepId,checkpointStepId:checkpointStepId}=this.state;const indexOfCurrentStep=stepIds.indexOf(currentStepId);return stepIds.map((stepId,index)=>({title:stepIdToTitleMap[stepId],isComplete:index<indexOfCurrentStep,isSelected:index===indexOfCurrentStep,onClick:()=>this.goToStep(stepId),disabled:!this.canGoToStep(stepId)||stepIds.indexOf(stepId)>stepIds.indexOf(checkpointStepId),"data-test-subj":index===indexOfCurrentStep?`createRollupStep${index+1}--active`:`createRollupStep${index+1}`}))}goToStep(stepId){if(!this.canGoToStep(stepId)){this.setState({areStepErrorsVisible:true});return}const currentStepIndex=stepIds.indexOf(stepId);this.setState({currentStepId:stepId,nextStepId:stepIds[currentStepIndex+1],previousStepId:stepIds[currentStepIndex-1],areStepErrorsVisible:false,isSaving:false});if(stepIds.indexOf(stepId)>stepIds.indexOf(this.state.checkpointStepId)){this.setState({checkpointStepId:stepId})}}canGoToStep(stepId){const indexOfStep=stepIds.indexOf(stepId);const prerequisiteSteps=stepIds.slice(0,indexOfStep);return prerequisiteSteps.every(prerequisiteStepId=>!this.hasStepErrors(prerequisiteStepId))}hasStepErrors(stepId){const{indexPatternAsyncErrors:indexPatternAsyncErrors,stepsFieldErrors:stepsFieldErrors}=this.state;if(stepId===STEP_LOGISTICS){if(Boolean(indexPatternAsyncErrors)){return true}}const stepFieldErrors=stepsFieldErrors[stepId];return Object.values(stepFieldErrors).some(error=>error!=null)}getStepsFieldsErrors(newStepsFields){return Object.keys(newStepsFields).reduce((stepsFieldErrors,stepId)=>{const stepFields=newStepsFields[stepId];const fieldsValidator=stepIdToStepConfigMap[stepId].fieldsValidator;stepsFieldErrors[stepId]=typeof fieldsValidator===`function`?fieldsValidator(stepFields):{};return stepsFieldErrors},{})}getAllFields(){const{stepsFields:{[STEP_LOGISTICS]:{id:id,indexPattern:indexPattern,rollupIndex:rollupIndex,rollupCron:rollupCron,rollupDelay:rollupDelay,rollupPageSize:rollupPageSize},[STEP_DATE_HISTOGRAM]:{dateHistogramInterval:dateHistogramInterval,dateHistogramTimeZone:dateHistogramTimeZone,dateHistogramField:dateHistogramField},[STEP_TERMS]:{terms:terms},[STEP_HISTOGRAM]:{histogram:histogram,histogramInterval:histogramInterval},[STEP_METRICS]:{metrics:metrics},[STEP_REVIEW]:{}},startJobAfterCreation:startJobAfterCreation}=this.state;return{id:id,indexPattern:indexPattern,rollupIndex:rollupIndex,rollupCron:rollupCron,rollupPageSize:rollupPageSize,rollupDelay:rollupDelay,dateHistogramInterval:dateHistogramInterval,dateHistogramTimeZone:dateHistogramTimeZone,dateHistogramField:dateHistogramField,terms:terms,histogram:histogram,histogramInterval:histogramInterval,metrics:metrics,startJobAfterCreation:startJobAfterCreation}}getIndexPattern(state=this.state){return state.stepsFields[STEP_LOGISTICS].indexPattern}render(){const{isSaving:isSaving,saveError:saveError}=this.props;let savingFeedback;if(isSaving){savingFeedback=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiOverlayMask"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiLoadingKibana"],{size:"xl"}))}let saveErrorFeedback;if(saveError){const{message:message,cause:cause}=saveError;let errorBody;if(cause){if(cause.length===1){errorBody=external_kbnSharedDeps_React_default.a.createElement("p",null,cause[0])}else{errorBody=external_kbnSharedDeps_React_default.a.createElement("ul",null,cause.map(causeValue=>external_kbnSharedDeps_React_default.a.createElement("li",{key:causeValue},causeValue)))}}saveErrorFeedback=external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiCallOut"],{title:message,icon:"cross",color:"danger"},errorBody),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null))}return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_React_["Fragment"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContent"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiPageContentHeader"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiTitle"],{size:"l"},external_kbnSharedDeps_React_default.a.createElement("h1",null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_KbnI18nReact_["FormattedMessage"],{id:"xpack.rollupJobs.createTitle",defaultMessage:"Create rollup job"})))),saveErrorFeedback,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiStepsHorizontal"],{steps:this.getSteps()}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],null),this.renderCurrentStep(),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ElasticEui_["EuiSpacer"],{size:"l"}),this.renderNavigation()),savingFeedback)}renderCurrentStep(){const{currentStepId:currentStepId,stepsFields:stepsFields,stepsFieldErrors:stepsFieldErrors,areStepErrorsVisible:areStepErrorsVisible,isValidatingIndexPattern:isValidatingIndexPattern,indexPatternDateFields:indexPatternDateFields,indexPatternAsyncErrors:indexPatternAsyncErrors,indexPatternTermsFields:indexPatternTermsFields,indexPatternHistogramFields:indexPatternHistogramFields,indexPatternMetricsFields:indexPatternMetricsFields}=this.state;const currentStepFields=stepsFields[currentStepId];const currentStepFieldErrors=stepsFieldErrors[currentStepId];switch(currentStepId){case STEP_LOGISTICS:return external_kbnSharedDeps_React_default.a.createElement(step_logistics_StepLogistics,{fields:currentStepFields,onFieldsChange:this.onFieldsChange,fieldErrors:currentStepFieldErrors,hasErrors:steps_config_hasErrors(currentStepFieldErrors),areStepErrorsVisible:areStepErrorsVisible,isValidatingIndexPattern:isValidatingIndexPattern,indexPatternAsyncErrors:indexPatternAsyncErrors,hasMatchingIndices:Boolean(indexPatternDateFields.length)});case STEP_DATE_HISTOGRAM:return external_kbnSharedDeps_React_default.a.createElement(step_date_histogram_StepDateHistogram,{indexPattern:this.getIndexPattern(),fields:currentStepFields,onFieldsChange:this.onFieldsChange,fieldErrors:currentStepFieldErrors,hasErrors:steps_config_hasErrors(currentStepFieldErrors),areStepErrorsVisible:areStepErrorsVisible,dateFields:indexPatternDateFields});case STEP_TERMS:return external_kbnSharedDeps_React_default.a.createElement(step_terms_StepTerms,{fields:currentStepFields,onFieldsChange:this.onFieldsChange,termsFields:indexPatternTermsFields});case STEP_HISTOGRAM:return external_kbnSharedDeps_React_default.a.createElement(step_histogram_StepHistogram,{fields:currentStepFields,onFieldsChange:this.onFieldsChange,fieldErrors:currentStepFieldErrors,hasErrors:steps_config_hasErrors(currentStepFieldErrors),areStepErrorsVisible:areStepErrorsVisible,histogramFields:indexPatternHistogramFields});case STEP_METRICS:return external_kbnSharedDeps_React_default.a.createElement(step_metrics_StepMetrics,{fields:currentStepFields,onFieldsChange:this.onFieldsChange,fieldErrors:currentStepFieldErrors,areStepErrorsVisible:areStepErrorsVisible,metricsFields:indexPatternMetricsFields});case STEP_REVIEW:return external_kbnSharedDeps_React_default.a.createElement(step_review_StepReview,{job:this.getAllFields()});default:return null}}renderNavigation(){const{isValidatingIndexPattern:isValidatingIndexPattern,nextStepId:nextStepId,previousStepId:previousStepId,areStepErrorsVisible:areStepErrorsVisible,startJobAfterCreation:startJobAfterCreation}=this.state;const{isSaving:isSaving}=this.props;const hasNextStep=nextStepId!=null;const canGoToNextStep=!isValidatingIndexPattern&&hasNextStep&&(!areStepErrorsVisible||this.canGoToStep(nextStepId));return external_kbnSharedDeps_React_default.a.createElement(Navigation,{isSaving:isSaving,hasNextStep:hasNextStep,hasPreviousStep:previousStepId!=null,goToNextStep:this.goToNextStep,goToPreviousStep:this.goToPreviousStep,canGoToNextStep:canGoToNextStep,save:this.save,onClickToggleStart:this.onToggleStartAfterCreate,startJobAfterCreation:startJobAfterCreation})}}const JobCreate=Object(public_["withKibana"])(job_create_JobCreateUi);const job_create_container_mapStateToProps=state=>({isSaving:selectors_isSaving(state),saveError:getCreateJobError(state),jobToClone:getCloneJobConfig(state)});const job_create_container_mapDispatchToProps=dispatch=>({createJob:jobConfig=>{dispatch(create_job_createJob(jobConfig))},clearCreateJobErrors:()=>{dispatch(clearCreateJobErrors())},clearCloneJob:()=>{dispatch(clearCloneJob())}});const job_create_container_JobCreate=Object(lib["connect"])(job_create_container_mapStateToProps,job_create_container_mapDispatchToProps)(JobCreate);class app_ShareRouterComponent extends external_kbnSharedDeps_React_["Component"]{constructor(...args){super(...args);this.registerRouter()}registerRouter(){const{history:history}=this.props;Object(crud_app_services["w"])({history:history})}render(){return this.props.children}}const ShareRouter=Object(external_kbnSharedDeps_ReactRouterDom_["withRouter"])(app_ShareRouterComponent);class app_App extends external_kbnSharedDeps_React_["Component"]{componentDidMount(){Object(kibana_services["f"])(crud_app_services["a"].LOADED,common["b"])}componentWillUnmount(){Object(crud_app_services["B"])(true)}render(){return external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_["Router"],{history:this.props.history},external_kbnSharedDeps_React_default.a.createElement(ShareRouter,null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_["Switch"],null,external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_["Redirect"],{exact:true,from:"/",to:"/job_list"}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_["Route"],{exact:true,path:"/job_list",component:job_list_container_JobList}),external_kbnSharedDeps_React_default.a.createElement(external_kbnSharedDeps_ReactRouterDom_["Route"],{exact:true,path:"/create",component:job_create_container_JobCreate}))))}}var public_0=__webpack_require__(70);const renderApp=async(core,{history:history,element:element,setBreadcrumbs:setBreadcrumbs})=>{const[coreStart]=await core.getStartServices();const I18nContext=coreStart.i18n.Context;const services={history:history,setBreadcrumbs:setBreadcrumbs};Object(external_kbnSharedDeps_ReactDom_["render"])(external_kbnSharedDeps_React_default.a.createElement(I18nContext,null,external_kbnSharedDeps_React_default.a.createElement(public_["KibanaContextProvider"],{services:services},external_kbnSharedDeps_React_default.a.createElement(lib["Provider"],{store:rollupJobsStore},external_kbnSharedDeps_React_default.a.createElement(app_App,{history:history})))),element);return()=>{Object(external_kbnSharedDeps_ReactDom_["unmountComponentAtNode"])(element)}}}])]);