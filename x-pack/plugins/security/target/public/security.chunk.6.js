/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window["security_bundle_jsonpfunction"]=window["security_bundle_jsonpfunction"]||[]).push([[6],{111:function(module,exports,__webpack_require__){switch(window.__kbnThemeTag__){case"v7dark":return __webpack_require__(112);case"v7light":return __webpack_require__(114);case"v8dark":return __webpack_require__(116);case"v8light":return __webpack_require__(118)}},112:function(module,exports,__webpack_require__){var api=__webpack_require__(11);var content=__webpack_require__(113);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},113:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(12);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".secAccessAgreementPage .secAuthenticationStatePage__content {\n  max-width: 600px; }\n\n.secAccessAgreementPage__textWrapper {\n  overflow-y: hidden; }\n\n.secAccessAgreementPage__text {\n  scrollbar-width: thin;\n  height: 100%;\n  overflow-y: auto;\n  -webkit-mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);\n          mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);\n  max-height: 400px;\n  padding: 16px 24px 0; }\n  .secAccessAgreementPage__text::-webkit-scrollbar {\n    width: 16px;\n    height: 16px; }\n  .secAccessAgreementPage__text::-webkit-scrollbar-thumb {\n    background-color: rgba(152, 162, 179, 0.5);\n    border: 6px solid transparent;\n    background-clip: content-box; }\n  .secAccessAgreementPage__text::-webkit-scrollbar-corner, .secAccessAgreementPage__text::-webkit-scrollbar-track {\n    background-color: transparent; }\n\n.secAccessAgreementPage__footer {\n  padding: 16px 24px 24px; }\n\n.secAccessAgreementPage__footerInner {\n  text-align: left; }\n",""]);module.exports=exports},114:function(module,exports,__webpack_require__){var api=__webpack_require__(11);var content=__webpack_require__(115);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},115:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(12);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".secAccessAgreementPage .secAuthenticationStatePage__content {\n  max-width: 600px; }\n\n.secAccessAgreementPage__textWrapper {\n  overflow-y: hidden; }\n\n.secAccessAgreementPage__text {\n  scrollbar-width: thin;\n  height: 100%;\n  overflow-y: auto;\n  -webkit-mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);\n          mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);\n  max-height: 400px;\n  padding: 16px 24px 0; }\n  .secAccessAgreementPage__text::-webkit-scrollbar {\n    width: 16px;\n    height: 16px; }\n  .secAccessAgreementPage__text::-webkit-scrollbar-thumb {\n    background-color: rgba(105, 112, 125, 0.5);\n    border: 6px solid transparent;\n    background-clip: content-box; }\n  .secAccessAgreementPage__text::-webkit-scrollbar-corner, .secAccessAgreementPage__text::-webkit-scrollbar-track {\n    background-color: transparent; }\n\n.secAccessAgreementPage__footer {\n  padding: 16px 24px 24px; }\n\n.secAccessAgreementPage__footerInner {\n  text-align: left; }\n",""]);module.exports=exports},116:function(module,exports,__webpack_require__){var api=__webpack_require__(11);var content=__webpack_require__(117);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},117:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(12);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".secAccessAgreementPage .secAuthenticationStatePage__content {\n  max-width: 600px; }\n\n.secAccessAgreementPage__textWrapper {\n  overflow-y: hidden; }\n\n.secAccessAgreementPage__text {\n  scrollbar-width: thin;\n  height: 100%;\n  overflow-y: auto;\n  -webkit-mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);\n          mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);\n  max-height: 400px;\n  padding: 16px 24px 0; }\n  .secAccessAgreementPage__text::-webkit-scrollbar {\n    width: 16px;\n    height: 16px; }\n  .secAccessAgreementPage__text::-webkit-scrollbar-thumb {\n    background-color: rgba(152, 162, 179, 0.5);\n    border: 6px solid transparent;\n    background-clip: content-box; }\n  .secAccessAgreementPage__text::-webkit-scrollbar-corner, .secAccessAgreementPage__text::-webkit-scrollbar-track {\n    background-color: transparent; }\n\n.secAccessAgreementPage__footer {\n  padding: 16px 24px 24px; }\n\n.secAccessAgreementPage__footerInner {\n  text-align: left; }\n",""]);module.exports=exports},118:function(module,exports,__webpack_require__){var api=__webpack_require__(11);var content=__webpack_require__(119);content=content.__esModule?content.default:content;if(typeof content==="string"){content=[[module.i,content,""]]}var options={};options.insert="head";options.singleton=false;var update=api(content,options);module.exports=content.locals||{}},119:function(module,exports,__webpack_require__){var ___CSS_LOADER_API_IMPORT___=__webpack_require__(12);exports=___CSS_LOADER_API_IMPORT___(false);exports.push([module.i,".secAccessAgreementPage .secAuthenticationStatePage__content {\n  max-width: 600px; }\n\n.secAccessAgreementPage__textWrapper {\n  overflow-y: hidden; }\n\n.secAccessAgreementPage__text {\n  scrollbar-width: thin;\n  height: 100%;\n  overflow-y: auto;\n  -webkit-mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);\n          mask-image: linear-gradient(to bottom, rgba(255, 0, 0, 0.1) 0%, red 7.5px, red calc(100% - 7.5px), rgba(255, 0, 0, 0.1) 100%);\n  max-height: 400px;\n  padding: 16px 24px 0; }\n  .secAccessAgreementPage__text::-webkit-scrollbar {\n    width: 16px;\n    height: 16px; }\n  .secAccessAgreementPage__text::-webkit-scrollbar-thumb {\n    background-color: rgba(105, 112, 125, 0.5);\n    border: 6px solid transparent;\n    background-clip: content-box; }\n  .secAccessAgreementPage__text::-webkit-scrollbar-corner, .secAccessAgreementPage__text::-webkit-scrollbar-track {\n    background-color: transparent; }\n\n.secAccessAgreementPage__footer {\n  padding: 16px 24px 24px; }\n\n.secAccessAgreementPage__footerInner {\n  text-align: left; }\n",""]);module.exports=exports},289:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"AccessAgreementPage",(function(){return AccessAgreementPage}));__webpack_require__.d(__webpack_exports__,"renderAccessAgreementPage",(function(){return renderAccessAgreementPage}));var _access_agreement_page_scss__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(111);var _access_agreement_page_scss__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_access_agreement_page_scss__WEBPACK_IMPORTED_MODULE_0__);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);var react_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4);var react_dom__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);var react_markdown__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(103);var react_markdown__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react_markdown__WEBPACK_IMPORTED_MODULE_3__);var _elastic_eui__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2);var _elastic_eui__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_elastic_eui__WEBPACK_IMPORTED_MODULE_4__);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1);var _kbn_i18n__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_kbn_i18n__WEBPACK_IMPORTED_MODULE_5__);var _kbn_i18n_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(5);var _kbn_i18n_react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_6__);var _common_parse_next__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(100);var _components__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(99);function AccessAgreementPage({http:http,fatalErrors:fatalErrors,notifications:notifications}){const[isLoading,setIsLoading]=Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(false);const[accessAgreement,setAccessAgreement]=Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(null);Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(()=>{http.get("/internal/security/access_agreement/state").then(response=>setAccessAgreement(response.accessAgreement)).catch(err=>fatalErrors.add(err))},[http,fatalErrors]);const onAcknowledge=Object(react__WEBPACK_IMPORTED_MODULE_1__["useCallback"])(async e=>{e.preventDefault();try{setIsLoading(true);await http.post("/internal/security/access_agreement/acknowledge");window.location.href=Object(_common_parse_next__WEBPACK_IMPORTED_MODULE_7__["a"])(window.location.href,http.basePath.serverBasePath)}catch(err){notifications.toasts.addError(err,{title:_kbn_i18n__WEBPACK_IMPORTED_MODULE_5__["i18n"].translate("xpack.security.accessAgreement.acknowledgeErrorMessage",{defaultMessage:"Could not acknowledge access agreement."})});setIsLoading(false)}},[http,notifications]);const content=accessAgreement?react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("form",{onSubmit:onAcknowledge},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_4__["EuiPanel"],{paddingSize:"none"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_4__["EuiFlexGroup"],{gutterSize:"none",direction:"column"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_4__["EuiFlexItem"],{className:"secAccessAgreementPage__textWrapper"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"secAccessAgreementPage__text"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_4__["EuiText"],{textAlign:"left"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_markdown__WEBPACK_IMPORTED_MODULE_3___default.a,null,accessAgreement)))),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_4__["EuiFlexItem"],{className:"secAccessAgreementPage__footer"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{className:"secAccessAgreementPage__footerInner"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_4__["EuiButton"],{fill:true,type:"submit",color:"primary",onClick:onAcknowledge,isDisabled:isLoading,isLoading:isLoading,"data-test-subj":"accessAgreementAcknowledge"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_6__["FormattedMessage"],{id:"xpack.security.accessAgreement.acknowledgeButtonText",defaultMessage:"Acknowledge and continue"}))))))):react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_4__["EuiPanel"],{paddingSize:"l"},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_4__["EuiLoadingContent"],{lines:10}));return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_8__["a"],{className:"secAccessAgreementPage",title:react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_kbn_i18n_react__WEBPACK_IMPORTED_MODULE_6__["FormattedMessage"],{id:"xpack.security.accessAgreement.title",defaultMessage:"Access Agreement"})},content,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_elastic_eui__WEBPACK_IMPORTED_MODULE_4__["EuiSpacer"],{size:"xxl"}))}function renderAccessAgreementPage(i18nStart,element,props){react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.render(react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(i18nStart.Context,null,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(AccessAgreementPage,props)),element);return()=>react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.unmountComponentAtNode(element)}}}]);